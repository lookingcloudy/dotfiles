(()=>{var Qu=Object.create;var dr=Object.defineProperty;var bi=Object.getOwnPropertyDescriptor;var ec=Object.getOwnPropertyNames;var tc=Object.getPrototypeOf,nc=Object.prototype.hasOwnProperty;var k=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var rc=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ic=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ec(e))!nc.call(t,i)&&i!==n&&dr(t,i,{get:()=>e[i],enumerable:!(r=bi(e,i))||r.enumerable});return t};var Z=(t,e,n)=>(n=t!=null?Qu(tc(t)):{},ic(e||!t||!t.__esModule?dr(n,"default",{value:t,enumerable:!0}):n,t));var gt=(t,e,n,r)=>{for(var i=r>1?void 0:r?bi(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&dr(e,n,i),i},cn=(t,e)=>(n,r)=>e(n,r,t);function Ni(){throw new Error("setTimeout has not been defined")}function Si(){throw new Error("clearTimeout has not been defined")}function Ri(t){if(Ye===setTimeout)return setTimeout(t,0);if((Ye===Ni||!Ye)&&setTimeout)return Ye=setTimeout,setTimeout(t,0);try{return Ye(t,0)}catch{try{return Ye.call(null,t,0)}catch{return Ye.call(this,t,0)}}}function oc(t){if(je===clearTimeout)return clearTimeout(t);if((je===Si||!je)&&clearTimeout)return je=clearTimeout,clearTimeout(t);try{return je(t)}catch{try{return je.call(null,t)}catch{return je.call(this,t)}}}function sc(){!vt||!tt||(vt=!1,tt.length?Le=tt.concat(Le):ln=-1,Le.length&&Ii())}function Ii(){if(!vt){var t=Ri(sc);vt=!0;for(var e=Le.length;e;){for(tt=Le,Le=[];++ln<e;)tt&&tt[ln].run();ln=-1,e=Le.length}tt=null,vt=!1,oc(t)}}function ac(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Le.push(new Bi(t,e)),Le.length===1&&!vt&&Ri(Ii)}function Bi(t,e){this.fun=t,this.array=e}function nt(){}function wc(t){throw new Error("process.binding is not supported")}function xc(){return"/"}function Tc(t){throw new Error("process.chdir is not supported")}function bc(){return 0}function Nc(t){var e=_c.call(mt)*.001,n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}function Rc(){var t=new Date,e=t-Sc;return e/1e3}var Ye,je,Le,vt,tt,ln,uc,cc,lc,pc,dc,fc,hc,Dc,gc,mc,vc,Ec,Fc,Ac,yc,Cc,mt,_c,Sc,h,_i,l=rc(()=>{Ye=Ni,je=Si;typeof globalThis.setTimeout=="function"&&(Ye=setTimeout);typeof globalThis.clearTimeout=="function"&&(je=clearTimeout);Le=[],vt=!1,ln=-1;Bi.prototype.run=function(){this.fun.apply(null,this.array)};uc="browser",cc="browser",lc=!0,pc={},dc=[],fc="",hc={},Dc={},gc={};mc=nt,vc=nt,Ec=nt,Fc=nt,Ac=nt,yc=nt,Cc=nt;mt=globalThis.performance||{},_c=mt.now||mt.mozNow||mt.msNow||mt.oNow||mt.webkitNow||function(){return new Date().getTime()};Sc=new Date;h={nextTick:ac,title:uc,browser:lc,env:pc,argv:dc,version:fc,versions:hc,on:mc,addListener:vc,once:Ec,off:Fc,removeListener:Ac,removeAllListeners:yc,emit:Cc,binding:wc,cwd:xc,chdir:Tc,umask:bc,hrtime:Nc,platform:cc,release:Dc,config:gc,uptime:Rc},_i={};Object.keys(_i).forEach(t=>{let e=t.split("."),n=h;for(let r=0;r<e.length;r++){let i=e[r];r===e.length-1?n[i]=_i[t]:n=n[i]||(n[i]={})}})});var Ds=b((St,hs)=>{"use strict";l();var wl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ke<"u")return ke;throw new Error("unable to locate global object")},ke=wl();hs.exports=St=ke.fetch;ke.fetch&&(St.default=ke.fetch.bind(ke));St.Headers=ke.Headers;St.Request=ke.Request;St.Response=ke.Response});var Jt=b((pv,Gs)=>{l();var bp="2.0.0",_p=Number.MAX_SAFE_INTEGER||9007199254740991,Np=16;Gs.exports={SEMVER_SPEC_VERSION:bp,MAX_LENGTH:256,MAX_SAFE_INTEGER:_p,MAX_SAFE_COMPONENT_LENGTH:Np}});var Zt=b((fv,qs)=>{l();var Sp=typeof h=="object"&&h.env&&h.env.NODE_DEBUG&&/\bsemver\b/i.test(h.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};qs.exports=Sp});var ct=b((Ze,Ys)=>{l();var{MAX_SAFE_COMPONENT_LENGTH:Jr}=Jt(),Rp=Zt();Ze=Ys.exports={};var Ip=Ze.re=[],y=Ze.src=[],C=Ze.t={},Bp=0,N=(t,e,n)=>{let r=Bp++;Rp(t,r,e),C[t]=r,y[r]=e,Ip[r]=new RegExp(e,n?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","[0-9]+");N("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");N("MAINVERSION",`(${y[C.NUMERICIDENTIFIER]})\\.(${y[C.NUMERICIDENTIFIER]})\\.(${y[C.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${y[C.NUMERICIDENTIFIERLOOSE]})\\.(${y[C.NUMERICIDENTIFIERLOOSE]})\\.(${y[C.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${y[C.NUMERICIDENTIFIER]}|${y[C.NONNUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${y[C.NUMERICIDENTIFIERLOOSE]}|${y[C.NONNUMERICIDENTIFIER]})`);N("PRERELEASE",`(?:-(${y[C.PRERELEASEIDENTIFIER]}(?:\\.${y[C.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${y[C.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${y[C.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER","[0-9A-Za-z-]+");N("BUILD",`(?:\\+(${y[C.BUILDIDENTIFIER]}(?:\\.${y[C.BUILDIDENTIFIER]})*))`);N("FULLPLAIN",`v?${y[C.MAINVERSION]}${y[C.PRERELEASE]}?${y[C.BUILD]}?`);N("FULL",`^${y[C.FULLPLAIN]}$`);N("LOOSEPLAIN",`[v=\\s]*${y[C.MAINVERSIONLOOSE]}${y[C.PRERELEASELOOSE]}?${y[C.BUILD]}?`);N("LOOSE",`^${y[C.LOOSEPLAIN]}$`);N("GTLT","((?:<|>)?=?)");N("XRANGEIDENTIFIERLOOSE",`${y[C.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${y[C.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${y[C.XRANGEIDENTIFIER]})(?:\\.(${y[C.XRANGEIDENTIFIER]})(?:\\.(${y[C.XRANGEIDENTIFIER]})(?:${y[C.PRERELEASE]})?${y[C.BUILD]}?)?)?`);N("XRANGEPLAINLOOSE",`[v=\\s]*(${y[C.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y[C.XRANGEIDENTIFIERLOOSE]})(?:\\.(${y[C.XRANGEIDENTIFIERLOOSE]})(?:${y[C.PRERELEASELOOSE]})?${y[C.BUILD]}?)?)?`);N("XRANGE",`^${y[C.GTLT]}\\s*${y[C.XRANGEPLAIN]}$`);N("XRANGELOOSE",`^${y[C.GTLT]}\\s*${y[C.XRANGEPLAINLOOSE]}$`);N("COERCE",`(^|[^\\d])(\\d{1,${Jr}})(?:\\.(\\d{1,${Jr}}))?(?:\\.(\\d{1,${Jr}}))?(?:$|[^\\d])`);N("COERCERTL",y[C.COERCE],!0);N("LONETILDE","(?:~>?)");N("TILDETRIM",`(\\s*)${y[C.LONETILDE]}\\s+`,!0);Ze.tildeTrimReplace="$1~";N("TILDE",`^${y[C.LONETILDE]}${y[C.XRANGEPLAIN]}$`);N("TILDELOOSE",`^${y[C.LONETILDE]}${y[C.XRANGEPLAINLOOSE]}$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${y[C.LONECARET]}\\s+`,!0);Ze.caretTrimReplace="$1^";N("CARET",`^${y[C.LONECARET]}${y[C.XRANGEPLAIN]}$`);N("CARETLOOSE",`^${y[C.LONECARET]}${y[C.XRANGEPLAINLOOSE]}$`);N("COMPARATORLOOSE",`^${y[C.GTLT]}\\s*(${y[C.LOOSEPLAIN]})$|^$`);N("COMPARATOR",`^${y[C.GTLT]}\\s*(${y[C.FULLPLAIN]})$|^$`);N("COMPARATORTRIM",`(\\s*)${y[C.GTLT]}\\s*(${y[C.LOOSEPLAIN]}|${y[C.XRANGEPLAIN]})`,!0);Ze.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${y[C.XRANGEPLAIN]})\\s+-\\s+(${y[C.XRANGEPLAIN]})\\s*$`);N("HYPHENRANGELOOSE",`^\\s*(${y[C.XRANGEPLAINLOOSE]})\\s+-\\s+(${y[C.XRANGEPLAINLOOSE]})\\s*$`);N("STAR","(<|>)?=?\\s*\\*");N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Qt=b((gv,js)=>{l();var Lp=["includePrerelease","loose","rtl"],Pp=t=>t?typeof t!="object"?{loose:!0}:Lp.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};js.exports=Pp});var Kn=b((vv,Hs)=>{l();var Vs=/^[0-9]+$/,Ks=(t,e)=>{let n=Vs.test(t),r=Vs.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Op=(t,e)=>Ks(e,t);Hs.exports={compareIdentifiers:Ks,rcompareIdentifiers:Op}});var re=b((Fv,Zs)=>{l();var Hn=Zt(),{MAX_LENGTH:zs,MAX_SAFE_INTEGER:zn}=Jt(),{re:Xs,t:Js}=ct(),Mp=Qt(),{compareIdentifiers:Bt}=Kn(),Zr=class t{constructor(e,n){if(n=Mp(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>zs)throw new TypeError(`version is longer than ${zs} characters`);Hn("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Xs[Js.LOOSE]:Xs[Js.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>zn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<zn)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Hn("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Bt(this.major,e.major)||Bt(this.minor,e.minor)||Bt(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Hn("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Bt(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Hn("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Bt(r,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(Bt(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Zs.exports=Zr});var lt=b((yv,na)=>{l();var{MAX_LENGTH:kp}=Jt(),{re:Qs,t:ea}=ct(),ta=re(),$p=Qt(),Up=(t,e)=>{if(e=$p(e),t instanceof ta)return t;if(typeof t!="string"||t.length>kp||!(e.loose?Qs[ea.LOOSE]:Qs[ea.FULL]).test(t))return null;try{return new ta(t,e)}catch{return null}};na.exports=Up});var ia=b((wv,ra)=>{l();var Wp=lt(),Gp=(t,e)=>{let n=Wp(t,e);return n?n.version:null};ra.exports=Gp});var sa=b((Tv,oa)=>{l();var qp=lt(),Yp=(t,e)=>{let n=qp(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};oa.exports=Yp});var ca=b((_v,ua)=>{l();var aa=re(),jp=(t,e,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new aa(t instanceof aa?t.version:t,n).inc(e,r).version}catch{return null}};ua.exports=jp});var ve=b((Sv,pa)=>{l();var la=re(),Vp=(t,e,n)=>new la(t,n).compare(new la(e,n));pa.exports=Vp});var Xn=b((Iv,da)=>{l();var Kp=ve(),Hp=(t,e,n)=>Kp(t,e,n)===0;da.exports=Hp});var Da=b((Lv,ha)=>{l();var fa=lt(),zp=Xn(),Xp=(t,e)=>{if(zp(t,e))return null;{let n=fa(t),r=fa(e),i=n.prerelease.length||r.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return o+a;return s}};ha.exports=Xp});var Qr=b((Ov,ga)=>{l();var Jp=re(),Zp=(t,e)=>new Jp(t,e).major;ga.exports=Zp});var va=b((kv,ma)=>{l();var Qp=re(),ed=(t,e)=>new Qp(t,e).minor;ma.exports=ed});var Fa=b((Uv,Ea)=>{l();var td=re(),nd=(t,e)=>new td(t,e).patch;Ea.exports=nd});var ya=b((Gv,Aa)=>{l();var rd=lt(),id=(t,e)=>{let n=rd(t,e);return n&&n.prerelease.length?n.prerelease:null};Aa.exports=id});var wa=b((Yv,Ca)=>{l();var od=ve(),sd=(t,e,n)=>od(e,t,n);Ca.exports=sd});var Ta=b((Vv,xa)=>{l();var ad=ve(),ud=(t,e)=>ad(t,e,!0);xa.exports=ud});var Jn=b((Hv,_a)=>{l();var ba=re(),cd=(t,e,n)=>{let r=new ba(t,n),i=new ba(e,n);return r.compare(i)||r.compareBuild(i)};_a.exports=cd});var Sa=b((Xv,Na)=>{l();var ld=Jn(),pd=(t,e)=>t.sort((n,r)=>ld(n,r,e));Na.exports=pd});var Ia=b((Zv,Ra)=>{l();var dd=Jn(),fd=(t,e)=>t.sort((n,r)=>dd(r,n,e));Ra.exports=fd});var en=b((eE,Ba)=>{l();var hd=ve(),Dd=(t,e,n)=>hd(t,e,n)>0;Ba.exports=Dd});var Zn=b((nE,La)=>{l();var gd=ve(),md=(t,e,n)=>gd(t,e,n)<0;La.exports=md});var ei=b((iE,Pa)=>{l();var vd=ve(),Ed=(t,e,n)=>vd(t,e,n)!==0;Pa.exports=Ed});var Qn=b((sE,Oa)=>{l();var Fd=ve(),Ad=(t,e,n)=>Fd(t,e,n)>=0;Oa.exports=Ad});var er=b((uE,Ma)=>{l();var yd=ve(),Cd=(t,e,n)=>yd(t,e,n)<=0;Ma.exports=Cd});var ti=b((lE,ka)=>{l();var wd=Xn(),xd=ei(),Td=en(),bd=Qn(),_d=Zn(),Nd=er(),Sd=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return wd(t,n,r);case"!=":return xd(t,n,r);case">":return Td(t,n,r);case">=":return bd(t,n,r);case"<":return _d(t,n,r);case"<=":return Nd(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};ka.exports=Sd});var Ua=b((dE,$a)=>{l();var Rd=re(),Id=lt(),{re:tr,t:nr}=ct(),Bd=(t,e)=>{if(t instanceof Rd)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(tr[nr.COERCE]);else{let r;for(;(r=tr[nr.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),tr[nr.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;tr[nr.COERCERTL].lastIndex=-1}return n===null?null:Id(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};$a.exports=Bd});var Ga=b((hE,Wa)=>{"use strict";l();Wa.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ya=b((gE,qa)=>{"use strict";l();qa.exports=B;B.Node=pt;B.create=B;function B(t){var e=this;if(e instanceof B||(e=new B),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}B.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};B.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};B.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};B.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Pd(this,arguments[t]);return this.length};B.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Od(this,arguments[t]);return this.length};B.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};B.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};B.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};B.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};B.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};B.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};B.prototype.map=function(t,e){e=e||this;for(var n=new B,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};B.prototype.mapReverse=function(t,e){e=e||this;for(var n=new B,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};B.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};B.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};B.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};B.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};B.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new B;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};B.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new B;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};B.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var o=[],r=0;i&&r<e;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Ld(this,i,n[r]);return o};B.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Ld(t,e,n){var r=e===t.head?new pt(n,null,e,t):new pt(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function Pd(t,e){t.tail=new pt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Od(t,e){t.head=new pt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function pt(t,e,n,r){if(!(this instanceof pt))return new pt(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Ga()(B)}catch{}});var za=b((vE,Ha)=>{"use strict";l();var Md=Ya(),dt=Symbol("max"),Ge=Symbol("length"),Lt=Symbol("lengthCalculator"),nn=Symbol("allowStale"),ft=Symbol("maxAge"),We=Symbol("dispose"),ja=Symbol("noDisposeOnSet"),z=Symbol("lruList"),xe=Symbol("cache"),Ka=Symbol("updateAgeOnGet"),ni=()=>1,ii=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[dt]=e.max||1/0,r=e.length||ni;if(this[Lt]=typeof r!="function"?ni:r,this[nn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ft]=e.maxAge||0,this[We]=e.dispose,this[ja]=e.noDisposeOnSet||!1,this[Ka]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[dt]=e||1/0,tn(this)}get max(){return this[dt]}set allowStale(e){this[nn]=!!e}get allowStale(){return this[nn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ft]=e,tn(this)}get maxAge(){return this[ft]}set lengthCalculator(e){typeof e!="function"&&(e=ni),e!==this[Lt]&&(this[Lt]=e,this[Ge]=0,this[z].forEach(n=>{n.length=this[Lt](n.value,n.key),this[Ge]+=n.length})),tn(this)}get lengthCalculator(){return this[Lt]}get length(){return this[Ge]}get itemCount(){return this[z].length}rforEach(e,n){n=n||this;for(let r=this[z].tail;r!==null;){let i=r.prev;Va(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[z].head;r!==null;){let i=r.next;Va(this,e,r,n),r=i}}keys(){return this[z].toArray().map(e=>e.key)}values(){return this[z].toArray().map(e=>e.value)}reset(){this[We]&&this[z]&&this[z].length&&this[z].forEach(e=>this[We](e.key,e.value)),this[xe]=new Map,this[z]=new Md,this[Ge]=0}dump(){return this[z].map(e=>rr(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[z]}set(e,n,r){if(r=r||this[ft],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[Lt](n,e);if(this[xe].has(e)){if(o>this[dt])return Pt(this,this[xe].get(e)),!1;let c=this[xe].get(e).value;return this[We]&&(this[ja]||this[We](e,c.value)),c.now=i,c.maxAge=r,c.value=n,this[Ge]+=o-c.length,c.length=o,this.get(e),tn(this),!0}let s=new oi(e,n,o,i,r);return s.length>this[dt]?(this[We]&&this[We](e,n),!1):(this[Ge]+=s.length,this[z].unshift(s),this[xe].set(e,this[z].head),tn(this),!0)}has(e){if(!this[xe].has(e))return!1;let n=this[xe].get(e).value;return!rr(this,n)}get(e){return ri(this,e,!0)}peek(e){return ri(this,e,!1)}pop(){let e=this[z].tail;return e?(Pt(this,e),e.value):null}del(e){Pt(this,this[xe].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[xe].forEach((e,n)=>ri(this,n,!1))}},ri=(t,e,n)=>{let r=t[xe].get(e);if(r){let i=r.value;if(rr(t,i)){if(Pt(t,r),!t[nn])return}else n&&(t[Ka]&&(r.value.now=Date.now()),t[z].unshiftNode(r));return i.value}},rr=(t,e)=>{if(!e||!e.maxAge&&!t[ft])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[ft]&&n>t[ft]},tn=t=>{if(t[Ge]>t[dt])for(let e=t[z].tail;t[Ge]>t[dt]&&e!==null;){let n=e.prev;Pt(t,e),e=n}},Pt=(t,e)=>{if(e){let n=e.value;t[We]&&t[We](n.key,n.value),t[Ge]-=n.length,t[xe].delete(n.key),t[z].removeNode(e)}},oi=class{constructor(e,n,r,i,o){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},Va=(t,e,n,r)=>{let i=n.value;rr(t,i)&&(Pt(t,n),t[nn]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};Ha.exports=ii});var Ee=b((FE,Qa)=>{l();var si=class t{constructor(e,n){if(n=$d(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof ai)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e,this.set=e.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Ja(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Yd(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Xa.get(r);if(i)return i;let o=this.options.loose,s=o?ce[se.HYPHENRANGELOOSE]:ce[se.HYPHENRANGE];e=e.replace(s,ef(this.options.includePrerelease)),U("hyphen replace",e),e=e.replace(ce[se.COMPARATORTRIM],Wd),U("comparator trim",e),e=e.replace(ce[se.TILDETRIM],Gd),e=e.replace(ce[se.CARETTRIM],qd),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>jd(d,this.options)).join(" ").split(/\s+/).map(d=>Qd(d,this.options));o&&(a=a.filter(d=>(U("loose invalid filter",d,this.options),!!d.match(ce[se.COMPARATORLOOSE])))),U("range list",a);let c=new Map,u=a.map(d=>new ai(d,this.options));for(let d of u){if(Ja(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let p=[...c.values()];return Xa.set(r,p),p}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Za(r,n)&&e.set.some(i=>Za(i,n)&&r.every(o=>i.every(s=>o.intersects(s,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ud(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(tf(this.set[n],e,this.options))return!0;return!1}};Qa.exports=si;var kd=za(),Xa=new kd({max:1e3}),$d=Qt(),ai=rn(),U=Zt(),Ud=re(),{re:ce,t:se,comparatorTrimReplace:Wd,tildeTrimReplace:Gd,caretTrimReplace:qd}=ct(),Ja=t=>t.value==="<0.0.0-0",Yd=t=>t.value==="",Za=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,e)),i=r.pop();return n},jd=(t,e)=>(U("comp",t,e),t=Hd(t,e),U("caret",t),t=Vd(t,e),U("tildes",t),t=Xd(t,e),U("xrange",t),t=Zd(t,e),U("stars",t),t),ae=t=>!t||t.toLowerCase()==="x"||t==="*",Vd=(t,e)=>t.trim().split(/\s+/).map(n=>Kd(n,e)).join(" "),Kd=(t,e)=>{let n=e.loose?ce[se.TILDELOOSE]:ce[se.TILDE];return t.replace(n,(r,i,o,s,a)=>{U("tilde",t,r,i,o,s,a);let c;return ae(i)?c="":ae(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:ae(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(U("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,U("tilde return",c),c})},Hd=(t,e)=>t.trim().split(/\s+/).map(n=>zd(n,e)).join(" "),zd=(t,e)=>{U("caret",t,e);let n=e.loose?ce[se.CARETLOOSE]:ce[se.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,o,s,a,c)=>{U("caret",t,i,o,s,a,c);let u;return ae(o)?u="":ae(s)?u=`>=${o}.0.0${r} <${+o+1}.0.0-0`:ae(a)?o==="0"?u=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:c?(U("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(U("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),U("caret return",u),u})},Xd=(t,e)=>(U("replaceXRanges",t,e),t.split(/\s+/).map(n=>Jd(n,e)).join(" ")),Jd=(t,e)=>{t=t.trim();let n=e.loose?ce[se.XRANGELOOSE]:ce[se.XRANGE];return t.replace(n,(r,i,o,s,a,c)=>{U("xRange",t,r,i,o,s,a,c);let u=ae(o),p=u||ae(s),d=p||ae(a),D=d;return i==="="&&D&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&D?(p&&(s=0),a=0,i===">"?(i=">=",p?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",p?o=+o+1:s=+s+1),i==="<"&&(c="-0"),r=`${i+o}.${s}.${a}${c}`):p?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(r=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),U("xRange return",r),r})},Zd=(t,e)=>(U("replaceStars",t,e),t.trim().replace(ce[se.STAR],"")),Qd=(t,e)=>(U("replaceGTE0",t,e),t.trim().replace(ce[e.includePrerelease?se.GTE0PRE:se.GTE0],"")),ef=t=>(e,n,r,i,o,s,a,c,u,p,d,D,g)=>(ae(r)?n="":ae(i)?n=`>=${r}.0.0${t?"-0":""}`:ae(o)?n=`>=${r}.${i}.0${t?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,ae(u)?c="":ae(p)?c=`<${+u+1}.0.0-0`:ae(d)?c=`<${u}.${+p+1}.0-0`:D?c=`<=${u}.${p}.${d}-${D}`:t?c=`<${u}.${p}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),tf=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(U(t[r].semver),t[r].semver!==ai.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var rn=b((yE,iu)=>{l();var on=Symbol("SemVer ANY"),li=class t{static get ANY(){return on}constructor(e,n){if(n=nf(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}ci("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===on?this.value="":this.value=this.operator+this.semver.version,ci("comp",this)}parse(e){let n=this.options.loose?eu[tu.COMPARATORLOOSE]:eu[tu.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new nu(r[2],this.options.loose):this.semver=on}toString(){return this.value}test(e){if(ci("Comparator.test",e,this.options.loose),this.semver===on||e===on)return!0;if(typeof e=="string")try{e=new nu(e,this.options)}catch{return!1}return ui(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new ru(e.value,n).test(this.value);if(e.operator==="")return e.value===""?!0:new ru(this.value,n).test(e.semver);let r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=ui(this.semver,"<",e.semver,n)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=ui(this.semver,">",e.semver,n)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||c}};iu.exports=li;var nf=Qt(),{re:eu,t:tu}=ct(),ui=ti(),ci=Zt(),nu=re(),ru=Ee()});var sn=b((wE,ou)=>{l();var rf=Ee(),of=(t,e,n)=>{try{e=new rf(e,n)}catch{return!1}return e.test(t)};ou.exports=of});var au=b((TE,su)=>{l();var sf=Ee(),af=(t,e)=>new sf(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));su.exports=af});var cu=b((_E,uu)=>{l();var uf=re(),cf=Ee(),lf=(t,e,n)=>{let r=null,i=null,o=null;try{o=new cf(e,n)}catch{return null}return t.forEach(s=>{o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new uf(r,n))}),r};uu.exports=lf});var pu=b((SE,lu)=>{l();var pf=re(),df=Ee(),ff=(t,e,n)=>{let r=null,i=null,o=null;try{o=new df(e,n)}catch{return null}return t.forEach(s=>{o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new pf(r,n))}),r};lu.exports=ff});var hu=b((IE,fu)=>{l();var pi=re(),hf=Ee(),du=en(),Df=(t,e)=>{t=new hf(t,e);let n=new pi("0.0.0");if(t.test(n)||(n=new pi("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null;i.forEach(s=>{let a=new pi(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||du(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!n||du(n,o))&&(n=o)}return n&&t.test(n)?n:null};fu.exports=Df});var gu=b((LE,Du)=>{l();var gf=Ee(),mf=(t,e)=>{try{return new gf(t,e).range||"*"}catch{return null}};Du.exports=mf});var ir=b((OE,Fu)=>{l();var vf=re(),Eu=rn(),{ANY:Ef}=Eu,Ff=Ee(),Af=sn(),mu=en(),vu=Zn(),yf=er(),Cf=Qn(),wf=(t,e,n,r)=>{t=new vf(t,r),e=new Ff(e,r);let i,o,s,a,c;switch(n){case">":i=mu,o=yf,s=vu,a=">",c=">=";break;case"<":i=vu,o=Cf,s=mu,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Af(t,e,r))return!1;for(let u=0;u<e.set.length;++u){let p=e.set[u],d=null,D=null;if(p.forEach(g=>{g.semver===Ef&&(g=new Eu(">=0.0.0")),d=d||g,D=D||g,i(g.semver,d.semver,r)?d=g:s(g.semver,D.semver,r)&&(D=g)}),d.operator===a||d.operator===c||(!D.operator||D.operator===a)&&o(t,D.semver))return!1;if(D.operator===c&&s(t,D.semver))return!1}return!0};Fu.exports=wf});var yu=b((kE,Au)=>{l();var xf=ir(),Tf=(t,e,n)=>xf(t,e,">",n);Au.exports=Tf});var wu=b((UE,Cu)=>{l();var bf=ir(),_f=(t,e,n)=>bf(t,e,"<",n);Cu.exports=_f});var bu=b((GE,Tu)=>{l();var xu=Ee(),Nf=(t,e,n)=>(t=new xu(t,n),e=new xu(e,n),t.intersects(e));Tu.exports=Nf});var Nu=b((YE,_u)=>{l();var Sf=sn(),Rf=ve();_u.exports=(t,e,n)=>{let r=[],i=null,o=null,s=t.sort((p,d)=>Rf(p,d,n));for(let p of s)Sf(p,e,n)?(o=p,i||(i=p)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let a=[];for(let[p,d]of r)p===d?a.push(p):!d&&p===s[0]?a.push("*"):d?p===s[0]?a.push(`<=${d}`):a.push(`${p} - ${d}`):a.push(`>=${p}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var Lu=b((VE,Bu)=>{l();var Su=Ee(),or=rn(),{ANY:di}=or,an=sn(),fi=ve(),If=(t,e,n={})=>{if(t===e)return!0;t=new Su(t,n),e=new Su(e,n);let r=!1;e:for(let i of t.set){for(let o of e.set){let s=Bf(i,o,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Bf=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===di){if(e.length===1&&e[0].semver===di)return!0;n.includePrerelease?t=[new or(">=0.0.0-0")]:t=[new or(">=0.0.0")]}if(e.length===1&&e[0].semver===di){if(n.includePrerelease)return!0;e=[new or(">=0.0.0")]}let r=new Set,i,o;for(let g of t)g.operator===">"||g.operator===">="?i=Ru(i,g,n):g.operator==="<"||g.operator==="<="?o=Iu(o,g,n):r.add(g.semver);if(r.size>1)return null;let s;if(i&&o){if(s=fi(i.semver,o.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let g of r){if(i&&!an(g,String(i),n)||o&&!an(g,String(o),n))return null;for(let w of e)if(!an(g,String(w),n))return!1;return!0}let a,c,u,p,d=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,D=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let g of e){if(p=p||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",i){if(D&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===D.major&&g.semver.minor===D.minor&&g.semver.patch===D.patch&&(D=!1),g.operator===">"||g.operator===">="){if(a=Ru(i,g,n),a===g&&a!==i)return!1}else if(i.operator===">="&&!an(i.semver,String(g),n))return!1}if(o){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator==="<"||g.operator==="<="){if(c=Iu(o,g,n),c===g&&c!==o)return!1}else if(o.operator==="<="&&!an(o.semver,String(g),n))return!1}if(!g.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&p&&!i&&s!==0||D||d)},Ru=(t,e,n)=>{if(!t)return e;let r=fi(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Iu=(t,e,n)=>{if(!t)return e;let r=fi(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};Bu.exports=If});var Ou=b((HE,Pu)=>{l();var hi=ct();Pu.exports={re:hi.re,src:hi.src,tokens:hi.t,SEMVER_SPEC_VERSION:Jt().SEMVER_SPEC_VERSION,SemVer:re(),compareIdentifiers:Kn().compareIdentifiers,rcompareIdentifiers:Kn().rcompareIdentifiers,parse:lt(),valid:ia(),clean:sa(),inc:ca(),diff:Da(),major:Qr(),minor:va(),patch:Fa(),prerelease:ya(),compare:ve(),rcompare:wa(),compareLoose:Ta(),compareBuild:Jn(),sort:Sa(),rsort:Ia(),gt:en(),lt:Zn(),eq:Xn(),neq:ei(),gte:Qn(),lte:er(),cmp:ti(),coerce:Ua(),Comparator:rn(),Range:Ee(),satisfies:sn(),toComparators:au(),maxSatisfying:cu(),minSatisfying:pu(),minVersion:hu(),validRange:gu(),outside:ir(),gtr:yu(),ltr:wu(),intersects:bu(),simplifyRange:Nu(),subset:Lu()}});l();var Fe=Z(k("vscode"));l();var $t=Z(k("vscode")),pn=class{constructor(){this.commands=new Map}register(e){return this.registerCommand(e.id,e.execute,e),e}registerCommand(e,n,r){this.commands.has(e)||this.commands.set(e,$t.commands.registerCommand(e,n,r))}dispose(){for(let e of this.commands.values())e.dispose();this.commands.clear()}};l();l();var Te=Z(k("vscode")),dn=class{constructor(){this.id="restructuredtext.moveCursorToPosition"}execute(e,n){if(!Te.window.activeTextEditor)return;let r=new Te.Position(e,n),i=new Te.Selection(r,r);Te.window.activeTextEditor.selection=i,Te.window.activeTextEditor.revealRange(i,Te.TextEditorRevealType.InCenter)}};l();var j=Z(k("vscode"));l();function Ic(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var Bc=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Li=function(t){return Bc.exec(t).slice(1)};function Pi(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;t=r+"/"+t,e=r.charAt(0)==="/"}return t=Ic(Lc(t.split("/"),function(i){return!!i}),!e).join("/"),(e?"/":"")+t||"."}function fr(t){var e=Li(t),n=e[0],r=e[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}function Oi(t){return Li(t)[3]}function Lc(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var Vf="ab".substr(-1)==="b"?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)};l();function Mi(t){return t.languageId==="restructuredtext"}var fn=class t{constructor(){this.id=t.id}static{this.id="_rst.openDocumentLink"}static createCommandUri(e,n){return j.Uri.parse(`command:${t.id}?${encodeURIComponent(JSON.stringify({path:e,fragment:n}))}`)}execute(e){let n=decodeURIComponent(e.path);return this.tryOpen(n,e).catch(()=>{if(Oi(n)==="")return this.tryOpen(n+".md",e);let r=j.Uri.file(n);return Promise.resolve(void 0).then(()=>j.commands.executeCommand("vscode.open",r)).then(()=>{})})}async tryOpen(e,n){let r=j.Uri.file(e);return j.window.activeTextEditor&&Mi(j.window.activeTextEditor.document)&&j.window.activeTextEditor.document.uri.fsPath===r.fsPath?this.tryRevealLine(j.window.activeTextEditor,n.fragment):j.workspace.openTextDocument(r).then(j.window.showTextDocument).then(i=>this.tryRevealLine(i,n.fragment))}async tryRevealLine(e,n){if(e&&n){let r=n.match(/^L(\d+)$/i);if(r){let i=+r[1]-1;if(!isNaN(i))return e.revealRange(new j.Range(i,0,i,0),j.TextEditorRevealType.AtTop)}}}};l();var ne=Z(k("vscode"));l();var q=Z(k("vscode"));l();var le=Z(k("vscode"));l();l();l();function Dr({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var Oc=Dr();function gr(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Oc,"")}l();l();function ki(t){return t===161||t===164||t===167||t===168||t===170||t===173||t===174||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||t===198||t===208||t===215||t===216||t>=222&&t<=225||t===230||t>=232&&t<=234||t===236||t===237||t===240||t===242||t===243||t>=247&&t<=250||t===252||t===254||t===257||t===273||t===275||t===283||t===294||t===295||t===299||t>=305&&t<=307||t===312||t>=319&&t<=322||t===324||t>=328&&t<=331||t===333||t===338||t===339||t===358||t===359||t===363||t===462||t===464||t===466||t===468||t===470||t===472||t===474||t===476||t===593||t===609||t===708||t===711||t>=713&&t<=715||t===717||t===720||t>=728&&t<=731||t===733||t===735||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||t===1025||t>=1040&&t<=1103||t===1105||t===8208||t>=8211&&t<=8214||t===8216||t===8217||t===8220||t===8221||t>=8224&&t<=8226||t>=8228&&t<=8231||t===8240||t===8242||t===8243||t===8245||t===8251||t===8254||t===8308||t===8319||t>=8321&&t<=8324||t===8364||t===8451||t===8453||t===8457||t===8467||t===8470||t===8481||t===8482||t===8486||t===8491||t===8531||t===8532||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||t===8585||t>=8592&&t<=8601||t===8632||t===8633||t===8658||t===8660||t===8679||t===8704||t===8706||t===8707||t===8711||t===8712||t===8715||t===8719||t===8721||t===8725||t===8730||t>=8733&&t<=8736||t===8739||t===8741||t>=8743&&t<=8748||t===8750||t>=8756&&t<=8759||t===8764||t===8765||t===8776||t===8780||t===8786||t===8800||t===8801||t>=8804&&t<=8807||t===8810||t===8811||t===8814||t===8815||t===8834||t===8835||t===8838||t===8839||t===8853||t===8857||t===8869||t===8895||t===8978||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||t===9632||t===9633||t>=9635&&t<=9641||t===9650||t===9651||t===9654||t===9655||t===9660||t===9661||t===9664||t===9665||t>=9670&&t<=9672||t===9675||t>=9678&&t<=9681||t>=9698&&t<=9701||t===9711||t===9733||t===9734||t===9737||t===9742||t===9743||t===9756||t===9758||t===9792||t===9794||t===9824||t===9825||t>=9827&&t<=9829||t>=9831&&t<=9834||t===9836||t===9837||t===9839||t===9886||t===9887||t===9919||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||t===9955||t===9960||t===9961||t>=9963&&t<=9969||t===9972||t>=9974&&t<=9977||t===9979||t===9980||t===9982||t===9983||t===10045||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||t===65533||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||t===127375||t===127376||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}function $i(t){return t===12288||t>=65281&&t<=65376||t>=65504&&t<=65510}function Ui(t){return t>=4352&&t<=4447||t===8986||t===8987||t===9001||t===9002||t>=9193&&t<=9196||t===9200||t===9203||t===9725||t===9726||t===9748||t===9749||t>=9800&&t<=9811||t===9855||t===9875||t===9889||t===9898||t===9899||t===9917||t===9918||t===9924||t===9925||t===9934||t===9940||t===9962||t===9970||t===9971||t===9973||t===9978||t===9981||t===9989||t===9994||t===9995||t===10024||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10133&&t<=10135||t===10160||t===10175||t===11035||t===11036||t===11088||t===11093||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12771||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||t===94192||t===94193||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101632&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||t===110589||t===110590||t>=110592&&t<=110882||t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960&&t<=111355||t===126980||t===127183||t===127374||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t===127568||t===127569||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988||t>=127992&&t<=128062||t===128064||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||t===128378||t===128405||t===128406||t===128420||t>=128507&&t<=128591||t>=128640&&t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||t===128747||t===128748||t>=128756&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129672||t>=129680&&t<=129725||t>=129727&&t<=129733||t>=129742&&t<=129755||t>=129760&&t<=129768||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}function Mc(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}function Wi(t,{ambiguousAsWide:e=!1}={}){return Mc(t),$i(t)||Ui(t)||e&&ki(t)?2:1}l();var Gi=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function mr(t,e={}){if(typeof t!="string"||t.length===0)return 0;let{ambiguousIsNarrow:n=!0,countAnsiEscapeCodes:r=!1}=e;if(r||(t=gr(t)),t.length===0)return 0;let i=0;for(let{segment:o}of new Intl.Segmenter().segment(t)){let s=o.codePointAt(0);if(!(s<=31||s>=127&&s<=159)&&!(s>=768&&s<=879)){if(Gi().test(o)){i+=2;continue}i+=Wi(s,{ambiguousAsWide:!n})}}return i}function hn(t,e,n){let r=e.line,i=e.character,o=i+n,s=t.lineAt(r).range.end.character;if(o<0||o>s)return;let a=new le.Range(r,i,r,o);return t.getText(a)}function Ve(){let t=le.window.activeTextEditor;if(!t)return;let e=t.selection.start,n=t.document.lineAt(e.line).range.end;return e.isEqual(n)}function Dn(t){return mr(t)}function gn(t){if(!t&&(t=le.window.activeTextEditor,!t))return;let e=t.selection;if(e.isEmpty)return;let n=new le.Position(e.start.line,0),r=e.end.line,i=t.document.lineAt(r).range.end.character,o=new le.Position(r,i),s=t.document.getText(new le.Range(n,o)),c=/^(?<row>\d+)(?<x>x)(?<column>\d+)$/.exec(s);if(!c?.groups)return;let u=c.groups.row,p=c.groups.x,d=c.groups.column;if(u&&p&&d)return[Number(u),Number(d)]}function fe(t){if(!t&&(t=le.window.activeTextEditor,!t))return;let e=t.selection.start.line,n=/^(\+-[-+]+-\+)$/,r=/^(?!(\s|\+|\||-))(?<!\w+)/,o=t.document.getText().split(/\r\n|\r|\n/),s=[],a=!1;for(let c=0;c<o.length;c++){let u=o[c];if(!a)n.exec(u)&&(s.push(c),a=!0);else if(r.exec(u)){if(a=!1,s.includes(e))return s;s=[]}else s.push(c)}if(s.includes(e))return s}function Ut(t){if(!t&&(t=le.window.activeTextEditor,!t))return!1;let e=t.selection.start.line,n=/^\s*((\(?([a-zA-Z0-9]+|#)(\.|\))) )|^\s*([-+*] )/,r=t.document.lineAt(e).range,i=t.document.getText(r);return!!n.exec(i)}function mn(t){if(!t&&(t=le.window.activeTextEditor,!t))return!1;let e=t.selection.start.line,n=/^\s*((\(?([a-zA-Z0-9]+|#)(\.|\))) )|^\s*([-+*] )/;if(e===0)return!1;{let r=t.document.lineAt(e-1).range,i=t.document.getText(r);return!!n.exec(i)}}l();var $=Z(k("vscode"));l();l();var qi;(function(t){(function(e){var n=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,s){return function(a,c){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:c}),s&&s(a,c)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return pr(Object.create(null))}:a?function(){return pr({__proto__:null})}:function(){return pr({})},has:c?function(f,m){return n.call(f,m)}:function(f,m){return m in f},get:c?function(f,m){return n.call(f,m)?f[m]:void 0}:function(f,m){return f[m]}},p=Object.getPrototypeOf(Function),d=typeof h=="object"&&h.env&&h.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",D=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Xu(),g=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ju(),w=!d&&typeof WeakMap=="function"?WeakMap:Zu(),O=new w;function ie(f,m,E,F){if(G(E)){if(!Ci(f))throw new TypeError;if(!wi(m))throw new TypeError;return un(f,m)}else{if(!Ci(f))throw new TypeError;if(!Y(m))throw new TypeError;if(!Y(F)&&!G(F)&&!ht(F))throw new TypeError;return ht(F)&&(F=void 0),E=Be(E),ur(f,m,E,F)}}e("decorate",ie);function oe(f,m){function E(F,x){if(!Y(F))throw new TypeError;if(!G(x)&&!ju(x))throw new TypeError;Ei(f,m,F,x)}return E}e("metadata",oe);function X(f,m,E,F){if(!Y(E))throw new TypeError;return G(F)||(F=Be(F)),Ei(f,m,E,F)}e("defineMetadata",X);function Qe(f,m,E){if(!Y(m))throw new TypeError;return G(E)||(E=Be(E)),gi(f,m,E)}e("hasMetadata",Qe);function Ot(f,m,E){if(!Y(m))throw new TypeError;return G(E)||(E=Be(E)),cr(f,m,E)}e("hasOwnMetadata",Ot);function sr(f,m,E){if(!Y(m))throw new TypeError;return G(E)||(E=Be(E)),mi(f,m,E)}e("getMetadata",sr);function ar(f,m,E){if(!Y(m))throw new TypeError;return G(E)||(E=Be(E)),vi(f,m,E)}e("getOwnMetadata",ar);function Ie(f,m){if(!Y(f))throw new TypeError;return G(m)||(m=Be(m)),Fi(f,m)}e("getMetadataKeys",Ie);function et(f,m){if(!Y(f))throw new TypeError;return G(m)||(m=Be(m)),Ai(f,m)}e("getOwnMetadataKeys",et);function Mt(f,m,E){if(!Y(m))throw new TypeError;G(E)||(E=Be(E));var F=kt(m,E,!1);if(G(F)||!F.delete(f))return!1;if(F.size>0)return!0;var x=O.get(m);return x.delete(E),x.size>0||O.delete(m),!0}e("deleteMetadata",Mt);function un(f,m){for(var E=f.length-1;E>=0;--E){var F=f[E],x=F(m);if(!G(x)&&!ht(x)){if(!wi(x))throw new TypeError;m=x}}return m}function ur(f,m,E,F){for(var x=f.length-1;x>=0;--x){var J=f[x],_=J(m,E,F);if(!G(_)&&!ht(_)){if(!Y(_))throw new TypeError;F=_}}return F}function kt(f,m,E){var F=O.get(f);if(G(F)){if(!E)return;F=new D,O.set(f,F)}var x=F.get(m);if(G(x)){if(!E)return;x=new D,F.set(m,x)}return x}function gi(f,m,E){var F=cr(f,m,E);if(F)return!0;var x=lr(m);return ht(x)?!1:gi(f,x,E)}function cr(f,m,E){var F=kt(m,E,!1);return G(F)?!1:qu(F.has(f))}function mi(f,m,E){var F=cr(f,m,E);if(F)return vi(f,m,E);var x=lr(m);if(!ht(x))return mi(f,x,E)}function vi(f,m,E){var F=kt(m,E,!1);if(!G(F))return F.get(f)}function Ei(f,m,E,F){var x=kt(E,F,!0);x.set(f,m)}function Fi(f,m){var E=Ai(f,m),F=lr(f);if(F===null)return E;var x=Fi(F,m);if(x.length<=0)return E;if(E.length<=0)return x;for(var J=new g,_=[],S=0,T=E;S<T.length;S++){var R=T[S],I=J.has(R);I||(J.add(R),_.push(R))}for(var qe=0,Ti=x;qe<Ti.length;qe++){var R=Ti[qe],I=J.has(R);I||(J.add(R),_.push(R))}return _}function Ai(f,m){var E=[],F=kt(f,m,!1);if(G(F))return E;for(var x=F.keys(),J=Vu(x),_=0;;){var S=Hu(J);if(!S)return E.length=_,E;var T=Ku(S);try{E[_]=T}catch(R){try{zu(J)}finally{throw R}}_++}}function yi(f){if(f===null)return 1;switch(typeof f){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return f===null?1:6;default:return 6}}function G(f){return f===void 0}function ht(f){return f===null}function Uu(f){return typeof f=="symbol"}function Y(f){return typeof f=="object"?f!==null:typeof f=="function"}function Wu(f,m){switch(yi(f)){case 0:return f;case 1:return f;case 2:return f;case 3:return f;case 4:return f;case 5:return f}var E=m===3?"string":m===5?"number":"default",F=xi(f,i);if(F!==void 0){var x=F.call(f,E);if(Y(x))throw new TypeError;return x}return Gu(f,E==="default"?"number":E)}function Gu(f,m){if(m==="string"){var E=f.toString;if(Dt(E)){var F=E.call(f);if(!Y(F))return F}var x=f.valueOf;if(Dt(x)){var F=x.call(f);if(!Y(F))return F}}else{var x=f.valueOf;if(Dt(x)){var F=x.call(f);if(!Y(F))return F}var J=f.toString;if(Dt(J)){var F=J.call(f);if(!Y(F))return F}}throw new TypeError}function qu(f){return!!f}function Yu(f){return""+f}function Be(f){var m=Wu(f,3);return Uu(m)?m:Yu(m)}function Ci(f){return Array.isArray?Array.isArray(f):f instanceof Object?f instanceof Array:Object.prototype.toString.call(f)==="[object Array]"}function Dt(f){return typeof f=="function"}function wi(f){return typeof f=="function"}function ju(f){switch(yi(f)){case 3:return!0;case 4:return!0;default:return!1}}function xi(f,m){var E=f[m];if(E!=null){if(!Dt(E))throw new TypeError;return E}}function Vu(f){var m=xi(f,o);if(!Dt(m))throw new TypeError;var E=m.call(f);if(!Y(E))throw new TypeError;return E}function Ku(f){return f.value}function Hu(f){var m=f.next();return m.done?!1:m}function zu(f){var m=f.return;m&&m.call(f)}function lr(f){var m=Object.getPrototypeOf(f);if(typeof f!="function"||f===p||m!==p)return m;var E=f.prototype,F=E&&Object.getPrototypeOf(E);if(F==null||F===Object.prototype)return m;var x=F.constructor;return typeof x!="function"||x===f?m:x}function Xu(){var f={},m=[],E=function(){function _(S,T,R){this._index=0,this._keys=S,this._values=T,this._selector=R}return _.prototype["@@iterator"]=function(){return this},_.prototype[o]=function(){return this},_.prototype.next=function(){var S=this._index;if(S>=0&&S<this._keys.length){var T=this._selector(this._keys[S],this._values[S]);return S+1>=this._keys.length?(this._index=-1,this._keys=m,this._values=m):this._index++,{value:T,done:!1}}return{value:void 0,done:!0}},_.prototype.throw=function(S){throw this._index>=0&&(this._index=-1,this._keys=m,this._values=m),S},_.prototype.return=function(S){return this._index>=0&&(this._index=-1,this._keys=m,this._values=m),{value:S,done:!0}},_}();return function(){function _(){this._keys=[],this._values=[],this._cacheKey=f,this._cacheIndex=-2}return Object.defineProperty(_.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),_.prototype.has=function(S){return this._find(S,!1)>=0},_.prototype.get=function(S){var T=this._find(S,!1);return T>=0?this._values[T]:void 0},_.prototype.set=function(S,T){var R=this._find(S,!0);return this._values[R]=T,this},_.prototype.delete=function(S){var T=this._find(S,!1);if(T>=0){for(var R=this._keys.length,I=T+1;I<R;I++)this._keys[I-1]=this._keys[I],this._values[I-1]=this._values[I];return this._keys.length--,this._values.length--,S===this._cacheKey&&(this._cacheKey=f,this._cacheIndex=-2),!0}return!1},_.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=f,this._cacheIndex=-2},_.prototype.keys=function(){return new E(this._keys,this._values,F)},_.prototype.values=function(){return new E(this._keys,this._values,x)},_.prototype.entries=function(){return new E(this._keys,this._values,J)},_.prototype["@@iterator"]=function(){return this.entries()},_.prototype[o]=function(){return this.entries()},_.prototype._find=function(S,T){return this._cacheKey!==S&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=S)),this._cacheIndex<0&&T&&(this._cacheIndex=this._keys.length,this._keys.push(S),this._values.push(void 0)),this._cacheIndex},_}();function F(_,S){return _}function x(_,S){return S}function J(_,S){return[_,S]}}function Ju(){return function(){function f(){this._map=new D}return Object.defineProperty(f.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),f.prototype.has=function(m){return this._map.has(m)},f.prototype.add=function(m){return this._map.set(m,m),this},f.prototype.delete=function(m){return this._map.delete(m)},f.prototype.clear=function(){this._map.clear()},f.prototype.keys=function(){return this._map.keys()},f.prototype.values=function(){return this._map.values()},f.prototype.entries=function(){return this._map.entries()},f.prototype["@@iterator"]=function(){return this.keys()},f.prototype[o]=function(){return this.keys()},f}()}function Zu(){var f=16,m=u.create(),E=F();return function(){function T(){this._key=F()}return T.prototype.has=function(R){var I=x(R,!1);return I!==void 0?u.has(I,this._key):!1},T.prototype.get=function(R){var I=x(R,!1);return I!==void 0?u.get(I,this._key):void 0},T.prototype.set=function(R,I){var qe=x(R,!0);return qe[this._key]=I,this},T.prototype.delete=function(R){var I=x(R,!1);return I!==void 0?delete I[this._key]:!1},T.prototype.clear=function(){this._key=F()},T}();function F(){var T;do T="@@WeakMap@@"+S();while(u.has(m,T));return m[T]=!0,T}function x(T,R){if(!n.call(T,E)){if(!R)return;Object.defineProperty(T,E,{value:u.create()})}return T[E]}function J(T,R){for(var I=0;I<R;++I)T[I]=Math.random()*255|0;return T}function _(T){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(T)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(T)):J(new Uint8Array(T),T):J(new Array(T),T)}function S(){var T=_(f);T[6]=T[6]&79|64,T[8]=T[8]&191|128;for(var R="",I=0;I<f;++I){var qe=T[I];(I===4||I===6||I===8)&&(R+="-"),qe<16&&(R+="0"),R+=qe.toString(16).toLowerCase()}return R}}function pr(f){return f.__=void 0,delete f.__,f}})})(qi||(qi={}));l();l();var V="named",Er="name",vn="unmanaged",Fr="optional",rt="inject",Ke="multi_inject",En="inversify:tagged",Fn="inversify:tagged_props",Wt="inversify:paramtypes",Yi="design:paramtypes",Ar="post_construct",Gt="pre_destroy";function kc(){return[rt,Ke,Er,vn,V,Fr]}var yr=kc();l();l();l();var P={Request:"Request",Singleton:"Singleton",Transient:"Transient"},L={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},be={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};l();var $c=0;function _e(){return $c++}var ji=function(){function t(e,n){this.id=_e(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=L.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===P.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();l();var Vi="Cannot apply @injectable decorator multiple times.",Cr="Metadata key was used more than once in a parameter:",Et="NULL argument",wr="Key Not Found",Ki="Ambiguous match found for serviceIdentifier:",Hi="Could not unbind serviceIdentifier:",zi="No matching bindings found for serviceIdentifier:",xr="Missing required @injectable annotation in:",Xi="Missing required @inject or @multiInject annotation in:",Ji=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},Zi="Circular dependency found:";var Qi="Invalid binding type:",eo="No snapshot available to restore.",to="Invalid return type in middleware. Middleware must return!",no="Value provided to function binding must be a function!",ro=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`},io="The toSelf function can only be applied when a constructor is used as service identifier",Tr="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",oo=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},so="Invalid Container constructor argument. Container options must be an object.",ao="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",uo="Invalid Container option. Auto bind injectable must be a boolean",co="Invalid Container option. Skip base check must be a boolean";var lo="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)",po=function(t,e){return"@postConstruct error in class "+t+": "+e},fo=function(t,e){return"@preDestroy error in class "+t+": "+e},qt=function(t,e){return"onDeactivation() error in class "+t+": "+e},ho=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")},Do="Maximum call stack size exceeded";l();var go=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(Wt,e),r=Reflect.getMetadata(En,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(Fn,e)||[];return n},t}();l();l();var Yt={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};l();function br(t){return t instanceof RangeError||t.message===Do}var mo=function(t,e){try{return t()}catch(n){throw br(n)&&(n=e()),n}};l();function Pe(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}function _r(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=Ft(o.implementationType)),r=r+`
 `+s,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function vo(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:vo(t.parentRequest,e)}function Uc(t){function e(r,i){i===void 0&&(i=[]);var o=Pe(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function Nr(t){t.childRequests.forEach(function(e){if(vo(e,e.serviceIdentifier)){var n=Uc(e);throw new Error(Zi+" "+n)}else Nr(e)})}function Eo(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}function Ft(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}function Fo(t){return t.toString().slice(7,-1)}l();var Sr=function(){function t(e){this.id=_e(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();l();var pe=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===V?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();l();var Ao=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();l();l();var yo=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();l();l();var Co=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();var At=function(){function t(e,n,r,i){this.id=_e(),this.type=e,this.serviceIdentifier=r;var o=typeof n=="symbol"?Fo(n):n;this.name=new Co(o||""),this.identifier=n,this.metadata=new Array;var s=null;typeof i=="string"?s=new pe(V,i):i instanceof pe&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(Ke)},t.prototype.matchesArray=function(e){return this.matchesTag(Ke)(e)},t.prototype.isNamed=function(){return this.hasTag(V)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return yr.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(Fr)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===V})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return yr.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(V)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===r)return!0}return!1}},t}();var An=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function wo(t,e){var n=Ft(e);return xo(t,n,e,!1)}function xo(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var s=xr+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=n.length===0&&c.length>0,p=c.length>n.length,d=u||p?c.length:n.length,D=Gc(r,e,o,a,d),g=To(t,n,e),w=An(An([],D,!0),g,!0);return w}function Wc(t,e,n,r,i){var o=i[t.toString()]||[],s=bo(o),a=s.unmanaged!==!0,c=r[t],u=s.inject||s.multiInject;if(c=u||c,c instanceof yo&&(c=c.unwrap()),a){var p=c===Object,d=c===Function,D=c===void 0,g=p||d||D;if(!e&&g){var w=Xi+" argument "+t+" in class "+n+".";throw new Error(w)}var O=new At(be.ConstructorArgument,s.targetName,c);return O.metadata=o,O}return null}function Gc(t,e,n,r,i){for(var o=[],s=0;s<i;s++){var a=s,c=Wc(a,t,e,n,r);c!==null&&o.push(c)}return o}function qc(t,e,n,r){var i=t||e;if(i===void 0){var o=xr+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function To(t,e,n){for(var r=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(r),s=Object.keys(r),a=s.concat(o),c=0,u=a;c<u.length;c++){var p=u[c],d=r[p],D=bo(d),g=D.targetName||p,w=qc(D.inject,D.multiInject,p,n),O=new At(be.ClassProperty,g,w);O.metadata=d,i.push(O)}var ie=Object.getPrototypeOf(e.prototype).constructor;if(ie!==Object){var oe=To(t,ie,n);i=An(An([],i,!0),oe,!0)}return i}function Rr(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=Ft(n),i=xo(t,r,n,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===vn})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:Rr(t,n)}else return 0}function bo(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[rt],multiInject:e[Ke],targetName:e[Er],unmanaged:e[vn]}}l();var yn=function(){function t(e,n,r,i,o){this.id=_e(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();function yt(t){return t._bindingDictionary}function Yc(t,e,n,r,i,o){var s=t?Ke:rt,a=new pe(s,n),c=new At(e,r,n,a);if(i!==void 0){var u=new pe(i,o);c.metadata.push(u)}return c}function _o(t,e,n,r,i){var o=jt(n.container,i.serviceIdentifier),s=[];return o.length===Yt.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=jt(n.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new yn(a.serviceIdentifier,n,r,a,i);return a.constraint(c)}),jc(i.serviceIdentifier,s,i,n.container),s}function jc(t,e,n,r){switch(e.length){case Yt.NoBindingsAvailable:if(n.isOptional())return e;var i=Pe(t),o=zi;throw o+=Eo(i,n),o+=_r(r,i,jt),new Error(o);case Yt.OnlyOneBindingAvailable:return e;case Yt.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=Pe(t),o=Ki+" "+i;throw o+=_r(r,i,jt),new Error(o)}}function No(t,e,n,r,i,o){var s,a;if(i===null){s=_o(t,e,r,null,o),a=new yn(n,r,null,s,o);var c=new Ao(r,a);r.addPlan(c)}else s=_o(t,e,r,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var p=null;if(o.isArray())p=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;p=a}if(u.type===L.Instance&&u.implementationType!==null){var d=wo(t,u.implementationType);if(!r.container.options.skipBaseClassChecks){var D=Rr(t,u.implementationType);if(d.length<D){var g=oo(Ft(u.implementationType));throw new Error(g)}}d.forEach(function(w){No(t,!1,w.serviceIdentifier,r,p,w)})}})}function jt(t,e){var n=[],r=yt(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=jt(t.parent,e)),n}function So(t,e,n,r,i,o,s,a){a===void 0&&(a=!1);var c=new Sr(e),u=Yc(n,r,i,"",o,s);try{return No(t,a,i,c,null,u),c}catch(p){throw br(p)&&Nr(c.plan.rootRequest),p}}function Ro(t,e,n,r){var i=new At(be.Variable,"",e,new pe(n,r)),o=new Sr(t),s=new yn(e,o,null,[],i);return s}l();l();l();function K(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}function Cn(t){return K(t)?!0:Array.isArray(t)&&t.some(K)}var Vc=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(d){s(d)}}function c(p){try{u(r.throw(p))}catch(d){s(d)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Kc=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return c([u,p])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Io=function(t,e){return e.scope===P.Singleton&&e.activated?e.cache:e.scope===P.Request&&t.has(e.id)?t.get(e.id):null},Bo=function(t,e,n){e.scope===P.Singleton&&zc(e,n),e.scope===P.Request&&Hc(t,e,n)},Hc=function(t,e,n){t.has(e.id)||t.set(e.id,n)},zc=function(t,e){t.cache=e,t.activated=!0,K(e)&&Xc(t,e)},Xc=function(t,e){return Vc(void 0,void 0,void 0,function(){var n,r;return Kc(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return n=i.sent(),t.cache=n,[3,3];case 2:throw r=i.sent(),t.cache=null,t.activated=!1,r;case 3:return[2]}})})};l();l();var Ct;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(Ct||(Ct={}));var Lo=function(t){var e=null;switch(t.type){case L.ConstantValue:case L.Function:e=t.cache;break;case L.Constructor:case L.Instance:e=t.implementationType;break;case L.DynamicValue:e=t.dynamicValue;break;case L.Provider:e=t.provider;break;case L.Factory:e=t.factory;break}if(e===null){var n=Pe(t.serviceIdentifier);throw new Error(Qi+" "+n)}},Po=function(t){switch(t.type){case L.Factory:return{factory:t.factory,factoryType:Ct.Factory};case L.Provider:return{factory:t.provider,factoryType:Ct.Provider};case L.DynamicValue:return{factory:t.dynamicValue,factoryType:Ct.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};l();var wt=function(){return wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wt.apply(this,arguments)},ko=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(d){s(d)}}function c(p){try{u(r.throw(p))}catch(d){s(d)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},$o=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return c([u,p])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jc=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function Zc(t,e){return t.reduce(function(n,r){var i=e(r),o=r.target.type;return o===be.ConstructorArgument?n.constructorInjections.push(i):(n.propertyRequests.push(r),n.propertyInjections.push(i)),n.isAsync||(n.isAsync=Cn(i)),n},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function Qc(t,e,n){var r;if(e.length>0){var i=Zc(e,n),o=wt(wt({},i),{constr:t});i.isAsync?r=el(o):r=Uo(o)}else r=new t;return r}function Uo(t){var e,n=new((e=t.constr).bind.apply(e,Jc([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(r,i){var o=r.target.identifier,s=t.propertyInjections[i];n[o]=s}),n}function el(t){return ko(this,void 0,void 0,function(){var e,n;return $o(this,function(r){switch(r.label){case 0:return[4,Oo(t.constructorInjections)];case 1:return e=r.sent(),[4,Oo(t.propertyInjections)];case 2:return n=r.sent(),[2,Uo(wt(wt({},t),{constructorInjections:e,propertyInjections:n}))]}})})}function Oo(t){return ko(this,void 0,void 0,function(){var e,n,r,i;return $o(this,function(o){for(e=[],n=0,r=t;n<r.length;n++)i=r[n],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function Mo(t,e){var n=tl(t,e);return K(n)?n.then(function(){return e}):e}function tl(t,e){var n,r;if(Reflect.hasMetadata(Ar,t)){var i=Reflect.getMetadata(Ar,t);try{return(r=(n=e)[i.value])===null||r===void 0?void 0:r.call(n)}catch(o){throw new Error(po(t.name,o.message))}}}function nl(t,e){t.scope!==P.Singleton&&rl(t,e)}function rl(t,e){var n="Class cannot be instantiated in "+(t.scope===P.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error(qt(e.name,n));if(Reflect.hasMetadata(Gt,e))throw new Error(fo(e.name,n))}function Wo(t,e,n,r){nl(t,e);var i=Qc(e,n,r);return K(i)?i.then(function(o){return Mo(e,o)}):Mo(e,i)}var il=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(d){s(d)}}function c(p){try{u(r.throw(p))}catch(d){s(d)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ol=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return c([u,p])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ir=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(a){var c=Ir(t);return c(a)});if(e.target.isOptional()&&n.length===0)return;var s=n[0];return cl(t,e,s)}},sl=function(t,e){var n=Po(t);return mo(function(){return n.factory.bind(t)(e)},function(){return new Error(ho(n.factoryType,e.currentRequest.serviceIdentifier.toString()))})},al=function(t,e,n){var r,i=e.childRequests;switch(Lo(n),n.type){case L.ConstantValue:case L.Function:r=n.cache;break;case L.Constructor:r=n.implementationType;break;case L.Instance:r=Wo(n,n.implementationType,i,Ir(t));break;default:r=sl(n,e.parentContext)}return r},ul=function(t,e,n){var r=Io(t,e);return r!==null||(r=n(),Bo(t,e,r)),r},cl=function(t,e,n){return ul(t,n,function(){var r=al(t,e,n);return K(r)?r=r.then(function(i){return Go(e,n,i)}):r=Go(e,n,r),r})};function Go(t,e,n){var r=ll(t.parentContext,e,n),i=fl(t.parentContext.container),o,s=i.next();do{o=s.value;var a=t.parentContext,c=t.serviceIdentifier,u=dl(o,c);K(r)?r=qo(u,a,r):r=pl(u,a,r),s=i.next()}while(s.done!==!0&&!yt(o).hasKey(t.serviceIdentifier));return r}var ll=function(t,e,n){var r;return typeof e.onActivation=="function"?r=e.onActivation(t,n):r=n,r},pl=function(t,e,n){for(var r=t.next();!r.done;){if(n=r.value(e,n),K(n))return qo(t,e,n);r=t.next()}return n},qo=function(t,e,n){return il(void 0,void 0,void 0,function(){var r,i;return ol(this,function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,r)];case 3:return r=o.sent(),i=t.next(),[3,2];case 4:return[2,r]}})})},dl=function(t,e){var n=t._activations;return n.hasKey(e)?n.get(e).values():[].values()},fl=function(t){for(var e=[t],n=t.parent;n!==null;)e.push(n),n=n.parent;var r=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:r};return i};function Yo(t){var e=Ir(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}l();l();l();l();l();l();l();var Ne=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:Ne(n,e):!1},xt=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new pe(t,e),n}},Vt=xt(V),wn=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};var it=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new W(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=Vt(e),new W(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new W(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=xt(e)(n),new W(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return n!==null&&wn(e)(n.parentRequest)},new W(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return n!==null&&Vt(e)(n.parentRequest)},new W(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&xt(e)(n)(r.parentRequest)},new W(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&Ne(n,wn(e))},new W(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&!Ne(n,wn(e))},new W(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&Ne(n,Vt(e))},new W(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&!Ne(n,Vt(e))},new W(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&Ne(r,xt(e)(n))},new W(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&!Ne(r,xt(e)(n))},new W(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&Ne(n,e)},new W(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&!Ne(n,e)},new W(this._binding)},t}();var W=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new it(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new it(this._binding)},t}();var ye=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new it(this._binding),this._bindingOnSyntax=new W(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();var jo=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=P.Request,new ye(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=P.Transient,new ye(this._binding)},t}();var Br=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new it(this._binding),this._bindingOnSyntax=new W(this._binding),this._bindingInSyntax=new jo(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();var Vo=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=L.Instance,this._binding.implementationType=e,new Br(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+io);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=L.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=L.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Br(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=L.Constructor,this._binding.implementationType=e,this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=L.Factory,this._binding.factory=e,this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(no);var n=this.toConstantValue(e);return this._binding.type=L.Function,this._binding.scope=P.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=L.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=L.Factory,this._binding.factory=function(n){return function(r){return n.container.getNamed(e,r)}},new ye(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=L.Provider,this._binding.provider=e,this._binding.scope=P.Singleton,new ye(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}();l();var Ko=function(){function t(){}return t.of=function(e,n,r,i,o){var s=new t;return s.bindings=e,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},t}();l();l();function Ho(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}var Oe=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(Et);if(n==null)throw new Error(Et);var r=this._map.get(e);r!==void 0?r.push(n):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(Et);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(wr)},t.prototype.remove=function(e){if(e==null)throw new Error(Et);if(!this._map.delete(e))throw new Error(wr)},t.prototype.removeIntersection=function(e){var n=this;this.traverse(function(r,i){var o=e.hasKey(r)?e.get(r):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(c){return a===c})});n._setValue(r,s)}})},t.prototype.removeByCondition=function(e){var n=this,r=[];return this._map.forEach(function(i,o){for(var s=[],a=0,c=i;a<c.length;a++){var u=c[a],p=e(u);p?r.push(u):s.push(u)}n._setValue(o,s)}),r},t.prototype.hasKey=function(e){if(e==null)throw new Error(Et);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,Ho(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t.prototype._setValue=function(e,n){n.length>0?this._map.set(e,n):this._map.delete(e)},t}();l();var zo=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var n=this._map.get(e);return this._map.delete(e),n}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,n,r){this._getModuleActivationHandlers(e).onDeactivations.add(n,r)},t.prototype.addActivation=function(e,n,r){this._getModuleActivationHandlers(e).onActivations.add(n,r)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){e._map.set(r,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var n=this._map.get(e);return n===void 0&&(n=this._getEmptyHandlersStore(),this._map.set(e,n)),n},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new Oe,onDeactivations:new Oe};return e},t}();var xn=function(){return xn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xn.apply(this,arguments)},De=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(d){s(d)}}function c(p){try{u(r.throw(p))}catch(d){s(d)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ge=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return c([u,p])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},hl=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Lr=function(){function t(e){var n=e||{};if(typeof n!="object")throw new Error(""+so);if(n.defaultScope===void 0)n.defaultScope=P.Transient;else if(n.defaultScope!==P.Singleton&&n.defaultScope!==P.Transient&&n.defaultScope!==P.Request)throw new Error(""+ao);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+uo);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+co);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=_e(),this._bindingDictionary=new Oe,this._snapshots=[],this._middleware=null,this._activations=new Oe,this._deactivations=new Oe,this.parent=null,this._metadataReader=new go,this._moduleActivationStore=new zo}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,s=hl([e,n],r,!0).map(function(u){return yt(u)}),a=yt(o);function c(u,p){u.traverse(function(d,D){D.forEach(function(g){p.add(g.serviceIdentifier,g.clone())})})}return s.forEach(function(u){c(u,a)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=r(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return De(this,void 0,void 0,function(){var r,i,o,s,a;return ge(this,function(c){switch(c.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=r(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return De(this,void 0,void 0,function(){var r,i,o,s;return ge(this,function(a){switch(a.label){case 0:r=0,i=e,a.label=1;case 1:return r<i.length?(o=i[r],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var n=this.options.defaultScope||P.Transient,r=new ji(e,n);return this._bindingDictionary.add(e,r),new Vo(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return De(this,void 0,void 0,function(){return ge(this,function(n){switch(n.label){case 0:return[4,this.unbindAsync(e)];case 1:return n.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var n=this._bindingDictionary.get(e);this._deactivateSingletons(n)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return De(this,void 0,void 0,function(){var n;return ge(this,function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(e)?(n=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(n,r){e._deactivateSingletons(r)}),this._bindingDictionary=new Oe},t.prototype.unbindAllAsync=function(){return De(this,void 0,void 0,function(){var e,n=this;return ge(this,function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(n._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new Oe,[2]}})})},t.prototype.onActivation=function(e,n){this._activations.add(e,n)},t.prototype.onDeactivation=function(e,n){this._deactivations.add(e,n)},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,V,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=Ro(this,e,n,r);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(Ko.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(eo);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var n=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(n)},t.prototype.getAsync=function(e){return De(this,void 0,void 0,function(){var n;return ge(this,function(r){return n=this._getNotAllArgs(e,!1),[2,this._get(n)]})})},t.prototype.getTagged=function(e,n,r){var i=this._getNotAllArgs(e,!1,n,r);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,n,r){return De(this,void 0,void 0,function(){var i;return ge(this,function(o){return i=this._getNotAllArgs(e,!1,n,r),[2,this._get(i)]})})},t.prototype.getNamed=function(e,n){return this.getTagged(e,V,n)},t.prototype.getNamedAsync=function(e,n){return this.getTaggedAsync(e,V,n)},t.prototype.getAll=function(e){var n=this._getAllArgs(e);return this._getButThrowIfAsync(n)},t.prototype.getAllAsync=function(e){var n=this._getAllArgs(e);return this._getAll(n)},t.prototype.getAllTagged=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getAll(i)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,V,n)},t.prototype.getAllNamedAsync=function(e,n){return this.getAllTaggedAsync(e,V,n)},t.prototype.resolve=function(e){var n=this.isBound(e);n||this.bind(e).toSelf();var r=this.get(e);return n||this.unbind(e),r},t.prototype._preDestroy=function(e,n){if(Reflect.hasMetadata(Gt,e)){var r=Reflect.getMetadata(Gt,e);return n[r.value]()}},t.prototype._removeModuleHandlers=function(e){var n=this._moduleActivationStore.remove(e);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(n){return n.moduleId===e})},t.prototype._deactivate=function(e,n){var r=this,i=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(n,this._deactivations.get(e.serviceIdentifier).values());if(K(o))return this._handleDeactivationError(o.then(function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,n,i);if(K(s))return this._handleDeactivationError(s,i)}catch(a){throw new Error(qt(i.name,a.message))}},t.prototype._handleDeactivationError=function(e,n){return De(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),new Error(qt(n.name,r.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,n){for(var r=this,i=n.next();i.value;){var o=i.value(e);if(K(o))return o.then(function(){return r._deactivateContainerAsync(e,n)});i=n.next()}},t.prototype._deactivateContainerAsync=function(e,n){return De(this,void 0,void 0,function(){var r;return ge(this,function(i){switch(i.label){case 0:r=n.next(),i.label=1;case 1:return r.value?[4,r.value(e)]:[3,3];case 2:return i.sent(),r=n.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(p,d){p._binding.moduleId=d},r=function(p){return function(d){var D=e.bind(d);return n(D,p),D}},i=function(){return function(p){return e.unbind(p)}},o=function(){return function(p){return e.unbindAsync(p)}},s=function(){return function(p){return e.isBound(p)}},a=function(p){return function(d){var D=e.rebind(d);return n(D,p),D}},c=function(p){return function(d,D){e._moduleActivationStore.addActivation(p,d,D),e.onActivation(d,D)}},u=function(p){return function(d,D){e._moduleActivationStore.addDeactivation(p,d,D),e.onDeactivation(d,D)}};return function(p){return{bindFunction:r(p),isboundFunction:s(),onActivationFunction:c(p),onDeactivationFunction:u(p),rebindFunction:a(p),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var n=xn(xn({},e),{contextInterceptor:function(i){return i},targetType:be.Variable});if(this._middleware){var r=this._middleware(n);if(r==null)throw new Error(to);return r}return this._planAndResolve()(n)},t.prototype._getButThrowIfAsync=function(e){var n=this._get(e);if(Cn(n))throw new Error(ro(e.serviceIdentifier));return n},t.prototype._getAllArgs=function(e){var n={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return n},t.prototype._getNotAllArgs=function(e,n,r,i){var o={avoidConstraints:!1,isMultiInject:n,serviceIdentifier:e,key:r,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=So(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=Yo(r);return i}},t.prototype._deactivateIfSingleton=function(e){var n=this;if(e.activated)return K(e.cache)?e.cache.then(function(r){return n._deactivate(e,r)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=this._deactivateIfSingleton(i);if(K(o))throw new Error(lo)}},t.prototype._deactivateSingletonsAsync=function(e){return De(this,void 0,void 0,function(){var n=this;return ge(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(i){return n._deactivateIfSingleton(i)}))];case 1:return r.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,n,r){return this.parent?this._deactivate.bind(this.parent)(e,n):this._bindingDeactivationAndPreDestroy(e,n,r)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,n,r){return De(this,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,n)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,n,r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Hi+" "+Pe(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,n,r){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(n);if(K(o))return o.then(function(){return i._preDestroy(r,n)})}return this._preDestroy(r,n)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,n,r){return De(this,void 0,void 0,function(){return ge(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(n)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(r,n)];case 3:return i.sent(),[2]}})})},t}();l();l();function Xo(t){for(var e=new Set,n=0,r=t;n<r.length;n++){var i=r[n];if(e.has(i))return i;e.add(i)}}function Dl(t){return t.prototype!==void 0}function gl(t){if(t!==void 0)throw new Error(Tr)}function ml(t,e,n,r){gl(e),Jo(En,t,n.toString(),r)}function vl(t,e,n){if(Dl(t))throw new Error(Tr);Jo(Fn,t.constructor,e,n)}function El(t){var e=[];if(Array.isArray(t)){e=t;var n=Xo(e.map(function(r){return r.key}));if(n!==void 0)throw new Error(Cr+" "+n.toString())}else e=[t];return e}function Jo(t,e,n,r){var i=El(r),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[n];if(s===void 0)s=[];else for(var a=function(d){if(i.some(function(D){return D.key===d.key}))throw new Error(Cr+" "+d.key.toString())},c=0,u=s;c<u.length;c++){var p=u[c];a(p)}s.push.apply(s,i),o[n]=s,Reflect.defineMetadata(t,o,e)}function Tn(t){return function(e,n,r){typeof r=="number"?ml(e,n,r,t):vl(e,n,t)}}l();function ot(){return function(t){if(Reflect.hasOwnMetadata(Wt,t))throw new Error(Vi);var e=Reflect.getMetadata(Yi,t)||[];return Reflect.defineMetadata(Wt,e,t),t}}l();function Pr(t){return Tn(new pe(V,t))}l();l();function Zo(t){return function(e){return function(n,r,i){if(e===void 0){var o=typeof n=="function"?n.name:n.constructor.name;throw new Error(Ji(o))}return Tn(new pe(t,e))(n,r,i)}}}var bn=Zo(rt);l();var M={Logger:Symbol.for("Logger"),Python:Symbol.for("Python"),Configuration:Symbol.for("Configuration")},Tt={Main:Symbol.for("Main")};l();var Nn=Z(k("vscode"));l();var _n=Z(k("vscode")),Or=class{async getInfo(){return{osInfo:{platform:"web",distro:"browser"}}}},Mr=class{async getInfo(){return{osInfo:await k("@jedithepro/system-info").osInfo()}}};function Qo(){return _n.env.uiKind===_n.UIKind.Web?new Or:new Mr}var Sn=(n=>(n[n.Off=0]="Off",n[n.Verbose=1]="Verbose",n))(Sn||{});(e=>{function t(n){switch(n=n.toLowerCase(),n){case"off":return 0;case"verbose":return 1;default:return 0}}e.fromString=t})(Sn||={});function es(t){return Object.prototype.toString.call(t)==="[object String]"}var He=class{constructor(e){this.outputChannel=Nn.window.createOutputChannel(e),this.updateConfiguration()}error(e){this.log(e)}info(e){this.log(e)}debug(e){this.log(e)}warning(e){this.log(e)}log(e,n){this.trace===1&&(this.appendLine(`[Log - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.appendLine(He.data2String(n)))}updateConfiguration(){this.trace=this.readTrace()}appendLine(e=""){return this.outputChannel.appendLine(e)}append(e){return this.outputChannel.append(e)}show(){this.outputChannel.show()}readTrace(){return Sn.fromString(Nn.workspace.getConfiguration().get("restructuredtext.trace","off"))}static data2String(e){return e instanceof Error?es(e.stack)?e.stack:e.message:es(e)?e:JSON.stringify(e,void 0,2)}async logPlatform(){try{let n=await Qo().getInfo();this.log(`OS: ${n.osInfo?.platform||"unknown"} ${n.osInfo?.distro||""} ${n.osInfo?.release||""} ${n.osInfo?.arch||""}`)}catch(e){this.log(`Failed to get platform info: ${e}`)}}};He=gt([ot()],He);l();l();var st=Z(k("vscode"));var bt=class{constructor(e,n){this.logger=e;this.configuration=n;this.version=null;this.ready=!1}isReady(){return this.ready}async setup(e){await this.checkPython(e)&&(this.ready=!0)}async checkPython(e,n=!0){let r=await this.configuration.getPythonPath(e);return r&&(this.pythonPath=`"${r}"`,await this.getVersion())?!0:(this.logger.error("Cannot find Python."),n&&(this.logger.log("Please review Python installation on this machine before using this extension."),this.logger.log("You can learn more from https://docs.restructuredtext.net/articles/prerequisites.html#install-python-for-most-features"),this.logger.show()),!1)}async installDoc8(){try{await this.exec("-m","pip","install","doc8"),this.logger.info("Finished installing doc8"),st.window.showInformationMessage("The linter doc8 is installed.")}catch{this.logger.error("Failed to install doc8"),st.window.showErrorMessage("Could not install doc8. Please run `pip install doc8` to use this linter, or check your Python path.")}}async checkDoc8Install(){try{return await this.exec("-c",'"import doc8;"'),!0}catch{return!1}}async checkDoc8Version(){try{return await this.exec("-c",'"import doc8; print(doc8.__version__)"')}catch{return"0.0.0"}}async installRstCheck(){try{await this.exec("-m","pip","install","rstcheck"),this.logger.info("Finished installing rstcheck"),st.window.showInformationMessage("The linter rstcheck is installed.")}catch{this.logger.error("Failed to install rstcheck"),st.window.showErrorMessage("Could not install rstcheck. Please run `pip install rstcheck` to use this linter, or check your Python path.")}}async checkRstCheckInstall(){try{return await this.exec("-c",'"import rstcheck;"'),!0}catch{return!1}}async checkRstCheckVersion(){try{return await this.exec("-c",'"from rstcheck import __version__; print(__version__.__version__)"')}catch{try{return await this.exec("-c",'"import rstcheck; print(rstcheck.__version__)"')}catch{return"0.0.0"}}}async installRstLint(){try{await this.exec("-m","pip","install","restructuredtext_lint"),this.logger.info("Finished installing restructuredtext_lint"),st.window.showInformationMessage("The linter restructuredtext_lint is installed.")}catch{this.logger.error("Failed to install restructuredtext_lint"),st.window.showErrorMessage("Could not install restructuredtext_lint. Please run `pip install restructuredtext_lint` to use this linter, or check your Python path.")}}async checkRstLintInstall(){try{return await this.exec("-c",'"import restructuredtext_lint;"'),!0}catch{return!1}}async getVersion(){if(this.version!==null)return!0;try{let e=await this.exec("-c",'"import sys; print(sys.version_info[0])"');switch(Number.parseInt(e)){case 2:return this.version=2,!0;case 3:return this.version=3,!0}}catch{}return!1}exec(...e){let n=[this.pythonPath,...e];return new Promise((r,i)=>{if(this.logger.info(`Running cmd: ${this.pythonPath} ${e.join(" ")}`),typeof void 0!="function"){i("cp.exec is undefined");return}(void 0)(n.join(" "),(o,s,a)=>{if(o){let c=[o.name,o.message,o.stack,"",a.toString()].join(`
`);this.logger.error(c),i(c)}else this.logger.info("Successful exec"),r(s.toString())})})}};bt=gt([ot(),cn(0,bn(M.Logger)),cn(0,Pr(Tt.Main)),cn(1,bn(M.Configuration))],bt);l();var Bn=Z(k("vscode"));var Me=k("vscode");l();l();var kg=k("vscode"),Fl,Kt;function ts(t){Fl=t}function ns(t,e){return Kt?Kt.get(t,e):e}function rs(t,e){if(Kt)return Kt.update(t,e)}function is(t){Kt=t}var Xe=k("vscode"),ss="WORKSPACE_IS_TRUSTED_KEY",kr=["linter.doc8.executablePath","linter.rstcheck.executablePath","linter.rst-lint.executablePath"];async function as(t){let e=ns(ss,!1);if(e!==Rn.workspaceIsTrusted()&&Rn.toggleWorkspaceIsTrusted(),t.subscriptions.push(Xe.commands.registerCommand("restructuredtext.workspace.isTrusted.toggle",os)),e)return;let n=Al(Xe.workspace.getConfiguration("restructuredtext"),kr);if(n.length===0)return;let r=n.map(o=>`"restructuredtext.${o}"`).join(",");switch(await Xe.window.showWarningMessage(`Some workspace/folder-level settings (${r}) from the untrusted workspace are disabled by default. If this workspace is trusted, explicitly enable the workspace/folder-level settings by running the "reStructuredText: Toggle Workspace Trust Flag" command.`,"OK","Trust This Workspace","More Info")){case"Trust This Workspace":await os();break;case"More Info":Xe.env.openExternal(Xe.Uri.parse("https://docs.restructuredtext.net/articles/configuration.html#security"));break;default:break}}function Al(t,e){return e.filter(n=>{let r=t.inspect(n);return r.workspaceValue!==void 0||r.workspaceFolderValue!==void 0})}async function os(){let t=Rn.toggleWorkspaceIsTrusted();await rs(ss,t)}var $r=class{constructor(e=!1,n=Xe.workspace.getConfiguration){this._workspaceIsTrusted=e;this.getConfiguration=n}toggleWorkspaceIsTrusted(){return this._workspaceIsTrusted=!this._workspaceIsTrusted,this._workspaceIsTrusted}get(e,n){let r=this.getConfiguration(e,n);return e!=="restructuredtext"||this._workspaceIsTrusted?r:new Ur(r)}workspaceIsTrusted(){return this._workspaceIsTrusted}},Rn=new $r;var Ur=class{constructor(e){this._wrapped=e;let n=Object.getOwnPropertyDescriptors(e);for(let r in n)if(typeof r=="string"&&!["get","has","inspect","update","_wrapped"].includes(r)){let i=n[r];if(kr.includes(r)){let o=this._wrapped.inspect(r);i.value=o.globalValue??o.defaultValue}Object.defineProperty(this,r,n[r])}}get(e,n){if(kr.includes(e)){let r=this._wrapped.inspect(e);return r.globalValue??n??r.defaultValue}return this._wrapped.get(e,n)}has(e){return this._wrapped.has(e)}inspect(e){return this._wrapped.inspect(e)}update(e,n,r,i){return this._wrapped.update(e,n,r,i)}};function In(t,e){return e||(Xe.window.activeTextEditor?e=Xe.window.activeTextEditor.document.uri:e=null),Rn.get(t,e)}var Gg=h.env.CLOUD_SHELL==="true"||h.env.CODESPACES==="true";l();var _t=class{static{this.python="python"}};var Nt=class{getConflictingExtensions(e){return this.loadAnySetting("conflictingExtensions",void 0,e)}getRecommendedExtensions(e){return this.loadAnySetting("recommendedExtensions",void 0,e)}getDoc8Path(e){return this.loadSetting("linter.doc8.executablePath",void 0,e)}getDoc8ExtraArgs(e){return this.loadAnySetting("linter.doc8.extraArgs",void 0,e)}getRstCheckPath(e){return this.loadSetting("linter.rstcheck.executablePath",void 0,e)}getRstCheckExtraArgs(e){return this.loadAnySetting("linter.rstcheck.extraArgs",void 0,e)}getRstLintPath(e){return this.loadSetting("linter.rst-lint.executablePath",void 0,e)}getRstLintExtraArgs(e){return this.loadAnySetting("linter.rst-lint.extraArgs",void 0,e)}getTelemetryDisabled(e){return this.loadAnySetting("telemetry.disabled",!1,e)}getRunType(e){return this.loadAnySetting("linter.run","onType",e)}async getPythonPath(e){try{let n=extensions.getExtension("ms-python.python");return n?n.packageJSON?.featureFlags?.usingNewInterpreterStorage?(n.isActive||await n.activate(),n.exports.settings.getExecutionDetails(e).execCommand[0]):this.getConfiguration("python",e).get("pythonPath")??_t.python:_t.python}catch{return _t.python}}getConfiguration(e,n){return n?Me.workspace.getConfiguration(e,n):Me.workspace.getConfiguration(e)}getLinterDisabled(e){return this.loadAnySetting("linter.disabledLinters",[],e)}getTableEditorDisabled(e){return this.loadAnySetting("editor.tableEditor.disabled",!1,e)}getTableEditorReformatDisabled(e){return this.loadAnySetting("editor.tableEditor.reformat.disabled",!1,e)}getAdornments(e){return this.loadAnySetting("editor.sectionEditor.adornments","#*=-^\"'`:.~_+",e)}getPythonRecommendationDisabled(e){return this.loadAnySetting("pythonRecommendation.disabled",!1,e)}async setPythonRecommendationDisabled(e){await this.saveAnySetting("pythonRecommendation.disabled",!0,e)}resolveConfigPath(e){return Pi(e)}isFeatureSupported(e){return!(Bn.env.uiKind===Bn.UIKind.Web&&["fileWatcher","externalProcess","localFileSystem"].includes(e))}loadAnySetting(e,n,r,i="restructuredtext"){return n?In(i,r).get(e,n):In(i,r).get(e)}async saveAnySetting(e,n,r,i="restructuredtext"){if(Me.workspace.workspaceFolders)return await In(i,r).update(e,n),n}loadSetting(e,n,r,i=!0,o="restructuredtext"){let s=this.loadAnySetting(e,n,r,o);return i&&s?this.expandMacro(s,r):s}expandMacro(e,n){if(e.indexOf("${")===-1)return e;let r;if(e.indexOf("${env:")>-1?r=e.replace(/\$\{env:(.+)\}/,(i,o)=>h.env[o]??""):r=e,r.indexOf("${")>-1){let i=this.getRootPath(n);if(i)return r.replace("${workspaceRoot}",i).replace("${workspaceFolder}",i)}return r}getRootPath(e){if(!Me.workspace.workspaceFolders)return Me.workspace.rootPath??(e?fr(e.fsPath):void 0);let n;if(Me.workspace.workspaceFolders.length===1)n=Me.workspace.workspaceFolders[0];else{if(!e)return;n=Me.workspace.getWorkspaceFolder(e)}return n?.uri.fsPath}};Nt=gt([ot()],Nt);var Ln=new Lr,yl=new He("reStructuredText");Ln.bind(M.Logger).toConstantValue(yl).whenTargetNamed(Tt.Main);Ln.bind(M.Configuration).to(Nt).inSingletonScope();Ln.bind(M.Python).to(bt).inSingletonScope();var Q=Ln;var Ce=class{constructor(e){this.editor=e,this.tableLineNumbers=fe(this.editor),this.tableRange=this._tableRange(),this.selectedCellPosition=this.selectedCellColumn()}async reformat(){if(Q.get(M.Configuration).getTableEditorReformatDisabled())return;this.tableLineNumbers=fe(this.editor);let n=this._getCellContents(),r=this._hasHeader(),i=this._generateTableString(n,r),o={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(s=>{let a=this._tableRange();s.replace(a,i)},o)}async createEmptyGrid(){let[e,n]=gn(this.editor),r=await $.window.showQuickPick(["With Header","Without Header"]);if(!r)return;let i=r==="With Header";i&&(e+=1);let o=new Array(n).fill(""),s=new Array(e).fill(o),a=this._generateTableString(s,i),c=this.editor.selection.start.line,u=this.editor.document.lineAt(c).range,p={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(D=>{D.replace(u,a)},p);let d=new $.Position(c+1,2);this.editor.selection=new $.Selection(d,d)}async dataToTable(){if(this.editor.selection.isEmpty)return;let e=this.editor.selection,n=new $.Position(e.start.line,0),r=e.end.line,i=this.editor.document.lineAt(r).range.end.character,o=new $.Position(r,i),a=this.editor.document.getText(new $.Range(n,o)).split(/\r\n|\r|\n/),c=[];for(let w=0;w<a.length;w++){let ie=a[w].split(",");c.push([]);for(let oe=0;oe<ie.length;oe++){let X=ie[oe];X=X.trim(),X=X.replace(/(\s)\s*/g,"$1"),c[w].push(X)}}let u=await $.window.showQuickPick(["With Header","Without Header"]);if(!u)return;let p=u==="With Header",d=this._generateTableString(c,p),D={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(w=>{w.replace(new $.Range(n,o),d)},D);let g=new $.Position(n.line+1,2);this.editor.selection=new $.Selection(g,g)}_generateTableString(e,n){let r=[];for(let a=0;a<e.length;a++)for(let c=0;c<e[a].length;c++){c>r.length-1&&r.push(3);let p=e[a][c].split(/\r\n|\r|\n/);for(let d=0;d<p.length;d++){let D=p[d],g=Dn(D);p.length>1&&(g-=1),r[c]=Math.max(r[c],g)}}let i="",o="";for(let a=0;a<r.length;a++){let c=r[a]+2;i+=`+${"-".repeat(c)}`,o+=`+${"=".repeat(c)}`}i+="+",o+="+";let s=[];for(let a=0;a<e.length;a++){a===0&&s.push(i);let c=[],u=e[a];for(let p=0;p<u.length;p++){let D=u[p].split(/\r\n|\r|\n/);if(p===0)for(let g=0;g<D.length;g++)c.push([]);for(let g=0;g<D.length;g++){let w=D[g];c[g].push(w)}}for(let p=0;p<c.length;p++){let d="",D=c[p];for(let g=0;g<r.length;g++){let w=r[g],O=D[g];if(g<D.length){let ie=Dn(O),oe=`${" ".repeat(w-ie+1)}`;c.length>1?d+=`|${O}${oe} `:d+=`| ${O}${oe}`}else d+=`|${" ".repeat(w+2)}`}d+="|",s.push(d)}a===0&&n?s.push(o):s.push(i)}return s.join(`
`)}_hasHeader(){if(!this.tableLineNumbers)return!1;let e=/^\+=(=|\+)+=\+$/;for(let n=0;n<this.tableLineNumbers.length;n++){let r=this.tableLineNumbers[n],i=this.editor.document.lineAt(r).text;if(i=i.trim(),e.exec(i))return!0}return!1}_getCellContents(){if(!this.tableLineNumbers)return[];let e=/^(\+)?\|.+\|(\+)?$/,n=/(?<=\|(\+|-)?([<>^v])*) (?<content>([^|]|(\*\|\*)|(`\|`))*?) (?=([<>^v])*(\+|-)?\|)/g,r,i=[];for(let o=0;o<this.tableLineNumbers.length;o++){let s=this.tableLineNumbers[o],a=this.editor.document.lineAt(s).text;if(a=a.trim(),!e.exec(a)){r=void 0;continue}r!=="contents"&&i.push([]);let u=0,p;for(;p=n.exec(a);){if(!p?.groups)continue;let d=p.groups.content;if(d=d.trim(),d=d.replace(/(\s)\s*/g,"$1"),r!=="contents")i[i.length-1].push(d);else{let D=i[i.length-1][u];D?D.startsWith("|")||(D=`| ${D}`):D="| ",i[i.length-1][u]=`${D}
| ${d}`,u+=1}}r="contents"}return i}_tableRange(){if(this.tableLineNumbers){let e=new $.Position(this.tableLineNumbers[0],0),n=this.tableLineNumbers[this.tableLineNumbers.length-1],r=this.editor.document.lineAt(n).range.end.character,i=new $.Position(n,r);return new $.Range(e,i)}else{let e=new $.Position(0,0),n=new $.Position(0,0);return new $.Range(e,n)}}isSelectedFirstGrid(){let e=this.editor.selection.start.line,r=this._tableRange().start.line;return e===r}isSelectedLastGrid(){let e=this.editor.selection.end.line,r=this._tableRange().end.line;return e===r}selectedCellColumn(){let e=this.editor.selection.start.line,n=this.editor.selection.start.character,r=this.editor.document.lineAt(e).text,i=/^\+?\|.+\|\+?$/,o=/(?<=\|)(?<cell>(\+|-)?([<>v^])* .*? ([<>v^])*(\+|-)?)(?=\|)/g,s=-1,a=-1;if(!i.exec(r)||!this.tableLineNumbers)return{line:e,column:s,row:a};let c;for(;c=o.exec(r);){if(!c?.groups)continue;s+=1;let d=c.index,D=c.groups.cell,g=d+D.length;if(n<=g)break}let u;for(let d=0;d<this.tableLineNumbers.length;d++){let D=this.tableLineNumbers[d],g=this.editor.document.lineAt(D).text;if(!i.exec(g)){u=void 0;continue}if(u||(a+=1,u="contents"),D>=e)break}return{line:e,column:s,row:a}}selectCellContent(e,n,r){if(!this.tableLineNumbers)return;let i=e.line,o=e.row,s=e.column;o===-1&&(o=0),s===-1&&(s=0);let a=i;n==="top"?(a-=1,o-=1):n==="buttom"?(a+=1,o+=1):n==="right"?s+=1:n==="left"&&(s-=1);let c="",u=/^\|.+\|$/;if(r==="cellIndex"){let Ie=-1,et;for(let Mt=0;Mt<this.tableLineNumbers.length;Mt++){let un=this.tableLineNumbers[Mt],ur=this.editor.document.lineAt(un).text;if(!u.exec(ur)){et=void 0;continue}if(et||(Ie+=1,et="contents"),Ie>=o){i=un;break}}c=this.editor.document.lineAt(i).text}else{let Ie=!1;if(n==="top"||n==="buttom")for(;this.tableLineNumbers.includes(a);)if(c=this.editor.document.lineAt(a).text,!u.exec(c))n==="top"?a-=1:n==="buttom"&&(a+=1);else{Ie=!0,i=a;break}Ie||(c=this.editor.document.lineAt(i).text)}let p=/(?<=\|)(?<cell> ([^|]|(\*\|\*)|(`\|`))* )(?=\|)/g,d=0,D;for(;(D=p.exec(c))&&!(d>=s);)d+=1;if(!D?.groups)return;let g=D.index,w=D.groups.cell,O=/^(\s+)$/,ie=/^(\s*)(.*?)\s*$/,oe=O.exec(w),X=ie.exec(w),Qe=0,Ot=0;if(oe)Qe=g+1,Ot=Qe;else if(X){let Ie=X[1],et=X[2];Qe=g+X.index+Ie.length,Ot=Qe+et.length}let sr=new $.Position(i,Qe),ar=new $.Position(i,Ot);this.editor.selection=new $.Selection(sr,ar)}async selectionChange(e){await this.reformat(),this.selectCellContent(this.selectedCellPosition,e)}async addNewLine(){let e=this.editor.selection.start.line,n=this.editor.document.lineAt(e),r=n.text,i=n.range.end,o=/(?<=\|)( .*? )(?=\|)/g,a=`
${r.replace(o,"   ")}`,c={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(u=>{u.replace(i,a)},c),await this.reformat(),this.selectCellContent(this.selectedCellPosition,"buttom")}async addRow(){if(!this.tableLineNumbers)return;let e=this.editor.selection.start.line,n=this.tableLineNumbers.indexOf(e);if(n===-1)return;n===0&&(n+=1);let r=/^\+(-|=)(\1|\+)+\1\+$/,i=n;for(let u=n;u<this.tableLineNumbers.length;u++){let p=this.tableLineNumbers[u],d=this.editor.document.lineAt(p).text;if(r.exec(d)){i=this.tableLineNumbers[u];break}}let o=this._getCellContents(),s=this._hasHeader(),a=this.selectedCellPosition.row+1;o.splice(a,0,[""]);let c={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(u=>{let p=this._generateTableString(o,s),d=this._tableRange();u.replace(d,p)},c),this.tableLineNumbers=fe(this.editor),this.selectedCellPosition.column=0,this.selectedCellPosition.line=i,this.selectCellContent(this.selectedCellPosition,"buttom","cellIndex")}async removeRow(){await this.reformat(),this.selectCellContent(this.selectedCellPosition)}async moveRow(e){if(!this.tableLineNumbers)return;let n=this._getNumberOfTimesToMove(e),r=this._getCellContents(),i=this._hasHeader(),o=this.selectedCellPosition.row,s=o+n;s<0?s=0:s>r.length-1&&(s=r.length-1);let a=r[o];r.splice(o,1),r.splice(s,0,a);let c={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(u=>{let p=this._generateTableString(r,i),d=this._tableRange();u.replace(d,p)},c),this.selectedCellPosition.row=s,this.selectCellContent(this.selectedCellPosition)}async addColumn(){if(!this.tableLineNumbers)return;let e=Ve(),n=this.editor.selection.start.line,r=this.editor.document.lineAt(n).text,i=/(?<=\|)(\+?)( .*? )(\+?)(?=\|)/g,o,s;for(;o=i.exec(r);)if(o[3]){s=o[3];break}let a=this._getCellContents(),c=this._hasHeader(),u=[];for(let D=0;D<a.length;D++){u.push(0);let g=a[D];for(let w=0;w<g.length;w++){let ie=g[w].split(/\r\n|\r|\n/).length;u[D]=Math.max(u[D],ie)}}let p=this.selectedCellPosition.column;(s||e)&&(p+=1);for(let D=0;D<a.length;D++){let g=a[D];u[D]>1?g.splice(p,0,`${`
`.repeat(u[D]-1)}`):g.splice(p,0,"")}let d={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(D=>{let g=this._generateTableString(a,c),w=this._tableRange();D.replace(w,g)},d),r.startsWith("+|")?this.selectedCellPosition.column=0:(s||e)&&(this.selectedCellPosition.column+=1),this.selectCellContent(this.selectedCellPosition)}async removeColumn(){if(!this.tableLineNumbers)return;let e=this._getCellContents(),n=this._hasHeader(),r=this.selectedCellPosition.column;for(let s=0;s<e.length;s++)e[s].splice(r,1);let i={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(s=>{let a=this._generateTableString(e,n),c=this._tableRange();s.replace(c,a)},i),this.selectedCellPosition.column>0?this.selectedCellPosition.column-=1:this.selectedCellPosition.column=0,this.selectCellContent(this.selectedCellPosition)}async moveColumn(e){if(!this.tableLineNumbers)return;let n=this._getNumberOfTimesToMove(e),r=this._getCellContents(),i=this._hasHeader(),o=this.selectedCellPosition.column,s=o+n;s<0?s=0:s>r[0].length-1&&(s=r[0].length-1);for(let c=0;c<r.length;c++){let u=r[c],p=u[o];u.splice(o,1),u.splice(s,0,p)}let a={undoStopBefore:!1,undoStopAfter:!1};await this.editor.edit(c=>{let u=this._generateTableString(r,i),p=this._tableRange();c.replace(p,u)},a),this.selectedCellPosition.column=s,this.selectCellContent(this.selectedCellPosition)}_getNumberOfTimesToMove(e){let n="";e==="top"?n="^":e==="bottom"?n="v":e==="right"?n=">":e==="left"&&(n="<");let r=this.editor.selection.start.line,i=this.editor.document.lineAt(r).text.split(""),o=this.editor.selection.start.character-1,s=0;for(;o>=0&&n===i[o];)s+=1,o-=1;return e==="right"||e==="bottom"?s:-s}};async function cs(){let t=q.window.activeTextEditor;if(t)if(fe(t)){let e=hn(t.document,t.selection.end,-2),n=hn(t.document,t.selection.end,1),r=hn(t.document,t.selection.end,-1),i=new Ce(t);if(i.isSelectedFirstGrid()){let o=t.selection.start.line,s=t.document.lineAt(o).range.start.character,a=new q.Position(o,s);t.selection=new q.Selection(a,a),us();return}else if(i.isSelectedLastGrid()){let o=t.selection.end.line,s=t.document.lineAt(o).range.end.character,a=new q.Position(o,s);t.selection=new q.Selection(a,a),us();return}if(Ve()&&r==="|")i.addRow();else if(e==="|+"||r==="+"&&n==="|")i.addColumn();else if(e==="|-"||r==="-"&&n==="|")if(Ve())i.removeRow();else{let o=/^(-\|)/,s=t.selection.end.line,a=t.document.lineAt(s).text;o.exec(a)?i.removeRow():i.removeColumn()}else e==="|>"||e===">>"||r===">"&&n==="|"?i.moveColumn("right"):e==="|<"||e==="<<"||r==="<"&&n==="|"?i.moveColumn("left"):e==="|^"||e==="^^"||r==="^"&&n==="|"?i.moveRow("top"):e==="|v"||e==="vv"||r==="v"&&n==="|"?i.moveRow("bottom"):i.selectionChange("buttom")}else Ut(t)}async function ls(){let t=q.window.activeTextEditor;t&&(fe(t)?new Ce(t).selectionChange("top"):Ut(t))}async function ps(){let t=q.window.activeTextEditor;t&&fe(t)&&!Ve()&&new Ce(t).addNewLine()}async function ds(){let t=q.window.activeTextEditor;t&&(fe(t)?new Ce(t).selectionChange("right"):Ut(t)?q.commands.executeCommand("editor.action.triggerSuggest"):mn(t)?q.commands.executeCommand("editor.action.triggerSuggest"):q.commands.executeCommand("tab"))}async function fs(){let t=q.window.activeTextEditor;t&&(fe(t)?new Ce(t).selectionChange("left"):Ut(t)||q.commands.executeCommand("outdent"))}async function us(){let t=q.window.activeTextEditor;if(!t)return;let e={undoStopBefore:!1,undoStopAfter:!1};await t.edit(n=>{let r=t.selection.end;n.insert(r,`
`)},e)}l();var gs=Z(Ds()),we=Z(k("vscode")),Pn=class{inputBox(e,n,r){return we.window.showInputBox({prompt:e,placeHolder:n,value:r})}};function xl(t){switch(t){case we.EndOfLine.LF:return`
`;case we.EndOfLine.CRLF:return`\r
`}}var On=class t{constructor(e){this.userInput=e;this.LINK_PATTERN=/\.\.[ ]_\S+:[ ]\S+\n/}static{this.INSERT_LINK="esbonio.insert.link"}static{this.INSERT_INLINE_LINK="esbonio.insert.inlineLink"}async insertLink(e){let n=await this.getLinkInfo(e);if(!n.url||!n.label)return;let r=e.selection,i=xl(e.document.eol),o=e.document.lineAt(e.document.lineCount-1),s=e.document.getText(o.rangeIncludingLineBreak),a="";if(s.length===0){let d=e.document.lineAt(e.document.lineCount-2);s=e.document.getText(d.rangeIncludingLineBreak)}else a=i;this.LINK_PATTERN.test(s)||(a+=i);let c=`\`${n.label}\`_`,u=`${a}.. _${n.label}: ${n.url}${i}`;await e.edit(d=>{d.replace(r,c),d.insert(o.range.end,u)});let p=e.selection.end;e.selection=new we.Selection(p,p)}async insertInlineLink(e){let n=await this.getLinkInfo(e);if(!n.url||!n.label)return;let r=e.selection,i=`\`${n.label} <${n.url}>\`_`;await e.edit(s=>{s.replace(r,i)});let o=e.selection.end;e.selection=new we.Selection(o,o)}register(e){e.subscriptions.push(we.commands.registerTextEditorCommand(t.INSERT_INLINE_LINK,this.insertInlineLink,this)),e.subscriptions.push(we.commands.registerTextEditorCommand(t.INSERT_LINK,this.insertLink,this))}async getLinkInfo(e){let n,r=await this.userInput.inputBox("Link URL","https://..."),i=a=>{let c=a.match(/<title>([^<]*)<\/title>/);if(!c||typeof c[1]!="string")throw new Error("Unable to parse the title tag");return c[1]},o=await(0,gs.default)(r).then(a=>a.text()).then(a=>i(a)).catch(()=>null),s=e.selection;return s.isEmpty?n=await this.userInput.inputBox("Link Text","Link Text",o):n=e.document.getText(s),{label:n,url:r}}};l();var Rt=Z(k("vscode"));l();var Wr=[{start:0,end:31,prop:"N"},{start:32,end:126,prop:"Na"},{start:127,end:160,prop:"N"},{start:161,end:161,prop:"A"},{start:162,end:163,prop:"Na"},{start:164,end:164,prop:"A"},{start:165,end:166,prop:"Na"},{start:167,end:168,prop:"A"},{start:169,end:169,prop:"N"},{start:170,end:170,prop:"A"},{start:171,end:171,prop:"N"},{start:172,end:172,prop:"Na"},{start:173,end:174,prop:"A"},{start:175,end:175,prop:"Na"},{start:176,end:180,prop:"A"},{start:181,end:181,prop:"N"},{start:182,end:186,prop:"A"},{start:187,end:187,prop:"N"},{start:188,end:191,prop:"A"},{start:192,end:197,prop:"N"},{start:198,end:198,prop:"A"},{start:199,end:207,prop:"N"},{start:208,end:208,prop:"A"},{start:209,end:214,prop:"N"},{start:215,end:216,prop:"A"},{start:217,end:221,prop:"N"},{start:222,end:225,prop:"A"},{start:226,end:229,prop:"N"},{start:230,end:230,prop:"A"},{start:231,end:231,prop:"N"},{start:232,end:234,prop:"A"},{start:235,end:235,prop:"N"},{start:236,end:237,prop:"A"},{start:238,end:239,prop:"N"},{start:240,end:240,prop:"A"},{start:241,end:241,prop:"N"},{start:242,end:243,prop:"A"},{start:244,end:246,prop:"N"},{start:247,end:250,prop:"A"},{start:251,end:251,prop:"N"},{start:252,end:252,prop:"A"},{start:253,end:253,prop:"N"},{start:254,end:254,prop:"A"},{start:255,end:256,prop:"N"},{start:257,end:257,prop:"A"},{start:258,end:272,prop:"N"},{start:273,end:273,prop:"A"},{start:274,end:274,prop:"N"},{start:275,end:275,prop:"A"},{start:276,end:282,prop:"N"},{start:283,end:283,prop:"A"},{start:284,end:293,prop:"N"},{start:294,end:295,prop:"A"},{start:296,end:298,prop:"N"},{start:299,end:299,prop:"A"},{start:300,end:304,prop:"N"},{start:305,end:307,prop:"A"},{start:308,end:311,prop:"N"},{start:312,end:312,prop:"A"},{start:313,end:318,prop:"N"},{start:319,end:322,prop:"A"},{start:323,end:323,prop:"N"},{start:324,end:324,prop:"A"},{start:325,end:327,prop:"N"},{start:328,end:331,prop:"A"},{start:332,end:332,prop:"N"},{start:333,end:333,prop:"A"},{start:334,end:337,prop:"N"},{start:338,end:339,prop:"A"},{start:340,end:357,prop:"N"},{start:358,end:359,prop:"A"},{start:360,end:362,prop:"N"},{start:363,end:363,prop:"A"},{start:364,end:461,prop:"N"},{start:462,end:462,prop:"A"},{start:463,end:463,prop:"N"},{start:464,end:464,prop:"A"},{start:465,end:465,prop:"N"},{start:466,end:466,prop:"A"},{start:467,end:467,prop:"N"},{start:468,end:468,prop:"A"},{start:469,end:469,prop:"N"},{start:470,end:470,prop:"A"},{start:471,end:471,prop:"N"},{start:472,end:472,prop:"A"},{start:473,end:473,prop:"N"},{start:474,end:474,prop:"A"},{start:475,end:475,prop:"N"},{start:476,end:476,prop:"A"},{start:477,end:592,prop:"N"},{start:593,end:593,prop:"A"},{start:594,end:608,prop:"N"},{start:609,end:609,prop:"A"},{start:610,end:707,prop:"N"},{start:708,end:708,prop:"A"},{start:709,end:710,prop:"N"},{start:711,end:711,prop:"A"},{start:712,end:712,prop:"N"},{start:713,end:715,prop:"A"},{start:716,end:716,prop:"N"},{start:717,end:717,prop:"A"},{start:718,end:719,prop:"N"},{start:720,end:720,prop:"A"},{start:721,end:727,prop:"N"},{start:728,end:731,prop:"A"},{start:732,end:732,prop:"N"},{start:733,end:733,prop:"A"},{start:734,end:734,prop:"N"},{start:735,end:735,prop:"A"},{start:736,end:767,prop:"N"},{start:768,end:879,prop:"A"},{start:880,end:912,prop:"N"},{start:913,end:929,prop:"A"},{start:930,end:930,prop:"N"},{start:931,end:937,prop:"A"},{start:938,end:944,prop:"N"},{start:945,end:961,prop:"A"},{start:962,end:962,prop:"N"},{start:963,end:969,prop:"A"},{start:970,end:1024,prop:"N"},{start:1025,end:1025,prop:"A"},{start:1026,end:1039,prop:"N"},{start:1040,end:1103,prop:"A"},{start:1104,end:1104,prop:"N"},{start:1105,end:1105,prop:"A"},{start:1106,end:4351,prop:"N"},{start:4352,end:4447,prop:"W"},{start:4448,end:8207,prop:"N"},{start:8208,end:8208,prop:"A"},{start:8209,end:8210,prop:"N"},{start:8211,end:8214,prop:"A"},{start:8215,end:8215,prop:"N"},{start:8216,end:8217,prop:"A"},{start:8218,end:8219,prop:"N"},{start:8220,end:8221,prop:"A"},{start:8222,end:8223,prop:"N"},{start:8224,end:8226,prop:"A"},{start:8227,end:8227,prop:"N"},{start:8228,end:8231,prop:"A"},{start:8232,end:8239,prop:"N"},{start:8240,end:8240,prop:"A"},{start:8241,end:8241,prop:"N"},{start:8242,end:8243,prop:"A"},{start:8244,end:8244,prop:"N"},{start:8245,end:8245,prop:"A"},{start:8246,end:8250,prop:"N"},{start:8251,end:8251,prop:"A"},{start:8252,end:8253,prop:"N"},{start:8254,end:8254,prop:"A"},{start:8255,end:8307,prop:"N"},{start:8308,end:8308,prop:"A"},{start:8309,end:8318,prop:"N"},{start:8319,end:8319,prop:"A"},{start:8320,end:8320,prop:"N"},{start:8321,end:8324,prop:"A"},{start:8325,end:8360,prop:"N"},{start:8361,end:8361,prop:"H"},{start:8362,end:8363,prop:"N"},{start:8364,end:8364,prop:"A"},{start:8365,end:8450,prop:"N"},{start:8451,end:8451,prop:"A"},{start:8452,end:8452,prop:"N"},{start:8453,end:8453,prop:"A"},{start:8454,end:8456,prop:"N"},{start:8457,end:8457,prop:"A"},{start:8458,end:8466,prop:"N"},{start:8467,end:8467,prop:"A"},{start:8468,end:8469,prop:"N"},{start:8470,end:8470,prop:"A"},{start:8471,end:8480,prop:"N"},{start:8481,end:8482,prop:"A"},{start:8483,end:8485,prop:"N"},{start:8486,end:8486,prop:"A"},{start:8487,end:8490,prop:"N"},{start:8491,end:8491,prop:"A"},{start:8492,end:8530,prop:"N"},{start:8531,end:8532,prop:"A"},{start:8533,end:8538,prop:"N"},{start:8539,end:8542,prop:"A"},{start:8543,end:8543,prop:"N"},{start:8544,end:8555,prop:"A"},{start:8556,end:8559,prop:"N"},{start:8560,end:8569,prop:"A"},{start:8570,end:8584,prop:"N"},{start:8585,end:8585,prop:"A"},{start:8586,end:8591,prop:"N"},{start:8592,end:8601,prop:"A"},{start:8602,end:8631,prop:"N"},{start:8632,end:8633,prop:"A"},{start:8634,end:8657,prop:"N"},{start:8658,end:8658,prop:"A"},{start:8659,end:8659,prop:"N"},{start:8660,end:8660,prop:"A"},{start:8661,end:8678,prop:"N"},{start:8679,end:8679,prop:"A"},{start:8680,end:8703,prop:"N"},{start:8704,end:8704,prop:"A"},{start:8705,end:8705,prop:"N"},{start:8706,end:8707,prop:"A"},{start:8708,end:8710,prop:"N"},{start:8711,end:8712,prop:"A"},{start:8713,end:8714,prop:"N"},{start:8715,end:8715,prop:"A"},{start:8716,end:8718,prop:"N"},{start:8719,end:8719,prop:"A"},{start:8720,end:8720,prop:"N"},{start:8721,end:8721,prop:"A"},{start:8722,end:8724,prop:"N"},{start:8725,end:8725,prop:"A"},{start:8726,end:8729,prop:"N"},{start:8730,end:8730,prop:"A"},{start:8731,end:8732,prop:"N"},{start:8733,end:8736,prop:"A"},{start:8737,end:8738,prop:"N"},{start:8739,end:8739,prop:"A"},{start:8740,end:8740,prop:"N"},{start:8741,end:8741,prop:"A"},{start:8742,end:8742,prop:"N"},{start:8743,end:8748,prop:"A"},{start:8749,end:8749,prop:"N"},{start:8750,end:8750,prop:"A"},{start:8751,end:8755,prop:"N"},{start:8756,end:8759,prop:"A"},{start:8760,end:8763,prop:"N"},{start:8764,end:8765,prop:"A"},{start:8766,end:8775,prop:"N"},{start:8776,end:8776,prop:"A"},{start:8777,end:8779,prop:"N"},{start:8780,end:8780,prop:"A"},{start:8781,end:8785,prop:"N"},{start:8786,end:8786,prop:"A"},{start:8787,end:8799,prop:"N"},{start:8800,end:8801,prop:"A"},{start:8802,end:8803,prop:"N"},{start:8804,end:8807,prop:"A"},{start:8808,end:8809,prop:"N"},{start:8810,end:8811,prop:"A"},{start:8812,end:8813,prop:"N"},{start:8814,end:8815,prop:"A"},{start:8816,end:8833,prop:"N"},{start:8834,end:8835,prop:"A"},{start:8836,end:8837,prop:"N"},{start:8838,end:8839,prop:"A"},{start:8840,end:8852,prop:"N"},{start:8853,end:8853,prop:"A"},{start:8854,end:8856,prop:"N"},{start:8857,end:8857,prop:"A"},{start:8858,end:8868,prop:"N"},{start:8869,end:8869,prop:"A"},{start:8870,end:8894,prop:"N"},{start:8895,end:8895,prop:"A"},{start:8896,end:8977,prop:"N"},{start:8978,end:8978,prop:"A"},{start:8979,end:8985,prop:"N"},{start:8986,end:8987,prop:"W"},{start:8988,end:9e3,prop:"N"},{start:9001,end:9002,prop:"W"},{start:9003,end:9192,prop:"N"},{start:9193,end:9196,prop:"W"},{start:9197,end:9199,prop:"N"},{start:9200,end:9200,prop:"W"},{start:9201,end:9202,prop:"N"},{start:9203,end:9203,prop:"W"},{start:9204,end:9311,prop:"N"},{start:9312,end:9449,prop:"A"},{start:9450,end:9450,prop:"N"},{start:9451,end:9547,prop:"A"},{start:9548,end:9551,prop:"N"},{start:9552,end:9587,prop:"A"},{start:9588,end:9599,prop:"N"},{start:9600,end:9615,prop:"A"},{start:9616,end:9617,prop:"N"},{start:9618,end:9621,prop:"A"},{start:9622,end:9631,prop:"N"},{start:9632,end:9633,prop:"A"},{start:9634,end:9634,prop:"N"},{start:9635,end:9641,prop:"A"},{start:9642,end:9649,prop:"N"},{start:9650,end:9651,prop:"A"},{start:9652,end:9653,prop:"N"},{start:9654,end:9655,prop:"A"},{start:9656,end:9659,prop:"N"},{start:9660,end:9661,prop:"A"},{start:9662,end:9663,prop:"N"},{start:9664,end:9665,prop:"A"},{start:9666,end:9669,prop:"N"},{start:9670,end:9672,prop:"A"},{start:9673,end:9674,prop:"N"},{start:9675,end:9675,prop:"A"},{start:9676,end:9677,prop:"N"},{start:9678,end:9681,prop:"A"},{start:9682,end:9697,prop:"N"},{start:9698,end:9701,prop:"A"},{start:9702,end:9710,prop:"N"},{start:9711,end:9711,prop:"A"},{start:9712,end:9724,prop:"N"},{start:9725,end:9726,prop:"W"},{start:9727,end:9732,prop:"N"},{start:9733,end:9734,prop:"A"},{start:9735,end:9736,prop:"N"},{start:9737,end:9737,prop:"A"},{start:9738,end:9741,prop:"N"},{start:9742,end:9743,prop:"A"},{start:9744,end:9747,prop:"N"},{start:9748,end:9749,prop:"W"},{start:9750,end:9755,prop:"N"},{start:9756,end:9756,prop:"A"},{start:9757,end:9757,prop:"N"},{start:9758,end:9758,prop:"A"},{start:9759,end:9791,prop:"N"},{start:9792,end:9792,prop:"A"},{start:9793,end:9793,prop:"N"},{start:9794,end:9794,prop:"A"},{start:9795,end:9799,prop:"N"},{start:9800,end:9811,prop:"W"},{start:9812,end:9823,prop:"N"},{start:9824,end:9825,prop:"A"},{start:9826,end:9826,prop:"N"},{start:9827,end:9829,prop:"A"},{start:9830,end:9830,prop:"N"},{start:9831,end:9834,prop:"A"},{start:9835,end:9835,prop:"N"},{start:9836,end:9837,prop:"A"},{start:9838,end:9838,prop:"N"},{start:9839,end:9839,prop:"A"},{start:9840,end:9854,prop:"N"},{start:9855,end:9855,prop:"W"},{start:9856,end:9874,prop:"N"},{start:9875,end:9875,prop:"W"},{start:9876,end:9885,prop:"N"},{start:9886,end:9887,prop:"A"},{start:9888,end:9888,prop:"N"},{start:9889,end:9889,prop:"W"},{start:9890,end:9897,prop:"N"},{start:9898,end:9899,prop:"W"},{start:9900,end:9916,prop:"N"},{start:9917,end:9918,prop:"W"},{start:9919,end:9919,prop:"A"},{start:9920,end:9923,prop:"N"},{start:9924,end:9925,prop:"W"},{start:9926,end:9933,prop:"A"},{start:9934,end:9934,prop:"W"},{start:9935,end:9939,prop:"A"},{start:9940,end:9940,prop:"W"},{start:9941,end:9953,prop:"A"},{start:9954,end:9954,prop:"N"},{start:9955,end:9955,prop:"A"},{start:9956,end:9959,prop:"N"},{start:9960,end:9961,prop:"A"},{start:9962,end:9962,prop:"W"},{start:9963,end:9969,prop:"A"},{start:9970,end:9971,prop:"W"},{start:9972,end:9972,prop:"A"},{start:9973,end:9973,prop:"W"},{start:9974,end:9977,prop:"A"},{start:9978,end:9978,prop:"W"},{start:9979,end:9980,prop:"A"},{start:9981,end:9981,prop:"W"},{start:9982,end:9983,prop:"A"},{start:9984,end:9988,prop:"N"},{start:9989,end:9989,prop:"W"},{start:9990,end:9993,prop:"N"},{start:9994,end:9995,prop:"W"},{start:9996,end:10023,prop:"N"},{start:10024,end:10024,prop:"W"},{start:10025,end:10044,prop:"N"},{start:10045,end:10045,prop:"A"},{start:10046,end:10059,prop:"N"},{start:10060,end:10060,prop:"W"},{start:10061,end:10061,prop:"N"},{start:10062,end:10062,prop:"W"},{start:10063,end:10066,prop:"N"},{start:10067,end:10069,prop:"W"},{start:10070,end:10070,prop:"N"},{start:10071,end:10071,prop:"W"},{start:10072,end:10101,prop:"N"},{start:10102,end:10111,prop:"A"},{start:10112,end:10132,prop:"N"},{start:10133,end:10135,prop:"W"},{start:10136,end:10159,prop:"N"},{start:10160,end:10160,prop:"W"},{start:10161,end:10174,prop:"N"},{start:10175,end:10175,prop:"W"},{start:10176,end:10213,prop:"N"},{start:10214,end:10221,prop:"Na"},{start:10222,end:10628,prop:"N"},{start:10629,end:10630,prop:"Na"},{start:10631,end:11034,prop:"N"},{start:11035,end:11036,prop:"W"},{start:11037,end:11087,prop:"N"},{start:11088,end:11088,prop:"W"},{start:11089,end:11092,prop:"N"},{start:11093,end:11093,prop:"W"},{start:11094,end:11097,prop:"A"},{start:11098,end:11903,prop:"N"},{start:11904,end:11929,prop:"W"},{start:11930,end:11930,prop:"N"},{start:11931,end:12019,prop:"W"},{start:12020,end:12031,prop:"N"},{start:12032,end:12245,prop:"W"},{start:12246,end:12271,prop:"N"},{start:12272,end:12283,prop:"W"},{start:12284,end:12287,prop:"N"},{start:12288,end:12288,prop:"F"},{start:12289,end:12350,prop:"W"},{start:12351,end:12352,prop:"N"},{start:12353,end:12438,prop:"W"},{start:12439,end:12440,prop:"N"},{start:12441,end:12543,prop:"W"},{start:12544,end:12548,prop:"N"},{start:12549,end:12591,prop:"W"},{start:12592,end:12592,prop:"N"},{start:12593,end:12686,prop:"W"},{start:12687,end:12687,prop:"N"},{start:12688,end:12730,prop:"W"},{start:12731,end:12735,prop:"N"},{start:12736,end:12771,prop:"W"},{start:12772,end:12783,prop:"N"},{start:12784,end:12830,prop:"W"},{start:12831,end:12831,prop:"N"},{start:12832,end:12871,prop:"W"},{start:12872,end:12879,prop:"A"},{start:12880,end:19903,prop:"W"},{start:19904,end:19967,prop:"N"},{start:19968,end:42124,prop:"W"},{start:42125,end:42127,prop:"N"},{start:42128,end:42182,prop:"W"},{start:42183,end:43359,prop:"N"},{start:43360,end:43388,prop:"W"},{start:43389,end:44031,prop:"N"},{start:44032,end:55203,prop:"W"},{start:55204,end:57343,prop:"N"},{start:57344,end:63743,prop:"A"},{start:63744,end:64255,prop:"W"},{start:64256,end:65023,prop:"N"},{start:65024,end:65039,prop:"A"},{start:65040,end:65049,prop:"W"},{start:65050,end:65071,prop:"N"},{start:65072,end:65106,prop:"W"},{start:65107,end:65107,prop:"N"},{start:65108,end:65126,prop:"W"},{start:65127,end:65127,prop:"N"},{start:65128,end:65131,prop:"W"},{start:65132,end:65280,prop:"N"},{start:65281,end:65376,prop:"F"},{start:65377,end:65470,prop:"H"},{start:65471,end:65473,prop:"N"},{start:65474,end:65479,prop:"H"},{start:65480,end:65481,prop:"N"},{start:65482,end:65487,prop:"H"},{start:65488,end:65489,prop:"N"},{start:65490,end:65495,prop:"H"},{start:65496,end:65497,prop:"N"},{start:65498,end:65500,prop:"H"},{start:65501,end:65503,prop:"N"},{start:65504,end:65510,prop:"F"},{start:65511,end:65511,prop:"N"},{start:65512,end:65518,prop:"H"},{start:65519,end:65532,prop:"N"},{start:65533,end:65533,prop:"A"},{start:65534,end:94175,prop:"N"},{start:94176,end:94179,prop:"W"},{start:94180,end:94207,prop:"N"},{start:94208,end:100343,prop:"W"},{start:100344,end:100351,prop:"N"},{start:100352,end:101106,prop:"W"},{start:101107,end:110591,prop:"N"},{start:110592,end:110878,prop:"W"},{start:110879,end:110927,prop:"N"},{start:110928,end:110930,prop:"W"},{start:110931,end:110947,prop:"N"},{start:110948,end:110951,prop:"W"},{start:110952,end:110959,prop:"N"},{start:110960,end:111355,prop:"W"},{start:111356,end:126979,prop:"N"},{start:126980,end:126980,prop:"W"},{start:126981,end:127182,prop:"N"},{start:127183,end:127183,prop:"W"},{start:127184,end:127231,prop:"N"},{start:127232,end:127242,prop:"A"},{start:127243,end:127247,prop:"N"},{start:127248,end:127277,prop:"A"},{start:127278,end:127279,prop:"N"},{start:127280,end:127337,prop:"A"},{start:127338,end:127343,prop:"N"},{start:127344,end:127373,prop:"A"},{start:127374,end:127374,prop:"W"},{start:127375,end:127376,prop:"A"},{start:127377,end:127386,prop:"W"},{start:127387,end:127404,prop:"A"},{start:127405,end:127487,prop:"N"},{start:127488,end:127490,prop:"W"},{start:127491,end:127503,prop:"N"},{start:127504,end:127547,prop:"W"},{start:127548,end:127551,prop:"N"},{start:127552,end:127560,prop:"W"},{start:127561,end:127567,prop:"N"},{start:127568,end:127569,prop:"W"},{start:127570,end:127583,prop:"N"},{start:127584,end:127589,prop:"W"},{start:127590,end:127743,prop:"N"},{start:127744,end:127776,prop:"W"},{start:127777,end:127788,prop:"N"},{start:127789,end:127797,prop:"W"},{start:127798,end:127798,prop:"N"},{start:127799,end:127868,prop:"W"},{start:127869,end:127869,prop:"N"},{start:127870,end:127891,prop:"W"},{start:127892,end:127903,prop:"N"},{start:127904,end:127946,prop:"W"},{start:127947,end:127950,prop:"N"},{start:127951,end:127955,prop:"W"},{start:127956,end:127967,prop:"N"},{start:127968,end:127984,prop:"W"},{start:127985,end:127987,prop:"N"},{start:127988,end:127988,prop:"W"},{start:127989,end:127991,prop:"N"},{start:127992,end:128062,prop:"W"},{start:128063,end:128063,prop:"N"},{start:128064,end:128064,prop:"W"},{start:128065,end:128065,prop:"N"},{start:128066,end:128252,prop:"W"},{start:128253,end:128254,prop:"N"},{start:128255,end:128317,prop:"W"},{start:128318,end:128330,prop:"N"},{start:128331,end:128334,prop:"W"},{start:128335,end:128335,prop:"N"},{start:128336,end:128359,prop:"W"},{start:128360,end:128377,prop:"N"},{start:128378,end:128378,prop:"W"},{start:128379,end:128404,prop:"N"},{start:128405,end:128406,prop:"W"},{start:128407,end:128419,prop:"N"},{start:128420,end:128420,prop:"W"},{start:128421,end:128506,prop:"N"},{start:128507,end:128591,prop:"W"},{start:128592,end:128639,prop:"N"},{start:128640,end:128709,prop:"W"},{start:128710,end:128715,prop:"N"},{start:128716,end:128716,prop:"W"},{start:128717,end:128719,prop:"N"},{start:128720,end:128722,prop:"W"},{start:128723,end:128724,prop:"N"},{start:128725,end:128725,prop:"W"},{start:128726,end:128746,prop:"N"},{start:128747,end:128748,prop:"W"},{start:128749,end:128755,prop:"N"},{start:128756,end:128762,prop:"W"},{start:128763,end:128991,prop:"N"},{start:128992,end:129003,prop:"W"},{start:129004,end:129292,prop:"N"},{start:129293,end:129393,prop:"W"},{start:129394,end:129394,prop:"N"},{start:129395,end:129398,prop:"W"},{start:129399,end:129401,prop:"N"},{start:129402,end:129442,prop:"W"},{start:129443,end:129444,prop:"N"},{start:129445,end:129450,prop:"W"},{start:129451,end:129453,prop:"N"},{start:129454,end:129482,prop:"W"},{start:129483,end:129484,prop:"N"},{start:129485,end:129535,prop:"W"},{start:129536,end:129647,prop:"N"},{start:129648,end:129651,prop:"W"},{start:129652,end:129655,prop:"N"},{start:129656,end:129658,prop:"W"},{start:129659,end:129663,prop:"N"},{start:129664,end:129666,prop:"W"},{start:129667,end:129679,prop:"N"},{start:129680,end:129685,prop:"W"},{start:129686,end:131071,prop:"N"},{start:131072,end:196605,prop:"W"},{start:196606,end:196607,prop:"N"},{start:196608,end:262141,prop:"W"},{start:262142,end:917759,prop:"N"},{start:917760,end:917999,prop:"A"},{start:918e3,end:983039,prop:"N"},{start:983040,end:1048573,prop:"A"},{start:1048574,end:1048575,prop:"N"},{start:1048576,end:1114109,prop:"A"},{start:1114110,end:1114111,prop:"N"}];function Tl(t){let e=0,n=Wr.length-1;for(;e!==n;){let r=e+(n-e>>1),i=Wr[r];if(t<i.start)n=r-1;else if(t>i.end)e=r+1;else return i.prop}return Wr[e].prop}function bl(t,e){let n=t.codePointAt(e||0);return n===void 0?void 0:Tl(n)}var ms={N:1,Na:1,W:2,F:2,H:1,A:1};function vs(t,e){let n=e?Object.assign({},ms,e):ms,r=0;for(let i of t)r+=n[bl(i)];return r}var Nl=Q.get(M.Configuration),Ht=Nl.getAdornments();function Sl(t,e=!1){let n=Ht.indexOf(t)+(e?-1:1),r=n>=0?n%Ht.length:n+Ht.length;return Ht[r]}function Rl(t,e){for(let n of Ht)if(e.length>=t.length&&e===n.repeat(e.length))return n;return null}function Gr(t,e,n=!1){t.selections.forEach(r=>{let i=r.active,o=t.document.lineAt(i.line).text;if(o==="")return;let s=null,a=null;i.line<t.document.lineCount-1&&(a=t.document.lineAt(i.line+1).text,s=Rl(o,a));let c=Il(o);if(s===null)e.insert(new Rt.Position(i.line,o.length),`
`+"=".repeat(c));else{let u=new Rt.Range(new Rt.Position(i.line+1,0),new Rt.Position(i.line+1,a.length)),p=Sl(s,n);e.replace(u,p.repeat(c))}})}function Il(t){return vs(t.normalize())}l();var A=k("vscode");function Fs(t){t.subscriptions.push(A.commands.registerCommand("restructuredtext.editor.listEditing.onEnterKey",qr),A.commands.registerCommand("restructuredtext.editor.listEditing.onCtrlEnterKey",()=>qr("ctrl")),A.commands.registerCommand("restructuredtext.editor.listEditing.onShiftEnterKey",()=>qr("shift")),A.commands.registerCommand("restructuredtext.editor.listEditing.onTabKey",Es),A.commands.registerCommand("restructuredtext.editor.listEditing.onShiftTabKey",()=>Es("shift")),A.commands.registerCommand("restructuredtext.editor.listEditing.onBackspaceKey",Bl),A.commands.registerCommand("restructuredtext.editor.listEditing.checkTaskList",Pl),A.commands.registerCommand("restructuredtext.editor.listEditing.onMoveLineDown",Ml),A.commands.registerCommand("restructuredtext.editor.listEditing.onMoveLineUp",Ol),A.commands.registerCommand("restructuredtext.editor.listEditing.onCopyLineDown",$l),A.commands.registerCommand("restructuredtext.editor.listEditing.onCopyLineUp",kl),A.commands.registerCommand("restructuredtext.editor.listEditing.onIndentLines",Ul),A.commands.registerCommand("restructuredtext.editor.listEditing.onOutdentLines",Wl))}function qr(t){let e=A.window.activeTextEditor,n=e.selection.active,r=e.document.lineAt(n.line),i=r.text.substring(0,n.character),o=r.text.substring(n.character),s=n;if(t==="ctrl"&&(s=r.range.end),t==="shift")return at(e,"enter",t);let a=r.text.replace(/\s/g,"");if(a.length>2&&(a.replace(/-/g,"").length===0||a.replace(/\*/g,"").length===0))return at(e,"enter",t);if(/^([-+*]|[0-9]+[.)])( +\[[ x]\])?$/.test(i.trim())&&o.trim().length===0)return/^\s+([-+*]|[0-9]+[.)]) +(\[[ x]\] )?$/.test(i)?Mn(e).then(()=>ee(e)):/^([-+*]|[0-9]+[.)]) $/.test(i)?Yr(e,new A.Range(n.with({character:0}),n)).then(()=>ee(e)):/^([-+*]|[0-9]+[.)]) +(\[[ x]\] )$/.test(i)?Yr(e,new A.Range(n.with({character:i.length-4}),n)).then(()=>ee(e)):at(e,"enter",t);let c;if(/^> /.test(i)){let u=r.text.replace(/[ \t]+$/,"")===">";if(u){if(n.line===0)return e.edit(p=>{p.replace(new A.Range(new A.Position(0,0),new A.Position(n.line,n.character)),"")}).then(()=>{e.revealRange(e.selection)});if(e.document.lineAt(n.line-1).text.replace(/[ \t]+$/,"")===">")return e.edit(d=>{d.replace(new A.Range(new A.Position(n.line-1,0),new A.Position(n.line,n.character)),`
`)}).then(()=>{e.revealRange(e.selection)})}return e.edit(p=>{if(u){let d=new A.Position(n.line,r.text.trim().length);p.delete(new A.Range(d,r.range.end)),s=d}p.insert(s,`
> `)}).then(()=>{if(t==="ctrl"&&!n.isEqual(s)){let p=n.with(r.lineNumber+1,2);e.selection=new A.Selection(p,p)}}).then(()=>{e.revealRange(e.selection)})}else if((c=/^((\s*[-+*] +)(\[[ x]\] +)?)/.exec(i))!==null){let u=c[0],p=c[1],d=c[2],D=c[3];return e.edit(g=>{D&&u===i&&t!=="ctrl"?(g.replace(new A.Range(n.line,d.length+1,n.line,d.length+2)," "),g.insert(s,`
${p}`)):g.insert(s,`
${p.replace("[x]","[ ]")}`)}).then(()=>{if(t==="ctrl"&&!n.isEqual(s)){let g=n.with(r.lineNumber+1,c[1].length);e.selection=new A.Selection(g,g)}}).then(()=>{e.revealRange(e.selection)})}else if((c=/^(\s*)([0-9]+)([.)])( +)((\[[ x]\] +)?)/.exec(i))!==null){let u=A.workspace.getConfiguration("restructuredtext.editor.listEditing.orderedList").get("marker"),p="1",d=c[1],D=c[2],g=c[3],w=c[4],O=c[5].replace("[x]","[ ]"),ie=(D+g+w).length;u==="ordered"&&(p=String(Number(D)+1)),w=" ".repeat(Math.max(1,ie-(p+g).length));let oe=d+p+g+w+O;return e.edit(X=>{X.insert(s,`
${oe}`)},{undoStopBefore:!0,undoStopAfter:!1}).then(()=>{if(t==="ctrl"&&!n.isEqual(s)){let X=n.with(r.lineNumber+1,oe.length);e.selection=new A.Selection(X,X)}}).then(()=>ee(e)).then(()=>{e.revealRange(e.selection)})}else return at(e,"enter",t)}function Es(t){let e=A.window.activeTextEditor,n=e.selection.start,r=e.document.lineAt(n.line).text,i=/^\s*([-+*]|[0-9]+[.)]) +(\[[ x]\] +)?/.exec(r);return i&&(t==="shift"||!e.selection.isEmpty||e.selection.isEmpty&&n.character<=i[0].length)?t==="shift"?Mn(e).then(()=>ee(e)):As(e).then(()=>ee(e)):at(e,"tab",t)}function Bl(){let t=A.window.activeTextEditor,e=t.selection.active,r=t.document.lineAt(e.line).text.substr(0,e.character);return t.selection.isEmpty?/^\s+([-+*]|[0-9]+[.)]) $/.test(r)?Mn(t).then(()=>ee(t)):/^([-+*]|[0-9]+[.)]) $/.test(r)?t.edit(i=>{i.replace(new A.Range(e.with({character:0}),e)," ".repeat(r.length))}).then(()=>ee(t)):/^\s*([-+*]|[0-9]+[.)]) +(\[[ x]\] )$/.test(r)?Yr(t,new A.Range(e.with({character:r.length-4}),e)).then(()=>ee(t)):at(t,"backspace"):at(t,"backspace").then(()=>ee(t))}function at(t,e,n){switch(e){case"enter":return n==="ctrl"?A.commands.executeCommand("editor.action.insertLineAfter"):A.commands.executeCommand("type",{source:"keyboard",text:`
`});case"tab":return n==="shift"?A.commands.executeCommand("editor.action.outdentLines"):t.selection.isEmpty&&A.workspace.getConfiguration("emmet").get("triggerExpansionOnTab")?A.commands.executeCommand("editor.emmet.action.expandAbbreviation"):A.commands.executeCommand("tab");case"backspace":return A.commands.executeCommand("deleteLeft")}}function As(t){if(A.workspace.getConfiguration("restructuredtext.editor.listEditing.list",t.document.uri).get("indentationSize")==="adaptive")try{let e=t.selection,n=ys(t,e.start.line,t.document.lineAt(e.start.line).firstNonWhitespaceCharacterIndex),r=new A.WorkspaceEdit;for(let i=e.start.line;i<=e.end.line&&!(i===e.end.line&&!e.isEmpty&&e.end.character===0);i++)t.document.lineAt(i).text.length!==0&&r.insert(t.document.uri,new A.Position(i,0)," ".repeat(n));return A.workspace.applyEdit(r)}catch{}return A.commands.executeCommand("editor.action.indentLines")}function Mn(t){if(A.workspace.getConfiguration("restructuredtext.editor.listEditing.list",t.document.uri).get("indentationSize")==="adaptive")try{let e=t.selection,n=ys(t,e.start.line,t.document.lineAt(e.start.line).firstNonWhitespaceCharacterIndex),r=new A.WorkspaceEdit;for(let i=e.start.line;i<=e.end.line&&!(i===e.end.line&&!e.isEmpty&&e.end.character===0);i++){let o=t.document.lineAt(i).text,s;o.trim().length===0?s=o.length:s=t.document.lineAt(i).firstNonWhitespaceCharacterIndex,s>0&&r.delete(t.document.uri,new A.Range(i,0,i,Math.min(n,s)))}return A.workspace.applyEdit(r)}catch{}return A.commands.executeCommand("editor.action.outdentLines")}function ys(t,e,n){for(;--e>=0;){let r=t.document.lineAt(e).text,i;if((i=/^(\s*)(([-+*]|[0-9]+[.)]) +)(\[[ x]\] +)?/.exec(r))!==null&&i[1].length<=n)return i[2].length}throw"No previous reStructuredText list item"}function Cs(t,e=t.selection.start.line){for(;e<t.document.lineCount;){let n=t.document.lineAt(e).text;if(n.startsWith("#"))return-1;if(/^\s*[0-9]+[.)] +/.exec(n)!==null)return e;e++}return-1}function Ll(t,e,n){let r=e;for(;--r>=0;){let i=t.document.lineAt(r).text.replace(/\t/g,"    "),o;if((o=/^(\s*)(([0-9]+)[.)] +)/.exec(i))!==null){let s=o[1],a=o[3];if(n<s.length)continue;if(n>=s.length&&n<=(s+a).length)return Number(a)+1;if(n>(s+a).length)return 1}else if((o=/^(\s*)([-+*] +)/.exec(i))!==null){let s=o[1];if(n>=s.length)break}else if((o=/^(\s*)\S/.exec(i))!==null&&o[1].length<3)break}return 1}function ee(t,e){if(!A.workspace.getConfiguration("restructuredtext.editor.listEditing.orderedList").get("autoRenumber")||A.workspace.getConfiguration("restructuredtext.editor.listEditing.orderedList").get("marker")==="one"||(e===void 0&&(e=Cs(t)),e<0||e>=t.document.lineCount))return;let n=t.document.lineAt(e).text,r;if((r=/^(\s*)([0-9]+)([.)])( +)/.exec(n))!==null){let i=r[1],o=r[2],s=r[3],a=r[4],c=Ll(t,e,i.replace(/\t/g,"    ").length),u=o.length+s.length+a.length,p=String(c);return t.edit(d=>{o!==p&&(p+=s+" ".repeat(Math.max(1,u-(p+s).length)),d.replace(new A.Range(e,i.length,e,i.length+u),p))},{undoStopBefore:!1,undoStopAfter:!1}).then(()=>{let d=e+1;for(;t.document.lineCount>d;){let D=t.document.lineAt(d).text;if(/^\s*[0-9]+[.)] +/.test(D))return ee(t,d);if(t.document.lineAt(d-1).isEmptyOrWhitespace&&!D.startsWith(" ".repeat(3))&&!D.startsWith("	"))return;d++}})}}function Yr(t,e){return t.edit(n=>{n.delete(e)},{undoStopBefore:!0,undoStopAfter:!1})}function Pl(){let t=A.window.activeTextEditor,e=/^(\s*([-+*]|[0-9]+[.)]) +\[) \]/,n=/^(\s*([-+*]|[0-9]+[.)]) +\[)x\]/,r=[],i;for(let o of t.selections)for(let s=o.start.line;s<=o.end.line;s++){let a=t.document.lineAt(s),c=a.range.start;if(!o.isSingleLine&&(o.start.isEqual(a.range.end)||o.end.isEqual(a.range.start)))continue;let u;(u=e.exec(a.text))&&i!==!1?(r.push(c.with({character:u[1].length})),i=!0):(u=n.exec(a.text))&&i!==!0&&(r.push(c.with({character:u[1].length})),i=!1)}if(i!==void 0){let o=i?"x":" ";return t.edit(s=>{for(let a of r){let c=new A.Range(a,a.with({character:a.character+1}));s.replace(c,o)}})}}function Ol(){let t=A.window.activeTextEditor;return A.commands.executeCommand("editor.action.moveLinesUpAction").then(()=>ee(t))}function Ml(){let t=A.window.activeTextEditor;return A.commands.executeCommand("editor.action.moveLinesDownAction").then(()=>ee(t,Cs(t,t.selection.start.line-1)))}function kl(){let t=A.window.activeTextEditor;return A.commands.executeCommand("editor.action.copyLinesUpAction").then(()=>ee(t))}function $l(){let t=A.window.activeTextEditor;return A.commands.executeCommand("editor.action.copyLinesDownAction").then(()=>ee(t))}function Ul(){let t=A.window.activeTextEditor;return As(t).then(()=>ee(t))}function Wl(){let t=A.window.activeTextEditor;return Mn(t).then(()=>ee(t))}l();var te=Z(k("vscode"));async function zt(){if(Q.get(M.Configuration).getTableEditorDisabled())return;let e=te.window.activeTextEditor;if(e)te.commands.executeCommand("setContext","resttext.editor.opening",!0);else{te.commands.executeCommand("setContext","resttext.editor.opening",!1);return}gn(e)?te.commands.executeCommand("setContext","resttext.createGrid.enabled",!0):te.commands.executeCommand("setContext","resttext.createGrid.enabled",!1);let r=fe(e),i=mn(e);r?(te.commands.executeCommand("setContext","resttext.enter.enabled",!0),te.commands.executeCommand("setContext","resttext.shift.enter.enabled",!0)):(te.commands.executeCommand("setContext","resttext.enter.enabled",!1),te.commands.executeCommand("setContext","resttext.shift.enter.enabled",!1));let o=Ve();r&&!o?te.commands.executeCommand("setContext","resttext.alt.enter.enabled",!0):te.commands.executeCommand("setContext","resttext.alt.enter.enabled",!1),r||i?te.commands.executeCommand("setContext","resttext.tab.enabled",!0):te.commands.executeCommand("setContext","resttext.tab.enabled",!1),r?te.commands.executeCommand("setContext","resttext.shift.tab.enabled",!0):te.commands.executeCommand("setContext","resttext.shift.tab.enabled",!1)}async function ws(t){zt(),ne.workspace.onDidCloseTextDocument(()=>{zt()}),ne.window.onDidChangeActiveTextEditor(()=>{zt()}),ne.window.onDidChangeTextEditorSelection(()=>{zt()}),new On(new Pn).register(t),t.subscriptions.push(ne.commands.registerTextEditorCommand("restructuredtext.features.underline.underline",Gr),ne.commands.registerTextEditorCommand("restructuredtext.features.underline.underlineReverse",(n,r)=>Gr(n,r,!0))),t.subscriptions.push(ne.commands.registerCommand("resttext.table.createGrid",()=>{let n=ne.window.activeTextEditor;if(!n)return;new Ce(n).createEmptyGrid()})),t.subscriptions.push(ne.commands.registerCommand("resttext.table.dataToTable",()=>{let n=ne.window.activeTextEditor;if(!n)return;new Ce(n).dataToTable()})),t.subscriptions.push(ne.commands.registerCommand("resttext.key.enter",()=>{cs()})),t.subscriptions.push(ne.commands.registerCommand("resttext.key.shift.enter",()=>{ls()})),t.subscriptions.push(ne.commands.registerCommand("resttext.key.alt.enter",()=>{ps()})),t.subscriptions.push(ne.commands.registerCommand("resttext.key.tab",()=>{ds()})),t.subscriptions.push(ne.commands.registerCommand("resttext.key.shift.tab",()=>{fs()})),Fs(t)}l();l();var It=k("vscode");l();var de=Z(k("vscode"));l();var jr=class{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let n=()=>{this.queuedPromise=null;let r=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,r};this.queuedPromise=new Promise(r=>{this.activePromise.then(n,n).then(r)})}return new Promise((n,r)=>{this.queuedPromise.then(n,r)})}return this.activePromise=e(),new Promise((n,r)=>{this.activePromise.then(i=>{this.activePromise=null,n(i)},i=>{this.activePromise=null,r(i)})})}},Vr=class{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onResolve=null,this.task=null}trigger(e,n=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onResolve=r}).then(()=>{this.completionPromise=null,this.onResolve=null;let r=this.task();return this.task=null,r})),this.timeout=setTimeout(()=>{this.timeout=null,this.onResolve(null)},n),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}},kn=class extends Vr{constructor(e){super(e),this.throttler=new jr}trigger(e,n){return super.trigger(()=>this.throttler.queue(e),n)}};l();l();l();var Se=[],me=[],Yl=typeof Uint8Array<"u"?Uint8Array:Array,Hr=!1;function _s(){Hr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Se[e]=t[e],me[t.charCodeAt(e)]=e;me[45]=62,me[95]=63}function jl(t){Hr||_s();var e,n,r,i,o,s,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[a-2]==="="?2:t[a-1]==="="?1:0,s=new Yl(a*3/4-o),r=o>0?a-4:a;var c=0;for(e=0,n=0;e<r;e+=4,n+=3)i=me[t.charCodeAt(e)]<<18|me[t.charCodeAt(e+1)]<<12|me[t.charCodeAt(e+2)]<<6|me[t.charCodeAt(e+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=i&255;return o===2?(i=me[t.charCodeAt(e)]<<2|me[t.charCodeAt(e+1)]>>4,s[c++]=i&255):o===1&&(i=me[t.charCodeAt(e)]<<10|me[t.charCodeAt(e+1)]<<4|me[t.charCodeAt(e+2)]>>2,s[c++]=i>>8&255,s[c++]=i&255),s}function Vl(t){return Se[t>>18&63]+Se[t>>12&63]+Se[t>>6&63]+Se[t&63]}function Kl(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(Vl(r));return i.join("")}function xs(t){Hr||_s();for(var e,n=t.length,r=n%3,i="",o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(Kl(t,a,a+s>c?c:a+s));return r===1?(e=t[n-1],i+=Se[e>>2],i+=Se[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Se[e>>10],i+=Se[e>>4&63],i+=Se[e<<2&63],i+="="),o.push(i),o.join("")}function Wn(t,e,n,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,u=c>>1,p=-7,d=n?i-1:0,D=n?-1:1,g=t[e+d];for(d+=D,o=g&(1<<-p)-1,g>>=-p,p+=a;p>0;o=o*256+t[e+d],d+=D,p-=8);for(s=o&(1<<-p)-1,o>>=-p,p+=r;p>0;s=s*256+t[e+d],d+=D,p-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-u}return(g?-1:1)*s*Math.pow(2,o-r)}function Ns(t,e,n,r,i,o){var s,a,c,u=o*8-i-1,p=(1<<u)-1,d=p>>1,D=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,w=r?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=D/c:e+=D*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=p?(a=0,s=p):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+g]=a&255,g+=w,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+g]=s&255,g+=w,s/=256,u-=8);t[n+g-w]|=O*128}var Hl={}.toString,Ss=Array.isArray||function(t){return Hl.call(t)=="[object Array]"};var zl=50;v.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;var Um=$n();function $n(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $e(t,e){if($n()<e)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=v.prototype):(t===null&&(t=new v(e)),t.length=e),t}function v(t,e,n){if(!v.TYPED_ARRAY_SUPPORT&&!(this instanceof v))return new v(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return zr(this,t)}return Rs(this,t,e,n)}v.poolSize=8192;v._augment=function(t){return t.__proto__=v.prototype,t};function Rs(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Zl(t,e,n,r):typeof e=="string"?Jl(t,e,n):Ql(t,e)}v.from=function(t,e,n){return Rs(null,t,e,n)};v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array);function Is(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Xl(t,e,n,r){return Is(e),e<=0?$e(t,e):n!==void 0?typeof r=="string"?$e(t,e).fill(n,r):$e(t,e).fill(n):$e(t,e)}v.alloc=function(t,e,n){return Xl(null,t,e,n)};function zr(t,e){if(Is(e),t=$e(t,e<0?0:Xr(e)|0),!v.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}v.allocUnsafe=function(t){return zr(null,t)};v.allocUnsafeSlow=function(t){return zr(null,t)};function Jl(t,e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!v.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=Bs(e,n)|0;t=$e(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function Kr(t,e){var n=e.length<0?0:Xr(e.length)|0;t=$e(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function Zl(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,n):e=new Uint8Array(e,n,r),v.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=v.prototype):t=Kr(t,e),t}function Ql(t,e){if(Re(e)){var n=Xr(e.length)|0;return t=$e(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||vp(e.length)?$e(t,0):Kr(t,e);if(e.type==="Buffer"&&Ss(e.data))return Kr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Xr(t){if(t>=$n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$n().toString(16)+" bytes");return t|0}v.isBuffer=Ep;function Re(t){return!!(t!=null&&t._isBuffer)}v.compare=function(e,n){if(!Re(e)||!Re(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0};v.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};v.concat=function(e,n){if(!Ss(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return v.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=v.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!Re(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function Bs(t,e){if(Re(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Un(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Us(t).length;default:if(r)return Un(t).length;e=(""+e).toLowerCase(),r=!0}}v.byteLength=Bs;function ep(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return lp(this,e,n);case"utf8":case"utf-8":return Os(this,e,n);case"ascii":return up(this,e,n);case"latin1":case"binary":return cp(this,e,n);case"base64":return sp(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pp(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}v.prototype._isBuffer=!0;function ut(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}v.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)ut(this,n,n+1);return this};v.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)ut(this,n,n+3),ut(this,n+1,n+2);return this};v.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)ut(this,n,n+7),ut(this,n+1,n+6),ut(this,n+2,n+5),ut(this,n+3,n+4);return this};v.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Os(this,0,e):ep.apply(this,arguments)};v.prototype.equals=function(e){if(!Re(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:v.compare(this,e)===0};v.prototype.inspect=function(){var e="",n=zl;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"};v.prototype.compare=function(e,n,r,i,o){if(!Re(e))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=r-n,c=Math.min(s,a),u=this.slice(i,o),p=e.slice(n,r),d=0;d<c;++d)if(u[d]!==p[d]){s=u[d],a=p[d];break}return s<a?-1:a<s?1:0};function Ls(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=v.from(e,r)),Re(e))return e.length===0?-1:Ts(t,e,n,r,i);if(typeof e=="number")return e=e&255,v.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Ts(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Ts(t,e,n,r,i){var o=1,s=t.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,n/=2}function c(g,w){return o===1?g[w]:g.readUInt16BE(w*o)}var u;if(i){var p=-1;for(u=n;u<s;u++)if(c(t,u)===c(e,p===-1?0:u-p)){if(p===-1&&(p=u),u-p+1===a)return p*o}else p!==-1&&(u-=u-p),p=-1}else for(n+a>s&&(n=s-a),u=n;u>=0;u--){for(var d=!0,D=0;D<a;D++)if(c(t,u+D)!==c(e,D)){d=!1;break}if(d)return u}return-1}v.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};v.prototype.indexOf=function(e,n,r){return Ls(this,e,n,r,!0)};v.prototype.lastIndexOf=function(e,n,r){return Ls(this,e,n,r,!1)};function tp(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(s*2,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function np(t,e,n,r){return Yn(Un(e,t.length-n),t,n,r)}function Ps(t,e,n,r){return Yn(gp(e),t,n,r)}function rp(t,e,n,r){return Ps(t,e,n,r)}function ip(t,e,n,r){return Yn(Us(e),t,n,r)}function op(t,e,n,r){return Yn(mp(e,t.length-n),t,n,r)}v.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-n;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return tp(this,e,n,r);case"utf8":case"utf-8":return np(this,e,n,r);case"ascii":return Ps(this,e,n,r);case"latin1":case"binary":return rp(this,e,n,r);case"base64":return ip(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return op(this,e,n,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sp(t,e,n){return e===0&&n===t.length?xs(t):xs(t.slice(e,n))}function Os(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var c,u,p,d;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(d=(o&31)<<6|c&63,d>127&&(s=d));break;case 3:c=t[i+1],u=t[i+2],(c&192)===128&&(u&192)===128&&(d=(o&15)<<12|(c&63)<<6|u&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:c=t[i+1],u=t[i+2],p=t[i+3],(c&192)===128&&(u&192)===128&&(p&192)===128&&(d=(o&15)<<18|(c&63)<<12|(u&63)<<6|p&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=a}return ap(r)}var bs=4096;function ap(t){var e=t.length;if(e<=bs)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=bs));return n}function up(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function cp(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function lp(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Dp(t[o]);return i}function pp(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+r[o+1]*256);return i}v.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(v.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=v.prototype;else{var o=n-e;i=new v(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function H(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUIntLE=function(e,n,r){e=e|0,n=n|0,r||H(e,n,this.length);for(var i=this[e],o=1,s=0;++s<n&&(o*=256);)i+=this[e+s]*o;return i};v.prototype.readUIntBE=function(e,n,r){e=e|0,n=n|0,r||H(e,n,this.length);for(var i=this[e+--n],o=1;n>0&&(o*=256);)i+=this[e+--n]*o;return i};v.prototype.readUInt8=function(e,n){return n||H(e,1,this.length),this[e]};v.prototype.readUInt16LE=function(e,n){return n||H(e,2,this.length),this[e]|this[e+1]<<8};v.prototype.readUInt16BE=function(e,n){return n||H(e,2,this.length),this[e]<<8|this[e+1]};v.prototype.readUInt32LE=function(e,n){return n||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};v.prototype.readUInt32BE=function(e,n){return n||H(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};v.prototype.readIntLE=function(e,n,r){e=e|0,n=n|0,r||H(e,n,this.length);for(var i=this[e],o=1,s=0;++s<n&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*n)),i};v.prototype.readIntBE=function(e,n,r){e=e|0,n=n|0,r||H(e,n,this.length);for(var i=n,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*n)),s};v.prototype.readInt8=function(e,n){return n||H(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};v.prototype.readInt16LE=function(e,n){n||H(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};v.prototype.readInt16BE=function(e,n){n||H(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};v.prototype.readInt32LE=function(e,n){return n||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};v.prototype.readInt32BE=function(e,n){return n||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};v.prototype.readFloatLE=function(e,n){return n||H(e,4,this.length),Wn(this,e,!0,23,4)};v.prototype.readFloatBE=function(e,n){return n||H(e,4,this.length),Wn(this,e,!1,23,4)};v.prototype.readDoubleLE=function(e,n){return n||H(e,8,this.length),Wn(this,e,!0,52,8)};v.prototype.readDoubleBE=function(e,n){return n||H(e,8,this.length),Wn(this,e,!1,52,8)};function ue(t,e,n,r,i,o){if(!Re(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}v.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var o=Math.pow(2,8*r)-1;ue(this,e,n,r,o,0)}var s=1,a=0;for(this[n]=e&255;++a<r&&(s*=256);)this[n+a]=e/s&255;return n+r};v.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var o=Math.pow(2,8*r)-1;ue(this,e,n,r,o,0)}var s=r-1,a=1;for(this[n+s]=e&255;--s>=0&&(a*=256);)this[n+s]=e/a&255;return n+r};v.prototype.writeUInt8=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,1,255,0),v.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e&255,n+1};function Gn(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}v.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Gn(this,e,n,!0),n+2};v.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Gn(this,e,n,!1),n+2};function qn(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>(r?i:3-i)*8&255}v.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255):qn(this,e,n,!0),n+4};v.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):qn(this,e,n,!1),n+4};v.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n|0,!i){var o=Math.pow(2,8*r-1);ue(this,e,n,r,o-1,-o)}var s=0,a=1,c=0;for(this[n]=e&255;++s<r&&(a*=256);)e<0&&c===0&&this[n+s-1]!==0&&(c=1),this[n+s]=(e/a>>0)-c&255;return n+r};v.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n|0,!i){var o=Math.pow(2,8*r-1);ue(this,e,n,r,o-1,-o)}var s=r-1,a=1,c=0;for(this[n+s]=e&255;--s>=0&&(a*=256);)e<0&&c===0&&this[n+s+1]!==0&&(c=1),this[n+s]=(e/a>>0)-c&255;return n+r};v.prototype.writeInt8=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,1,127,-128),v.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=e&255,n+1};v.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Gn(this,e,n,!0),n+2};v.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Gn(this,e,n,!1),n+2};v.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):qn(this,e,n,!0),n+4};v.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n|0,r||ue(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),v.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):qn(this,e,n,!1),n+4};function Ms(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ks(t,e,n,r,i){return i||Ms(t,e,n,4),Ns(t,e,n,r,23,4),n+4}v.prototype.writeFloatLE=function(e,n,r){return ks(this,e,n,!0,r)};v.prototype.writeFloatBE=function(e,n,r){return ks(this,e,n,!1,r)};function $s(t,e,n,r,i){return i||Ms(t,e,n,8),Ns(t,e,n,r,52,8),n+8}v.prototype.writeDoubleLE=function(e,n,r){return $s(this,e,n,!0,r)};v.prototype.writeDoubleBE=function(e,n,r){return $s(this,e,n,!1,r)};v.prototype.copy=function(e,n,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r,s;if(this===e&&r<n&&n<i)for(s=o-1;s>=0;--s)e[s+n]=this[s+r];else if(o<1e3||!v.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+n]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n);return o};v.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!v.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var s;if(typeof e=="number")for(s=n;s<r;++s)this[s]=e;else{var a=Re(e)?e:Un(new v(e,i).toString()),c=a.length;for(s=0;s<r-n;++s)this[s+n]=a[s%c]}return this};var dp=/[^+\/0-9A-Za-z-_]/g;function fp(t){if(t=hp(t).replace(dp,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function hp(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Dp(t){return t<16?"0"+t.toString(16):t.toString(16)}function Un(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function gp(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function mp(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Us(t){return jl(fp(t))}function Yn(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function vp(t){return t!==t}function Ep(t){return t!=null&&(!!t._isBuffer||Ws(t)||Fp(t))}function Ws(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Fp(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Ws(t.slice(0,0))}var Ap=v.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yp(t){if(t&&!Ap(t))throw new Error("Unknown encoding: "+t)}function Xt(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),yp(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=wp;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=xp;break;default:this.write=Cp;return}this.charBuffer=new v(6),this.charReceived=0,this.charLength=0}Xt.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);var r=e.length-1,i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e};Xt.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e};Xt.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};function Cp(t){return t.toString(this.encoding)}function wp(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function xp(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var jn=class{constructor(e="utf8"){let n=e;this.stringDecoder=new Xt(n),this.remaining=null,this.lines=[]}write(e){let n=[],r=this.remaining?this.remaining+this.stringDecoder.write(e):this.stringDecoder.write(e);if(r.length<1)return this.lines=this.lines.concat(r),n;let i=0,o;for(;i<r.length&&((o=r.charCodeAt(i))===13||o===10);)i++;let s=i;for(;s<r.length;)if(o=r.charCodeAt(s),o===13||o===10){for(n.push(r.substring(i,s)),s++;s<r.length&&((o=r.charCodeAt(s))===13||o===10);)s++;i=s}else s++;return this.remaining=i<r.length?r.substr(i):null,this.lines=this.lines.concat(n),n}end(){return this.remaining&&this.remaining.length>0&&(this.lines=this.lines.concat(this.remaining)),this.remaining}getLines(){return this.lines}};var Je=(r=>(r[r.onSave=0]="onSave",r[r.onType=1]="onType",r[r.off=2]="off",r))(Je||{});(n=>(n.strings={off:"off",onSave:"onSave",onType:"onType"},n.from=r=>r==="onType"?1:r==="onSave"?0:2))(Je||={});var Vn=class{constructor(e,n,r){this.linter=e;this.logger=n;this.python=r;this.executableNotFound=!1}activate(e){this.diagnosticCollection=de.languages.createDiagnosticCollection(),e.push(this),de.workspace.onDidChangeConfiguration(this.resetConfiguration,this,e),de.workspace.onDidSaveTextDocument(n=>{n.fileName.endsWith("settings.json")&&this.resetConfiguration()},null,e),this.resetConfiguration(),de.workspace.onDidOpenTextDocument(this.triggerLint,this,e),de.workspace.onDidCloseTextDocument(n=>{this.diagnosticCollection.delete(n.uri),delete this.delayers[n.uri.toString()]},null,e)}dispose(){this.diagnosticCollection.clear(),this.diagnosticCollection.dispose()}resetConfiguration(){this.linterConfiguration=null,de.workspace.textDocuments.forEach(this.triggerLint,this)}async loadConfiguration(e){let n=this.linterConfiguration&&this.linterConfiguration.executable;this.linterConfiguration=await this.linter.loadConfiguration(e),this.delayers=Object.create(null),this.executableNotFound&&(this.executableNotFound=n===this.linterConfiguration.executable),this.documentListener&&this.documentListener.dispose(),Je.from(this.linterConfiguration.runTrigger)===1?this.documentListener=de.workspace.onDidChangeTextDocument(r=>{this.triggerLint(r.document)}):this.documentListener=de.workspace.onDidSaveTextDocument(this.triggerLint,this),this.documentListener=de.workspace.onDidSaveTextDocument(this.triggerLint,this)}async triggerLint(e){let r=Q.get(M.Configuration).getRootPath(e.uri);if((this.linterConfiguration===null||r&&this.linterConfiguration.rootPath!==r)&&await this.loadConfiguration(e.uri),e.languageId!==this.linter.languageId||e.uri.scheme!=="file"||this.executableNotFound||Je.from(this.linterConfiguration.runTrigger)===2)return;let i=e.uri.toString(),o=this.delayers[i];o||(o=new kn(Je.from(this.linterConfiguration.runTrigger)===1?250:0),this.delayers[i]=o),o.trigger(()=>this.doLint(e))}async doLint(e){if(await this.python.checkPython(e.uri,!1))return new Promise(n=>{let r=Q.get(M.Configuration),i=this.linterConfiguration.executable,o=new jn,s=[],a='"'+e.fileName+'"',c=r.getRootPath(e.uri),u=c?{rootPath:c,shell:!0}:void 0,p=[];p=p.concat(this.linterConfiguration.module),Je.from(this.linterConfiguration.runTrigger)===0&&(p=p.concat(this.linterConfiguration.fileArgs.slice(0))),p.push(a),p=p.concat(this.linterConfiguration.extraArgs);let d=Tp(i,p,u);this.logger.log(`[linter] Execute: ${i} ${p.join(" ")} in ${c}.`),d.on("error",w=>{if(this.executableNotFound){n();return}let O=null;w.code==="ENOENT"?O=`Cannot lint ${e.fileName}. The executable '${i}' was not found. Use the '${this.linter.languageId}.linter.executablePath' setting to configure the location of the executable`:O=w.message?w.message:`Failed to run executable using path: ${i}. Reason is unknown.`,this.logger.log(`[linter] ${O}`),de.window.showInformationMessage(O),this.executableNotFound=!0,n()});let D=w=>{o.write(w)},g=()=>{o.end();let w=o.getLines();w&&w.length>0&&(s=this.linter.process(w)),this.diagnosticCollection.set(e.uri,s),n()};d.pid?(Je.from(this.linterConfiguration.runTrigger)===1&&(d.stdin.write(e.getText()),d.stdin.end()),d.stderr.on("data",D),d.stderr.on("end",g),d.stdout.on("data",D),d.stdout.on("end",g)):n()})}};function Tp(t,e,n){return typeof void 0=="function"?(void 0)(t,e,n):(console.error("spawn is not available in this environment"),{stdout:{on:()=>{}},stderr:{on:()=>{}},on:function(i,o){return i==="error"&&o(new Error("spawn not supported")),this}})}var Ue=class{constructor(e,n,r,i,o,s){this.name=e;this.module=n;this.path=r;this.extraArgs=i;this.logger=o;this.python=s;this.languageId="restructuredtext"}activate(e){new Vn(this,this.logger,this.python).activate(e)}async loadConfiguration(e){let n=[],r=Q.get(M.Configuration),i=this.path;if(i===null){let o=await r.getPythonPath(e);o&&(i='"'+o+'"',n=n.concat(["-m",this.module]))}else i='"'+i+'"';return i===null&&(i=this.name),{executable:i,module:n,fileArgs:[],bufferArgs:[],extraArgs:this.extraArgs.map(o=>r.expandMacro(o,e)),runTrigger:r.getRunType(e),rootPath:r.getRootPath(e)}}process(e){let n=[];for(let r of e){if(r.includes("No module named")||r.includes("Errno")){n.push({range:new It.Range(0,0,0,Number.MAX_VALUE),severity:It.DiagnosticSeverity.Warning,message:r,code:null,source:this.name});continue}let o=/(([A-Z]+)\s+)?(.+?):([0-9]+):?\s(([A-Z0-9]+)\s)?(\(([A-Z]+)\/[0-9]+\)\s)?(.+)/.exec(r);if(o===null)continue;let s=o[2],a=o[3],c=o[4],u=o[6],p=o[8],d=o[9];if(a.endsWith(".py")&&this.name==="doc8")continue;let D=parseInt(c,10)-1;n.push({range:new It.Range(D,0,D,Number.MAX_VALUE),severity:It.DiagnosticSeverity.Warning,message:d,code:s??p??u,source:this.name})}return n}};async function Mu(t,e,n){let r=!1,i=Q.get(M.Configuration),o=i.getLinterDisabled();if(o.indexOf("doc8")===-1){let s=i.getDoc8Path();if(s&&(new Ue("doc8",null,s,i.getDoc8ExtraArgs(),n,e).activate(t.subscriptions),r=!0,n.log("Enabled doc8 linting...")),!await e.checkDoc8Install()){n.log("Didn't detect doc8 module, skipping..");return}let a=Ou(),c=await e.checkDoc8Version();if(a.lt(c,"0.8.1")){n.log(`Detected old doc8 version ${c}, skipping..`);return}new Ue("doc8","doc8",null,i.getDoc8ExtraArgs(),n,e).activate(t.subscriptions),r=!0,n.log("Enabled doc8 linting...")}if(o.indexOf("rstcheck")===-1){let s=i.getRstCheckPath();if(s){new Ue("rstcheck",null,s,i.getRstCheckExtraArgs(),n,e).activate(t.subscriptions),n.log("Enabled rstcheck linting...");return}if(!await e.checkRstCheckInstall()){n.log("Didn't detect rstcheck module, skipping..");return}let a=Qr(),c=await e.checkRstCheckVersion();if(a(c)<6){n.log(`Detected old rstcheck version ${c}, skipping..`);return}new Ue("rstcheck","rstcheck._cli",null,i.getRstCheckExtraArgs(),n,e).activate(t.subscriptions),n.log("Enabled rstcheck linting...")}if(o.indexOf("rst-lint")===-1&&!r){let s=i.getRstLintPath();(s||await e.checkRstLintInstall())&&(new Ue("rst-lint","restructuredtext_lint.cli",s,i.getRstLintExtraArgs(),n,e).activate(t.subscriptions),n.log("Enabled rst-lint linting..."))}}l();var Di=k("vscode");async function ku(t){let e=t.globalState.get("activationCount")||0;e++,await t.globalState.update("activationCount",e),await Pf(t,e)}async function Pf(t,e){if(!Of(t)&&e%20===0){let n="Rate Extension";if(await Di.window.showInformationMessage("You have used this extension for a while. Would you like to rate it in Visual Studio Code Marketplace?",n)===n){let o=`https://marketplace.visualstudio.com/items?itemName=${encodeURIComponent(t.extension.id)}&ssr=false#review-details`;Di.env.openExternal(Di.Uri.parse(o)),Mf(t)}}}function Of(t){return t.globalState.get("ratingProvided")||!1}function Mf(t){t.globalState.update("ratingProvided",!0)}var $u="";function u2(){return $u}async function c2(t){ts(t.globalState),is(t.workspaceState),await as(t),$u=t.extensionPath;let e=Q.getNamed(M.Logger,Tt.Main),n=t.extension.packageJSON.displayName,r=t.extension.id,i=t.extension.packageJSON.version;e.log(`Loaded extension "${n}" (${r}) in ${Fe.env.appName}.`),e.log(`Version: ${i}`),await e.logPlatform(),e.log("Please visit https://docs.restructuredtext.net to learn how to configure the extension."),await ws(t);let o=Q.get(M.Configuration),s=o.getConflictingExtensions();for(let u of s){let p=Fe.extensions.getExtension(u);if(p){let d=`Found conflicting extension ${p.packageJSON.displayName}(${u}). You have to uninstall it.`;e.log(d),e.show()}}let a=o.getRecommendedExtensions();for(let u of a){let p=Fe.extensions.getExtension(u);if(!p&&!o.getPythonRecommendationDisabled()){let d=`This extension depends on ${p.packageJSON.displayName}. You have to install it.`;e.log(d),e.show()}}let c=new pn;t.subscriptions.push(c),c.register(new dn),c.register(new fn),t.subscriptions.push(Fe.workspace.onDidChangeConfiguration(()=>{e.updateConfiguration()})),await ku(t),Fe.env.uiKind===Fe.UIKind.Desktop?await kf(t,e):(await $f(t,e),Fe.window.showInformationMessage("reStructuredText extension running in web mode with limited features"))}async function kf(t,e){let n=Q.get(M.Python);await n.setup(),await Mu(t,n,e)}async function $f(t,e){e.log("Running in web mode - some features like linting are disabled")}})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
