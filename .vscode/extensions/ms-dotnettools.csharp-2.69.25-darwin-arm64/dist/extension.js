"use strict";var vBe=Object.create;var kN=Object.defineProperty;var yBe=Object.getOwnPropertyDescriptor;var _Be=Object.getOwnPropertyNames;var bBe=Object.getPrototypeOf,wBe=Object.prototype.hasOwnProperty;var Ti=(r,e)=>()=>(r&&(e=r(r=0)),e);var E=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),JO=(r,e)=>{for(var t in e)kN(r,t,{get:e[t],enumerable:!0})},gle=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _Be(e))!wBe.call(r,i)&&i!==t&&kN(r,i,{get:()=>e[i],enumerable:!(n=yBe(e,i))||n.enumerable});return r};var we=(r,e,t)=>(t=r!=null?vBe(bBe(r)):{},gle(e||!r||!r.__esModule?kN(t,"default",{value:r,enumerable:!0}):t,r)),WS=r=>gle(kN({},"__esModule",{value:!0}),r);var eI=E((aMt,Ele)=>{var SBe="2.0.0",CBe=Number.MAX_SAFE_INTEGER||9007199254740991,TBe=16,DBe=250,EBe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Ele.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:TBe,MAX_SAFE_BUILD_LENGTH:DBe,MAX_SAFE_INTEGER:CBe,RELEASE_TYPES:EBe,SEMVER_SPEC_VERSION:SBe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var tI=E((cMt,Ple)=>{var PBe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Ple.exports=PBe});var J0=E((nw,Rle)=>{var{MAX_SAFE_COMPONENT_LENGTH:R4,MAX_SAFE_BUILD_LENGTH:RBe,MAX_LENGTH:xBe}=eI(),OBe=tI();nw=Rle.exports={};var IBe=nw.re=[],kBe=nw.safeRe=[],pn=nw.src=[],mn=nw.t={},ABe=0,x4="[a-zA-Z0-9-]",LBe=[["\\s",1],["\\d",xBe],[x4,RBe]],MBe=r=>{for(let[e,t]of LBe)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Zi=(r,e,t)=>{let n=MBe(e),i=ABe++;OBe(r,i,e),mn[r]=i,pn[i]=e,IBe[i]=new RegExp(e,t?"g":void 0),kBe[i]=new RegExp(n,t?"g":void 0)};Zi("NUMERICIDENTIFIER","0|[1-9]\\d*");Zi("NUMERICIDENTIFIERLOOSE","\\d+");Zi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${x4}*`);Zi("MAINVERSION",`(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})`);Zi("MAINVERSIONLOOSE",`(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})`);Zi("PRERELEASEIDENTIFIER",`(?:${pn[mn.NUMERICIDENTIFIER]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASEIDENTIFIERLOOSE",`(?:${pn[mn.NUMERICIDENTIFIERLOOSE]}|${pn[mn.NONNUMERICIDENTIFIER]})`);Zi("PRERELEASE",`(?:-(${pn[mn.PRERELEASEIDENTIFIER]}(?:\\.${pn[mn.PRERELEASEIDENTIFIER]})*))`);Zi("PRERELEASELOOSE",`(?:-?(${pn[mn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pn[mn.PRERELEASEIDENTIFIERLOOSE]})*))`);Zi("BUILDIDENTIFIER",`${x4}+`);Zi("BUILD",`(?:\\+(${pn[mn.BUILDIDENTIFIER]}(?:\\.${pn[mn.BUILDIDENTIFIER]})*))`);Zi("FULLPLAIN",`v?${pn[mn.MAINVERSION]}${pn[mn.PRERELEASE]}?${pn[mn.BUILD]}?`);Zi("FULL",`^${pn[mn.FULLPLAIN]}$`);Zi("LOOSEPLAIN",`[v=\\s]*${pn[mn.MAINVERSIONLOOSE]}${pn[mn.PRERELEASELOOSE]}?${pn[mn.BUILD]}?`);Zi("LOOSE",`^${pn[mn.LOOSEPLAIN]}$`);Zi("GTLT","((?:<|>)?=?)");Zi("XRANGEIDENTIFIERLOOSE",`${pn[mn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Zi("XRANGEIDENTIFIER",`${pn[mn.NUMERICIDENTIFIER]}|x|X|\\*`);Zi("XRANGEPLAIN",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:${pn[mn.PRERELEASE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGEPLAINLOOSE",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:${pn[mn.PRERELEASELOOSE]})?${pn[mn.BUILD]}?)?)?`);Zi("XRANGE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAIN]}$`);Zi("XRANGELOOSE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COERCE",`(^|[^\\d])(\\d{1,${R4}})(?:\\.(\\d{1,${R4}}))?(?:\\.(\\d{1,${R4}}))?(?:$|[^\\d])`);Zi("COERCERTL",pn[mn.COERCE],!0);Zi("LONETILDE","(?:~>?)");Zi("TILDETRIM",`(\\s*)${pn[mn.LONETILDE]}\\s+`,!0);nw.tildeTrimReplace="$1~";Zi("TILDE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAIN]}$`);Zi("TILDELOOSE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("LONECARET","(?:\\^)");Zi("CARETTRIM",`(\\s*)${pn[mn.LONECARET]}\\s+`,!0);nw.caretTrimReplace="$1^";Zi("CARET",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAIN]}$`);Zi("CARETLOOSE",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAINLOOSE]}$`);Zi("COMPARATORLOOSE",`^${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]})$|^$`);Zi("COMPARATOR",`^${pn[mn.GTLT]}\\s*(${pn[mn.FULLPLAIN]})$|^$`);Zi("COMPARATORTRIM",`(\\s*)${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]}|${pn[mn.XRANGEPLAIN]})`,!0);nw.comparatorTrimReplace="$1$2$3";Zi("HYPHENRANGE",`^\\s*(${pn[mn.XRANGEPLAIN]})\\s+-\\s+(${pn[mn.XRANGEPLAIN]})\\s*$`);Zi("HYPHENRANGELOOSE",`^\\s*(${pn[mn.XRANGEPLAINLOOSE]})\\s+-\\s+(${pn[mn.XRANGEPLAINLOOSE]})\\s*$`);Zi("STAR","(<|>)?=?\\s*\\*");Zi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Zi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var LN=E((uMt,xle)=>{var NBe=Object.freeze({loose:!0}),FBe=Object.freeze({}),qBe=r=>r?typeof r!="object"?NBe:r:FBe;xle.exports=qBe});var O4=E((lMt,kle)=>{var Ole=/^[0-9]+$/,Ile=(r,e)=>{let t=Ole.test(r),n=Ole.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},jBe=(r,e)=>Ile(e,r);kle.exports={compareIdentifiers:Ile,rcompareIdentifiers:jBe}});var Nf=E((dMt,Nle)=>{var MN=tI(),{MAX_LENGTH:Ale,MAX_SAFE_INTEGER:NN}=eI(),{safeRe:Lle,t:Mle}=J0(),zBe=LN(),{compareIdentifiers:X0}=O4(),I4=class r{constructor(e,t){if(t=zBe(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ale)throw new TypeError(`version is longer than ${Ale} characters`);MN("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Lle[Mle.LOOSE]:Lle[Mle.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>NN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>NN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>NN||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<NN)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(MN("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),X0(this.major,e.major)||X0(this.minor,e.minor)||X0(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(MN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return X0(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(MN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return X0(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),X0(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Nle.exports=I4});var GS=E((fMt,qle)=>{var Fle=Nf(),UBe=(r,e,t=!1)=>{if(r instanceof Fle)return r;try{return new Fle(r,e)}catch(n){if(!t)return null;throw n}};qle.exports=UBe});var zle=E((hMt,jle)=>{var HBe=GS(),BBe=(r,e)=>{let t=HBe(r,e);return t?t.version:null};jle.exports=BBe});var Hle=E((pMt,Ule)=>{var WBe=GS(),$Be=(r,e)=>{let t=WBe(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Ule.exports=$Be});var $le=E((mMt,Wle)=>{var Ble=Nf(),VBe=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new Ble(r instanceof Ble?r.version:r,t).inc(e,n,i).version}catch{return null}};Wle.exports=VBe});var Kle=E((gMt,Gle)=>{var Vle=GS(),GBe=(r,e)=>{let t=Vle(r,null,!0),n=Vle(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};Gle.exports=GBe});var Jle=E((vMt,Yle)=>{var KBe=Nf(),YBe=(r,e)=>new KBe(r,e).major;Yle.exports=YBe});var Qle=E((yMt,Xle)=>{var JBe=Nf(),XBe=(r,e)=>new JBe(r,e).minor;Xle.exports=XBe});var ede=E((_Mt,Zle)=>{var QBe=Nf(),ZBe=(r,e)=>new QBe(r,e).patch;Zle.exports=ZBe});var rde=E((bMt,tde)=>{var eWe=GS(),tWe=(r,e)=>{let t=eWe(r,e);return t&&t.prerelease.length?t.prerelease:null};tde.exports=tWe});var rv=E((wMt,ide)=>{var nde=Nf(),rWe=(r,e,t)=>new nde(r,t).compare(new nde(e,t));ide.exports=rWe});var sde=E((SMt,ode)=>{var nWe=rv(),iWe=(r,e,t)=>nWe(e,r,t);ode.exports=iWe});var cde=E((CMt,ade)=>{var oWe=rv(),sWe=(r,e)=>oWe(r,e,!0);ade.exports=sWe});var FN=E((TMt,lde)=>{var ude=Nf(),aWe=(r,e,t)=>{let n=new ude(r,t),i=new ude(e,t);return n.compare(i)||n.compareBuild(i)};lde.exports=aWe});var fde=E((DMt,dde)=>{var cWe=FN(),uWe=(r,e)=>r.sort((t,n)=>cWe(t,n,e));dde.exports=uWe});var pde=E((EMt,hde)=>{var lWe=FN(),dWe=(r,e)=>r.sort((t,n)=>lWe(n,t,e));hde.exports=dWe});var rI=E((PMt,mde)=>{var fWe=rv(),hWe=(r,e,t)=>fWe(r,e,t)>0;mde.exports=hWe});var qN=E((RMt,gde)=>{var pWe=rv(),mWe=(r,e,t)=>pWe(r,e,t)<0;gde.exports=mWe});var k4=E((xMt,vde)=>{var gWe=rv(),vWe=(r,e,t)=>gWe(r,e,t)===0;vde.exports=vWe});var A4=E((OMt,yde)=>{var yWe=rv(),_We=(r,e,t)=>yWe(r,e,t)!==0;yde.exports=_We});var jN=E((IMt,_de)=>{var bWe=rv(),wWe=(r,e,t)=>bWe(r,e,t)>=0;_de.exports=wWe});var zN=E((kMt,bde)=>{var SWe=rv(),CWe=(r,e,t)=>SWe(r,e,t)<=0;bde.exports=CWe});var L4=E((AMt,wde)=>{var TWe=k4(),DWe=A4(),EWe=rI(),PWe=jN(),RWe=qN(),xWe=zN(),OWe=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return TWe(r,t,n);case"!=":return DWe(r,t,n);case">":return EWe(r,t,n);case">=":return PWe(r,t,n);case"<":return RWe(r,t,n);case"<=":return xWe(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};wde.exports=OWe});var Cde=E((LMt,Sde)=>{var IWe=Nf(),kWe=GS(),{safeRe:UN,t:HN}=J0(),AWe=(r,e)=>{if(r instanceof IWe)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(UN[HN.COERCE]);else{let n;for(;(n=UN[HN.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),UN[HN.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;UN[HN.COERCERTL].lastIndex=-1}return t===null?null:kWe(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Sde.exports=AWe});var Dde=E((MMt,Tde)=>{"use strict";Tde.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Pde=E((NMt,Ede)=>{"use strict";Ede.exports=cs;cs.Node=$T;cs.create=cs;function cs(r){var e=this;if(e instanceof cs||(e=new cs),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}cs.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};cs.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};cs.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};cs.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)MWe(this,arguments[r]);return this.length};cs.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)NWe(this,arguments[r]);return this.length};cs.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};cs.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};cs.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};cs.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};cs.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};cs.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};cs.prototype.map=function(r,e){e=e||this;for(var t=new cs,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};cs.prototype.mapReverse=function(r,e){e=e||this;for(var t=new cs,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};cs.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};cs.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};cs.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};cs.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};cs.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};cs.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new cs;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};cs.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=LWe(this,i,t[n]);return o};cs.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function LWe(r,e,t){var n=e===r.head?new $T(t,null,e,r):new $T(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function MWe(r,e){r.tail=new $T(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function NWe(r,e){r.head=new $T(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function $T(r,e,t,n){if(!(this instanceof $T))return new $T(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Dde()(cs)}catch{}});var kde=E((FMt,Ide)=>{"use strict";var FWe=Pde(),VT=Symbol("max"),ow=Symbol("length"),Q0=Symbol("lengthCalculator"),iI=Symbol("allowStale"),GT=Symbol("maxAge"),iw=Symbol("dispose"),Rde=Symbol("noDisposeOnSet"),sd=Symbol("lruList"),cy=Symbol("cache"),Ode=Symbol("updateAgeOnGet"),M4=()=>1,F4=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[VT]=e.max||1/0,n=e.length||M4;if(this[Q0]=typeof n!="function"?M4:n,this[iI]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[GT]=e.maxAge||0,this[iw]=e.dispose,this[Rde]=e.noDisposeOnSet||!1,this[Ode]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[VT]=e||1/0,nI(this)}get max(){return this[VT]}set allowStale(e){this[iI]=!!e}get allowStale(){return this[iI]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[GT]=e,nI(this)}get maxAge(){return this[GT]}set lengthCalculator(e){typeof e!="function"&&(e=M4),e!==this[Q0]&&(this[Q0]=e,this[ow]=0,this[sd].forEach(t=>{t.length=this[Q0](t.value,t.key),this[ow]+=t.length})),nI(this)}get lengthCalculator(){return this[Q0]}get length(){return this[ow]}get itemCount(){return this[sd].length}rforEach(e,t){t=t||this;for(let n=this[sd].tail;n!==null;){let i=n.prev;xde(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[sd].head;n!==null;){let i=n.next;xde(this,e,n,t),n=i}}keys(){return this[sd].toArray().map(e=>e.key)}values(){return this[sd].toArray().map(e=>e.value)}reset(){this[iw]&&this[sd]&&this[sd].length&&this[sd].forEach(e=>this[iw](e.key,e.value)),this[cy]=new Map,this[sd]=new FWe,this[ow]=0}dump(){return this[sd].map(e=>BN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[sd]}set(e,t,n){if(n=n||this[GT],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Q0](t,e);if(this[cy].has(e)){if(o>this[VT])return Z0(this,this[cy].get(e)),!1;let c=this[cy].get(e).value;return this[iw]&&(this[Rde]||this[iw](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[ow]+=o-c.length,c.length=o,this.get(e),nI(this),!0}let s=new q4(e,t,o,i,n);return s.length>this[VT]?(this[iw]&&this[iw](e,t),!1):(this[ow]+=s.length,this[sd].unshift(s),this[cy].set(e,this[sd].head),nI(this),!0)}has(e){if(!this[cy].has(e))return!1;let t=this[cy].get(e).value;return!BN(this,t)}get(e){return N4(this,e,!0)}peek(e){return N4(this,e,!1)}pop(){let e=this[sd].tail;return e?(Z0(this,e),e.value):null}del(e){Z0(this,this[cy].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[cy].forEach((e,t)=>N4(this,t,!1))}},N4=(r,e,t)=>{let n=r[cy].get(e);if(n){let i=n.value;if(BN(r,i)){if(Z0(r,n),!r[iI])return}else t&&(r[Ode]&&(n.value.now=Date.now()),r[sd].unshiftNode(n));return i.value}},BN=(r,e)=>{if(!e||!e.maxAge&&!r[GT])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[GT]&&t>r[GT]},nI=r=>{if(r[ow]>r[VT])for(let e=r[sd].tail;r[ow]>r[VT]&&e!==null;){let t=e.prev;Z0(r,e),e=t}},Z0=(r,e)=>{if(e){let t=e.value;r[iw]&&r[iw](t.key,t.value),r[ow]-=t.length,r[cy].delete(t.key),r[sd].removeNode(e)}},q4=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},xde=(r,e,t,n)=>{let i=t.value;BN(r,i)&&(Z0(r,t),r[iI]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};Ide.exports=F4});var nv=E((qMt,Nde)=>{var j4=class r{constructor(e,t){if(t=jWe(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof z4)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Lde(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&VWe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&WWe)|(this.options.loose&&$We))+":"+e,i=Ade.get(n);if(i)return i;let o=this.options.loose,s=o?Bp[jh.HYPHENRANGELOOSE]:Bp[jh.HYPHENRANGE];e=e.replace(s,r$e(this.options.includePrerelease)),Na("hyphen replace",e),e=e.replace(Bp[jh.COMPARATORTRIM],UWe),Na("comparator trim",e),e=e.replace(Bp[jh.TILDETRIM],HWe),Na("tilde trim",e),e=e.replace(Bp[jh.CARETTRIM],BWe),Na("caret trim",e);let a=e.split(" ").map(d=>GWe(d,this.options)).join(" ").split(/\s+/).map(d=>t$e(d,this.options));o&&(a=a.filter(d=>(Na("loose invalid filter",d,this.options),!!d.match(Bp[jh.COMPARATORLOOSE])))),Na("range list",a);let c=new Map,u=a.map(d=>new z4(d,this.options));for(let d of u){if(Lde(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return Ade.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>Mde(n,t)&&e.set.some(i=>Mde(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new zWe(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(n$e(this.set[t],e,this.options))return!0;return!1}};Nde.exports=j4;var qWe=kde(),Ade=new qWe({max:1e3}),jWe=LN(),z4=oI(),Na=tI(),zWe=Nf(),{safeRe:Bp,t:jh,comparatorTrimReplace:UWe,tildeTrimReplace:HWe,caretTrimReplace:BWe}=J0(),{FLAG_INCLUDE_PRERELEASE:WWe,FLAG_LOOSE:$We}=eI(),Lde=r=>r.value==="<0.0.0-0",VWe=r=>r.value==="",Mde=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},GWe=(r,e)=>(Na("comp",r,e),r=JWe(r,e),Na("caret",r),r=KWe(r,e),Na("tildes",r),r=QWe(r,e),Na("xrange",r),r=e$e(r,e),Na("stars",r),r),zh=r=>!r||r.toLowerCase()==="x"||r==="*",KWe=(r,e)=>r.trim().split(/\s+/).map(t=>YWe(t,e)).join(" "),YWe=(r,e)=>{let t=e.loose?Bp[jh.TILDELOOSE]:Bp[jh.TILDE];return r.replace(t,(n,i,o,s,a)=>{Na("tilde",r,n,i,o,s,a);let c;return zh(i)?c="":zh(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:zh(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Na("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Na("tilde return",c),c})},JWe=(r,e)=>r.trim().split(/\s+/).map(t=>XWe(t,e)).join(" "),XWe=(r,e)=>{Na("caret",r,e);let t=e.loose?Bp[jh.CARETLOOSE]:Bp[jh.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Na("caret",r,i,o,s,a,c);let u;return zh(o)?u="":zh(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:zh(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Na("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Na("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Na("caret return",u),u})},QWe=(r,e)=>(Na("replaceXRanges",r,e),r.split(/\s+/).map(t=>ZWe(t,e)).join(" ")),ZWe=(r,e)=>{r=r.trim();let t=e.loose?Bp[jh.XRANGELOOSE]:Bp[jh.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Na("xRange",r,n,i,o,s,a,c);let u=zh(o),l=u||zh(s),d=l||zh(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Na("xRange return",n),n})},e$e=(r,e)=>(Na("replaceStars",r,e),r.trim().replace(Bp[jh.STAR],"")),t$e=(r,e)=>(Na("replaceGTE0",r,e),r.trim().replace(Bp[e.includePrerelease?jh.GTE0PRE:jh.GTE0],"")),r$e=r=>(e,t,n,i,o,s,a,c,u,l,d,f,m)=>(zh(n)?t="":zh(i)?t=`>=${n}.0.0${r?"-0":""}`:zh(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,zh(u)?c="":zh(l)?c=`<${+u+1}.0.0-0`:zh(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),n$e=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Na(r[n].semver),r[n].semver!==z4.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var oI=E((jMt,Hde)=>{var sI=Symbol("SemVer ANY"),B4=class r{static get ANY(){return sI}constructor(e,t){if(t=Fde(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),H4("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===sI?this.value="":this.value=this.operator+this.semver.version,H4("comp",this)}parse(e){let t=this.options.loose?qde[jde.COMPARATORLOOSE]:qde[jde.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new zde(n[2],this.options.loose):this.semver=sI}toString(){return this.value}test(e){if(H4("Comparator.test",e,this.options.loose),this.semver===sI||e===sI)return!0;if(typeof e=="string")try{e=new zde(e,this.options)}catch{return!1}return U4(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ude(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Ude(this.value,t).test(e.semver):(t=Fde(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||U4(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||U4(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Hde.exports=B4;var Fde=LN(),{safeRe:qde,t:jde}=J0(),U4=L4(),H4=tI(),zde=Nf(),Ude=nv()});var eE=E((zMt,Bde)=>{var i$e=nv(),o$e=(r,e,t)=>{try{e=new i$e(e,t)}catch{return!1}return e.test(r)};Bde.exports=o$e});var $de=E((UMt,Wde)=>{var s$e=nv(),a$e=(r,e)=>new s$e(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Wde.exports=a$e});var Gde=E((HMt,Vde)=>{var c$e=Nf(),u$e=nv(),l$e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new u$e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new c$e(n,t))}),n};Vde.exports=l$e});var Yde=E((BMt,Kde)=>{var d$e=Nf(),f$e=nv(),h$e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new f$e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new d$e(n,t))}),n};Kde.exports=h$e});var Qde=E((WMt,Xde)=>{var W4=Nf(),p$e=nv(),Jde=rI(),m$e=(r,e)=>{r=new p$e(r,e);let t=new W4("0.0.0");if(r.test(t)||(t=new W4("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new W4(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Jde(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||Jde(t,o))&&(t=o)}return t&&r.test(t)?t:null};Xde.exports=m$e});var efe=E(($Mt,Zde)=>{var g$e=nv(),v$e=(r,e)=>{try{return new g$e(r,e).range||"*"}catch{return null}};Zde.exports=v$e});var WN=E((VMt,ife)=>{var y$e=Nf(),nfe=oI(),{ANY:_$e}=nfe,b$e=nv(),w$e=eE(),tfe=rI(),rfe=qN(),S$e=zN(),C$e=jN(),T$e=(r,e,t,n)=>{r=new y$e(r,n),e=new b$e(e,n);let i,o,s,a,c;switch(t){case">":i=tfe,o=S$e,s=rfe,a=">",c=">=";break;case"<":i=rfe,o=C$e,s=tfe,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(w$e(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(m=>{m.semver===_$e&&(m=new nfe(">=0.0.0")),d=d||m,f=f||m,i(m.semver,d.semver,n)?d=m:s(m.semver,f.semver,n)&&(f=m)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};ife.exports=T$e});var sfe=E((GMt,ofe)=>{var D$e=WN(),E$e=(r,e,t)=>D$e(r,e,">",t);ofe.exports=E$e});var cfe=E((KMt,afe)=>{var P$e=WN(),R$e=(r,e,t)=>P$e(r,e,"<",t);afe.exports=R$e});var dfe=E((YMt,lfe)=>{var ufe=nv(),x$e=(r,e,t)=>(r=new ufe(r,t),e=new ufe(e,t),r.intersects(e,t));lfe.exports=x$e});var hfe=E((JMt,ffe)=>{var O$e=eE(),I$e=rv();ffe.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>I$e(l,d,t));for(let l of s)O$e(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var _fe=E((XMt,yfe)=>{var pfe=nv(),V4=oI(),{ANY:$4}=V4,aI=eE(),G4=rv(),k$e=(r,e,t={})=>{if(r===e)return!0;r=new pfe(r,t),e=new pfe(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=L$e(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},A$e=[new V4(">=0.0.0-0")],mfe=[new V4(">=0.0.0")],L$e=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===$4){if(e.length===1&&e[0].semver===$4)return!0;t.includePrerelease?r=A$e:r=mfe}if(e.length===1&&e[0].semver===$4){if(t.includePrerelease)return!0;e=mfe}let n=new Set,i,o;for(let m of r)m.operator===">"||m.operator===">="?i=gfe(i,m,t):m.operator==="<"||m.operator==="<="?o=vfe(o,m,t):n.add(m.semver);if(n.size>1)return null;let s;if(i&&o){if(s=G4(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let m of n){if(i&&!aI(m,String(i),t)||o&&!aI(m,String(o),t))return null;for(let _ of e)if(!aI(m,String(_),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of e){if(l=l||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator===">"||m.operator===">="){if(a=gfe(i,m,t),a===m&&a!==i)return!1}else if(i.operator===">="&&!aI(i.semver,String(m),t))return!1}if(o){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=vfe(o,m,t),c===m&&c!==o)return!1}else if(o.operator==="<="&&!aI(o.semver,String(m),t))return!1}if(!m.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},gfe=(r,e,t)=>{if(!r)return e;let n=G4(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},vfe=(r,e,t)=>{if(!r)return e;let n=G4(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};yfe.exports=k$e});var KS=E((QMt,Sfe)=>{var K4=J0(),bfe=eI(),M$e=Nf(),wfe=O4(),N$e=GS(),F$e=zle(),q$e=Hle(),j$e=$le(),z$e=Kle(),U$e=Jle(),H$e=Qle(),B$e=ede(),W$e=rde(),$$e=rv(),V$e=sde(),G$e=cde(),K$e=FN(),Y$e=fde(),J$e=pde(),X$e=rI(),Q$e=qN(),Z$e=k4(),e3e=A4(),t3e=jN(),r3e=zN(),n3e=L4(),i3e=Cde(),o3e=oI(),s3e=nv(),a3e=eE(),c3e=$de(),u3e=Gde(),l3e=Yde(),d3e=Qde(),f3e=efe(),h3e=WN(),p3e=sfe(),m3e=cfe(),g3e=dfe(),v3e=hfe(),y3e=_fe();Sfe.exports={parse:N$e,valid:F$e,clean:q$e,inc:j$e,diff:z$e,major:U$e,minor:H$e,patch:B$e,prerelease:W$e,compare:$$e,rcompare:V$e,compareLoose:G$e,compareBuild:K$e,sort:Y$e,rsort:J$e,gt:X$e,lt:Q$e,eq:Z$e,neq:e3e,gte:t3e,lte:r3e,cmp:n3e,coerce:i3e,Comparator:o3e,Range:s3e,satisfies:a3e,toComparators:c3e,maxSatisfying:u3e,minSatisfying:l3e,minVersion:d3e,validRange:f3e,outside:h3e,gtr:p3e,ltr:m3e,intersects:g3e,simplifyRange:v3e,subset:y3e,SemVer:M$e,re:K4.re,src:K4.src,tokens:K4.t,SEMVER_SPEC_VERSION:bfe.SEMVER_SPEC_VERSION,RELEASE_TYPES:bfe.RELEASE_TYPES,compareIdentifiers:wfe.compareIdentifiers,rcompareIdentifiers:wfe.rcompareIdentifiers}});var $p=E(Q4=>{"use strict";Q4.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};Q4.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var Afe=E((mNt,kfe)=>{var QS=require("constants"),P3e=process.cwd,nF=null,R3e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return nF||(nF=P3e.call(process)),nF};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Z4=process.chdir,process.chdir=function(r){nF=null,Z4.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Z4));var Z4;kfe.exports=x3e;function x3e(r){QS.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,m){m&&process.nextTick(m)},r.lchownSync=function(){}),R3e==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,m,_){var D=Date.now(),O=0;l(f,m,function M(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-D<6e4){setTimeout(function(){r.stat(m,function(U,ne){U&&U.code==="ENOENT"?l(f,m,M):_(A)})},O),O<100&&(O+=10);return}_&&_(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,m,_,D,O,M){var A;if(M&&typeof M=="function"){var U=0;A=function(ne,de,ye){if(ne&&ne.code==="EAGAIN"&&U<10)return U++,l.call(r,f,m,_,D,O,A);M.apply(this,arguments)}}return l.call(r,f,m,_,D,O,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,m,_,D){for(var O=0;;)try{return l.call(r,d,f,m,_,D)}catch(M){if(M.code==="EAGAIN"&&O<10){O++;continue}throw M}}}(r.readSync);function e(l){l.lchmod=function(d,f,m){l.open(d,QS.O_WRONLY|QS.O_SYMLINK,f,function(_,D){if(_){m&&m(_);return}l.fchmod(D,f,function(O){l.close(D,function(M){m&&m(O||M)})})})},l.lchmodSync=function(d,f){var m=l.openSync(d,QS.O_WRONLY|QS.O_SYMLINK,f),_=!0,D;try{D=l.fchmodSync(m,f),_=!1}finally{if(_)try{l.closeSync(m)}catch{}else l.closeSync(m)}return D}}function t(l){QS.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,m,_){l.open(d,QS.O_SYMLINK,function(D,O){if(D){_&&_(D);return}l.futimes(O,f,m,function(M){l.close(O,function(A){_&&_(M||A)})})})},l.lutimesSync=function(d,f,m){var _=l.openSync(d,QS.O_SYMLINK),D,O=!0;try{D=l.futimesSync(_,f,m),O=!1}finally{if(O)try{l.closeSync(_)}catch{}else l.closeSync(_)}return D}):l.futimes&&(l.lutimes=function(d,f,m,_){_&&process.nextTick(_)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,m){return l.call(r,d,f,function(_){u(_)&&(_=null),m&&m.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(m){if(!u(m))throw m}}}function o(l){return l&&function(d,f,m,_){return l.call(r,d,f,m,function(D){u(D)&&(D=null),_&&_.apply(this,arguments)})}}function s(l){return l&&function(d,f,m){try{return l.call(r,d,f,m)}catch(_){if(!u(_))throw _}}}function a(l){return l&&function(d,f,m){typeof f=="function"&&(m=f,f=null);function _(D,O){O&&(O.uid<0&&(O.uid+=4294967296),O.gid<0&&(O.gid+=4294967296)),m&&m.apply(this,arguments)}return f?l.call(r,d,f,_):l.call(r,d,_)}}function c(l){return l&&function(d,f){var m=f?l.call(r,d,f):l.call(r,d);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var Nfe=E((gNt,Mfe)=>{var Lfe=require("stream").Stream;Mfe.exports=O3e;function O3e(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);Lfe.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);Lfe.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var qfe=E((vNt,Ffe)=>{"use strict";Ffe.exports=k3e;var I3e=Object.getPrototypeOf||function(r){return r.__proto__};function k3e(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:I3e(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var Ff=E((yNt,r6)=>{var Mc=require("fs"),A3e=Afe(),L3e=Nfe(),M3e=qfe(),iF=require("util"),Yd,sF;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Yd=Symbol.for("graceful-fs.queue"),sF=Symbol.for("graceful-fs.previous")):(Yd="___graceful-fs.queue",sF="___graceful-fs.previous");function N3e(){}function Ufe(r,e){Object.defineProperty(r,Yd,{get:function(){return e}})}var ZT=N3e;iF.debuglog?ZT=iF.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ZT=function(){var r=iF.format.apply(iF,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});Mc[Yd]||(jfe=global[Yd]||[],Ufe(Mc,jfe),Mc.close=function(r){function e(t,n){return r.call(Mc,t,function(i){i||zfe(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,sF,{value:r}),e}(Mc.close),Mc.closeSync=function(r){function e(t){r.apply(Mc,arguments),zfe()}return Object.defineProperty(e,sF,{value:r}),e}(Mc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ZT(Mc[Yd]),require("assert").equal(Mc[Yd].length,0)}));var jfe;global[Yd]||Ufe(global,Mc[Yd]);r6.exports=e6(M3e(Mc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Mc.__patched&&(r6.exports=e6(Mc),Mc.__patched=!0);function e6(r){A3e(r),r.gracefulify=e6,r.createReadStream=de,r.createWriteStream=ye;var e=r.readFile;r.readFile=t;function t(ee,De,ae){return typeof De=="function"&&(ae=De,De=null),ce(ee,De,ae);function ce(qe,Ne,ue,Ce){return e(qe,Ne,function(be){be&&(be.code==="EMFILE"||be.code==="ENFILE")?iE([ce,[qe,Ne,ue],be,Ce||Date.now(),Date.now()]):typeof ue=="function"&&ue.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(ee,De,ae,ce){return typeof ae=="function"&&(ce=ae,ae=null),qe(ee,De,ae,ce);function qe(Ne,ue,Ce,be,xe){return n(Ne,ue,Ce,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?iE([qe,[Ne,ue,Ce,be],Me,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(ee,De,ae,ce){return typeof ae=="function"&&(ce=ae,ae=null),qe(ee,De,ae,ce);function qe(Ne,ue,Ce,be,xe){return o(Ne,ue,Ce,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?iE([qe,[Ne,ue,Ce,be],Me,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(ee,De,ae,ce){return typeof ae=="function"&&(ce=ae,ae=0),qe(ee,De,ae,ce);function qe(Ne,ue,Ce,be,xe){return a(Ne,ue,Ce,function(Me){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?iE([qe,[Ne,ue,Ce,be],Me,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(ee,De,ae){typeof De=="function"&&(ae=De,De=null);var ce=l.test(process.version)?function(ue,Ce,be,xe){return u(ue,qe(ue,Ce,be,xe))}:function(ue,Ce,be,xe){return u(ue,Ce,qe(ue,Ce,be,xe))};return ce(ee,De,ae);function qe(Ne,ue,Ce,be){return function(xe,Me){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?iE([ce,[Ne,ue,Ce],xe,be||Date.now(),Date.now()]):(Me&&Me.sort&&Me.sort(),typeof Ce=="function"&&Ce.call(this,xe,Me))}}}if(process.version.substr(0,4)==="v0.8"){var f=L3e(r);M=f.ReadStream,U=f.WriteStream}var m=r.ReadStream;m&&(M.prototype=Object.create(m.prototype),M.prototype.open=A);var _=r.WriteStream;_&&(U.prototype=Object.create(_.prototype),U.prototype.open=ne),Object.defineProperty(r,"ReadStream",{get:function(){return M},set:function(ee){M=ee},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return U},set:function(ee){U=ee},enumerable:!0,configurable:!0});var D=M;Object.defineProperty(r,"FileReadStream",{get:function(){return D},set:function(ee){D=ee},enumerable:!0,configurable:!0});var O=U;Object.defineProperty(r,"FileWriteStream",{get:function(){return O},set:function(ee){O=ee},enumerable:!0,configurable:!0});function M(ee,De){return this instanceof M?(m.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function A(){var ee=this;$(ee.path,ee.flags,ee.mode,function(De,ae){De?(ee.autoClose&&ee.destroy(),ee.emit("error",De)):(ee.fd=ae,ee.emit("open",ae),ee.read())})}function U(ee,De){return this instanceof U?(_.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function ne(){var ee=this;$(ee.path,ee.flags,ee.mode,function(De,ae){De?(ee.destroy(),ee.emit("error",De)):(ee.fd=ae,ee.emit("open",ae))})}function de(ee,De){return new r.ReadStream(ee,De)}function ye(ee,De){return new r.WriteStream(ee,De)}var V=r.open;r.open=$;function $(ee,De,ae,ce){return typeof ae=="function"&&(ce=ae,ae=null),qe(ee,De,ae,ce);function qe(Ne,ue,Ce,be,xe){return V(Ne,ue,Ce,function(Me,$e){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?iE([qe,[Ne,ue,Ce,be],Me,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}return r}function iE(r){ZT("ENQUEUE",r[0].name,r[1]),Mc[Yd].push(r),t6()}var oF;function zfe(){for(var r=Date.now(),e=0;e<Mc[Yd].length;++e)Mc[Yd][e].length>2&&(Mc[Yd][e][3]=r,Mc[Yd][e][4]=r);t6()}function t6(){if(clearTimeout(oF),oF=void 0,Mc[Yd].length!==0){var r=Mc[Yd].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)ZT("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){ZT("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(ZT("RETRY",e.name,t),e.apply(null,t.concat([i]))):Mc[Yd].push(r)}oF===void 0&&(oF=setTimeout(t6,0))}}});var dI=E(ZS=>{"use strict";var Hfe=$p().fromCallback,Uh=Ff(),F3e=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof Uh[r]=="function");Object.keys(Uh).forEach(r=>{r!=="promises"&&(ZS[r]=Uh[r])});F3e.forEach(r=>{ZS[r]=Hfe(Uh[r])});ZS.exists=function(r,e){return typeof e=="function"?Uh.exists(r,e):new Promise(t=>Uh.exists(r,t))};ZS.read=function(r,e,t,n,i,o){return typeof o=="function"?Uh.read(r,e,t,n,i,o):new Promise((s,a)=>{Uh.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};ZS.write=function(r,e,...t){return typeof t[t.length-1]=="function"?Uh.write(r,e,...t):new Promise((n,i)=>{Uh.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};typeof Uh.writev=="function"&&(ZS.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?Uh.writev(r,e,...t):new Promise((n,i)=>{Uh.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})});typeof Uh.realpath.native=="function"&&(ZS.realpath.native=Hfe(Uh.realpath.native))});var n6=E((bNt,Bfe)=>{Bfe.exports=r=>{let e=process.versions.node.split(".").map(t=>parseInt(t,10));return r=r.split(".").map(t=>parseInt(t,10)),e[0]>r[0]||e[0]===r[0]&&(e[1]>r[1]||e[1]===r[1]&&e[2]>=r[2])}});var Kfe=E((wNt,i6)=>{"use strict";var oE=dI(),aw=require("path"),q3e=n6(),Wfe=q3e("10.12.0"),$fe=r=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace(aw.parse(r).root,""))){let t=new Error(`Path contains invalid characters: ${r}`);throw t.code="EINVAL",t}},Vfe=r=>{let e={mode:511};return typeof r=="number"&&(r={mode:r}),{...e,...r}},Gfe=r=>{let e=new Error(`operation not permitted, mkdir '${r}'`);return e.code="EPERM",e.errno=-4048,e.path=r,e.syscall="mkdir",e};i6.exports.makeDir=async(r,e)=>{if($fe(r),e=Vfe(e),Wfe){let n=aw.resolve(r);return oE.mkdir(n,{mode:e.mode,recursive:!0})}let t=async n=>{try{await oE.mkdir(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(aw.dirname(n)===n)throw Gfe(n);if(i.message.includes("null bytes"))throw i;return await t(aw.dirname(n)),t(n)}try{if(!(await oE.stat(n)).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(aw.resolve(r))};i6.exports.makeDirSync=(r,e)=>{if($fe(r),e=Vfe(e),Wfe){let n=aw.resolve(r);return oE.mkdirSync(n,{mode:e.mode,recursive:!0})}let t=n=>{try{oE.mkdirSync(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(aw.dirname(n)===n)throw Gfe(n);if(i.message.includes("null bytes"))throw i;return t(aw.dirname(n)),t(n)}try{if(!oE.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(aw.resolve(r))}});var uy=E((SNt,Yfe)=>{"use strict";var j3e=$p().fromPromise,{makeDir:z3e,makeDirSync:o6}=Kfe(),s6=j3e(z3e);Yfe.exports={mkdirs:s6,mkdirsSync:o6,mkdirp:s6,mkdirpSync:o6,ensureDir:s6,ensureDirSync:o6}});var a6=E((CNt,Jfe)=>{"use strict";var sE=Ff();function U3e(r,e,t,n){sE.open(r,"r+",(i,o)=>{if(i)return n(i);sE.futimes(o,e,t,s=>{sE.close(o,a=>{n&&n(s||a)})})})}function H3e(r,e,t){let n=sE.openSync(r,"r+");return sE.futimesSync(n,e,t),sE.closeSync(n)}Jfe.exports={utimesMillis:U3e,utimesMillisSync:H3e}});var fI=E((TNt,ehe)=>{"use strict";var aE=dI(),Vp=require("path"),B3e=require("util"),W3e=n6(),aF=W3e("10.5.0"),Xfe=r=>aF?aE.stat(r,{bigint:!0}):aE.stat(r),c6=r=>aF?aE.statSync(r,{bigint:!0}):aE.statSync(r);function $3e(r,e){return Promise.all([Xfe(r),Xfe(e).catch(t=>{if(t.code==="ENOENT")return null;throw t})]).then(([t,n])=>({srcStat:t,destStat:n}))}function V3e(r,e){let t,n=c6(r);try{t=c6(e)}catch(i){if(i.code==="ENOENT")return{srcStat:n,destStat:null};throw i}return{srcStat:n,destStat:t}}function G3e(r,e,t,n){B3e.callbackify($3e)(r,e,(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;return a&&cF(s,a)?n(new Error("Source and destination must not be the same.")):s.isDirectory()&&u6(r,e)?n(new Error(uF(r,e,t))):n(null,{srcStat:s,destStat:a})})}function K3e(r,e,t){let{srcStat:n,destStat:i}=V3e(r,e);if(i&&cF(n,i))throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&u6(r,e))throw new Error(uF(r,e,t));return{srcStat:n,destStat:i}}function Qfe(r,e,t,n,i){let o=Vp.resolve(Vp.dirname(r)),s=Vp.resolve(Vp.dirname(t));if(s===o||s===Vp.parse(s).root)return i();let a=(c,u)=>c?c.code==="ENOENT"?i():i(c):cF(e,u)?i(new Error(uF(r,t,n))):Qfe(r,e,s,n,i);aF?aE.stat(s,{bigint:!0},a):aE.stat(s,a)}function Zfe(r,e,t,n){let i=Vp.resolve(Vp.dirname(r)),o=Vp.resolve(Vp.dirname(t));if(o===i||o===Vp.parse(o).root)return;let s;try{s=c6(o)}catch(a){if(a.code==="ENOENT")return;throw a}if(cF(e,s))throw new Error(uF(r,t,n));return Zfe(r,e,o,n)}function cF(r,e){return!!(e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev&&(aF||e.ino<Number.MAX_SAFE_INTEGER||e.size===r.size&&e.mode===r.mode&&e.nlink===r.nlink&&e.atimeMs===r.atimeMs&&e.mtimeMs===r.mtimeMs&&e.ctimeMs===r.ctimeMs&&e.birthtimeMs===r.birthtimeMs))}function u6(r,e){let t=Vp.resolve(r).split(Vp.sep).filter(i=>i),n=Vp.resolve(e).split(Vp.sep).filter(i=>i);return t.reduce((i,o,s)=>i&&n[s]===o,!0)}function uF(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}ehe.exports={checkPaths:G3e,checkPathsSync:K3e,checkParentPaths:Qfe,checkParentPathsSync:Zfe,isSrcSubdir:u6}});var ohe=E((DNt,ihe)=>{"use strict";var qf=Ff(),hI=require("path"),Y3e=uy().mkdirsSync,J3e=a6().utimesMillisSync,pI=fI();function X3e(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=pI.checkPathsSync(r,e,"copy");return pI.checkParentPathsSync(r,n,e,"copy"),Q3e(i,r,e,t)}function Q3e(r,e,t,n){if(n.filter&&!n.filter(e,t))return;let i=hI.dirname(t);return qf.existsSync(i)||Y3e(i),the(r,e,t,n)}function the(r,e,t,n){if(!(n.filter&&!n.filter(e,t)))return Z3e(r,e,t,n)}function Z3e(r,e,t,n){let o=(n.dereference?qf.statSync:qf.lstatSync)(e);if(o.isDirectory())return sVe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return eVe(o,r,e,t,n);if(o.isSymbolicLink())return uVe(r,e,t,n)}function eVe(r,e,t,n,i){return e?tVe(r,t,n,i):rhe(r,t,n,i)}function tVe(r,e,t,n){if(n.overwrite)return qf.unlinkSync(t),rhe(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function rhe(r,e,t,n){return qf.copyFileSync(e,t),n.preserveTimestamps&&rVe(r.mode,e,t),l6(t,r.mode)}function rVe(r,e,t){return nVe(r)&&iVe(t,r),oVe(e,t)}function nVe(r){return(r&128)===0}function iVe(r,e){return l6(r,e|128)}function l6(r,e){return qf.chmodSync(r,e)}function oVe(r,e){let t=qf.statSync(r);return J3e(e,t.atime,t.mtime)}function sVe(r,e,t,n,i){if(!e)return aVe(r.mode,t,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`);return nhe(t,n,i)}function aVe(r,e,t,n){return qf.mkdirSync(t),nhe(e,t,n),l6(t,r)}function nhe(r,e,t){qf.readdirSync(r).forEach(n=>cVe(n,r,e,t))}function cVe(r,e,t,n){let i=hI.join(e,r),o=hI.join(t,r),{destStat:s}=pI.checkPathsSync(i,o,"copy");return the(s,i,o,n)}function uVe(r,e,t,n){let i=qf.readlinkSync(e);if(n.dereference&&(i=hI.resolve(process.cwd(),i)),r){let o;try{o=qf.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return qf.symlinkSync(i,t);throw s}if(n.dereference&&(o=hI.resolve(process.cwd(),o)),pI.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(qf.statSync(t).isDirectory()&&pI.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return lVe(i,t)}else return qf.symlinkSync(i,t)}function lVe(r,e){return qf.unlinkSync(e),qf.symlinkSync(r,e)}ihe.exports=X3e});var d6=E((ENt,she)=>{"use strict";she.exports={copySync:ohe()}});var eC=E((PNt,che)=>{"use strict";var dVe=$p().fromPromise,ahe=dI();function fVe(r){return ahe.access(r).then(()=>!0).catch(()=>!1)}che.exports={pathExists:dVe(fVe),pathExistsSync:ahe.existsSync}});var vhe=E((RNt,ghe)=>{"use strict";var Gp=Ff(),mI=require("path"),hVe=uy().mkdirs,pVe=eC().pathExists,mVe=a6().utimesMillis,gI=fI();function gVe(r,e,t,n){typeof t=="function"&&!n?(n=t,t={}):typeof t=="function"&&(t={filter:t}),n=n||function(){},t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),gI.checkPaths(r,e,"copy",(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;gI.checkParentPaths(r,s,e,"copy",c=>c?n(c):t.filter?fhe(uhe,a,r,e,t,n):uhe(a,r,e,t,n))})}function uhe(r,e,t,n,i){let o=mI.dirname(t);pVe(o,(s,a)=>{if(s)return i(s);if(a)return f6(r,e,t,n,i);hVe(o,c=>c?i(c):f6(r,e,t,n,i))})}function fhe(r,e,t,n,i,o){Promise.resolve(i.filter(t,n)).then(s=>s?r(e,t,n,i,o):o(),s=>o(s))}function f6(r,e,t,n,i){return n.filter?fhe(lhe,r,e,t,n,i):lhe(r,e,t,n,i)}function lhe(r,e,t,n,i){(n.dereference?Gp.stat:Gp.lstat)(e,(s,a)=>{if(s)return i(s);if(a.isDirectory())return CVe(a,r,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return vVe(a,r,e,t,n,i);if(a.isSymbolicLink())return EVe(r,e,t,n,i)})}function vVe(r,e,t,n,i,o){return e?yVe(r,t,n,i,o):hhe(r,t,n,i,o)}function yVe(r,e,t,n,i){if(n.overwrite)Gp.unlink(t,o=>o?i(o):hhe(r,e,t,n,i));else return n.errorOnExist?i(new Error(`'${t}' already exists`)):i()}function hhe(r,e,t,n,i){Gp.copyFile(e,t,o=>o?i(o):n.preserveTimestamps?_Ve(r.mode,e,t,i):lF(t,r.mode,i))}function _Ve(r,e,t,n){return bVe(r)?wVe(t,r,i=>i?n(i):dhe(r,e,t,n)):dhe(r,e,t,n)}function bVe(r){return(r&128)===0}function wVe(r,e,t){return lF(r,e|128,t)}function dhe(r,e,t,n){SVe(e,t,i=>i?n(i):lF(t,r,n))}function lF(r,e,t){return Gp.chmod(r,e,t)}function SVe(r,e,t){Gp.stat(r,(n,i)=>n?t(n):mVe(e,i.atime,i.mtime,t))}function CVe(r,e,t,n,i,o){return e?e&&!e.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`)):phe(t,n,i,o):TVe(r.mode,t,n,i,o)}function TVe(r,e,t,n,i){Gp.mkdir(t,o=>{if(o)return i(o);phe(e,t,n,s=>s?i(s):lF(t,r,i))})}function phe(r,e,t,n){Gp.readdir(r,(i,o)=>i?n(i):mhe(o,r,e,t,n))}function mhe(r,e,t,n,i){let o=r.pop();return o?DVe(r,o,e,t,n,i):i()}function DVe(r,e,t,n,i,o){let s=mI.join(t,e),a=mI.join(n,e);gI.checkPaths(s,a,"copy",(c,u)=>{if(c)return o(c);let{destStat:l}=u;f6(l,s,a,i,d=>d?o(d):mhe(r,t,n,i,o))})}function EVe(r,e,t,n,i){Gp.readlink(e,(o,s)=>{if(o)return i(o);if(n.dereference&&(s=mI.resolve(process.cwd(),s)),r)Gp.readlink(t,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Gp.symlink(s,t,i):i(a):(n.dereference&&(c=mI.resolve(process.cwd(),c)),gI.isSrcSubdir(s,c)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${c}'.`)):r.isDirectory()&&gI.isSrcSubdir(c,s)?i(new Error(`Cannot overwrite '${c}' with '${s}'.`)):PVe(s,t,i)));else return Gp.symlink(s,t,i)})}function PVe(r,e,t){Gp.unlink(e,n=>n?t(n):Gp.symlink(r,e,t))}ghe.exports=gVe});var h6=E((xNt,yhe)=>{"use strict";var RVe=$p().fromCallback;yhe.exports={copy:RVe(vhe())}});var Phe=E((ONt,Ehe)=>{"use strict";var _he=Ff(),Che=require("path"),da=require("assert"),vI=process.platform==="win32";function The(r){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{r[t]=r[t]||_he[t],t=t+"Sync",r[t]=r[t]||_he[t]}),r.maxBusyTries=r.maxBusyTries||3}function p6(r,e,t){let n=0;typeof e=="function"&&(t=e,e={}),da(r,"rimraf: missing path"),da.strictEqual(typeof r,"string","rimraf: path should be a string"),da.strictEqual(typeof t,"function","rimraf: callback function required"),da(e,"rimraf: invalid options argument provided"),da.strictEqual(typeof e,"object","rimraf: options should be object"),The(e),bhe(r,e,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<e.maxBusyTries){n++;let s=n*100;return setTimeout(()=>bhe(r,e,i),s)}o.code==="ENOENT"&&(o=null)}t(o)})}function bhe(r,e,t){da(r),da(e),da(typeof t=="function"),e.lstat(r,(n,i)=>{if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&vI)return whe(r,e,n,t);if(i&&i.isDirectory())return dF(r,e,n,t);e.unlink(r,o=>{if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return vI?whe(r,e,o,t):dF(r,e,o,t);if(o.code==="EISDIR")return dF(r,e,o,t)}return t(o)})})}function whe(r,e,t,n){da(r),da(e),da(typeof n=="function"),e.chmod(r,438,i=>{i?n(i.code==="ENOENT"?null:t):e.stat(r,(o,s)=>{o?n(o.code==="ENOENT"?null:t):s.isDirectory()?dF(r,e,t,n):e.unlink(r,n)})})}function She(r,e,t){let n;da(r),da(e);try{e.chmodSync(r,438)}catch(i){if(i.code==="ENOENT")return;throw t}try{n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?fF(r,e,t):e.unlinkSync(r)}function dF(r,e,t,n){da(r),da(e),da(typeof n=="function"),e.rmdir(r,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?xVe(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function xVe(r,e,t){da(r),da(e),da(typeof t=="function"),e.readdir(r,(n,i)=>{if(n)return t(n);let o=i.length,s;if(o===0)return e.rmdir(r,t);i.forEach(a=>{p6(Che.join(r,a),e,c=>{if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function Dhe(r,e){let t;e=e||{},The(e),da(r,"rimraf: missing path"),da.strictEqual(typeof r,"string","rimraf: path should be a string"),da(e,"rimraf: missing options"),da.strictEqual(typeof e,"object","rimraf: options should be object");try{t=e.lstatSync(r)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&vI&&She(r,e,n)}try{t&&t.isDirectory()?fF(r,e,null):e.unlinkSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return vI?She(r,e,n):fF(r,e,n);if(n.code!=="EISDIR")throw n;fF(r,e,n)}}function fF(r,e,t){da(r),da(e);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOTDIR")throw t;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")OVe(r,e);else if(n.code!=="ENOENT")throw n}}function OVe(r,e){if(da(r),da(e),e.readdirSync(r).forEach(t=>Dhe(Che.join(r,t),e)),vI){let t=Date.now();do try{return e.rmdirSync(r,e)}catch{}while(Date.now()-t<500)}else return e.rmdirSync(r,e)}Ehe.exports=p6;p6.sync=Dhe});var yI=E((INt,xhe)=>{"use strict";var IVe=$p().fromCallback,Rhe=Phe();xhe.exports={remove:IVe(Rhe),removeSync:Rhe.sync}});var Fhe=E((kNt,Nhe)=>{"use strict";var kVe=$p().fromCallback,khe=Ff(),Ahe=require("path"),Lhe=uy(),Mhe=yI(),Ohe=kVe(function(e,t){t=t||function(){},khe.readdir(e,(n,i)=>{if(n)return Lhe.mkdirs(e,t);i=i.map(s=>Ahe.join(e,s)),o();function o(){let s=i.pop();if(!s)return t();Mhe.remove(s,a=>{if(a)return t(a);o()})}})});function Ihe(r){let e;try{e=khe.readdirSync(r)}catch{return Lhe.mkdirsSync(r)}e.forEach(t=>{t=Ahe.join(r,t),Mhe.removeSync(t)})}Nhe.exports={emptyDirSync:Ihe,emptydirSync:Ihe,emptyDir:Ohe,emptydir:Ohe}});var Uhe=E((ANt,zhe)=>{"use strict";var AVe=$p().fromCallback,qhe=require("path"),tC=Ff(),jhe=uy();function LVe(r,e){function t(){tC.writeFile(r,"",n=>{if(n)return e(n);e()})}tC.stat(r,(n,i)=>{if(!n&&i.isFile())return e();let o=qhe.dirname(r);tC.stat(o,(s,a)=>{if(s)return s.code==="ENOENT"?jhe.mkdirs(o,c=>{if(c)return e(c);t()}):e(s);a.isDirectory()?t():tC.readdir(o,c=>{if(c)return e(c)})})})}function MVe(r){let e;try{e=tC.statSync(r)}catch{}if(e&&e.isFile())return;let t=qhe.dirname(r);try{tC.statSync(t).isDirectory()||tC.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")jhe.mkdirsSync(t);else throw n}tC.writeFileSync(r,"")}zhe.exports={createFile:AVe(LVe),createFileSync:MVe}});var Vhe=E((LNt,$he)=>{"use strict";var NVe=$p().fromCallback,Bhe=require("path"),eD=Ff(),Whe=uy(),Hhe=eC().pathExists;function FVe(r,e,t){function n(i,o){eD.link(i,o,s=>{if(s)return t(s);t(null)})}Hhe(e,(i,o)=>{if(i)return t(i);if(o)return t(null);eD.lstat(r,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),t(s);let a=Bhe.dirname(e);Hhe(a,(c,u)=>{if(c)return t(c);if(u)return n(r,e);Whe.mkdirs(a,l=>{if(l)return t(l);n(r,e)})})})})}function qVe(r,e){if(eD.existsSync(e))return;try{eD.lstatSync(r)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Bhe.dirname(e);return eD.existsSync(n)||Whe.mkdirsSync(n),eD.linkSync(r,e)}$he.exports={createLink:NVe(FVe),createLinkSync:qVe}});var Khe=E((MNt,Ghe)=>{"use strict";var rC=require("path"),_I=Ff(),jVe=eC().pathExists;function zVe(r,e,t){if(rC.isAbsolute(r))return _I.lstat(r,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),t(n)):t(null,{toCwd:r,toDst:r}));{let n=rC.dirname(e),i=rC.join(n,r);return jVe(i,(o,s)=>o?t(o):s?t(null,{toCwd:i,toDst:r}):_I.lstat(r,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),t(a)):t(null,{toCwd:r,toDst:rC.relative(n,r)})))}}function UVe(r,e){let t;if(rC.isAbsolute(r)){if(t=_I.existsSync(r),!t)throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}else{let n=rC.dirname(e),i=rC.join(n,r);if(t=_I.existsSync(i),t)return{toCwd:i,toDst:r};if(t=_I.existsSync(r),!t)throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:rC.relative(n,r)}}}Ghe.exports={symlinkPaths:zVe,symlinkPathsSync:UVe}});var Xhe=E((NNt,Jhe)=>{"use strict";var Yhe=Ff();function HVe(r,e,t){if(t=typeof e=="function"?e:t,e=typeof e=="function"?!1:e,e)return t(null,e);Yhe.lstat(r,(n,i)=>{if(n)return t(null,"file");e=i&&i.isDirectory()?"dir":"file",t(null,e)})}function BVe(r,e){let t;if(e)return e;try{t=Yhe.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}Jhe.exports={symlinkType:HVe,symlinkTypeSync:BVe}});var ipe=E((FNt,npe)=>{"use strict";var WVe=$p().fromCallback,Zhe=require("path"),cE=Ff(),epe=uy(),$Ve=epe.mkdirs,VVe=epe.mkdirsSync,tpe=Khe(),GVe=tpe.symlinkPaths,KVe=tpe.symlinkPathsSync,rpe=Xhe(),YVe=rpe.symlinkType,JVe=rpe.symlinkTypeSync,Qhe=eC().pathExists;function XVe(r,e,t,n){n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,Qhe(e,(i,o)=>{if(i)return n(i);if(o)return n(null);GVe(r,e,(s,a)=>{if(s)return n(s);r=a.toDst,YVe(a.toCwd,t,(c,u)=>{if(c)return n(c);let l=Zhe.dirname(e);Qhe(l,(d,f)=>{if(d)return n(d);if(f)return cE.symlink(r,e,u,n);$Ve(l,m=>{if(m)return n(m);cE.symlink(r,e,u,n)})})})})})}function QVe(r,e,t){if(cE.existsSync(e))return;let i=KVe(r,e);r=i.toDst,t=JVe(i.toCwd,t);let o=Zhe.dirname(e);return cE.existsSync(o)||VVe(o),cE.symlinkSync(r,e,t)}npe.exports={createSymlink:WVe(XVe),createSymlinkSync:QVe}});var spe=E((qNt,ope)=>{"use strict";var hF=Uhe(),pF=Vhe(),mF=ipe();ope.exports={createFile:hF.createFile,createFileSync:hF.createFileSync,ensureFile:hF.createFile,ensureFileSync:hF.createFileSync,createLink:pF.createLink,createLinkSync:pF.createLinkSync,ensureLink:pF.createLink,ensureLinkSync:pF.createLinkSync,createSymlink:mF.createSymlink,createSymlinkSync:mF.createSymlinkSync,ensureSymlink:mF.createSymlink,ensureSymlinkSync:mF.createSymlinkSync}});var gF=E((jNt,ape)=>{function ZVe(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function e4e(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}ape.exports={stringify:ZVe,stripBom:e4e}});var dpe=E((zNt,lpe)=>{var uE;try{uE=Ff()}catch{uE=require("fs")}var vF=$p(),{stringify:cpe,stripBom:upe}=gF();async function t4e(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||uE,n="throws"in e?e.throws:!0,i=await vF.fromCallback(t.readFile)(r,e);i=upe(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var r4e=vF.fromPromise(t4e);function n4e(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||uE,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=upe(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function i4e(r,e,t={}){let n=t.fs||uE,i=cpe(e,t);await vF.fromCallback(n.writeFile)(r,i,t)}var o4e=vF.fromPromise(i4e);function s4e(r,e,t={}){let n=t.fs||uE,i=cpe(e,t);return n.writeFileSync(r,i,t)}var a4e={readFile:r4e,readFileSync:n4e,writeFile:o4e,writeFileSync:s4e};lpe.exports=a4e});var hpe=E((UNt,fpe)=>{"use strict";var yF=dpe();fpe.exports={readJson:yF.readFile,readJsonSync:yF.readFileSync,writeJson:yF.writeFile,writeJsonSync:yF.writeFileSync}});var _F=E((HNt,gpe)=>{"use strict";var c4e=$p().fromCallback,bI=Ff(),ppe=require("path"),mpe=uy(),u4e=eC().pathExists;function l4e(r,e,t,n){typeof t=="function"&&(n=t,t="utf8");let i=ppe.dirname(r);u4e(i,(o,s)=>{if(o)return n(o);if(s)return bI.writeFile(r,e,t,n);mpe.mkdirs(i,a=>{if(a)return n(a);bI.writeFile(r,e,t,n)})})}function d4e(r,...e){let t=ppe.dirname(r);if(bI.existsSync(t))return bI.writeFileSync(r,...e);mpe.mkdirsSync(t),bI.writeFileSync(r,...e)}gpe.exports={outputFile:c4e(l4e),outputFileSync:d4e}});var ype=E((BNt,vpe)=>{"use strict";var{stringify:f4e}=gF(),{outputFile:h4e}=_F();async function p4e(r,e,t={}){let n=f4e(e,t);await h4e(r,n,t)}vpe.exports=p4e});var bpe=E((WNt,_pe)=>{"use strict";var{stringify:m4e}=gF(),{outputFileSync:g4e}=_F();function v4e(r,e,t){let n=m4e(e,t);g4e(r,n,t)}_pe.exports=v4e});var Spe=E(($Nt,wpe)=>{"use strict";var y4e=$p().fromPromise,Hh=hpe();Hh.outputJson=y4e(ype());Hh.outputJsonSync=bpe();Hh.outputJSON=Hh.outputJson;Hh.outputJSONSync=Hh.outputJsonSync;Hh.writeJSON=Hh.writeJson;Hh.writeJSONSync=Hh.writeJsonSync;Hh.readJSON=Hh.readJson;Hh.readJSONSync=Hh.readJsonSync;wpe.exports=Hh});var Rpe=E((VNt,Ppe)=>{"use strict";var Dpe=Ff(),_4e=require("path"),b4e=d6().copySync,Epe=yI().removeSync,w4e=uy().mkdirpSync,Cpe=fI();function S4e(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i}=Cpe.checkPathsSync(r,e,"move");return Cpe.checkParentPathsSync(r,i,e,"move"),w4e(_4e.dirname(e)),C4e(r,e,n)}function C4e(r,e,t){if(t)return Epe(e),Tpe(r,e,t);if(Dpe.existsSync(e))throw new Error("dest already exists.");return Tpe(r,e,t)}function Tpe(r,e,t){try{Dpe.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return T4e(r,e,t)}}function T4e(r,e,t){return b4e(r,e,{overwrite:t,errorOnExist:!0}),Epe(r)}Ppe.exports=S4e});var Ope=E((GNt,xpe)=>{"use strict";xpe.exports={moveSync:Rpe()}});var Mpe=E((KNt,Lpe)=>{"use strict";var D4e=Ff(),E4e=require("path"),P4e=h6().copy,Ape=yI().remove,R4e=uy().mkdirp,x4e=eC().pathExists,Ipe=fI();function O4e(r,e,t,n){typeof t=="function"&&(n=t,t={});let i=t.overwrite||t.clobber||!1;Ipe.checkPaths(r,e,"move",(o,s)=>{if(o)return n(o);let{srcStat:a}=s;Ipe.checkParentPaths(r,a,e,"move",c=>{if(c)return n(c);R4e(E4e.dirname(e),u=>u?n(u):I4e(r,e,i,n))})})}function I4e(r,e,t,n){if(t)return Ape(e,i=>i?n(i):kpe(r,e,t,n));x4e(e,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):kpe(r,e,t,n))}function kpe(r,e,t,n){D4e.rename(r,e,i=>i?i.code!=="EXDEV"?n(i):k4e(r,e,t,n):n())}function k4e(r,e,t,n){P4e(r,e,{overwrite:t,errorOnExist:!0},o=>o?n(o):Ape(r,n))}Lpe.exports=O4e});var Fpe=E((YNt,Npe)=>{"use strict";var A4e=$p().fromCallback;Npe.exports={move:A4e(Mpe())}});var tD=E((JNt,m6)=>{"use strict";m6.exports={...dI(),...d6(),...h6(),...Fhe(),...spe(),...Spe(),...uy(),...Ope(),...Fpe(),..._F(),...eC(),...yI()};var qpe=require("fs");Object.getOwnPropertyDescriptor(qpe,"promises")&&Object.defineProperty(m6.exports,"promises",{get(){return qpe.promises}})});var dE=E(D6=>{"use strict";Object.defineProperty(D6,"__esModule",{value:!0});function N4e(r){return typeof r=="function"}D6.isFunction=N4e});var CI=E(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});var E6=!1;P6.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else E6&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E6=r},get useDeprecatedSynchronousErrorHandling(){return E6}}});var TF=E(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});function F4e(r){setTimeout(function(){throw r},0)}R6.hostReportError=F4e});var O6=E(x6=>{"use strict";Object.defineProperty(x6,"__esModule",{value:!0});var q4e=CI(),j4e=TF();x6.empty={closed:!0,next:function(r){},error:function(r){if(q4e.config.useDeprecatedSynchronousErrorHandling)throw r;j4e.hostReportError(r)},complete:function(){}}});var Wh=E(I6=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});I6.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var DF=E(k6=>{"use strict";Object.defineProperty(k6,"__esModule",{value:!0});function z4e(r){return r!==null&&typeof r=="object"}k6.isObject=z4e});var L6=E(A6=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});var U4e=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();A6.UnsubscriptionError=U4e});var Tl=E(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});var H4e=Wh(),B4e=DF(),W4e=dE(),EF=L6(),$4e=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(W4e.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof EF.UnsubscriptionError?Hpe(d.errors):[d]}}if(H4e.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(B4e.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof EF.UnsubscriptionError?e=e.concat(Hpe(f.errors)):e.push(f)}}if(e)throw new EF.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();M6.Subscription=$4e;function Hpe(r){return r.reduce(function(e,t){return e.concat(t instanceof EF.UnsubscriptionError?t.errors:t)},[])}});var PF=E(TI=>{"use strict";Object.defineProperty(TI,"__esModule",{value:!0});TI.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();TI.$$rxSubscriber=TI.rxSubscriber});var gi=E(hE=>{"use strict";var Wpe=hE&&hE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hE,"__esModule",{value:!0});var Bpe=dE(),N6=O6(),V4e=Tl(),G4e=PF(),fE=CI(),RF=TF(),$pe=function(r){Wpe(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=N6.empty;break;case 1:if(!t){o.destination=N6.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new F6(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new F6(o,t,n,i);break}return o}return e.prototype[G4e.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(V4e.Subscription);hE.Subscriber=$pe;var F6=function(r){Wpe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return Bpe.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==N6.empty&&(c=Object.create(n),Bpe.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!fE.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=fE.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):RF.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;RF.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!fE.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),fE.config.useDeprecatedSynchronousErrorHandling)throw i;RF.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!fE.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return fE.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(RF.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}($pe);hE.SafeSubscriber=F6});var xF=E(q6=>{"use strict";Object.defineProperty(q6,"__esModule",{value:!0});var K4e=gi();function Y4e(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof K4e.Subscriber?r=n:r=null}return!0}q6.canReportError=Y4e});var Gpe=E(z6=>{"use strict";Object.defineProperty(z6,"__esModule",{value:!0});var j6=gi(),Vpe=PF(),J4e=O6();function X4e(r,e,t){if(r){if(r instanceof j6.Subscriber)return r;if(r[Vpe.rxSubscriber])return r[Vpe.rxSubscriber]()}return!r&&!e&&!t?new j6.Subscriber(J4e.empty):new j6.Subscriber(r,e,t)}z6.toSubscriber=X4e});var nD=E(U6=>{"use strict";Object.defineProperty(U6,"__esModule",{value:!0});U6.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var oC=E(H6=>{"use strict";Object.defineProperty(H6,"__esModule",{value:!0});function Q4e(r){return r}H6.identity=Q4e});var IF=E(OF=>{"use strict";Object.defineProperty(OF,"__esModule",{value:!0});var Z4e=oC();function e6e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Kpe(r)}OF.pipe=e6e;function Kpe(r){return r.length===0?Z4e.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}OF.pipeFromArray=Kpe});var zo=E(B6=>{"use strict";Object.defineProperty(B6,"__esModule",{value:!0});var t6e=xF(),r6e=Gpe(),n6e=nD(),i6e=IF(),kF=CI(),o6e=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=r6e.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||kF.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),kF.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){kF.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),t6e.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Ype(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[n6e.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:i6e.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Ype(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();B6.Observable=o6e;function Ype(r){if(r||(r=kF.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var DI=E(W6=>{"use strict";Object.defineProperty(W6,"__esModule",{value:!0});var s6e=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();W6.ObjectUnsubscribedError=s6e});var $6=E(EI=>{"use strict";var a6e=EI&&EI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(EI,"__esModule",{value:!0});var c6e=Tl(),u6e=function(r){a6e(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(c6e.Subscription);EI.SubjectSubscription=u6e});var jf=E(iD=>{"use strict";var K6=iD&&iD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iD,"__esModule",{value:!0});var Jpe=zo(),l6e=gi(),V6=Tl(),PI=DI(),d6e=$6(),f6e=PF(),Xpe=function(r){K6(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(l6e.Subscriber);iD.SubjectSubscriber=Xpe;var Qpe=function(r){K6(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[f6e.rxSubscriber]=function(){return new Xpe(this)},e.prototype.lift=function(t){var n=new G6(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new PI.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new PI.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new PI.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new PI.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new PI.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),V6.Subscription.EMPTY):this.isStopped?(t.complete(),V6.Subscription.EMPTY):(this.observers.push(t),new d6e.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Jpe.Observable;return t.source=this,t},e.create=function(t,n){return new G6(t,n)},e}(Jpe.Observable);iD.Subject=Qpe;var G6=function(r){K6(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):V6.Subscription.EMPTY},e}(Qpe);iD.AnonymousSubject=G6});var AF=E(RI=>{"use strict";var h6e=RI&&RI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RI,"__esModule",{value:!0});var p6e=gi();function m6e(){return function(e){return e.lift(new g6e(e))}}RI.refCount=m6e;var g6e=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new v6e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),v6e=function(r){h6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(p6e.Subscriber)});var J6=E(pE=>{"use strict";var Y6=pE&&pE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pE,"__esModule",{value:!0});var y6e=jf(),_6e=zo(),b6e=gi(),Zpe=Tl(),w6e=AF(),eme=function(r){Y6(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Zpe.Subscription,t.add(this.source.subscribe(new S6e(this.getSubject(),this))),t.closed&&(this._connection=null,t=Zpe.Subscription.EMPTY)),t},e.prototype.refCount=function(){return w6e.refCount()(this)},e}(_6e.Observable);pE.ConnectableObservable=eme;pE.connectableObservableDescriptor=function(){var r=eme.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var S6e=function(r){Y6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(y6e.SubjectSubscriber),wFt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new C6e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),C6e=function(r){Y6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(b6e.Subscriber)});var Q6=E(mE=>{"use strict";var LF=mE&&mE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mE,"__esModule",{value:!0});var tme=gi(),rme=Tl(),T6e=zo(),D6e=jf();function E6e(r,e,t,n){return function(i){return i.lift(new P6e(r,e,t,n))}}mE.groupBy=E6e;var P6e=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new R6e(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),R6e=function(r){LF(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new D6e.Subject,i.set(n,o);var a=new X6(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new X6(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new x6e(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(tme.Subscriber),x6e=function(r){LF(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(tme.Subscriber),X6=function(r){LF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new rme.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new O6e(o)),n.add(s.subscribe(t)),n},e}(T6e.Observable);mE.GroupedObservable=X6;var O6e=function(r){LF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(rme.Subscription)});var Z6=E(xI=>{"use strict";var I6e=xI&&xI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xI,"__esModule",{value:!0});var k6e=jf(),A6e=DI(),L6e=function(r){I6e(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A6e.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(k6e.Subject);xI.BehaviorSubject=L6e});var nme=E(OI=>{"use strict";var M6e=OI&&OI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OI,"__esModule",{value:!0});var N6e=Tl(),F6e=function(r){M6e(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(N6e.Subscription);OI.Action=F6e});var gE=E(II=>{"use strict";var q6e=II&&II.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(II,"__esModule",{value:!0});var j6e=nme(),z6e=function(r){q6e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(j6e.Action);II.AsyncAction=z6e});var ime=E(kI=>{"use strict";var U6e=kI&&kI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kI,"__esModule",{value:!0});var H6e=gE(),B6e=function(r){U6e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(H6e.AsyncAction);kI.QueueAction=B6e});var t5=E(e5=>{"use strict";Object.defineProperty(e5,"__esModule",{value:!0});var W6e=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();e5.Scheduler=W6e});var vE=E(AI=>{"use strict";var $6e=AI&&AI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AI,"__esModule",{value:!0});var ome=t5(),V6e=function(r){$6e(e,r);function e(t,n){n===void 0&&(n=ome.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(ome.Scheduler);AI.AsyncScheduler=V6e});var sme=E(LI=>{"use strict";var G6e=LI&&LI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LI,"__esModule",{value:!0});var K6e=vE(),Y6e=function(r){G6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(K6e.AsyncScheduler);LI.QueueScheduler=Y6e});var r5=E(MI=>{"use strict";Object.defineProperty(MI,"__esModule",{value:!0});var J6e=ime(),X6e=sme();MI.queueScheduler=new X6e.QueueScheduler(J6e.QueueAction);MI.queue=MI.queueScheduler});var ly=E(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});var ame=zo();NI.EMPTY=new ame.Observable(function(r){return r.complete()});function Q6e(r){return r?Z6e(r):NI.EMPTY}NI.empty=Q6e;function Z6e(r){return new ame.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var dy=E(n5=>{"use strict";Object.defineProperty(n5,"__esModule",{value:!0});function e5e(r){return r&&typeof r.schedule=="function"}n5.isScheduler=e5e});var o5=E(i5=>{"use strict";Object.defineProperty(i5,"__esModule",{value:!0});i5.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var MF=E(s5=>{"use strict";Object.defineProperty(s5,"__esModule",{value:!0});var t5e=zo(),r5e=Tl();function n5e(r,e){return new t5e.Observable(function(t){var n=new r5e.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}s5.scheduleArray=n5e});var yE=E(a5=>{"use strict";Object.defineProperty(a5,"__esModule",{value:!0});var i5e=zo(),o5e=o5(),s5e=MF();function a5e(r,e){return e?s5e.scheduleArray(r,e):new i5e.Observable(o5e.subscribeToArray(r))}a5.fromArray=a5e});var FI=E(c5=>{"use strict";Object.defineProperty(c5,"__esModule",{value:!0});var c5e=dy(),u5e=yE(),l5e=MF();function d5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return c5e.isScheduler(t)?(r.pop(),l5e.scheduleArray(r,t)):u5e.fromArray(r)}c5.of=d5e});var NF=E(u5=>{"use strict";Object.defineProperty(u5,"__esModule",{value:!0});var cme=zo();function f5e(r,e){return e?new cme.Observable(function(t){return e.schedule(h5e,0,{error:r,subscriber:t})}):new cme.Observable(function(t){return t.error(r)})}u5.throwError=f5e;function h5e(r){var e=r.error,t=r.subscriber;t.error(e)}});var jI=E(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});var p5e=ly(),m5e=FI(),g5e=NF(),v5e;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(v5e=qI.NotificationKind||(qI.NotificationKind={}));var y5e=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return m5e.of(this.value);case"E":return g5e.throwError(this.error);case"C":return p5e.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();qI.Notification=y5e});var d5=E(sC=>{"use strict";var _5e=sC&&sC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sC,"__esModule",{value:!0});var b5e=gi(),l5=jI();function w5e(r,e){return e===void 0&&(e=0),function(n){return n.lift(new ume(r,e))}}sC.observeOn=w5e;var ume=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new lme(e,this.scheduler,this.delay))},r}();sC.ObserveOnOperator=ume;var lme=function(r){_5e(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new dme(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(l5.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(l5.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(l5.Notification.createComplete()),this.unsubscribe()},e}(b5e.Subscriber);sC.ObserveOnSubscriber=lme;var dme=function(){function r(e,t){this.notification=e,this.destination=t}return r}();sC.ObserveOnMessage=dme});var FF=E(zI=>{"use strict";var S5e=zI&&zI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zI,"__esModule",{value:!0});var C5e=jf(),T5e=r5(),D5e=Tl(),E5e=d5(),P5e=DI(),R5e=$6(),x5e=function(r){S5e(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new O5e(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new P5e.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=D5e.Subscription.EMPTY:(this.observers.push(t),a=new R5e.SubjectSubscription(this,t)),o&&t.add(t=new E5e.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||T5e.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(C5e.Subject);zI.ReplaySubject=x5e;var O5e=function(){function r(e,t){this.time=e,this.value=t}return r}()});var HI=E(UI=>{"use strict";var I5e=UI&&UI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(UI,"__esModule",{value:!0});var k5e=jf(),fme=Tl(),A5e=function(r){I5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),fme.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),fme.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(k5e.Subject);UI.AsyncSubject=A5e});var pme=E(jF=>{"use strict";Object.defineProperty(jF,"__esModule",{value:!0});var L5e=1,M5e=function(){return Promise.resolve()}(),qF={};function hme(r){return r in qF?(delete qF[r],!0):!1}jF.Immediate={setImmediate:function(r){var e=L5e++;return qF[e]=!0,M5e.then(function(){return hme(e)&&r()}),e},clearImmediate:function(r){hme(r)}};jF.TestTools={pending:function(){return Object.keys(qF).length}}});var gme=E(BI=>{"use strict";var N5e=BI&&BI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(BI,"__esModule",{value:!0});var mme=pme(),F5e=gE(),q5e=function(r){N5e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=mme.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(mme.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(F5e.AsyncAction);BI.AsapAction=q5e});var vme=E(WI=>{"use strict";var j5e=WI&&WI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(WI,"__esModule",{value:!0});var z5e=vE(),U5e=function(r){j5e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(z5e.AsyncScheduler);WI.AsapScheduler=U5e});var f5=E($I=>{"use strict";Object.defineProperty($I,"__esModule",{value:!0});var H5e=gme(),B5e=vme();$I.asapScheduler=new B5e.AsapScheduler(H5e.AsapAction);$I.asap=$I.asapScheduler});var $h=E(VI=>{"use strict";Object.defineProperty(VI,"__esModule",{value:!0});var W5e=gE(),$5e=vE();VI.asyncScheduler=new $5e.AsyncScheduler(W5e.AsyncAction);VI.async=VI.asyncScheduler});var yme=E(GI=>{"use strict";var V5e=GI&&GI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GI,"__esModule",{value:!0});var G5e=gE(),K5e=function(r){V5e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(G5e.AsyncAction);GI.AnimationFrameAction=K5e});var _me=E(KI=>{"use strict";var Y5e=KI&&KI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KI,"__esModule",{value:!0});var J5e=vE(),X5e=function(r){Y5e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(J5e.AsyncScheduler);KI.AnimationFrameScheduler=X5e});var bme=E(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0});var Q5e=yme(),Z5e=_me();YI.animationFrameScheduler=new Z5e.AnimationFrameScheduler(Q5e.AnimationFrameAction);YI.animationFrame=YI.animationFrameScheduler});var Cme=E(_E=>{"use strict";var wme=_E&&_E.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_E,"__esModule",{value:!0});var eGe=gE(),tGe=vE(),rGe=function(r){wme(e,r);function e(t,n){t===void 0&&(t=Sme),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(tGe.AsyncScheduler);_E.VirtualTimeScheduler=rGe;var Sme=function(r){wme(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(eGe.AsyncAction);_E.VirtualAction=Sme});var zF=E(h5=>{"use strict";Object.defineProperty(h5,"__esModule",{value:!0});function nGe(){}h5.noop=nGe});var Tme=E(p5=>{"use strict";Object.defineProperty(p5,"__esModule",{value:!0});var iGe=zo();function oGe(r){return!!r&&(r instanceof iGe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}p5.isObservable=oGe});var bE=E(m5=>{"use strict";Object.defineProperty(m5,"__esModule",{value:!0});var sGe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();m5.ArgumentOutOfRangeError=sGe});var wE=E(g5=>{"use strict";Object.defineProperty(g5,"__esModule",{value:!0});var aGe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();g5.EmptyError=aGe});var y5=E(v5=>{"use strict";Object.defineProperty(v5,"__esModule",{value:!0});var cGe=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();v5.TimeoutError=cGe});var Xm=E(SE=>{"use strict";var uGe=SE&&SE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SE,"__esModule",{value:!0});var lGe=gi();function dGe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Dme(r,e))}}SE.map=dGe;var Dme=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new fGe(e,this.project,this.thisArg))},r}();SE.MapOperator=Dme;var fGe=function(r){uGe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(lGe.Subscriber)});var Rme=E(_5=>{"use strict";Object.defineProperty(_5,"__esModule",{value:!0});var hGe=zo(),Eme=HI(),pGe=Xm(),mGe=xF(),gGe=Wh(),vGe=dy();function Pme(r,e,t){if(e)if(vGe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Pme(r,t).apply(void 0,n).pipe(pGe.map(function(o){return gGe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new hGe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(yGe,0,l)}else{if(!s){s=new Eme.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){mGe.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}_5.bindCallback=Pme;function yGe(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new Eme.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=d.length<=1?d[0]:d;e.add(c.schedule(_Ge,0,{value:m,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function _Ge(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var kme=E(b5=>{"use strict";Object.defineProperty(b5,"__esModule",{value:!0});var bGe=zo(),Ome=HI(),wGe=Xm(),SGe=xF(),CGe=dy(),TGe=Wh();function Ime(r,e,t){if(e)if(CGe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ime(r,t).apply(void 0,n).pipe(wGe.map(function(o){return TGe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new bGe.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(DGe,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new Ome.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){SGe.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}b5.bindNodeCallback=Ime;function DGe(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new Ome.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(xme,0,{err:f,subject:c}));else{var m=l.length<=1?l[0]:l;e.add(a.schedule(EGe,0,{value:m,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(xme,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function EGe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function xme(r){var e=r.err,t=r.subject;t.error(e)}});var aC=E(JI=>{"use strict";var PGe=JI&&JI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JI,"__esModule",{value:!0});var RGe=gi(),xGe=function(r){PGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(RGe.Subscriber);JI.OuterSubscriber=xGe});var Ame=E(XI=>{"use strict";var OGe=XI&&XI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XI,"__esModule",{value:!0});var IGe=gi(),kGe=function(r){OGe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(IGe.Subscriber);XI.InnerSubscriber=kGe});var Lme=E(w5=>{"use strict";Object.defineProperty(w5,"__esModule",{value:!0});var AGe=TF();w5.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,AGe.hostReportError),e}}});var TE=E(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});function Mme(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}CE.getSymbolIterator=Mme;CE.iterator=Mme();CE.$$iterator=CE.iterator});var Nme=E(S5=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});var LGe=TE();S5.subscribeToIterable=function(r){return function(e){var t=r[LGe.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var Fme=E(C5=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});var MGe=nD();C5.subscribeToObservable=function(r){return function(e){var t=r[MGe.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var D5=E(T5=>{"use strict";Object.defineProperty(T5,"__esModule",{value:!0});T5.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var P5=E(E5=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});function NGe(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}E5.isPromise=NGe});var QI=E(R5=>{"use strict";Object.defineProperty(R5,"__esModule",{value:!0});var FGe=o5(),qGe=Lme(),jGe=Nme(),zGe=Fme(),UGe=D5(),HGe=P5(),BGe=DF(),WGe=TE(),$Ge=nD();R5.subscribeTo=function(r){if(r&&typeof r[$Ge.observable]=="function")return zGe.subscribeToObservable(r);if(UGe.isArrayLike(r))return FGe.subscribeToArray(r);if(HGe.isPromise(r))return qGe.subscribeToPromise(r);if(r&&typeof r[WGe.iterator]=="function")return jGe.subscribeToIterable(r);var e=BGe.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var cC=E(x5=>{"use strict";Object.defineProperty(x5,"__esModule",{value:!0});var VGe=Ame(),GGe=QI(),KGe=zo();function YGe(r,e,t,n,i){if(i===void 0&&(i=new VGe.InnerSubscriber(r,t,n)),!i.closed)return e instanceof KGe.Observable?e.subscribe(i):GGe.subscribeTo(e)(i)}x5.subscribeToResult=YGe});var UF=E(oD=>{"use strict";var JGe=oD&&oD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oD,"__esModule",{value:!0});var XGe=dy(),QGe=Wh(),ZGe=aC(),e8e=cC(),t8e=yE(),qme={};function r8e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return XGe.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&QGe.isArray(r[0])&&(r=r[0]),t8e.fromArray(r,n).lift(new jme(t))}oD.combineLatest=r8e;var jme=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new zme(e,this.resultSelector))},r}();oD.CombineLatestOperator=jme;var zme=function(r){JGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(qme),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(e8e.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===qme?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ZGe.OuterSubscriber);oD.CombineLatestSubscriber=zme});var Ume=E(O5=>{"use strict";Object.defineProperty(O5,"__esModule",{value:!0});var n8e=zo(),i8e=Tl(),o8e=nD();function s8e(r,e){return new n8e.Observable(function(t){var n=new i8e.Subscription;return n.add(e.schedule(function(){var i=r[o8e.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}O5.scheduleObservable=s8e});var Hme=E(I5=>{"use strict";Object.defineProperty(I5,"__esModule",{value:!0});var a8e=zo(),c8e=Tl();function u8e(r,e){return new a8e.Observable(function(t){var n=new c8e.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}I5.schedulePromise=u8e});var Bme=E(k5=>{"use strict";Object.defineProperty(k5,"__esModule",{value:!0});var l8e=zo(),d8e=Tl(),f8e=TE();function h8e(r,e){if(!r)throw new Error("Iterable cannot be null");return new l8e.Observable(function(t){var n=new d8e.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[f8e.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}k5.scheduleIterable=h8e});var Wme=E(A5=>{"use strict";Object.defineProperty(A5,"__esModule",{value:!0});var p8e=nD();function m8e(r){return r&&typeof r[p8e.observable]=="function"}A5.isInteropObservable=m8e});var $me=E(L5=>{"use strict";Object.defineProperty(L5,"__esModule",{value:!0});var g8e=TE();function v8e(r){return r&&typeof r[g8e.iterator]=="function"}L5.isIterable=v8e});var N5=E(M5=>{"use strict";Object.defineProperty(M5,"__esModule",{value:!0});var y8e=Ume(),_8e=Hme(),b8e=MF(),w8e=Bme(),S8e=Wme(),C8e=P5(),T8e=D5(),D8e=$me();function E8e(r,e){if(r!=null){if(S8e.isInteropObservable(r))return y8e.scheduleObservable(r,e);if(C8e.isPromise(r))return _8e.schedulePromise(r,e);if(T8e.isArrayLike(r))return b8e.scheduleArray(r,e);if(D8e.isIterable(r)||typeof r=="string")return w8e.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}M5.scheduled=E8e});var fy=E(F5=>{"use strict";Object.defineProperty(F5,"__esModule",{value:!0});var Vme=zo(),P8e=QI(),R8e=N5();function x8e(r,e){return e?R8e.scheduled(r,e):r instanceof Vme.Observable?r:new Vme.Observable(P8e.subscribeTo(r))}F5.from=x8e});var Nc=E(cw=>{"use strict";var HF=cw&&cw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cw,"__esModule",{value:!0});var BF=gi(),O8e=zo(),I8e=QI(),k8e=function(r){HF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(BF.Subscriber);cw.SimpleInnerSubscriber=k8e;var A8e=function(r){HF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(BF.Subscriber);cw.ComplexInnerSubscriber=A8e;var L8e=function(r){HF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(BF.Subscriber);cw.SimpleOuterSubscriber=L8e;var M8e=function(r){HF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(BF.Subscriber);cw.ComplexOuterSubscriber=M8e;function N8e(r,e){if(!e.closed){if(r instanceof O8e.Observable)return r.subscribe(e);var t;try{t=I8e.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}cw.innerSubscribe=N8e});var ZI=E(uC=>{"use strict";var F8e=uC&&uC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uC,"__esModule",{value:!0});var q8e=Xm(),j8e=fy(),q5=Nc();function j5(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(j5(function(i,o){return j8e.from(r(i,o)).pipe(q8e.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Gme(r,t))})}uC.mergeMap=j5;var Gme=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Kme(e,this.project,this.concurrent))},r}();uC.MergeMapOperator=Gme;var Kme=function(r){F8e(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new q5.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=q5.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(q5.SimpleOuterSubscriber);uC.MergeMapSubscriber=Kme;uC.flatMap=j5});var WF=E(z5=>{"use strict";Object.defineProperty(z5,"__esModule",{value:!0});var z8e=ZI(),U8e=oC();function H8e(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),z8e.mergeMap(U8e.identity,r)}z5.mergeAll=H8e});var H5=E(U5=>{"use strict";Object.defineProperty(U5,"__esModule",{value:!0});var B8e=WF();function W8e(){return B8e.mergeAll(1)}U5.concatAll=W8e});var ek=E(B5=>{"use strict";Object.defineProperty(B5,"__esModule",{value:!0});var $8e=FI(),V8e=H5();function G8e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return V8e.concatAll()($8e.of.apply(void 0,r))}B5.concat=G8e});var $F=E(W5=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});var K8e=zo(),Y8e=fy(),J8e=ly();function X8e(r){return new K8e.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?Y8e.from(t):J8e.empty();return n.subscribe(e)})}W5.defer=X8e});var Jme=E($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});var Q8e=zo(),Yme=Wh(),Z8e=Xm(),eKe=DF(),tKe=fy();function rKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Yme.isArray(t))return VF(t,null);if(eKe.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return VF(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Yme.isArray(r[0])?r[0]:r,VF(r,null).pipe(Z8e.map(function(o){return i.apply(void 0,o)}))}return VF(r,null)}$5.forkJoin=rKe;function VF(r,e){return new Q8e.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=tKe.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,m,_){return f[m]=i[_],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var Zme=E(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});var nKe=zo(),iKe=Wh(),oKe=dE(),sKe=Xm();function Xme(r,e,t,n){return oKe.isFunction(t)&&(n=t,t=void 0),n?Xme(r,e,t).pipe(sKe.map(function(i){return iKe.isArray(i)?n.apply(void 0,i):n(i)})):new nKe.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Qme(r,e,o,i,t)})}V5.fromEvent=Xme;function Qme(r,e,t,n,i){var o;if(uKe(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(cKe(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(aKe(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)Qme(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function aKe(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function cKe(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function uKe(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var tge=E(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});var lKe=zo(),dKe=Wh(),fKe=dE(),hKe=Xm();function ege(r,e,t){return t?ege(r,e).pipe(hKe.map(function(n){return dKe.isArray(n)?t.apply(void 0,n):t(n)})):new lKe.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(fKe.isFunction(e))return function(){return e(i,o)}})}G5.fromEventPattern=ege});var nge=E(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});var pKe=zo(),rge=oC(),mKe=dy();function gKe(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||rge.identity,i=a.scheduler}else n===void 0||mKe.isScheduler(n)?(s=r,o=rge.identity,i=n):(s=r,o=n);return new pKe.Observable(function(c){var u=s;if(i)return i.schedule(vKe,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}K5.generate=gKe;function vKe(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var oge=E(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});var yKe=$F(),ige=ly();function _Ke(r,e,t){return e===void 0&&(e=ige.EMPTY),t===void 0&&(t=ige.EMPTY),yKe.defer(function(){return r()?e:t})}Y5.iif=_Ke});var tk=E(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});var bKe=Wh();function wKe(r){return!bKe.isArray(r)&&r-parseFloat(r)+1>=0}J5.isNumeric=wKe});var age=E(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});var SKe=zo(),sge=$h(),CKe=tk();function TKe(r,e){return r===void 0&&(r=0),e===void 0&&(e=sge.async),(!CKe.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=sge.async),new SKe.Observable(function(t){return t.add(e.schedule(DKe,r,{subscriber:t,counter:0,period:r})),t})}X5.interval=TKe;function DKe(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var Z5=E(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});var EKe=zo(),PKe=dy(),RKe=WF(),xKe=yE();function OKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return PKe.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof EKe.Observable?r[0]:RKe.mergeAll(t)(xKe.fromArray(r,n))}Q5.merge=OKe});var eG=E(rk=>{"use strict";Object.defineProperty(rk,"__esModule",{value:!0});var IKe=zo(),kKe=zF();rk.NEVER=new IKe.Observable(kKe.noop);function AKe(){return rk.NEVER}rk.never=AKe});var cge=E(rG=>{"use strict";Object.defineProperty(rG,"__esModule",{value:!0});var LKe=zo(),MKe=fy(),NKe=Wh(),FKe=ly();function tG(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return FKe.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&NKe.isArray(t)?tG.apply(void 0,t):new LKe.Observable(function(i){var o=function(){return i.add(tG.apply(void 0,n).subscribe(i))};return MKe.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}rG.onErrorResumeNext=tG});var dge=E(GF=>{"use strict";Object.defineProperty(GF,"__esModule",{value:!0});var uge=zo(),qKe=Tl();function jKe(r,e){return e?new uge.Observable(function(t){var n=Object.keys(r),i=new qKe.Subscription;return i.add(e.schedule(lge,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new uge.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}GF.pairs=jKe;function lge(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}GF.dispatch=lge});var iG=E(nG=>{"use strict";Object.defineProperty(nG,"__esModule",{value:!0});function zKe(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}nG.not=zKe});var sD=E(nk=>{"use strict";var UKe=nk&&nk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nk,"__esModule",{value:!0});var HKe=gi();function BKe(r,e){return function(n){return n.lift(new WKe(r,e))}}nk.filter=BKe;var WKe=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new $Ke(e,this.predicate,this.thisArg))},r}(),$Ke=function(r){UKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(HKe.Subscriber)});var mge=E(oG=>{"use strict";Object.defineProperty(oG,"__esModule",{value:!0});var VKe=iG(),fge=QI(),hge=sD(),pge=zo();function GKe(r,e,t){return[hge.filter(e,t)(new pge.Observable(fge.subscribeTo(r))),hge.filter(VKe.not(e,t))(new pge.Observable(fge.subscribeTo(r)))]}oG.partition=GKe});var sG=E(aD=>{"use strict";var KKe=aD&&aD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aD,"__esModule",{value:!0});var YKe=Wh(),JKe=yE(),XKe=aC(),QKe=cC();function ZKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(YKe.isArray(r[0]))r=r[0];else return r[0];return JKe.fromArray(r,void 0).lift(new gge)}aD.race=ZKe;var gge=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new vge(e))},r}();aD.RaceOperator=gge;var vge=function(r){KKe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=QKe.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(XKe.OuterSubscriber);aD.RaceSubscriber=vge});var _ge=E(KF=>{"use strict";Object.defineProperty(KF,"__esModule",{value:!0});var e9e=zo();function t9e(r,e,t){return r===void 0&&(r=0),new e9e.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(yge,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}KF.range=t9e;function yge(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}KF.dispatch=yge});var cG=E(aG=>{"use strict";Object.defineProperty(aG,"__esModule",{value:!0});var r9e=zo(),n9e=$h(),bge=tk(),wge=dy();function i9e(r,e,t){r===void 0&&(r=0);var n=-1;return bge.isNumeric(e)?n=Number(e)<1&&1||Number(e):wge.isScheduler(e)&&(t=e),wge.isScheduler(t)||(t=n9e.async),new r9e.Observable(function(i){var o=bge.isNumeric(r)?r:+r-t.now();return t.schedule(o9e,o,{index:0,period:n,subscriber:i})})}aG.timer=i9e;function o9e(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var Sge=E(uG=>{"use strict";Object.defineProperty(uG,"__esModule",{value:!0});var s9e=zo(),a9e=fy(),c9e=ly();function u9e(r,e){return new s9e.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?a9e.from(i):c9e.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}uG.using=u9e});var JF=E(cD=>{"use strict";var Cge=cD&&cD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cD,"__esModule",{value:!0});var l9e=yE(),d9e=Wh(),f9e=gi(),YF=TE(),lG=Nc();function h9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),l9e.fromArray(r,void 0).lift(new Tge(t))}cD.zip=h9e;var Tge=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Dge(e,this.resultSelector))},r}();cD.ZipOperator=Tge;var Dge=function(r){Cge(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;d9e.isArray(t)?n.push(new m9e(t)):typeof t[YF.iterator]=="function"?n.push(new p9e(t[YF.iterator]())):n.push(new g9e(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(f9e.Subscriber);cD.ZipSubscriber=Dge;var p9e=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),m9e=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[YF.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),g9e=function(r){Cge(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[YF.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return lG.innerSubscribe(this.observable,new lG.SimpleInnerSubscriber(this))},e}(lG.SimpleOuterSubscriber)});var lC=E(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var v9e=zo();gn.Observable=v9e.Observable;var y9e=J6();gn.ConnectableObservable=y9e.ConnectableObservable;var _9e=Q6();gn.GroupedObservable=_9e.GroupedObservable;var b9e=nD();gn.observable=b9e.observable;var w9e=jf();gn.Subject=w9e.Subject;var S9e=Z6();gn.BehaviorSubject=S9e.BehaviorSubject;var C9e=FF();gn.ReplaySubject=C9e.ReplaySubject;var T9e=HI();gn.AsyncSubject=T9e.AsyncSubject;var Ege=f5();gn.asap=Ege.asap;gn.asapScheduler=Ege.asapScheduler;var Pge=$h();gn.async=Pge.async;gn.asyncScheduler=Pge.asyncScheduler;var Rge=r5();gn.queue=Rge.queue;gn.queueScheduler=Rge.queueScheduler;var xge=bme();gn.animationFrame=xge.animationFrame;gn.animationFrameScheduler=xge.animationFrameScheduler;var Oge=Cme();gn.VirtualTimeScheduler=Oge.VirtualTimeScheduler;gn.VirtualAction=Oge.VirtualAction;var D9e=t5();gn.Scheduler=D9e.Scheduler;var E9e=Tl();gn.Subscription=E9e.Subscription;var P9e=gi();gn.Subscriber=P9e.Subscriber;var Ige=jI();gn.Notification=Ige.Notification;gn.NotificationKind=Ige.NotificationKind;var R9e=IF();gn.pipe=R9e.pipe;var x9e=zF();gn.noop=x9e.noop;var O9e=oC();gn.identity=O9e.identity;var I9e=Tme();gn.isObservable=I9e.isObservable;var k9e=bE();gn.ArgumentOutOfRangeError=k9e.ArgumentOutOfRangeError;var A9e=wE();gn.EmptyError=A9e.EmptyError;var L9e=DI();gn.ObjectUnsubscribedError=L9e.ObjectUnsubscribedError;var M9e=L6();gn.UnsubscriptionError=M9e.UnsubscriptionError;var N9e=y5();gn.TimeoutError=N9e.TimeoutError;var F9e=Rme();gn.bindCallback=F9e.bindCallback;var q9e=kme();gn.bindNodeCallback=q9e.bindNodeCallback;var j9e=UF();gn.combineLatest=j9e.combineLatest;var z9e=ek();gn.concat=z9e.concat;var U9e=$F();gn.defer=U9e.defer;var H9e=ly();gn.empty=H9e.empty;var B9e=Jme();gn.forkJoin=B9e.forkJoin;var W9e=fy();gn.from=W9e.from;var $9e=Zme();gn.fromEvent=$9e.fromEvent;var V9e=tge();gn.fromEventPattern=V9e.fromEventPattern;var G9e=nge();gn.generate=G9e.generate;var K9e=oge();gn.iif=K9e.iif;var Y9e=age();gn.interval=Y9e.interval;var J9e=Z5();gn.merge=J9e.merge;var X9e=eG();gn.never=X9e.never;var Q9e=FI();gn.of=Q9e.of;var Z9e=cge();gn.onErrorResumeNext=Z9e.onErrorResumeNext;var e7e=dge();gn.pairs=e7e.pairs;var t7e=mge();gn.partition=t7e.partition;var r7e=sG();gn.race=r7e.race;var n7e=_ge();gn.range=n7e.range;var i7e=NF();gn.throwError=i7e.throwError;var o7e=cG();gn.timer=o7e.timer;var s7e=Sge();gn.using=s7e.using;var a7e=JF();gn.zip=a7e.zip;var c7e=N5();gn.scheduled=c7e.scheduled;var u7e=ly();gn.EMPTY=u7e.EMPTY;var l7e=eG();gn.NEVER=l7e.NEVER;var d7e=CI();gn.config=d7e.config});var Jge=E(oq=>{"use strict";Object.defineProperty(oq,"__esModule",{value:!0});oq.BaseTelemetryReporter=void 0;var bG=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};oq.BaseTelemetryReporter=bG});var Xge=E(sq=>{"use strict";Object.defineProperty(sq,"__esModule",{value:!0});sq.BaseTelemetrySender=void 0;var uw;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(uw||(uw={}));var wG=class{constructor(e,t){this._instantiationStatus=uw.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==uw.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==uw.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===uw.NOT_INSTANTIATED&&(this._instantiationStatus=uw.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=uw.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=uw.INSTANTIATED}))}};sq.BaseTelemetrySender=wG});var CG=E(aq=>{"use strict";Object.defineProperty(aq,"__esModule",{value:!0});aq.TelemetryUtil=void 0;var SG=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};aq.TelemetryUtil=SG});var Zge=E((cq,Qge)=>{(function(r,e){typeof cq=="object"&&typeof Qge<"u"?e(cq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(cq,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",m="object",_="prototype",D="__proto__",O="string",M="undefined",A="constructor",U="Symbol",ne="_polyfill",de="indexOf",ye="length",V="done",$="value",ee="name",De="slice",ae=Object,ce=ae[_],qe=String,Ne=qe[_],ue=Math,Ce=Array,be=Ce[_];function xe(p,b){var I=b;try{I=p()}catch{}return I}var Me=[O,f,l,M,"symbol","bigint"];function $e(p){return function(b){return typeof b===p}}function Ct(p){var b="[object "+p+"]";return function(I){return!!(I&&ze(I)===b)}}function ze(p){return ce.toString.call(p)}function st(p,b){return typeof p===b}function at(p){return typeof p===M||p===M}function tt(p){return p===c||at(p)}function fr(p){return p===c||!Lr(p)}function Lr(p){return!!p||p!==a}var zr=function(p){return p!==m&&Me.indexOf(p)!==-1},cr=$e(O),xt=$e(d);function hr(p){return!p&&tt(p)?!1:!!p&&typeof p===m}var Mt=Ce.isArray,on=Ct("Date"),un=$e(f),On=$e(l),Or=Ct("Error");function Hn(p){return!!p&&xt(p.then)}function $r(p){return!p||!xe(function(){return p&&0+p},p)}function ln(p){return!(!p||xe(function(){return!(p&&0+p)},!p))}var ii=ae.getOwnPropertyDescriptor;function Vr(p,b){return p&&ce.hasOwnProperty.call(p,b)}var An=ae.hasOwn||Ri;function Ri(p,b){return Vr(p,b)||!!ii(p,b)}function Gr(p,b,I){if(p&&hr(p)){for(var j in p)if(An(p,j)&&b.call(I||p,j,p[j])===-1)break}}function Ji(p,b,I,j){var W={};return Gr(p,function(ie,ge){W[ie]=b?ge:ie,W[ge]=I?ge:ie}),j(W)}function oi(p){throw new Error(p)}function fn(p){throw new TypeError(p)}var Oe=ae.freeze,oe=function(p){return p},Q=function(p){return p[D]||c},_e=ae.assign;function Je(p){return(!hr(p)||p===c)&&fn("objKeys called on non-object"),ae.keys(p)}function ft(p){return Oe&&Gr(p,function(b,I){(Mt(I)||hr(I))&&Oe(I)}),Yt(p)}var Yt=Oe||oe,rr=ae.seal||oe,Jt=ae.getPrototypeOf||Q;function $t(p){return Ji(p,1,0,ft)}function kt(p){return Ji(p,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Fe=qe,Ht="__tsUtils$gblCfg",Dr;function He(){var p;return typeof globalThis!==M&&(p=globalThis),!p&&typeof self!==M&&(p=self),!p&&typeof window!==M&&(p=window),!p&&typeof global!==M&&(p=global),p}function re(){if(!Dr){var p=He()||{};Dr=p[Ht]=p[Ht]||{}}return Dr}function Re(p,b){var I=u;if(Or(p))I="{ stack: '"+p.stack+"', message: '"+p.message+"', name: '"+p.name+"'";else try{I=JSON.stringify(p,c,b?un(b)?b:4:a)}catch(j){I=" - "+Re(j,b)}return ze(p)+": "+I}var je=be[De],he=function(p,b){fn("'"+Fe(p)+"' not defined for "+Re(b))},S=function(p){return function(b){return b[p].apply(b,je.call(arguments,1))}},fe=function(p,b){var I=b&&b[p];return function(j){var W=j&&j[p]||I;if(W)return W.apply(j,je.call(arguments,1));he(p,j)}},Ye=function(p,b,I){var j=b&&b[p];return function(W){var ie=W&&W[p]||j;if(ie||I){var ge=arguments;return(ie||I).apply(W,ie?je.call(ge,1):ge)}he(p,W)}};function Tr(p){return function(b){return b[p]}}var Wr=ue.max,Xr=fe(De,Ne),qn=fe("substring",Ne),xi=Ye("substr",Ne,ks);function ks(p,b,I){return tt(p)&&fn("'polyStrSubstr called with invalid "+Re(p)),I<0?u:(b=b||0,b<0&&(b=Wr(b+p[ye],0)),at(I)?Xr(p,b):Xr(p,b,b+I))}function Sn(p,b){return qn(p,0,b)}var es=Ye("startsWith",Ne,Bs);function Bs(p,b,I){cr(p)||fn("'"+Re(p)+"' is not a string");var j=cr(b)?b:Fe(b),W=j[ye],ie=I>0?I:0;return qn(p,ie,ie+W)===j}var ta="_urid",Fo;function Eo(){if(!Fo){var p=re();Fo=p.gblSym=p.gblSym||{k:{},s:{}}}return Fo}var H={};function Ue(p){var b={description:Fe(p),toString:function(){return U+"("+p+")"}};return b[ne]=!0,b}function vt(p){var b=Eo();if(!An(b.k,p)){var I=Ue(p),j=Je(b.s).length;I[ta]=function(){return j+"_"+I.toString()},b.k[p]=I,b.s[I[ta]()]=Fe(p)}return b.k[p]}function Fr(p){var b,I=K[p];return I&&(b=H[I]=H[I]||Ue(U+"."+I)),b}var so={e:"enumerable",c:"configurable",v:$,w:"writable",g:"get",s:"set"};function Bi(p){var b={};if(b[so.c]=!0,b[so.e]=!0,p.l){b.get=function(){return p.l.v};var I=ii(p.l,"v");I&&I.set&&(b.set=function(j){p.l.v=j})}return Gr(p,function(j,W){b[so[j]]=at(W)?b[so[j]]:W}),b}var N=ae.defineProperty;function Le(p,b,I,j,W,ie){var ge={e:ie,c:W};return I&&(ge.g=I),j&&(ge.s=j),N(p,b,Bi(ge))}function rt(p,b,I){return N(p,b,Bi(I))}var zt,Ln=function(){zt=re(),Ln=c};function Cn(p){var b={};return Ln&&Ln(),b.b=zt.lzy,N(b,"v",{configurable:!0,get:function(){var I=p();return zt.lzy||(N(b,"v",{value:I}),b.b&&delete b.b),zt.lzy&&b.b!==zt.lzy&&(b.b=zt.lzy),I}}),b}function Nn(p,b){return Cn(function(){return xe(p,b)})}var ao="window",ji,Po,$i,Jn,pu,ts,yo=function(p){return Nn(function(){return Mi(p)||a},a)},al=function(p){return(!ji||p===!1||zt&&zt.lzy&&!ji.b)&&(ji=Nn(He,c)),ji.v},Mi=function(p,b){var I=!ji||b===!1?al(b):ji.v;return I&&I[p]?I[p]:p===ao&&Po?Po.v:c},Ja=function(){return!!Xa()},Xa=function(){return(!$i||zt&&zt.lzy&&!$i.b)&&($i=yo("document")),$i.v},ha=function(){return!!cl()},cl=function(){return(!Po||zt&&zt.lzy&&!Po.b)&&(Po=yo(ao)),Po.v},lh=function(){return!!Cc()},Cc=function(){return(!Jn||zt&&zt.lzy&&!Jn.b)&&(Jn=yo("navigator")),Jn.v},ra=function(){return!!mu()},mu=function(){return(!pu||zt&&zt.lzy&&!pu.b)&&(pu=yo("history")),pu.v},dh=function(){return!ts&&(ts=Nn(function(){return!!(process&&(process.versions||{}).node)},!1)),ts.v},Uo,Ws,Dn;function $s(p){return Nn(function(){return Uo.v?Uo.v[p]:a},a)}function gu(){return!!si()}function si(){var p=!Uo||zt&&zt.lzy&&!Uo.b;return p&&(Uo=yo(U)),(!Ws||p)&&(Ws=$s("for")),(!Dn||p)&&(Dn=$s("keyFor")),Uo.v}function Ta(p,b){var I=K[p];return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v[I||p]:b?a:Fr(p)}function Xc(p,b){return(!Uo||zt.lzy&&!Uo.b)&&si(),Uo.v?Uo.v(p):b?c:Ue(p)}function fh(p){return(!Ws||zt.lzy&&!Uo.b)&&si(),(Ws.v||vt)(p)}function af(p){return!!p&&xt(p.next)}function ap(p){return!fr(p)&&xt(p[Ta(3)])}var cf;function cp(p,b,I){if(p&&(af(p)||(!cf&&(cf=Cn(function(){return Ta(3)})),p=p[cf.v]?p[cf.v]():null),af(p))){var j=void 0,W=void 0;try{for(var ie=0;!(W=p.next())[V]&&b.call(I||p,W[$],ie,p)!==-1;)ie++}catch(ge){j={e:ge},p.throw&&(W=null,p.throw(j))}finally{try{W&&!W[V]&&p.return&&p.return(W)}finally{if(j)throw j.e}}}}var uf=S("apply");function Al(p,b){return!at(b)&&p&&(Mt(b)?uf(p.push,p,b):af(b)||ap(b)?cp(b,function(I){p.push(I)}):p.push(b)),p}function Xn(p,b,I){if(p)for(var j=p[ye]>>>0,W=0;W<j&&!(W in p&&b.call(I||p,p[W],W,p)===-1);W++);}var Vs=fe(de,be),Ll=fe("map",be),co=fe(De,be),hh=S("call");function ph(p,b,I){return Vs(p,b,I)!==-1}var Gs=Ye("includes",be,ph),vu=fe("reduce",be),mh=ae.create,yd=mh||Ss;function Ss(p){if(!p)return{};var b=typeof p;if(b!==m&&b!==d)throw new TypeError("Prototype must be an Object or function: "+Re(p));function I(){}return I[_]=p,new I}var Ml;function Qc(p,b){var I=ae.setPrototypeOf||function(j,W){!Ml&&(Ml=Cn(function(){var ie;return ie={},ie[D]=[],ie instanceof Array})),Ml.v?j[D]=W:Gr(W,function(ie,ge){return j[ie]=ge})};return I(p,b)}var pm=function(p,b,I){lf(b,p),b=Qc(b,I);function j(){this.constructor=b,lf(this,p)}return b[_]=I===c?yd(I):(j[_]=I[_],new j),b},_d=function(p,b){try{b&&(p[ee]=b)}catch{}},lf=function(p,b){try{rt(p,ee,{v:b,c:!0,e:!1})}catch{}};function df(p,b,I){var j=I||Error,W=j[_][ee],ie=Error.captureStackTrace;return pm(p,function(){var ge=this;try{_d(j,p);var Ie=uf(j,ge,co(arguments))||ge;if(Ie!==ge){var Be=Jt(ge);Be!==Jt(Ie)&&Qc(Ie,Be)}return ie&&ie(Ie,ge[A]),b&&b(Ie,arguments),Ie}finally{_d(j,W)}},j)}function Tc(){return(Date.now||_o)()}function _o(){return new Date().getTime()}function up(p){return function(I){return tt(I)&&fn("strTrim called ["+Re(I)+"]"),I&&I.replace&&(I=I.replace(p,u)),I}}var ff=up(/^\s+|(?=\s)\s+$/g),na=Ye("trim",Ne,ff),ul,yu,Av;function ia(p){if(!p||typeof p!==m)return!1;Av||(Av=ha()?cl():!0);var b=!1;if(p!==Av){yu||(ul=Function[_].toString,yu=hh(ul,ae));try{var I=Jt(p);b=!I,b||(Vr(I,A)&&(I=I[A]),b=I&&typeof I===d&&ul.call(I)===yu)}catch{}}return b}var Jy=function(p){return p.value&&Fl(p),!0},Nu=[wd,Fl,lp,vh];function bd(p,b,I,j){var W;return Xn(p,function(ie){if(ie.k===b)return W=ie,-1}),W||(W={k:b,v:b},p.push(W),j(W)),W.v}function Ho(p,b,I,j){var W=I.handler,ie=I.path?j?I.path.concat(j):I.path:[],ge={handler:I.handler,src:I.src,path:ie},Ie=typeof b,Be=!1,et=!1;b&&Ie===m?Be=ia(b):et=b===c||zr(Ie);var Ve={type:Ie,isPrim:et,isPlain:Be,value:b,result:b,path:ie,origin:I.src,copy:function(wt,ot){return Ho(p,wt,ot?ge:I,ot)},copyTo:function(wt,ot){return Nl(p,wt,ot,ge)}};return Ve.isPrim?W&&hh(W,I,Ve)?Ve.result:b:bd(p,b,ie,function(wt){rt(Ve,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,_t=W;!hh(_t||(ot<Nu.length?Nu[ot++]:Jy),I,Ve);)_t=c})}function Nl(p,b,I,j){if(!tt(I))for(var W in I)b[W]=Ho(p,I[W],j,W);return b}function gh(p,b,I){var j={handler:I,src:b,path:[]};return Nl([],p,b,j)}function wg(p,b){var I={handler:b,src:p};return Ho([],p,I)}function wd(p){var b=p.value;if(Mt(b)){var I=p.result=[];return I.length=b.length,p.copyTo(I,b),!0}return!1}function vh(p){var b=p.value;return on(b)?(p.result=new Date(b.getTime()),!0):!1}function lp(p){return p.type===d}function Fl(p){var b=p.value;if(b&&p.isPlain){var I=p.result={};return p.copyTo(I,b),!0}return!1}function dp(p,b){return Xn(b,function(I){gh(p,I)}),p}function Fu(p,b,I,j,W,ie,ge){return dp(wg(p)||{},co(arguments))}var yh=Tr(ye),_u;function hf(){return(!_u||!_u.b&&zt&&zt.lzy)&&(_u=yo("performance")),_u.v}function Sd(){var p=hf();return p&&p.now?p.now():Tc()}var pf=Ye("endsWith",Ne,Cd);function Cd(p,b,I){cr(p)||fn("'"+Re(p)+"' is not a string");var j=cr(b)?b:Fe(b),W=j[ye],ie=p[ye],ge=!at(I)&&I<ie?I:ie;return qn(p,ge-W,ge)===j}var Ks=fe(de,Ne),Da="ref",Ro="un"+Da,Zc="hasRef",Qa="enabled";function Sg(p,b,I){var j,W=!0,ie=p?b(c):c,ge,Ie=function(){return W=!1,ie&&ie[Ro]&&ie[Ro](),ge},Be=function(){return W=!0,ie&&ie[Da]&&ie[Da](),ge},et=function(){return ie&&ie[Zc]?ie[Zc]():W},Ve=function(){return ie=b(ie),W||Ie(),ge},wt=function(){ie&&I(ie),ie=c},ot=function(_t){!_t&&ie&&wt(),_t&&!ie&&Ve()};return ge=(j={cancel:wt,refresh:Ve},j[Zc]=et,j[Da]=Be,j[Ro]=Ie,j[Qa]=!1,j),N(ge,Qa,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function qu(p,b,I,j){var W=Mt(I),ie=W?I.length:0,ge=(ie>0?I[0]:W?a:I)||setTimeout,Ie=(ie>1?I[1]:a)||clearTimeout,Be=j[0];j[0]=function(){et.dn(),uf(Be,p,co(arguments))};var et=Sg(b,function(Ve){if(Ve){if(Ve.refresh)return Ve.refresh(),Ve;uf(Ie,p,[Ve])}return uf(ge,p,j)},function(Ve){uf(Ie,p,[Ve])});return et.h}function Ys(p,b){return qu(this,!0,a,co(arguments))}function ql(p,b){return qu(this,!1,a,co(arguments))}(al()||{}).Symbol,(al()||{}).Reflect;var fp="hasOwnProperty",bu=function(p,b){return bu=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,j){I.__proto__=j}||function(I,j){for(var W in j)j[fp](W)&&(I[W]=j[W])},bu(p,b)};function ll(p,b){typeof b!==e&&b!==null&&fn("Class extends value "+String(b)+" is not a constructor or null"),bu(p,b);function I(){this.constructor=p}p[i]=b===null?yd(b):(I[i]=b[i],new I)}function _h(p,b){for(var I=0,j=b.length,W=p.length;I<j;I++,W++)p[W]=b[I];return p}var Dc,ju="constructor",Cs="prototype",eu="function",zu="_dynInstFuncs",Uu="_isDynProxy",oa="_dynClass",Cg="_dynCls$",Za="_dynInstChk",dl=Za,Bo="_dfOpts",Wo="_unknown_",mf="__proto__",Hu="_dyn"+mf,gf="__dynProto$Gbl",qo="_dynInstProto",jl="useBaseInst",vf="setInstFuncs",pa=Object,wu=pa.getPrototypeOf,sa=pa.getOwnPropertyNames,As=al(),zl=As[gf]||(As[gf]={o:(Dc={},Dc[vf]=!0,Dc[jl]=!0,Dc),n:1e3});function Lv(p){return p&&(p===pa[Cs]||p===Array[Cs])}function hs(p){return Lv(p)||p===Function[Cs]}function tu(p){var b;if(p){if(wu)return wu(p);var I=p[mf]||p[Cs]||(p[ju]?p[ju][Cs]:null);b=p[Hu]||I,Vr(p,Hu)||(delete p[qo],b=p[Hu]=p[qo]||p[Hu],p[qo]=I)}return b}function fl(p,b){var I=[];if(sa)I=sa(p);else for(var j in p)typeof j=="string"&&Vr(p,j)&&I.push(j);if(I&&I.length>0)for(var W=0;W<I.length;W++)b(I[W])}function bh(p,b,I){return b!==ju&&typeof p[b]===eu&&(I||Vr(p,b))}function Td(p){fn("DynamicProto: "+p)}function hp(p){var b={};return fl(p,function(I){!b[I]&&bh(p,I,!1)&&(b[I]=p[I])}),b}function ec(p,b){for(var I=p.length-1;I>=0;I--)if(p[I]===b)return!0;return!1}function mm(p,b,I,j){function W(Be,et,Ve){var wt=et[Ve];if(wt[Uu]&&j){var ot=Be[zu]||{};ot[dl]!==!1&&(wt=(ot[et[oa]]||{})[Ve]||wt)}return function(){return wt.apply(Be,arguments)}}var ie={};fl(I,function(Be){ie[Be]=W(b,I,Be)});for(var ge=tu(p),Ie=[];ge&&!hs(ge)&&!ec(Ie,ge);)fl(ge,function(Be){!ie[Be]&&bh(ge,Be,!wu)&&(ie[Be]=W(b,ge,Be))}),Ie.push(ge),ge=tu(ge);return ie}function zi(p,b,I,j){var W=null;if(p&&Vr(I,oa)){var ie=p[zu]||{};if(W=(ie[I[oa]]||{})[b],W||Td("Missing ["+b+"] "+eu),!W[Za]&&ie[dl]!==!1){for(var ge=!Vr(p,b),Ie=tu(p),Be=[];ge&&Ie&&!hs(Ie)&&!ec(Be,Ie);){var et=Ie[b];if(et){ge=et===j;break}Be.push(Ie),Ie=tu(Ie)}try{ge&&(p[b]=W),W[Za]=1}catch{ie[dl]=!1}}}return W}function rs(p,b,I){var j=b[p];return j===I&&(j=tu(b)[p]),typeof j!==eu&&Td("["+p+"] is not a "+eu),j}function Bu(p,b,I,j,W){function ie(Be,et){var Ve=function(){var wt=zi(this,et,Be,Ve)||rs(et,Be,Ve);return wt.apply(this,arguments)};return Ve[Uu]=1,Ve}if(!Lv(p)){var ge=I[zu]=I[zu]||{},Ie=ge[b]=ge[b]||{};ge[dl]!==!1&&(ge[dl]=!!W),fl(I,function(Be){bh(I,Be,!1)&&I[Be]!==j[Be]&&(Ie[Be]=I[Be],delete I[Be],(!Vr(p,Be)||p[Be]&&!p[Be][Uu])&&(p[Be]=ie(p,Be)))})}}function Ec(p,b){if(wu){for(var I=[],j=tu(b);j&&!hs(j)&&!ec(I,j);){if(j===p)return!0;I.push(j),j=tu(j)}return!1}return!0}function Pc(p,b){return Vr(p,Cs)?p.name||b||Wo:((p||{})[ju]||{}).name||b||Wo}function aa(p,b,I,j){Vr(p,Cs)||Td("theClass is an invalid class definition.");var W=p[Cs];Ec(W,b)||Td("["+Pc(p)+"] not in hierarchy of ["+Pc(b)+"]");var ie=null;Vr(W,oa)?ie=W[oa]:(ie=Cg+Pc(p,"_")+"$"+zl.n,zl.n++,W[oa]=ie);var ge=aa[Bo],Ie=!!ge[jl];Ie&&j&&j[jl]!==void 0&&(Ie=!!j[jl]);var Be=hp(b),et=mm(W,b,Be,Ie);I(b,et);var Ve=!!wu&&!!ge[vf];Ve&&j&&(Ve=!!j[vf]),Bu(W,ie,b,Be,Ve!==!1)}aa[Bo]=zl.o;var hl=100,Vi=$t,yf=Vi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),wi="toLowerCase",Ea="blkVal",Bn="length",Dd="rdOnly",Ul="notify",Rc="warnToConsole",$o="throwInternal",tc="setDf",ca="watch",uo="logger",Su="apply",Fn="push",ru="splice",xo="hdlr",ai="cancel",Hl="initialize",Pa="identifier",ma="isInitialized",ua="getPlugin",Bl="pollInternalLogs",rc="name",Ed="time",Ts="processNext",nu="getProcessTelContext",pl="getNotifyMgr",Wl="addNotificationListener",Pd="removeNotificationListener",g="enabled",v="stopPollingInternalLogs",P="unload",x="onComplete",F="version",J="loggingLevelConsole",Z="createNew",pe="teardown",ke="messageId",Qe="message",ht="isAsync",Ut="diagLog",Sr="_doTeardown",sn="update",jr="getNext",Wn="setNextPlugin",Js="userAgent",nc="split",Cu="nodeType",pp="replace",gm="logInternalMessage",Ra="type",mp="handler",wh="isChildEvt",Rd="getCtx",Tu="setCtx",Tg="complete",Xy="traceId",gp="spanId",vp="traceFlags",Qy;function Zy(p,b){Qy||(Qy=df("AggregationError",function(j,W){W[Bn]>1&&(j.errors=W[1])}));var I=p||"One or more errors occurred.";throw Xn(b,function(j,W){I+=`
`.concat(W," > ").concat(Re(j))}),new Qy(I,b||[])}function e_(p,b){return Db(p,function(I){b&&b({value:I,rejected:!1})},function(I){b&&b({rejected:!0,reason:I})})}function Db(p,b,I,j){var W=p;return Hn(p)?(b||I)&&(W=p.then(b,I)):b&&b(p),j&&(W=vm(W,j)),W}function vm(p,b){var I=p;return b&&(Hn(p)?p.finally?I=p.finally(b):I=p.then(function(j){return b(),j},function(j){throw b(),j}):b()),I}var Mv=["pending","resolving","resolved","rejected"],t_="dispatchEvent",r_;function ym(p,b,I,j){var W=Xa();!r_&&(r_=Nn(function(){var Be;return W&&W.createEvent&&(Be=W.createEvent("Event")),!!Be&&Be.initEvent},null));var ie=r_.v?W.createEvent("Event"):j?new Event(b):{};if(I&&I(ie),r_.v&&ie.initEvent(b,!1,!0),ie&&p[t_])p[t_](ie);else{var ge=p["on"+b];if(ge)ge(ie);else{var Ie=Mi("console");Ie&&(Ie.error||Ie.log)(b,Re(ie))}}}var yp="Promise",Eb="unhandledRejection",n_=Eb.toLowerCase(),_p=10,Nv;function xd(p){return xt(p)?p.toString():Re(p)}function Xi(p,b,I){var j=co(arguments,3),W=0,ie=!1,ge,Ie=[],Be=!1,et=null,Ve;!Nv&&(Nv=yo(yp+"RejectionEvent"));var wt=function(Ir,Mn){try{Be=!0,et&&et.cancel(),et=null;var Oi=p(function(Io,Ge){Ie.push(function(){try{var At=W===2?Ir:Mn,Zt=at(At)?ge:xt(At)?At(ge):At;Hn(Zt)?Zt.then(Io,Ge):At?Io(Zt):W===3?Ge(Zt):Io(Zt)}catch(lr){Ge(lr)}}),ie&&Qt()},j);return Oi}finally{}},ot=function(Ir){return wt(void 0,Ir)},_t=function(Ir){var Mn=Ir,Oi=Ir;return xt(Ir)&&(Mn=function(Io){return Ir&&Ir(),Io},Oi=function(Io){throw Ir&&Ir(),Io}),wt(Mn,Oi)},it=function(){return Mv[W]},Qt=function(){if(Ie.length>0){var Ir=Ie.slice();Ie=[],Be=!0,b(Ir),et&&et.cancel(),et=null}},Vt=function(Ir,Mn){return function(Oi){if(W===Mn){if(Ir===2&&Hn(Oi)){W=1,Oi.then(Vt(2,1),Vt(3,1));return}W=Ir,ie=!0,ge=Oi,Qt(),!Be&&Ir===3&&!et&&(et=Ys(_r,_p))}}},_r=function(){if(!Be)if(dh())process.emit(Eb,ge,Ve);else{var Ir=cl()||al();ym(Ir,n_,function(Mn){return rt(Mn,"promise",{g:function(){return Ve}}),Mn.reason=ge,Mn},!!Nv.v)}};Ve={then:wt,catch:ot,finally:_t},N(Ve,"state",{get:it}),gu()&&(Ve[Ta(11)]="IPromise");var Rr=function(){return"IPromise "+it()+(ie?" - "+xd(ge):"")};return Ve.toString=Rr,function(){xt(I)||fn(yp+": executor is not a function - "+xd(I));var Mn=Vt(3,0);try{I.call(Ve,Vt(2,0),Mn)}catch(Oi){Mn(Oi)}}(),Ve}function _m(p){return function(b){var I=co(arguments,1);return p(function(j,W){try{var ie=[],ge=1;Xn(b,function(Ie,Be){Ie&&(ge++,Db(Ie,function(et){ie[Be]=et,--ge===0&&j(ie)},W))}),ge--,ge===0&&j(ie)}catch(Ie){W(Ie)}},I)}}var lo=function(p){Xn(p,function(b){try{b()}catch{}})};function i_(p){var b=un(p)?p:0;return function(I){Ys(function(){lo(I)},b)}}function Fv(p,b){return Xi(Fv,i_(b),p,b)}var Od;function bp(p,b){!Od&&(Od=yo(yp));var I=Od.v;if(!I)return Fv(p);xt(p)||fn(yp+": executor is not a function - "+Re(p));var j=0;function W(){return Mv[j]}var ie=new I(function(ge,Ie){function Be(Ve){j=2,ge(Ve)}function et(Ve){j=3,Ie(Ve)}p(Be,et)});return N(ie,"state",{get:W}),ie}var iu;function Id(p,b){return!iu&&(iu=Cn(function(){return bp})),iu.v.call(this,p,b)}var kd=_m(Id),Ls=void 0,fi="",Du="channels",ns="core",Ad="createPerfMgr",bm="disabled",wp="extensionConfig",Sp="extensions",_f="processTelemetry",o_="priority",wm="eventsSent",Sm="eventsDiscarded",xa="eventsSendRequest",Ld="perfEvent",xc="getPerfMgr",Eu="domain",Cm="path",ml="Not dynamic - ",Tm=/-([a-z])/g,Dg=/([^\w\d_$])/g,Cp=/^(\d+[\w\d_$])/;function En(p){return!tt(p)}function Md(p){var b=p;return b&&cr(b)&&(b=b[pp](Tm,function(I,j){return j.toUpperCase()}),b=b[pp](Dg,"_"),b=b[pp](Cp,function(I,j){return"_"+j})),b}function Ms(p,b){return p&&b?Ks(p,b)!==-1:!1}function bf(p){return p&&p.toISOString()||""}function qv(p){return Or(p)?p[rc]:fi}function ic(p,b,I,j,W){var ie=I;return p&&(ie=p[b],ie!==I&&(!W||W(ie))&&(!j||j(I))&&(ie=I,p[b]=ie)),ie}function Nd(p,b,I){var j;return p?(j=p[b],!j&&tt(j)&&(j=at(I)?{}:I,p[b]=j)):j=at(I)?{}:I,j}function Tp(p,b){var I=null,j=null;return xt(p)?I=p:j=p,function(){var W=arguments;if(I&&(j=I()),j)return j[b][Su](j,W)}}function jv(p,b,I){if(p&&b&&hr(p)&&hr(b)){var j=function(ie){if(cr(ie)){var ge=b[ie];xt(ge)?(!I||I(ie,!0,b,p))&&(p[ie]=Tp(b,ie)):(!I||I(ie,!1,b,p))&&(An(p,ie)&&delete p[ie],rt(p,ie,{g:function(){return b[ie]},s:function(Ie){b[ie]=Ie}}))}};for(var W in b)j(W)}return p}function gl(p,b,I,j,W){p&&b&&I&&(W!==!1||at(p[b]))&&(p[b]=Tp(I,j))}function Eg(p,b,I,j){return p&&b&&hr(p)&&Mt(I)&&Xn(I,function(W){cr(W)&&gl(p,W,b,W,j)}),p}function Dm(p){return p&&_e&&(p=o(_e({},p))),p}var zv="documentMode",Pg="location",Fd="console",wf="JSON",Em="crypto",Dp="msCrypto",Rg="ReactNative",ou="msie",oc="trident/",Sf="XMLHttpRequest",Wu=null,Pu=null,Sh=!1,qd=null,xg=null;function Ep(p,b){var I=!1;if(p){try{if(I=b in p,!I){var j=p[i];j&&(I=b in j)}}catch{}if(!I)try{var W=new p;I=!at(W[b])}catch{}}return I}function Pp(p){Sh=p}function Ch(p){if(p&&Sh){var b=Mi("__mockLocation");if(b)return b}return typeof location===t&&location?location:Mi(Pg)}function jd(){return typeof console!==n?console:Mi(Fd)}function Pm(){return!!(typeof JSON===t&&JSON||Mi(wf)!==null)}function Rp(){return Pm()?JSON||Mi(wf):null}function Rm(){return Mi(Em)}function Cf(){return Mi(Dp)}function Th(){var p=Cc();return p&&p.product?p.product===Rg:!1}function xm(){var p=Cc();if(p&&(p[Js]!==Pu||Wu===null)){Pu=p[Js];var b=(Pu||fi)[wi]();Wu=Ms(b,ou)||Ms(b,oc)}return Wu}function Pb(p){if(p===void 0&&(p=null),!p){var b=Cc()||{};p=b?(b.userAgent||fi)[wi]():fi}var I=(p||fi)[wi]();if(Ms(I,ou)){var j=Xa()||{};return Math.max(parseInt(I[nc](ou)[1]),j[zv]||0)}else if(Ms(I,oc)){var W=parseInt(I[nc](oc)[1]);if(W)return W+4}return null}function sc(p){return(xg===null||p===!1)&&(xg=lh()&&!!Cc().sendBeacon),xg}function Uv(p){var b=!1;try{b=!!Mi("fetch");var I=Mi("Request");b&&p&&I&&(b=Ep(I,"keepalive"))}catch{}return b}function zd(){return qd===null&&(qd=typeof XDomainRequest!==n,qd&&Og()&&(qd=qd&&!Ep(Mi(Sf),"withCredentials"))),qd}function Og(){var p=!1;try{var b=Mi(Sf);p=!!b}catch{}return p}function Ud(p,b){if(p)for(var I=0;I<p[Bn];I++){var j=p[I];if(j[rc]&&j[rc]===b)return j}return{}}function Tf(p){var b=Xa();return b&&p?Ud(b.querySelectorAll("meta"),p).content:null}function Om(p){var b,I=hf();if(I){var j=I.getEntriesByType("navigation")||[];b=Ud((j[Bn]>0?j[0]:{}).serverTiming,p).description}return b}var Ig=4294967296,Oc=4294967295,vl=123456789,kg=987654321,Hv=!1,Hd=vl,xp=kg;function Dh(p){p<0&&(p>>>=0),Hd=vl+p&Oc,xp=kg-p&Oc,Hv=!0}function Rb(){try{var p=Tc()&2147483647;Dh((Math.random()*Ig^p)+p)}catch{}}function ES(p){return p>0?Math.floor(Bd()/Oc*(p+1))>>>0:0}function Bd(p){var b=0,I=Rm()||Cf();return I&&I.getRandomValues&&(b=I.getRandomValues(new Uint32Array(1))[0]&Oc),b===0&&xm()&&(Hv||Rb(),b=Bv()&Oc),b===0&&(b=Math.floor(Ig*Math.random()|0)),p||(b>>>=0),b}function Bv(p){xp=36969*(xp&65535)+(xp>>16)&Oc,Hd=18e3*(Hd&65535)+(Hd>>16)&Oc;var b=(xp<<16)+(Hd&65535)>>>0&Oc|0;return p||(b>>>=0),b}function Wv(p){p===void 0&&(p=22);for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=Bd()>>>0,j=0,W=fi;W[Bn]<p;)j++,W+=b.charAt(I&63),I>>>=6,j===5&&(I=(Bd()<<2&4294967295|I&3)>>>0,j=0);return W}var $v="3.0.5",Ag="."+Wv(6),wT=0;function Lg(p){return p[Cu]===1||p[Cu]===9||!+p[Cu]}function ST(p,b){var I=b[p.id];if(!I){I={};try{Lg(b)&&rt(b,p.id,{e:!1,v:I})}catch{}}return I}function $l(p,b){return b===void 0&&(b=!1),Md(p+wT+++(b?"."+$v:fi)+Ag)}function Eh(p){var b={id:$l("_aiData-"+(p||fi)+"."+$v),accept:function(I){return Lg(I)},get:function(I,j,W,ie){var ge=I[b.id];return ge?ge[Md(j)]:(ie&&(ge=ST(b,I),ge[Md(j)]=W),W)},kill:function(I,j){if(I&&I[j])try{delete I[j]}catch{}}};return b}function Im(p){return p&&hr(p)&&(p.isVal||p.fb||An(p,"v")||An(p,"mrg")||An(p,"ref")||p.set)}function s_(p,b,I){var j,W=I.dfVal||Lr;if(b&&I.fb){var ie=I.fb;Mt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Bn];ge++){var Ie=ie[ge],Be=b[Ie];if(W(Be)?j=Be:p&&(Be=p.cfg[Ie],W(Be)&&(j=Be),p.set(p.cfg,Fe(Ie),Be)),W(j))break}}return!W(j)&&W(I.v)&&(j=I.v),j}function km(p,b,I){var j=I;if(I&&Im(I)&&(j=s_(p,b,I)),j){Im(j)&&(j=km(p,b,j));var W;Mt(j)?(W=[],W[Bn]=j[Bn]):ia(j)&&(W={}),W&&(Gr(j,function(ie,ge){ge&&Im(ge)&&(ge=km(p,b,ge)),W[ie]=ge}),j=W)}return j}function Vl(p,b,I,j){var W,ie,ge,Ie=j,Be,et,Ve,wt;Im(Ie)?(W=Ie.isVal,ie=Ie.set,Ve=Ie[Dd],wt=Ie[Ea],Be=Ie.mrg,et=Ie.ref,!et&&at(et)&&(et=!!Be),ge=s_(p,b,Ie)):ge=j,wt&&p[Ea](b,I);var ot,_t=!0,it=b[I];(it||!tt(it))&&(ot=it,_t=!1,W&&ot!==ge&&!W(ot)&&(ot=ge,_t=!0),ie&&(ot=ie(ot,ge,b),_t=ot===ge)),_t?ge?ot=km(p,b,ge):ot=ge:(ia(ot)||Mt(ge))&&Be&&ge&&(ia(ge)||Mt(ge))&&Gr(ge,function(Qt,Vt){Vl(p,ot,Qt,Vt)}),p.set(b,I,ot),et&&p.ref(b,I),Ve&&p[Dd](b,I)}var yl=fh("[[ai_dynCfg_1]]"),Df=fh("[[ai_blkDynCfg_1]]"),Ef=fh("[[ai_frcDynCfg_1]]");function Vv(p){if(p){var b;if(Mt(p)?(b=[],b[Bn]=p[Bn]):ia(p)&&(b={}),b)return Gr(p,function(I,j){b[I]=Vv(j)}),b}return p}function Op(p){if(p){var b=p[yl]||p;if(b.cfg&&(b.cfg===p||b.cfg[yl]===b))return b}return null}function Oa(p){if(p&&(ia(p)||Mt(p)))try{p[Df]=!0}catch{}return p}function Ph(p){if(p)try{p[Ef]=!0}catch{}return p}function Rh(p,b,I){var j=!1;return I&&!p[b.blkVal]&&(j=I[Ef],!j&&!I[Df]&&(j=ia(I)||Mt(I))),j}function a_(p){fn("InvalidAccess:"+p)}var PS=["push","pop","shift","unshift","splice"],xh=function(p,b,I,j){p&&p[$o](3,108,"".concat(I," [").concat(b,"] failed - ")+Re(j))};function RS(p,b,I){Mt(b)&&Xn(PS,function(j){var W=b[j];b[j]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ie=W[Su](this,ie);return Ip(p,b,I,"Patching"),Ie}})}function Am(p,b){var I=ii(p,b);return I&&I.get}function Oh(p,b,I,j){var W={n:I,h:[],trk:function(et){et&&et.fn&&(Vs(W.h,et)===-1&&W.h[Fn](et),p.trk(et,W))},clr:function(et){var Ve=Vs(W.h,et);Ve!==-1&&W.h[ru](Ve,1)}},ie=!0,ge=!1;function Ie(){ie&&(ge=ge||Rh(Ie,p,j),j&&!j[yl]&&ge&&(j=Ip(p,j,I,"Converting")),ie=!1);var et=p.act;return et&&W.trk(et),j}Ie[p.prop]={chng:function(){p.add(W)}};function Be(et){if(j!==et){Ie[p.ro]&&!p.upd&&a_("["+I+"] is read-only:"+Re(b)),ie&&(ge=ge||Rh(Ie,p,j),ie=!1);var Ve=ge&&Ie[p.rf];if(ge)if(Ve){Gr(j,function(ot){j[ot]=et?et[ot]:Ls});try{Gr(et,function(ot,_t){Gl(p,j,ot,_t)}),et=j}catch(ot){xh((p.hdlr||{})[uo],I,"Assigning",ot),ge=!1}}else j&&j[yl]&&Gr(j,function(ot){var _t=Am(j,ot);if(_t){var it=_t[p.prop];it&&it.chng()}});if(et!==j){var wt=et&&Rh(Ie,p,et);!Ve&&wt&&(et=Ip(p,et,I,"Converting")),j=et,ge=wt}p.add(W)}}rt(b,W.n,{g:Ie,s:Be})}function Gl(p,b,I,j){if(b){var W=Am(b,I),ie=W&&!!W[p.prop];ie?b[I]=j:Oh(p,b,I,j)}return b}function Mg(p,b,I,j){if(b){var W=Am(b,I),ie=W&&!!W[p.prop],ge=j&&j[0],Ie=j&&j[1],Be=j&&j[2];if(!ie){if(Be)try{Oa(b)}catch(et){xh((p.hdlr||{})[uo],I,"Blocking",et)}try{Gl(p,b,I,b[I]),W=Am(b,I)}catch(et){xh((p.hdlr||{})[uo],I,"State",et)}}ge&&(W[p.rf]=ge),Ie&&(W[p.ro]=Ie),Be&&(W[p.blkVal]=!0)}return b}function Ip(p,b,I,j){try{Gr(b,function(W,ie){Gl(p,b,W,ie)}),b[yl]||(N(b,yl,{get:function(){return p[xo]}}),RS(p,b,I))}catch(W){xh((p.hdlr||{})[uo],I,j,W)}return b}var Lm="[[ai_",Ng="]]";function xb(p){var b,I=Xc(Lm+"get"+p.uid+Ng),j=Xc(Lm+"ro"+p.uid+Ng),W=Xc(Lm+"rf"+p.uid+Ng),ie=Xc(Lm+"blkVal"+p.uid+Ng),ge=Xc(Lm+"dtl"+p.uid+Ng),Ie=null,Be=null,et;function Ve(it,Qt){var Vt=et.act;try{et.act=it,it&&it[ge]&&(Xn(it[ge],function(Rr){Rr.clr(it)}),it[ge]=[]),Qt({cfg:p.cfg,set:p.set.bind(p),setDf:p[tc].bind(p),ref:p.ref.bind(p),rdOnly:p[Dd].bind(p)})}catch(Rr){var _r=p[uo];throw _r&&_r[$o](1,107,Re(Rr)),Rr}finally{et.act=Vt||null}}function wt(){if(Ie){var it=Ie;Ie=null,Be&&Be[ai](),Be=null;var Qt=[];if(Xn(it,function(Vt){if(Vt&&(Vt[ge]&&(Xn(Vt[ge],function(_r){_r.clr(Vt)}),Vt[ge]=null),Vt.fn))try{Ve(Vt,Vt.fn)}catch(_r){Qt[Fn](_r)}}),Ie)try{wt()}catch(Vt){Qt[Fn](Vt)}Qt[Bn]>0&&Zy("Watcher error(s): ",Qt)}}function ot(it){if(it&&it.h[Bn]>0){Ie||(Ie=[]),Be||(Be=Ys(function(){Be=null,wt()},0));for(var Qt=0;Qt<it.h[Bn];Qt++){var Vt=it.h[Qt];Vt&&Vs(Ie,Vt)===-1&&Ie[Fn](Vt)}}}function _t(it,Qt){if(it){var Vt=it[ge]=it[ge]||[];Vs(Vt,Qt)===-1&&Vt[Fn](Qt)}}return et=(b={prop:I,ro:j,rf:W},b[Ea]=ie,b[xo]=p,b.add=ot,b[Ul]=wt,b.use=Ve,b.trk=_t,b),et}function CT(p,b){var I={fn:b,rm:function(){I.fn=null,p=null,b=null}};return p.use(I,b),I}function Mm(p,b,I){var j,W=Op(b);if(W)return W;var ie=$l("dyncfg",!0),ge=b&&I!==!1?b:Vv(b),Ie;function Be(){Ie[Ul]()}function et(_r,Rr,Ir){try{_r=Gl(Ie,_r,Rr,Ir)}catch(Mn){xh(p,Rr,"Setting value",Mn)}return _r[Rr]}function Ve(_r){return CT(Ie,_r)}function wt(_r,Rr){Ie.use(null,function(Ir){var Mn=Ie.upd;try{at(Rr)||(Ie.upd=Rr),_r(Ir)}finally{Ie.upd=Mn}})}function ot(_r,Rr){var Ir;return Mg(Ie,_r,Rr,(Ir={},Ir[0]=!0,Ir))[Rr]}function _t(_r,Rr){var Ir;return Mg(Ie,_r,Rr,(Ir={},Ir[1]=!0,Ir))[Rr]}function it(_r,Rr){var Ir;return Mg(Ie,_r,Rr,(Ir={},Ir[2]=!0,Ir))[Rr]}function Qt(_r,Rr){return Rr&&Gr(Rr,function(Ir,Mn){Vl(Vt,_r,Ir,Mn)}),_r}var Vt=(j={uid:null,cfg:ge},j[uo]=p,j[Ul]=Be,j.set=et,j[tc]=Qt,j[ca]=Ve,j.ref=ot,j[Dd]=_t,j[Ea]=it,j._block=wt,j);return rt(Vt,"uid",{c:!1,e:!1,w:!1,v:ie}),Ie=xb(Vt),Ip(Ie,ge,"config","Creating"),Vt}function xS(p,b){p?(p[Rc](b),p[$o](2,108,b)):a_(b)}function ac(p,b,I,j){var W=Mm(I,p||{},j);return b&&W[tc](W.cfg,b),W}function Nm(p,b,I){var j=p[yl]||p;return j.cfg&&(j.cfg===p||j.cfg[yl]===j)?j[ca](b):(xS(I,ml+Re(p)),ac(p,null,I)[ca](b))}function Fm(p,b){if(p&&p[P])return p[P](b)}function OS(p,b,I){var j;return I||(j=Id(function(W){I=W})),p&&yh(p)>0?e_(Fm(p[0],b),function(){OS(co(p,1),b,I)}):I(),j}var TT=500;function Kl(p){return{mrg:!0,v:p}}var cc=[wm,Sm,xa,Ld],Yl=null,qm;function Fg(p,b){return function(){var I=arguments,j=bn(b);if(j){var W=j.listener;W&&W[p]&&W[p][Su](W,I)}}}function c_(){var p=Mi("Microsoft");return p&&(Yl=p.ApplicationInsights),Yl}function bn(p){var b=Yl;return!b&&p.disableDbgExt!==!0&&(b=Yl||c_()),b?b.ChromeDbgExt:null}function Gv(p){if(!qm){qm={};for(var b=0;b<cc[Bn];b++)qm[cc[b]]=Fg(cc[b],p)}return qm}var kp,Pf="warnToConsole",jm="AI (Internal): ",Ia="AI: ",u_="AITR_",qg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},l_=(kp={},kp[0]=null,kp[1]="errorToConsole",kp[2]=Pf,kp[3]="debugToConsole",kp);function Jl(p){return p?'"'+p[pp](/\"/g,fi)+'"':fi}function zm(p,b){var I=jd();if(I){var j="log";I[p]&&(j=p),xt(I[j])&&I[j](b)}}var Ih=function(){function p(b,I,j,W){j===void 0&&(j=!1);var ie=this;ie[ke]=b,ie[Qe]=(j?Ia:jm)+b;var ge=fi;Pm()&&(ge=Rp().stringify(W));var Ie=(I?" message:"+Jl(I):fi)+(W?" props:"+Jl(ge):fi);ie[Qe]+=Ie}return p.dataType="MessageData",p}();function jg(p,b){return(p||{})[uo]||new Um(b)}var Um=function(){function p(b){this.identifier="DiagnosticLogger",this.queue=[];var I=0,j={},W,ie,ge,Ie,Be;aa(p,this,function(et){Be=wt(b||{}),et.consoleLoggingLevel=function(){return W},et[$o]=function(it,Qt,Vt,_r,Rr){Rr===void 0&&(Rr=!1);var Ir=new Ih(Qt,Vt,Rr,_r);if(Ie)throw Re(Ir);var Mn=l_[it]||Pf;if(at(Ir[Qe]))_t("throw"+(it===1?"Critical":"Warning"),Ir);else{if(Rr){var Oi=+Ir[ke];!j[Oi]&&W>=it&&(et[Mn](Ir[Qe]),j[Oi]=!0)}else W>=it&&et[Mn](Ir[Qe]);Ve(it,Ir)}},et.debugToConsole=function(it){zm("debug",it),_t("warning",it)},et[Rc]=function(it){zm("warn",it),_t("warning",it)},et.errorToConsole=function(it){zm("error",it),_t("error",it)},et.resetInternalMessageCount=function(){I=0,j={}},et[gm]=Ve,et[P]=function(it){Be&&Be.rm(),Be=null};function Ve(it,Qt){if(!ot()){var Vt=!0,_r=u_+Qt[ke];if(j[_r]?Vt=!1:j[_r]=!0,Vt&&(it<=ie&&(et.queue[Fn](Qt),I++,_t(it===1?"error":"warn",Qt)),I===ge)){var Rr="Internal events throttle limit per PageView reached for this app.",Ir=new Ih(23,Rr,!1);et.queue[Fn](Ir),it===1?et.errorToConsole(Rr):et[Rc](Rr)}}}function wt(it){return Nm(ac(it,qg,et).cfg,function(Qt){var Vt=Qt.cfg;W=Vt[J],ie=Vt.loggingLevelTelemetry,ge=Vt.maxMessageLimit,Ie=Vt.enableDebug})}function ot(){return I>=ge}function _t(it,Qt){var Vt=bn(b||{});Vt&&Vt[Ut]&&Vt[Ut](it,Qt)}})}return p.__ieDyn=1,p}();function Ru(p){return p||new Um}function Wd(p,b,I,j,W,ie){ie===void 0&&(ie=!1),Ru(p)[$o](b,I,j,W,ie)}function Ob(p,b){Ru(p)[Rc](b)}function Xl(p,b,I){Ru(p)[gm](b,I)}var Kv,Ql,Ib="toGMTString",Yv="toUTCString",Zl="cookie",kb="expires",Ab="isCookieUseDisabled",d_="disableCookiesUsage",Rf="_ckMgr",Hm=null,Lb=null,xf=null,uc,Vo={},_l={},zg=(Kv={cookieCfg:Kl((Ql={},Ql[Eu]={fb:"cookieDomain",dfVal:En},Ql.path={fb:"cookiePath",dfVal:En},Ql.enabled=Ls,Ql.ignoreCookies=Ls,Ql.blockedCookies=Ls,Ql)),cookieDomain:Ls,cookiePath:Ls},Kv[d_]=Ls,Kv);function ed(){!uc&&(uc=Cn(function(){return Xa()}))}function Of(p,b){var I=Ap[Rf]||_l[Rf];return I||(I=Ap[Rf]=Ap(p,b),_l[Rf]=I),I}function xu(p){return p?p.isEnabled():!0}function Ug(p,b){return b&&p&&Mt(p.ignoreCookies)?Vs(p.ignoreCookies,b)!==-1:!1}function Jv(p,b){return b&&p&&Mt(p.blockedCookies)&&Vs(p.blockedCookies,b)!==-1?!0:Ug(p,b)}function Mb(p,b){var I=b[g];if(tt(I)){var j=void 0;at(p[Ab])||(j=!p[Ab]),at(p[d_])||(j=!p[d_]),I=j}return I}function f_(p,b){var I;if(p)I=p.getCookieMgr();else if(b){var j=b.cookieCfg;j&&j[Rf]?I=j[Rf]:I=Ap(b)}return I||(I=Of(b,(p||{})[uo])),I}function Ap(p,b){var I,j,W,ie,ge,Ie,Be,et,Ve;p=ac(p||_l,null,b).cfg,ge=Nm(p,function(ot){ot[tc](ot.cfg,zg),j=ot.ref(ot.cfg,"cookieCfg"),W=j[Cm]||"/",ie=j[Eu],Ie=Mb(p,j)!==!1,Be=j.getCookie||kS,et=j.setCookie||T,Ve=j.delCookie||T},b);var wt=(I={isEnabled:function(){var ot=Mb(p,j)!==!1&&Ie&&Hg(b),_t=_l[Rf];return ot&&_t&&wt!==_t&&(ot=xu(_t)),ot},setEnabled:function(ot){Ie=ot!==!1,j[g]=ot},set:function(ot,_t,it,Qt,Vt){var _r=!1;if(xu(wt)&&!Jv(j,ot)){var Rr={},Ir=na(_t||fi),Mn=Ks(Ir,";");if(Mn!==-1&&(Ir=na(Sn(_t,Mn)),Rr=IS(qn(_t,Mn+1))),ic(Rr,Eu,Qt||ie,ln,at),!tt(it)){var Oi=xm();if(at(Rr[kb])){var Io=Tc(),Ge=Io+it*1e3;if(Ge>0){var At=new Date;At.setTime(Ge),ic(Rr,kb,Nb(At,Oi?Ib:Yv)||Nb(At,Oi?Ib:Yv)||fi,ln)}}Oi||ic(Rr,"max-age",fi+it,null,at)}var Zt=Ch();Zt&&Zt.protocol==="https:"&&(ic(Rr,"secure",null,null,at),Lb===null&&(Lb=!k((Cc()||{})[Js])),Lb&&ic(Rr,"SameSite","None",null,at)),ic(Rr,Cm,Vt||W,null,at),et(ot,Fb(Ir,Rr)),_r=!0}return _r},get:function(ot){var _t=fi;return xu(wt)&&!Ug(j,ot)&&(_t=Be(ot)),_t},del:function(ot,_t){var it=!1;return xu(wt)&&(it=wt.purge(ot,_t)),it},purge:function(ot,_t){var it,Qt=!1;if(Hg(b)){var Vt=(it={},it[Cm]=_t||"/",it[kb]="Thu, 01 Jan 1970 00:00:01 GMT",it);xm()||(Vt["max-age"]="0"),Ve(ot,Fb(fi,Vt)),Qt=!0}return Qt}},I[P]=function(ot){ge&&ge.rm(),ge=null},I);return wt[Rf]=wt,wt}function Hg(p){if(Hm===null){Hm=!1,!uc&&ed();try{var b=uc.v||{};Hm=b[Zl]!==void 0}catch(I){Wd(p,2,68,"Cannot access document.cookie - "+qv(I),{exception:Re(I)})}}return Hm}function IS(p){var b={};if(p&&p[Bn]){var I=na(p)[nc](";");Xn(I,function(j){if(j=na(j||fi),j){var W=Ks(j,"=");W===-1?b[j]=null:b[na(Sn(j,W))]=na(qn(j,W+1))}})}return b}function Nb(p,b){return xt(p[b])?p[b]():null}function Fb(p,b){var I=p||fi;return Gr(b,function(j,W){I+="; "+j+(tt(W)?fi:"="+W)}),I}function kS(p){var b=fi;if(!uc&&ed(),uc.v){var I=uc.v[Zl]||fi;xf!==I&&(Vo=IS(I),xf=I),b=na(Vo[p]||fi)}return b}function T(p,b){!uc&&ed(),uc.v&&(uc.v[Zl]=p+"="+b)}function k(p){return cr(p)?!!(Ms(p,"CPU iPhone OS 12")||Ms(p,"iPad; CPU OS 12")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&Ms(p,"Version/")&&Ms(p,"Safari")||Ms(p,"Macintosh; Intel Mac OS X 10_14")&&pf(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ms(p,"Chrome/5")||Ms(p,"Chrome/6")||Ms(p,"UnrealEngine")&&!Ms(p,"Chrome")||Ms(p,"UCBrowser/12")||Ms(p,"UCBrowser/11")):!1}var z={perfEvtsSendAll:!1};function Y(p,b,I,j){Xn(p,function(W){if(W&&W[b])if(I)Ys(function(){return j(W)},0);else try{j(W)}catch{}})}var ve=function(){function p(b){this.listeners=[];var I,j,W=[],ie=ac(b,z);j=ie[ca](function(ge){I=!!ge.cfg.perfEvtsSendAll}),aa(p,this,function(ge){rt(ge,"listeners",{g:function(){return W}}),ge[Wl]=function(Ie){W[Fn](Ie)},ge[Pd]=function(Ie){for(var Be=Vs(W,Ie);Be>-1;)W[ru](Be,1),Be=Vs(W,Ie)},ge[wm]=function(Ie){Y(W,wm,!0,function(Be){Be[wm](Ie)})},ge[Sm]=function(Ie,Be){Y(W,Sm,!0,function(et){et[Sm](Ie,Be)})},ge[xa]=function(Ie,Be){Y(W,xa,Be,function(et){et[xa](Ie,Be)})},ge[Ld]=function(Ie){Ie&&(I||!Ie[wh]())&&Y(W,Ld,!1,function(Be){Ie[ht]?Ys(function(){return Be[Ld](Ie)},0):Be[Ld](Ie)})},ge[P]=function(Ie){var Be=function(){j&&j.rm(),j=null,W=[]},et;if(Y(W,"unload",!1,function(Ve){var wt=Ve[P](Ie);wt&&(et||(et=[]),et[Fn](wt))}),et)return Id(function(Ve){return e_(kd(et),function(){Be(),Ve()})});Be()}})}return p.__ieDyn=1,p}(),We="ctx",Ze="ParentContextKey",ct="ChildrenContextKey",Dt=null,Kt=function(){function p(b,I,j){var W=this;if(W.start=Tc(),W[rc]=b,W[ht]=j,W[wh]=function(){return!1},xt(I)){var ie;rt(W,"payload",{g:function(){return!ie&&xt(I)&&(ie=I(),I=null),ie}})}W[Rd]=function(ge){return ge?ge===p[Ze]||ge===p[ct]?W[ge]:(W[We]||{})[ge]:null},W[Tu]=function(ge,Ie){if(ge)if(ge===p[Ze])W[ge]||(W[wh]=function(){return!0}),W[ge]=Ie;else if(ge===p[ct])W[ge]=Ie;else{var Be=W[We]=W[We]||{};Be[ge]=Ie}},W[Tg]=function(){var ge=0,Ie=W[Rd](p[ct]);if(Mt(Ie))for(var Be=0;Be<Ie[Bn];Be++){var et=Ie[Be];et&&(ge+=et[Ed])}W[Ed]=Tc()-W.start,W.exTime=W[Ed]-ge,W[Tg]=function(){}}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),Ar=function(){function p(b){this.ctx={},aa(p,this,function(I){I.create=function(j,W,ie){return new Kt(j,W,ie)},I.fire=function(j){j&&(j[Tg](),b&&xt(b[Ld])&&b[Ld](j))},I[Tu]=function(j,W){if(j){var ie=I[We]=I[We]||{};ie[j]=W}},I[Rd]=function(j){return(I[We]||{})[j]}})}return p.__ieDyn=1,p}(),jn="CoreUtils.doPerf";function In(p,b,I,j,W){if(p){var ie=p;if(ie[xc]&&(ie=ie[xc]()),ie){var ge=void 0,Ie=ie[Rd](jn);try{if(ge=ie.create(b(),j,W),ge){if(Ie&&ge[Tu]&&(ge[Tu](Kt[Ze],Ie),Ie[Rd]&&Ie[Tu])){var Be=Ie[Rd](Kt[ct]);Be||(Be=[],Ie[Tu](Kt[ct],Be)),Be[Fn](ge)}return ie[Tu](jn,ge),I(ge)}}catch(et){ge&&ge[Tu]&&ge[Tu]("exception",et)}finally{ge&&ie.fire(ge),ie[Tu](jn,Ie)}}}return I()}function Qn(){return Dt}function Qr(){var p=Zn();return qn(p,0,8)+"-"+qn(p,8,12)+"-"+qn(p,12,16)+"-"+qn(p,16,20)+"-"+qn(p,20)}function Zn(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=fi,I,j=0;j<4;j++)I=Bd(),b+=p[I&15]+p[I>>4&15]+p[I>>8&15]+p[I>>12&15]+p[I>>16&15]+p[I>>20&15]+p[I>>24&15]+p[I>>28&15];var W=p[8+(Bd()&3)|0];return xi(b,0,8)+xi(b,9,4)+"4"+xi(b,13,3)+W+xi(b,16,3)+xi(b,19,12)}var br=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Si="00",$n="ff",Pn="00000000000000000000000000000000",is="0000000000000000",lc=1;function ka(p,b,I){return p&&p[Bn]===b&&p!==I?!!p.match(/^[\da-f]*$/i):!1}function Bg(p,b,I){return ka(p,b)?p:I}function Bm(p){(isNaN(p)||p<0||p>255)&&(p=1);for(var b=p.toString(16);b[Bn]<2;)b="0"+b;return b}function Xv(p,b,I,j){var W;return W={},W[F]=ka(j,2,$n)?j:Si,W[Xy]=kh(p)?p:Zn(),W[gp]=Qv(b)?b:Sn(Zn(),16),W.traceFlags=I>=0&&I<=255?I:1,W}function td(p,b){var I;if(!p||(Mt(p)&&(p=p[0]||""),!p||!cr(p)||p[Bn]>8192))return null;if(p.indexOf(",")!==-1){var j=p[nc](",");p=j[b>0&&j[Bn]>b?b:0]}var W=br.exec(na(p));return!W||W[1]===$n||W[2]===Pn||W[3]===is?null:(I={version:(W[1]||fi)[wi](),traceId:(W[2]||fi)[wi](),spanId:(W[3]||fi)[wi]()},I[vp]=parseInt(W[4],16),I)}function kh(p){return ka(p,32,Pn)}function Qv(p){return ka(p,16,is)}function Zv(p){return!(!p||!ka(p[F],2,$n)||!ka(p[Xy],32,Pn)||!ka(p[gp],16,is)||!ka(Bm(p[vp]),2))}function or(p){return Zv(p)?(p[vp]&lc)===lc:!1}function cn(p){if(p){var b=Bm(p[vp]);ka(b,2)||(b="01");var I=p[F]||Si;return I!=="00"&&I!=="ff"&&(I=Si),"".concat(I.toLowerCase(),"-").concat(Bg(p.traceId,32,Pn).toLowerCase(),"-").concat(Bg(p.spanId,16,is).toLowerCase(),"-").concat(b.toLowerCase())}return""}function hi(p){var b="traceparent",I=td(Tf(b),p);return I||(I=td(Om(b),p)),I}var os=Eh("plugin");function Ds(p){return os.get(p,"state",{},!0)}function Es(p,b){for(var I=[],j=null,W=p[jr](),ie;W;){var ge=W[ua]();if(ge){j&&j[Wn]&&ge[_f]&&j[Wn](ge),ie=Ds(ge);var Ie=!!ie[ma];ge[ma]&&(Ie=ge[ma]()),Ie||I[Fn](ge),j=ge,W=W[jr]()}}Xn(I,function(Be){var et=p[ns]();Be[Hl](p.getCfg(),et,b,p[jr]()),ie=Ds(Be),!Be[ns]&&!ie[ns]&&(ie[ns]=et),ie[ma]=!0,delete ie[pe]})}function Ns(p){return p.sort(function(b,I){var j=0;if(I){var W=I[_f];b[_f]?j=W?b[o_]-I[o_]:1:W&&(j=-1)}else j=b?1:-1;return j})}function Wm(p){var b={};return{getName:function(){return b[rc]},setName:function(I){p&&p.setName(I),b[rc]=I},getTraceId:function(){return b[Xy]},setTraceId:function(I){p&&p.setTraceId(I),kh(I)&&(b[Xy]=I)},getSpanId:function(){return b[gp]},setSpanId:function(I){p&&p.setSpanId(I),Qv(I)&&(b[gp]=I)},getTraceFlags:function(){return b[vp]},setTraceFlags:function(I){p&&p.setTraceFlags(I),b[vp]=I}}}var Lp="TelemetryPluginChain",Mp="_hasRun",qb="_getTelCtx",$m=0;function Ah(p,b,I){for(;p;){if(p[ua]()===I)return p;p=p[jr]()}return Wg([I],b.config||{},b)}function ey(p,b,I,j){var W=null,ie=[];b||(b=ac({},null,I[uo])),j!==null&&(W=j?Ah(p,I,j):p);var ge={_next:Be,ctx:{core:function(){return I},diagLog:function(){return jg(I,b.cfg)},getCfg:function(){return b.cfg},getExtCfg:Ve,getConfig:wt,hasNext:function(){return!!W},getNext:function(){return W},setNext:function(_t){W=_t},iterate:ot,onComplete:Ie}};function Ie(_t,it){for(var Qt=[],Vt=2;Vt<arguments.length;Vt++)Qt[Vt-2]=arguments[Vt];_t&&ie[Fn]({func:_t,self:at(it)?ge.ctx:it,args:Qt})}function Be(){var _t=W;if(W=_t?_t[jr]():null,!_t){var it=ie;it&&it[Bn]>0&&(Xn(it,function(Qt){try{Qt.func.call(Qt.self,Qt.args)}catch(Vt){Wd(I[uo],2,73,"Unexpected Exception during onComplete - "+Re(Vt))}}),ie=[])}return _t}function et(_t,it){var Qt=null,Vt=b.cfg;if(Vt&&_t){var _r=Vt[wp];!_r&&it&&(_r={}),Vt[wp]=_r,_r=b.ref(Vt,wp),_r&&(Qt=_r[_t],!Qt&&it&&(Qt={}),_r[_t]=Qt,Qt=b.ref(_r,_t))}return Qt}function Ve(_t,it){var Qt=et(_t,!0);return it&&Gr(it,function(Vt,_r){if(tt(Qt[Vt])){var Rr=b.cfg[Vt];(Rr||!tt(Rr))&&(Qt[Vt]=Rr)}Vl(b,Qt,Vt,_r)}),b[tc](Qt,it)}function wt(_t,it,Qt){Qt===void 0&&(Qt=!1);var Vt,_r=et(_t,!1),Rr=b.cfg;return _r&&(_r[it]||!tt(_r[it]))?Vt=_r[it]:(Rr[it]||!tt(Rr[it]))&&(Vt=Rr[it]),Vt||!tt(Vt)?Vt:Qt}function ot(_t){for(var it;it=ge._next();){var Qt=it[ua]();Qt&&_t(Qt)}}return ge}function Ou(p,b,I,j){var W=ac(b),ie=ey(p,W,I,j),ge=ie.ctx;function Ie(et){var Ve=ie._next();return Ve&&Ve[_f](et,ge),!Ve}function Be(et,Ve){return et===void 0&&(et=null),Mt(et)&&(et=Wg(et,W.cfg,I,Ve)),Ou(et||ge[jr](),W.cfg,I,Ve)}return ge[Ts]=Ie,ge[Z]=Be,ge}function Vm(p,b,I){var j=ac(b.config),W=ey(p,j,b,I),ie=W.ctx;function ge(Be){var et=W._next();return et&&et[P](ie,Be),!et}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=Wg(Be,j.cfg,b,et)),Vm(Be||ie[jr](),b,et)}return ie[Ts]=ge,ie[Z]=Ie,ie}function Lh(p,b,I){var j=ac(b.config),W=ey(p,j,b,I),ie=W.ctx;function ge(Be){return ie.iterate(function(et){xt(et[sn])&&et[sn](ie,Be)})}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=Wg(Be,j.cfg,b,et)),Lh(Be||ie[jr](),b,et)}return ie[Ts]=ge,ie[Z]=Ie,ie}function Wg(p,b,I,j){var W=null,ie=!j;if(Mt(p)&&p[Bn]>0){var ge=null;Xn(p,function(Ie){if(!ie&&j===Ie&&(ie=!0),ie&&Ie&&xt(Ie[_f])){var Be=q0(Ie,b,I);W||(W=Be),ge&&ge._setNext(Be),ge=Be}})}return j&&!W?Wg([j],b,I):W}function q0(p,b,I){var j=null,W=xt(p[_f]),ie=xt(p[Wn]),ge;p?ge=p[Pa]+"-"+p[o_]+"-"+$m++:ge="Unknown-0-"+$m++;var Ie={getPlugin:function(){return p},getNext:function(){return j},processTelemetry:Ve,unload:wt,update:ot,_id:ge,_setNext:function(_t){j=_t}};function Be(){var _t;return p&&xt(p[qb])&&(_t=p[qb]()),_t||(_t=Ou(Ie,b,I)),_t}function et(_t,it,Qt,Vt,_r){var Rr=!1,Ir=p?p[Pa]:Lp,Mn=_t[Mp];return Mn||(Mn=_t[Mp]={}),_t.setNext(j),p&&In(_t[ns](),function(){return Ir+":"+Qt},function(){Mn[ge]=!0;try{var Oi=j?j._id:fi;Oi&&(Mn[Oi]=!1),Rr=it(_t)}catch(Ge){var Io=j?Mn[j._id]:!0;Io&&(Rr=!0),(!j||!Io)&&Wd(_t[Ut](),1,73,"Plugin ["+Ir+"] failed during "+Qt+" - "+Re(Ge)+", run flags: "+Re(Mn))}},Vt,_r),Rr}function Ve(_t,it){it=it||Be();function Qt(Vt){if(!p||!W)return!1;var _r=Ds(p);return _r[pe]||_r[bm]?!1:(ie&&p[Wn](j),p[_f](_t,Vt),!0)}et(it,Qt,"processTelemetry",function(){return{item:_t}},!_t.sync)||it[Ts](_t)}function wt(_t,it){function Qt(){var Vt=!1;if(p){var _r=Ds(p),Rr=p[ns]||_r[ns];p&&(!Rr||Rr===_t.core())&&!_r[pe]&&(_r[ns]=null,_r[pe]=!0,_r[ma]=!1,p[pe]&&p[pe](_t,it)===!0&&(Vt=!0))}return Vt}et(_t,Qt,"unload",function(){},it[ht])||_t[Ts](it)}function ot(_t,it){function Qt(){var Vt=!1;if(p){var _r=Ds(p),Rr=p[ns]||_r[ns];p&&(!Rr||Rr===_t.core())&&!_r[pe]&&p[sn]&&p[sn](_t,it)===!0&&(Vt=!0)}return Vt}et(_t,Qt,"update",function(){},!1)||_t[Ts](it)}return Yt(Ie)}var $g=function(){function p(b,I,j,W){var ie=this,ge=Ou(b,I,j,W);Eg(ie,ge,Je(ge))}return p}();function $u(){var p=[];function b(j){j&&p[Fn](j)}function I(j,W){Xn(p,function(ie){try{ie(j,W)}catch(ge){Wd(j[Ut](),2,73,"Unexpected error calling unload handler - "+Re(ge))}}),p=[]}return{add:b,run:I}}function bl(){var p=[];function b(j){var W=p;p=[],Xn(W,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){Wd(j,2,73,"Unloading:"+Re(ge))}})}function I(j){j&&Al(p,j)}return{run:b,add:I}}var ty,If="getPlugin",DT=(ty={},ty[wp]={isVal:En,v:{}},ty),AS=function(){function p(){var b=this,I,j,W,ie,ge;et(),aa(p,b,function(Ve){Ve[Hl]=function(wt,ot,_t,it){Be(wt,ot,it),I=!0},Ve[pe]=function(wt,ot){var _t,it=Ve[ns];if(!it||wt&&it!==wt[ns]())return;var Qt,Vt=!1,_r=wt||Vm(null,it,W&&W[If]?W[If]():W),Rr=ot||(_t={reason:0},_t[ht]=!1,_t);function Ir(){Vt||(Vt=!0,ie.run(_r,ot),ge.run(_r[Ut]()),Qt===!0&&_r[Ts](Rr),et())}return!Ve[Sr]||Ve[Sr](_r,Rr,Ir)!==!0?Ir():Qt=!0,Qt},Ve[sn]=function(wt,ot){var _t=Ve[ns];if(!_t||wt&&_t!==wt[ns]())return;var it,Qt=!1,Vt=wt||Lh(null,_t,W&&W[If]?W[If]():W),_r=ot||{reason:0};function Rr(){Qt||(Qt=!0,Be(Vt.getCfg(),Vt.core(),Vt[jr]()))}return!Ve._doUpdate||Ve._doUpdate(Vt,_r,Rr)!==!0?Rr():it=!0,it},gl(Ve,"_addUnloadCb",function(){return ie},"add"),gl(Ve,"_addHook",function(){return ge},"add"),rt(Ve,"_unloadHooks",{g:function(){return ge}})}),b[Ut]=function(Ve){return Ie(Ve)[Ut]()},b[ma]=function(){return I},b.setInitialized=function(Ve){I=Ve},b[Wn]=function(Ve){W=Ve},b[Ts]=function(Ve,wt){wt?wt[Ts](Ve):W&&xt(W[_f])&&W[_f](Ve,null)},b._getTelCtx=Ie;function Ie(Ve){Ve===void 0&&(Ve=null);var wt=Ve;if(!wt){var ot=j||Ou(null,{},b[ns]);W&&W[If]?wt=ot[Z](null,W[If]):wt=ot[Z](null,W)}return wt}function Be(Ve,wt,ot){ac(Ve,DT,jg(wt)),!ot&&wt&&(ot=wt[nu]()[jr]());var _t=W;W&&W[If]&&(_t=W[If]()),b[ns]=wt,j=Ou(ot,Ve,wt,_t)}function et(){I=!1,b[ns]=null,j=null,W=null,ge=bl(),ie=$u()}}return p.__ieDyn=1,p}();function j0(p,b,I){var j={id:b,fn:I};Al(p,j);var W={remove:function(){Xn(p,function(ie,ge){if(ie.id===j.id)return p[ru](ge,1),-1})}};return W}function z0(p,b,I){for(var j=!1,W=p[Bn],ie=0;ie<W;++ie){var ge=p[ie];if(ge)try{if(ge.fn[Su](null,[b])===!1){j=!0;break}}catch(Ie){Wd(I,2,64,"Telemetry initializer failed: "+qv(Ie),{exception:Re(Ie)},!0)}}return!j}var LS=function(p){ll(b,p);function b(){var I=p.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var j,W;ie(),aa(b,I,function(ge,Ie){ge.addTelemetryInitializer=function(Be){return j0(W,j++,Be)},ge[_f]=function(Be,et){z0(W,Be,et?et[Ut]():ge[Ut]())&&ge[Ts](Be,et)},ge[Sr]=function(){ie()}});function ie(){j=0,W=[]}return I}return b.__ieDyn=1,b}(AS),kf,ET="Plugins must provide initialize method",h_="_notificationManager",jb="SDK is still unloading...",zb="SDK is not initialized",Ub=ft((kf={cookieCfg:{}},kf[Sp]={rdOnly:!0,ref:!0,v:[]},kf[Du]={rdOnly:!0,ref:!0,v:[]},kf[wp]={ref:!0,v:{}},kf[Ad]=Ls,kf.loggingLevelConsole=0,kf.diagnosticLogInterval=Ls,kf));function MS(p,b){return new Ar(b)}function p_(p,b,I){var j,W=[],ie=[],ge={};return Xn(I,function(Ie){(tt(Ie)||tt(Ie[Hl]))&&oi(ET);var Be=Ie[o_],et=Ie[Pa];Ie&&Be&&(tt(ge[Be])?ge[Be]=et:Ob(p,"Two extensions have same priority #"+Be+" - "+ge[Be]+", "+et)),!Be||Be<b?W[Fn](Ie):ie[Fn](Ie)}),j={},j[ns]=W,j[Du]=ie,j}function Af(p,b){var I=!1;return Xn(b,function(j){if(j===p)return I=!0,-1}),I}function m_(p,b,I,j){I&&Gr(I,function(W,ie){j&&ia(ie)&&ia(b[W])&&m_(p,b[W],ie,j),j&&ia(ie)&&ia(b[W])?m_(p,b[W],ie,j):p.set(b,W,ie)})}function Hb(p,b){var I=null,j=-1;return Xn(p,function(W,ie){if(W.w===b)return I=W,j=ie,-1}),{i:j,l:I}}function to(p,b){var I=Hb(p,b).l;return I||(I={w:b,rm:function(){var j=Hb(p,b);j.i!==-1&&p[ru](j.i,1)}},p[Fn](I)),I}function NS(p,b,I){Xn(b,function(j){var W=Nm(p,j.w,I);delete j.w,j.rm=function(){W.rm()}})}var Vg=function(){function p(){var b,I,j,W,ie,ge,Ie,Be,et,Ve,wt,ot,_t,it,Qt,Vt,_r,Rr,Ir,Mn,Oi,Io,Ge,At,Zt,lr,rn,ei;aa(p,this,function(St){Ot(),St._getDbgPlgTargets=function(){return[Ge]},St[ma]=function(){return I},St[Hl]=function(Wt,Kr,ui,Vn){_t&&oi(jb),St[ma]()&&oi("Core cannot be initialized more than once"),b=ac(Wt,Ub,ui||St[uo],!1),Wt=b.cfg,Jb(b[ca](function(ss){Oi=ss.cfg.instrumentationKey;var Ac=ss.ref(ss.cfg,wp);Gr(Ac,function(Iu){ss.ref(Ac,Iu)}),tt(Oi)&&oi("Please provide instrumentation key")})),ie=Vn,$d(),S_(),St[uo]=ui;var mi=Wt[Sp];if(Ve=[],Ve[Fn].apply(Ve,_h(_h([],Kr,!1),mi)),wt=Wt[Du],xr(null),(!ot||ot[Bn]===0)&&oi("No "+Du+" available"),wt&&wt[Bn]>1){var jo=St[ua]("TeeChannelController");(!jo||!jo.plugin)&&Wd(j,1,28,"TeeChannel required")}NS(Wt,Io,j),Io=null,I=!0,St.releaseQueue(),St[Bl]()},St.getChannels=function(){var Wt=[];return ot&&Xn(ot,function(Kr){Wt[Fn](Kr)}),Yt(Wt)},St.track=function(Wt){In(St[xc](),function(){return"AppInsightsCore:track"},function(){Wt===null&&(NT(Wt),oi("Invalid telemetry item")),!Wt[rc]&&tt(Wt[rc])&&(NT(Wt),oi("telemetry name required")),Wt.iKey=Wt.iKey||Oi,Wt[Ed]=Wt[Ed]||bf(new Date),Wt.ver=Wt.ver||"4.0",!_t&&St[ma]()?gr()[Ts](Wt):W[Fn](Wt)},function(){return{item:Wt}},!Wt.sync)},St[nu]=gr,St[pl]=function(){return ie||(ie=new ve(b.cfg),St[h_]=ie),ie},St[Wl]=function(Wt){St[pl]()[Wl](Wt)},St[Pd]=function(Wt){ie&&ie[Pd](Wt)},St.getCookieMgr=function(){return Be||(Be=Ap(b.cfg,St[uo])),Be},St.setCookieMgr=function(Wt){Be!==Wt&&(Fm(Be,!1),Be=Wt)},St[xc]=function(){return!ge&&!Ie&&Jb(b[ca](function(Wt){if(Wt.cfg.enablePerfMgr){var Kr=Wt.cfg[Ad];xt(Kr)&&(Ie=Kr(St,St[pl]()))}})),ge||Ie||Qn()},St.setPerfMgr=function(Wt){ge=Wt},St.eventCnt=function(){return W[Bn]},St.releaseQueue=function(){if(I&&W[Bn]>0){var Wt=W;W=[],Xn(Wt,function(Kr){gr()[Ts](Kr)})}},St[Bl]=function(Wt){return Qt=Wt||null,ei=!1,lr&&lr[ai](),nt(!0)};function nt(Wt){if((!lr||!lr[g])&&!ei){var Kr=Wt||j&&j.queue[Bn]>0;Kr&&(rn||(rn=!0,Jb(b[ca](function(ui){var Vn=ui.cfg.diagnosticLogInterval;(!Vn||!(Vn>0))&&(Vn=1e4);var mi=!1;lr&&(mi=lr[g],lr[ai]()),lr=ql(bo,Vn),lr.unref(),lr[g]=mi}))),lr[g]=!0)}return lr}St[v]=function(){ei=!0,lr&&lr[ai](),bo()},Eg(St,function(){return it},["addTelemetryInitializer"]),St[P]=function(Wt,Kr,ui){var Vn;Wt===void 0&&(Wt=!0),I||oi(zb),_t&&oi(jb);var mi=(Vn={reason:50},Vn[ht]=Wt,Vn.flushComplete=!1,Vn),jo;Wt&&!Kr&&(jo=Id(function(Iu){Kr=Iu}));var ss=Vm(ti(),St);ss[x](function(){Rr.run(St[uo]),OS([Be,ie,j],Wt,function(){Ot(),Kr&&Kr(mi)})},St);function Ac(Iu){mi.flushComplete=Iu,_t=!0,_r.run(ss,mi),St[v](),ss[Ts](mi)}return bo(),qh(Wt,Ac,6,ui),jo},St[ua]=Nr,St.addPlugin=function(Wt,Kr,ui,Vn){if(!Wt){Vn&&Vn(!1),Hp(ET);return}var mi=Nr(Wt[Pa]);if(mi&&!Kr){Vn&&Vn(!1),Hp("Plugin ["+Wt[Pa]+"] is already loaded!");return}var jo={reason:16};function ss(tv){Ve[Fn](Wt),jo.added=[Wt],xr(jo),Vn&&Vn(!0)}if(mi){var Ac=[mi.plugin],Iu={reason:2,isAsync:!!ui};Ko(Ac,Iu,function(tv){tv?(jo.removed=Ac,jo.reason|=32,ss()):Vn&&Vn(!1)})}else ss()},St.updateCfg=function(Wt,Kr){Kr===void 0&&(Kr=!0);var ui;if(St[ma]()){ui={reason:1,cfg:b.cfg,oldCfg:Fu({},b.cfg),newConfig:Fu({},Wt),merge:Kr},Wt=ui.newConfig;var Vn=b.cfg;Wt[Sp]=Vn[Sp],Wt[Du]=Vn[Du]}b._block(function(mi){var jo=mi.cfg;m_(mi,jo,Wt,Kr),Kr||Gr(jo,function(ss){An(Wt,ss)||mi.set(jo,ss,Ls)}),mi[tc](jo,Ub)},!0),b[Ul](),ui&&Mf(ui)},St.evtNamespace=function(){return Vt},St.flush=qh,St.getTraceCtx=function(Wt){return Mn||(Mn=Wm()),Mn},St.setTraceCtx=function(Wt){Mn=Wt||null},St.addUnloadHook=Jb,gl(St,"addUnloadCb",function(){return _r},"add"),St.onCfgChange=function(Wt){var Kr;return I?Kr=Nm(b.cfg,Wt,St[uo]):Kr=to(Io,Wt),{rm:function(){Kr.rm()}}},St.getWParam=function(){return Ja()||b.cfg.enableWParam?0:-1};function Tt(){var Wt={};At=[];var Kr=function(ui){ui&&Xn(ui,function(Vn){if(Vn[Pa]&&Vn[F]&&!Wt[Vn.identifier]){var mi=Vn[Pa]+"="+Vn[F];At[Fn](mi),Wt[Vn.identifier]=Vn}})};Kr(ot),wt&&Xn(wt,function(ui){Kr(ui)}),Kr(Ve)}function Ot(){I=!1,b=ac({},Ub,St[uo]),b.cfg[J]=1,rt(St,"config",{g:function(){return b.cfg},s:function(Kr){St.updateCfg(Kr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Tt(),At}}),rt(St,"pluginVersionString",{g:function(){return Zt||(At||Tt(),Zt=At.join(";")),Zt||fi}}),rt(St,"logger",{g:function(){return j||(j=new Um(b.cfg),b[uo]=j),j},s:function(Kr){b[uo]=Kr,j!==Kr&&(Fm(j,!1),j=Kr)}}),St[uo]=new Um(b.cfg),Ge=[];var Wt=St.config[Sp]||[];Wt.splice(0,Wt[Bn]),Al(Wt,Ge),it=new LS,W=[],Fm(ie,!1),ie=null,ge=null,Ie=null,Fm(Be,!1),Be=null,et=null,Ve=[],wt=null,ot=null,_t=!1,Qt=null,Vt=$l("AIBaseCore",!0),_r=$u(),Mn=null,Oi=null,Rr=bl(),Io=[],Zt=null,At=null,ei=!1}function gr(){var Wt=Ou(ti(),b.cfg,St);return Wt[x](nt),Wt}function xr(Wt){var Kr=p_(St[uo],TT,Ve);et=null,Zt=null,At=null,ot=(wt||[])[0]||[],ot=Ns(Al(ot,Kr[Du]));var ui=Al(Ns(Kr[ns]),ot);Ge=Yt(ui);var Vn=St.config[Sp]||[];Vn.splice(0,Vn[Bn]),Al(Vn,Ge);var mi=gr();ot&&ot[Bn]>0&&Es(mi[Z](ot),ui),Es(mi,ui),Wt&&Mf(Wt)}function Nr(Wt){var Kr=null,ui=null,Vn=[];return Xn(Ge,function(mi){if(mi[Pa]===Wt&&mi!==it)return ui=mi,-1;mi.getChannel&&Vn[Fn](mi)}),!ui&&Vn[Bn]>0&&Xn(Vn,function(mi){if(ui=mi.getChannel(Wt),!ui)return-1}),ui&&(Kr={plugin:ui,setEnabled:function(mi){Ds(ui)[bm]=!mi},isEnabled:function(){var mi=Ds(ui);return!mi[pe]&&!mi[bm]},remove:function(mi,jo){var ss;mi===void 0&&(mi=!0);var Ac=[ui],Iu=(ss={reason:1},ss[ht]=mi,ss);Ko(Ac,Iu,function(tv){tv&&xr({reason:32,removed:Ac}),jo&&jo(tv)})}}),Kr}function ti(){if(!et){var Wt=(Ge||[]).slice();Vs(Wt,it)===-1&&Wt[Fn](it),et=Wg(Ns(Wt),b.cfg,St)}return et}function Ko(Wt,Kr,ui){if(Wt&&Wt[Bn]>0){var Vn=Wg(Wt,b.cfg,St),mi=Vm(Vn,St);mi[x](function(){var jo=!1,ss=[];Xn(Ve,function(Iu,tv){Af(Iu,Wt)?jo=!0:ss[Fn](Iu)}),Ve=ss,Zt=null,At=null;var Ac=[];wt&&(Xn(wt,function(Iu,tv){var sy=[];Xn(Iu,function(B0){Af(B0,Wt)?jo=!0:sy[Fn](B0)}),Ac[Fn](sy)}),wt=Ac),ui&&ui(jo),nt()}),mi[Ts](Kr)}else ui(!1)}function bo(){if(j&&j.queue){var Wt=j.queue.slice(0);j.queue[Bn]=0,Xn(Wt,function(Kr){var ui,Vn=(ui={},ui[rc]=Qt||"InternalMessageId: "+Kr[ke],ui.iKey=Oi,ui[Ed]=bf(new Date),ui.baseType=Ih.dataType,ui.baseData={message:Kr[Qe]},ui);St.track(Vn)})}}function qh(Wt,Kr,ui,Vn){var mi=1,jo=!1,ss=null;Vn=Vn||5e3;function Ac(){mi--,jo&&mi===0&&(ss&&ss[ai](),ss=null,Kr&&Kr(jo),Kr=null)}if(ot&&ot[Bn]>0){var Iu=gr()[Z](ot);Iu.iterate(function(tv){if(tv.flush){mi++;var sy=!1;tv.flush(Wt,function(){sy=!0,Ac()},ui)||sy||(Wt&&ss==null?ss=Ys(function(){ss=null,Ac()},Vn):Ac())}})}return jo=!0,Ac(),!0}function $d(){!ie&&St[pl](),Jb(b[ca](function(Wt){var Kr=Wt.cfg.disableDbgExt;Kr===!0&&Ir&&(ie[Pd](Ir),Ir=null),ie&&!Ir&&Kr!==!0&&(Ir=Gv(Wt.cfg),ie[Wl](Ir))}))}function S_(){Jb(b[ca](function(Wt){var Kr=Wt.cfg.enablePerfMgr;!Kr&&Ie&&(Ie=null),Kr&&Nd(Wt.cfg,Ad,MS)}))}function Mf(Wt){var Kr=Lh(ti(),St);Kr[x](nt),(!St._updateHook||St._updateHook(Kr,Wt)!==!0)&&Kr[Ts](Wt)}function Hp(Wt){var Kr=St[uo];Kr?(Wd(Kr,2,73,Wt),nt()):oi(Wt)}function NT(Wt){var Kr=St[pl]();Kr&&Kr[Sm]([Wt],2)}function Jb(Wt){Rr.add(Wt)}})}return p.__ieDyn=1,p}(),ry="on",U0="attachEvent",Lf="addEventListener",rd="detachEvent",FS="removeEventListener",Mh="events",Gg="visibilitychange",Np="pagehide",wl="pageshow",Nh="unload",Fp="beforeunload",Kg=$l("aiEvtPageHide"),qp=$l("aiEvtPageShow"),Bb=/\.[\.]+/g,qS=/[\.]+$/,PT=1,g_=Eh("events"),ny=/^([^.]*)(?:\.(.+)|)/;function Yg(p){return p&&p[pp]?p[pp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,fi):p}function iy(p,b){var I;if(b){var j=fi;Mt(b)?(j=fi,Xn(b,function(ie){ie=Yg(ie),ie&&(ie[0]!=="."&&(ie="."+ie),j+=ie)})):j=Yg(b),j&&(j[0]!=="."&&(j="."+j),p=(p||fi)+j)}var W=ny.exec(p||fi)||[];return I={},I[Ra]=W[1],I.ns=(W[2]||fi).replace(Bb,".").replace(qS,fi)[nc](".").sort().join("."),I}function Wb(p,b,I){var j=[],W=g_.get(p,Mh,{},!1),ie=iy(b,I);return Gr(W,function(ge,Ie){Xn(Ie,function(Be){var et;(!ie[Ra]||ie[Ra]===Be.evtName[Ra])&&(!ie.ns||ie.ns===ie.ns)&&j[Fn]((et={},et[rc]=Be.evtName[Ra]+(Be.evtName.ns?"."+Be.evtName.ns:fi),et.handler=Be[mp],et))})}),j}function Jg(p,b,I){I===void 0&&(I=!0);var j=g_.get(p,Mh,{},I),W=j[b];return W||(W=j[b]=[]),W}function v_(p,b,I,j){p&&b&&b[Ra]&&(p[FS]?p[FS](b[Ra],I,j):p[rd]&&p[rd](ry+b[Ra],I))}function $b(p,b,I,j){var W=!1;return p&&b&&b[Ra]&&I&&(p[Lf]?(p[Lf](b[Ra],I,j),W=!0):p[U0]&&(p[U0](ry+b[Ra],I),W=!0)),W}function y_(p,b,I,j){for(var W=b[Bn];W--;){var ie=b[W];ie&&(!I.ns||I.ns===ie.evtName.ns)&&(!j||j(ie))&&(v_(p,ie.evtName,ie[mp],ie.capture),b[ru](W,1))}}function H0(p,b,I){if(b[Ra])y_(p,Jg(p,b[Ra]),b,I);else{var j=g_.get(p,Mh,{});Gr(j,function(W,ie){y_(p,ie,b,I)}),Je(j)[Bn]===0&&g_.kill(p,Mh)}}function Vb(p,b){var I;return b?(Mt(b)?I=[p].concat(b):I=[p,b],I=iy("xx",I).ns[nc](".")):I=p,I}function Aa(p,b,I,j,W){var ie;W===void 0&&(W=!1);var ge=!1;if(p)try{var Ie=iy(b,j);if(ge=$b(p,Ie,I,W),ge&&g_.accept(p)){var Be=(ie={guid:PT++,evtName:Ie},ie[mp]=I,ie.capture=W,ie);Jg(p,Ie.type)[Fn](Be)}}catch{}return ge}function jp(p,b,I,j,W){if(W===void 0&&(W=!1),p)try{var ie=iy(b,j),ge=!1;H0(p,ie,function(Ie){return ie.ns&&!I||Ie[mp]===I?(ge=!0,!0):!1}),ge||v_(p,ie,I,W)}catch{}}function Xg(p,b,I,j){return j===void 0&&(j=!1),Aa(p,b,I,null,j)}function RT(p,b,I,j){j===void 0&&(j=!1),jp(p,b,I,null,j)}function Gm(p,b,I){var j=!1,W=cl();W&&(j=Aa(W,p,b,I),j=Aa(W.body,p,b,I)||j);var ie=Xa();return ie&&(j=Aa(ie,p,b,I)||j),j}function Qg(p,b,I){var j=cl();j&&(jp(j,p,b,I),jp(j.body,p,b,I));var W=Xa();W&&jp(W,p,b,I)}function __(p,b,I,j){var W=!1;return b&&p&&p[Bn]>0&&Xn(p,function(ie){ie&&(!I||Vs(I,ie)===-1)&&(W=Gm(ie,b,j)||W)}),W}function Gb(p,b,I,j){var W=!1;return b&&p&&Mt(p)&&(W=__(p,b,I,j),!W&&I&&I[Bn]>0&&(W=__(p,b,null,j))),W}function Zg(p,b,I){p&&Mt(p)&&Xn(p,function(j){j&&Qg(j,b,I)})}function ev(p,b,I){return Gb([Fp,Nh,Np],p,b,I)}function xT(p,b){Zg([Fp,Nh,Np],p,b)}function OT(p,b,I){function j(ge){var Ie=Xa();p&&Ie&&Ie.visibilityState==="hidden"&&p(ge)}var W=Vb(Kg,I),ie=__([Np],p,b,W);return(!b||Vs(b,Gg)===-1)&&(ie=__([Gg],j,b,W)||ie),!ie&&b&&(ie=OT(p,null,I)),ie}function b_(p,b){var I=Vb(Kg,b);Zg([Np],p,I),Zg([Gg],null,I)}function IT(p,b,I){function j(ge){var Ie=Xa();p&&Ie&&Ie.visibilityState==="visible"&&p(ge)}var W=Vb(qp,I),ie=__([wl],p,b,W);return ie=__([Gg],j,b,W)||ie,!ie&&b&&(ie=IT(p,null,I)),ie}function WO(p,b){var I=Vb(qp,b);Zg([wl],p,I),Zg([Gg],null,I)}var $O=Vi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Km="",VO="https://browser.events.data.microsoft.com/OneCollector/1.0/",Kb="version",oy="properties",jS="initialize",zS="logger",Yb="indexOf",Ym="timings",kT="pollInternalLogs",Xs="value",Fh="kind",Qs="length",AT="processTelemetryStart",LT="handleField",MT="rmSanitizer",C="rmFieldSanitizer",L="canHandle",B,X="4.0.4",se="1DS-Web-JS-"+X,Se=s.hasOwnProperty,Te="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),jt=null,Pr=Ja(),wr=ha();function Lt(p){return!(p===Km||tt(p))}function Pt(p){if(p){var b=Ks(p,"-");if(b>-1)return Sn(p,b)}return Km}function qt(){return jt===null&&(jt=!at(Uint8Array)&&!Oo()&&!Th()),jt}function Et(p){return!!(p&&un(p)&&p>=1&&p<=4)}function ur(p,b,I){if(!b&&!Lt(b)||typeof p!="string")return null;var j=typeof b;if(j==="string"||j==="number"||j==="boolean"||Mt(b))b={value:b};else if(j==="object"&&!Se.call(b,"value"))b={value:I?JSON.stringify(b):b};else if(tt(b[Xs])||b[Xs]===Km||!cr(b[Xs])&&!un(b[Xs])&&!On(b[Xs])&&!Mt(b[Xs]))return null;if(Mt(b[Xs])&&!Fs(b[Xs]))return null;if(!tt(b[Fh])){if(Mt(b[Xs])||!fo(b[Fh]))return null;b[Xs]=b[Xs].toString()}return b}function nr(p,b,I){var j=-1;if(!at(p))if(b>0&&(b===32?j=8192:b<=13&&(j=b<<5)),Go(I))j===-1&&(j=0),j|=I;else{var W=gt[Qi(p)]||-1;j!==-1&&W!==-1?j|=W:W===6&&(j=W)}return j}function yr(p,b,I){I===void 0&&(I=!0);var j;return p&&(j=p.get(b),I&&j&&decodeURIComponent&&(j=decodeURIComponent(j))),j||Km}function hn(p){p===void 0&&(p="D");var b=Qr();return p==="B"?b="{"+b+"}":p==="P"?b="("+b+")":p==="N"&&(b=b.replace(/-/g,Km)),b}function pi(p,b,I,j,W){var ie={},ge=!1,Ie=0,Be=arguments[Qs],et=arguments;for(On(et[0])&&(ge=et[0],Ie++);Ie<Be;Ie++){var p=et[Ie];Gr(p,function(wt,ot){ge&&ot&&hr(ot)?Mt(ot)?(ie[wt]=ie[wt]||[],Xn(ot,function(_t,it){_t&&hr(_t)?ie[wt][it]=pi(!0,ie[wt][it],_t):ie[wt][it]=_t})):ie[wt]=pi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ci=Sd;function fo(p){return p===0||p>0&&p<=13||p===32}function Go(p){return p>=0&&p<=9}function Oo(){var p=Cc();if(!at(p)&&p.userAgent){var b=p.userAgent.toLowerCase();if((b[Yb]("safari")>=0||b[Yb]("firefox")>=0)&&b[Yb]("chrome")<0)return!0}return!1}function Fs(p){return p[Qs]>0}function dc(p,b){var I=p;I[Ym]=I[Ym]||{},I[Ym][AT]=I[Ym][AT]||{},I[Ym][AT][b]=ci()}function Qi(p){var b=0;if(p!=null){var I=typeof p;I==="string"?b=1:I==="number"?b=2:I==="boolean"?b=3:I===t&&(b=4,Mt(p)?(b=4096,p[Qs]>0&&(b|=Qi(p[0]))):Se.call(p,"value")&&(b=8192|Qi(p[Xs])))}return b}function Ic(){return!!Mi("chrome")}function kc(p,b,I,j,W,ie){j===void 0&&(j=!1),W===void 0&&(W=!1);function ge(Be,et,Ve){try{Be[et]=Ve}catch{}}var Ie=new XMLHttpRequest;return j&&ge(Ie,Te,j),I&&ge(Ie,Xe,I),Ie.open(p,b,!W),I&&ge(Ie,Xe,I),!W&&ie&&ge(Ie,lt,ie),Ie}function la(p){return p>0}var Sl=ft({endpointUrl:VO,propertyStorageOverride:{isVal:ga}});function ga(p){return p&&(!p.getProperty||!p.setProperty)&&oi("Invalid property storage override passed."),!0}var va=function(p){ll(b,p);function b(){var I=p.call(this)||this;return aa(b,I,function(j,W){j[jS]=function(ie,ge,Ie,Be){In(j,function(){return"AppInsightsCore.initialize"},function(){try{W[jS](ac(ie,Sl,Ie||j[zS],!1).cfg,ge,Ie,Be)}catch(wt){var et=j[zS],Ve=Re(wt);Ve[Yb]("channels")!==-1&&(Ve+=`
 - Channels must be provided through config.channels only!`),Wd(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ve)}},function(){return{config:ie,extensions:ge,logger:Ie,notificationManager:Be}})},j.track=function(ie){In(j,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[Ym]=ge[Ym]||{},ge[Ym].trackStart=ci(),Et(ge.latency)||(ge.latency=1);var Ie=ge.ext=ge.ext||{};Ie.sdk=Ie.sdk||{},Ie.sdk.ver=se;var Be=ge.baseData=ge.baseData||{};Be[oy]=Be[oy]||{};var et=Be[oy];et[Kb]=et[Kb]||j.pluginVersionString||Km}W.track(ge)},function(){return{item:ie}},!ie.sync)},j[kT]=function(ie){return W[kT](ie||"InternalLog")}}),I}return b.__ieDyn=1,b}(Vg),Ci=Vi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),ro=Vi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),nd=Vi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),w_=Vi({Normal:1,Critical:2}),zp=Vi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Up=function(){function p(b){var I=this,j={},W=[],ie=[];b&&ie.push(b);function ge(Ve,wt){var ot,_t=j[Ve];if(_t&&(ot=_t[wt]),!ot&&ot!==null){if(cr(Ve)&&cr(wt))if(ie[Qs]>0){for(var it=0;it<ie[Qs];it++)if(ie[it][LT](Ve,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else W[Qs]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<W[Qs];it++)if(W[it][LT](Ve,wt)){ot={canHandle:!0,handler:W[it],fieldHandler:null};break}}_t||(_t=j[Ve]={}),_t[wt]=ot}return ot}I.clearCache=function(){j={}},I.addSanitizer=function(Ve){Ve&&(Gs(W,Ve)||W.push(Ve),j={})},I.addFieldSanitizer=function(Ve){Ve&&(Gs(ie,Ve)||ie.push(Ve),j={})},I[MT]=function(Ve){if(Ve){var wt=Vs(W,Ve);wt!==-1&&(W.splice(wt,1),j={}),Xn(W,function(ot){ot&&ot[MT]&&ot[MT](Ve)})}},I[C]=function(Ve){if(Ve){var wt=Vs(ie,Ve);wt!==-1&&(ie.splice(wt,1),j={}),Xn(W,function(ot){ot&&ot[C]&&ot[C](Ve)})}},I.isEmpty=function(){return yh(W)+yh(ie)===0},I[LT]=function(Ve,wt){var ot=ge(Ve,wt);return ot?ot[L]:!1},I[Xs]=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(it&&it[L]){if(!it||!it[L])return null;if(it.handler)return it.handler[Xs](Ve,wt,ot,_t);if(!cr(wt)||tt(ot)||ot===Km)return null;var Qt=null,Vt=Qi(ot);if((Vt&8192)===8192){var _r=Vt&-8193;if(Qt=ot,!Lt(Qt[Xs])||_r!==1&&_r!==2&&_r!==3&&(_r&4096)!==4096)return null}else Vt===1||Vt===2||Vt===3||(Vt&4096)===4096?Qt=Be(Ve,wt,ot):Vt===4&&(Qt=Be(Ve,wt,_t?JSON.stringify(ot):ot));if(Qt)return Ie(it,Ve,wt,Vt,Qt,_t)}return null},I.property=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(!it||!it[L]||!cr(wt)||tt(ot)||!Lt(ot[Xs]))return null;var Qt=Qi(ot[Xs]);return Qt===0?null:Ie(it,Ve,wt,Qt,ot,_t)};function Ie(Ve,wt,ot,_t,it,Qt){if(Ve.handler)return Ve.handler.property(wt,ot,it,Qt);if(!tt(it[Fh])){if((_t&4096)===4096||!fo(it[Fh]))return null;it[Xs]=it[Xs].toString()}return et(Ve.fieldHandler,wt,ot,_t,it)}function Be(Ve,wt,ot){return Lt(ot)?{value:ot}:null}function et(Ve,wt,ot,_t,it){if(it&&Ve){var Qt=Ve.getSanitizer(wt,ot,_t,it[Fh],it.propertyType);if(Qt)if(_t===4){var Vt={},_r=it[Xs];Gr(_r,function(Ir,Mn){var Oi=wt+"."+ot;if(Lt(Mn)){var Io=Be(Oi,Ir,Mn);Io=et(Ve,Oi,Ir,Qi(Mn),Io),Io&&(Vt[Ir]=Io[Xs])}}),it[Xs]=Vt}else{var Rr={path:wt,name:ot,type:_t,prop:it,sanitizer:I};it=Qt.call(I,Rr)}}return it}}return p.getFieldType=Qi,p}();r.AppInsightsCore=va,r.BaseTelemetryPlugin=AS,r.DiagnosticLogger=Um,r.EventLatency=ro,r.EventPersistence=w_,r.EventPropertyType=nd,r.EventsDiscardedReason=yf,r.FullVersionString=se,r.InternalAppInsightsCore=Vg,r.LoggingSeverity=$O,r.MinChannelPriorty=hl,r.NotificationManager=ve,r.PerfEvent=Kt,r.PerfManager=Ar,r.ProcessTelemetryContext=$g,r.TraceLevel=zp,r.Undefined=n,r.ValueKind=Ci,r.ValueSanitizer=Up,r.Version=X,r._InternalLogMessage=Ih,r.__getRegisteredEvents=Wb,r._logInternalMessage=Xl,r._throwInternal=Wd,r._warnToConsole=Ob,r.addEventHandler=Gm,r.addEventListeners=Gb,r.addPageHideEventListener=OT,r.addPageShowEventListener=IT,r.addPageUnloadEventListener=ev,r.areCookiesSupported=Hg,r.arrForEach=Xn,r.arrIndexOf=Vs,r.arrMap=Ll,r.arrReduce=vu,r.attachEvent=Xg,r.blockDynamicConversion=Oa,r.cookieAvailable=Hg,r.createCookieMgr=Ap,r.createDynamicConfig=ac,r.createEnumStyle=Vi,r.createGuid=hn,r.createProcessTelemetryContext=Ou,r.createTraceParent=Xv,r.createUniqueNamespace=$l,r.createUnloadHandlerContainer=$u,r.dateNow=Tc,r.detachEvent=RT,r.disallowsSameSiteNone=k,r.doPerf=In,r.dumpObj=Re,r.eventOff=jp,r.eventOn=Aa,r.extend=pi,r.findW3cTraceParent=hi,r.forceDynamicConversion=Ph,r.formatTraceParent=cn,r.generateW3CId=Zn,r.getCommonSchemaMetaData=nr,r.getConsole=jd,r.getCookieValue=yr,r.getCrypto=Rm,r.getDocument=Xa,r.getDynamicConfigHandler=Op,r.getExceptionName=qv,r.getFieldValueType=Qi,r.getGlobal=al,r.getGlobalInst=Mi,r.getHistory=mu,r.getIEVersion=Pb,r.getISOString=bf,r.getJSON=Rp,r.getLocation=Ch,r.getMsCrypto=Cf,r.getNavigator=Cc,r.getPerformance=hf,r.getSetValue=Nd,r.getTenantId=Pt,r.getTime=ci,r.getWindow=cl,r.hasDocument=Ja,r.hasHistory=ra,r.hasJSON=Pm,r.hasNavigator=lh,r.hasOwnProperty=Vr,r.hasWindow=ha,r.isArray=Mt,r.isArrayValid=Fs,r.isBeaconsSupported=sc,r.isBoolean=On,r.isChromium=Ic,r.isDate=on,r.isDocumentObjectAvailable=Pr,r.isError=Or,r.isFetchSupported=Uv,r.isFunction=xt,r.isGreaterThanZero=la,r.isIE=xm,r.isLatency=Et,r.isNotTruthy=$r,r.isNullOrUndefined=tt,r.isNumber=un,r.isObject=hr,r.isReactNative=Th,r.isSampledFlag=or,r.isString=cr,r.isTruthy=ln,r.isTypeof=st,r.isUint8ArrayAvailable=qt,r.isUndefined=at,r.isValidSpanId=Qv,r.isValidTraceId=kh,r.isValidTraceParent=Zv,r.isValueAssigned=Lt,r.isValueKind=fo,r.isWindowObjectAvailable=wr,r.isXhrSupported=Og,r.mergeEvtNamespace=Vb,r.newGuid=Qr,r.newId=Wv,r.normalizeJsName=Md,r.objDefineAccessors=Le,r.objForEachKey=Gr,r.objFreeze=Yt,r.objKeys=Je,r.objSeal=rr,r.onConfigChange=Nm,r.openXhr=kc,r.optimizeObject=Dm,r.parseTraceParent=td,r.perfNow=Sd,r.proxyAssign=jv,r.proxyFunctionAs=gl,r.proxyFunctions=Eg,r.random32=Bd,r.randomValue=ES,r.removeEventHandler=Qg,r.removeEventListeners=Zg,r.removePageHideEventListener=b_,r.removePageShowEventListener=WO,r.removePageUnloadEventListener=xT,r.safeGetCookieMgr=f_,r.safeGetLogger=jg,r.sanitizeProperty=ur,r.setEnableEnvMocks=Pp,r.setProcessTelemetryTimings=dc,r.setValue=ic,r.strContains=Ms,r.strEndsWith=pf,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=es,r.strTrim=na,r.strUndefined=n,r.throwError=oi,r.toISOString=bf,r.useXDomainRequest=zd})});var tve=E((uq,eve)=>{(function(r,e){typeof uq=="object"&&typeof eve<"u"?e(uq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(uq,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",m="boolean",_="function",D="number",O="object",M="prototype",A="__proto__",U="string",ne="undefined",de="constructor",ye="Symbol",V="_polyfill",$="indexOf",ee="length",De="done",ae="value",ce="name",qe="slice",Ne=Object,ue=Ne[M],Ce=String,be=Ce[M],xe=Math,Me=Array,$e=Me[M];function Ct(C,L){var B=L;try{B=C()}catch{}return B}function ze(C){return function(L){return typeof L===C}}function st(C){var L="[object "+C+"]";return function(B){return!!(B&&at(B)===L)}}function at(C){return ue.toString.call(C)}function tt(C){return typeof C===ne||C===ne}function fr(C){return C===d||tt(C)}function Lr(C){return C===d||!zr(C)}function zr(C){return!!C||C!==l}var cr=ze(U),xt=ze(_);function hr(C){return!C&&fr(C)?!1:!!C&&typeof C===O}var Mt=Me.isArray,on=ze(D),un=ze(m),On=st("Error");function Or(C){return!!C&&xt(C.then)}var Hn=Ne.getOwnPropertyDescriptor;function $r(C,L){return C&&ue.hasOwnProperty.call(C,L)}var ln=Ne.hasOwn||ii;function ii(C,L){return $r(C,L)||!!Hn(C,L)}function Vr(C,L,B){if(C&&hr(C)){for(var X in C)if(ln(C,X)&&L.call(B||C,X,C[X])===-1)break}}function An(C,L,B,X){var se={};return Vr(C,function(Se,Te){se[Se]=L?Te:Se,se[Te]=B?Te:Se}),X(se)}function Ri(C){throw new TypeError(C)}var Gr=Ne.freeze,Ji=function(C){return C},oi=function(C){return C[A]||d},fn=Ne.assign;function Oe(C){return(!hr(C)||C===d)&&Ri("objKeys called on non-object"),Ne.keys(C)}function oe(C){return Gr&&Vr(C,function(L,B){(Mt(B)||hr(B))&&Gr(B)}),Q(C)}var Q=Gr||Ji,_e=Ne.getPrototypeOf||oi;function Je(C){return An(C,1,0,oe)}function ft(C){return An(C,0,0,oe)}var Yt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),rr=Ce,Jt="__tsUtils$gblCfg",$t;function kt(){var C;return typeof globalThis!==ne&&(C=globalThis),!C&&typeof self!==ne&&(C=self),!C&&typeof window!==ne&&(C=window),!C&&typeof global!==ne&&(C=global),C}function K(){if(!$t){var C=kt()||{};$t=C[Jt]=C[Jt]||{}}return $t}function Fe(C,L){var B=f;if(On(C))B="{ stack: '"+C.stack+"', message: '"+C.message+"', name: '"+C.name+"'";else try{B=JSON.stringify(C,d,L?on(L)?L:4:l)}catch(X){B=" - "+Fe(X,L)}return at(C)+": "+B}var Ht=$e[qe],Dr=function(C,L){Ri("'"+rr(C)+"' not defined for "+Fe(L))},He=function(C){return function(L){return L[C].apply(L,Ht.call(arguments,1))}},re=function(C,L){var B=L&&L[C];return function(X){var se=X&&X[C]||B;if(se)return se.apply(X,Ht.call(arguments,1));Dr(C,X)}},Re=function(C,L,B){var X=L&&L[C];return function(se){var Se=se&&se[C]||X;if(Se||B){var Te=arguments;return(Se||B).apply(se,Se?Ht.call(Te,1):Te)}Dr(C,se)}},je=xe.max,he=re(qe,be),S=re("substring",be),fe=Re("substr",be,Ye);function Ye(C,L,B){return fr(C)&&Ri("'polyStrSubstr called with invalid "+Fe(C)),B<0?f:(L=L||0,L<0&&(L=je(L+C[ee],0)),tt(B)?he(C,L):he(C,L,L+B))}function Tr(C,L){return S(C,0,L)}var Wr=Re("startsWith",be,Xr);function Xr(C,L,B){cr(C)||Ri("'"+Fe(C)+"' is not a string");var X=cr(L)?L:rr(L),se=X[ee],Se=B>0?B:0;return S(C,Se,Se+se)===X}var qn="_urid",xi;function ks(){if(!xi){var C=K();xi=C.gblSym=C.gblSym||{k:{},s:{}}}return xi}var Sn={};function es(C){var L={description:rr(C),toString:function(){return ye+"("+C+")"}};return L[V]=!0,L}function Bs(C){var L=ks();if(!ln(L.k,C)){var B=es(C),X=Oe(L.s).length;B[qn]=function(){return X+"_"+B.toString()},L.k[C]=B,L.s[B[qn]()]=rr(C)}return L.k[C]}function ta(C){var L,B=Yt[C];return B&&(L=Sn[B]=Sn[B]||es(ye+"."+B)),L}var Fo={e:"enumerable",c:"configurable",v:ae,w:"writable",g:"get",s:"set"};function Eo(C){var L={};if(L[Fo.c]=!0,L[Fo.e]=!0,C.l){L.get=function(){return C.l.v};var B=Hn(C.l,"v");B&&B.set&&(L.set=function(X){C.l.v=X})}return Vr(C,function(X,se){L[Fo[X]]=tt(se)?L[Fo[X]]:se}),L}var H=Ne.defineProperty;function Ue(C,L,B){return H(C,L,Eo(B))}var vt,Fr=function(){vt=K(),Fr=d};function so(C){var L={};return Fr&&Fr(),L.b=vt.lzy,H(L,"v",{configurable:!0,get:function(){var B=C();return vt.lzy||(H(L,"v",{value:B}),L.b&&delete L.b),vt.lzy&&L.b!==vt.lzy&&(L.b=vt.lzy),B}}),L}function Bi(C,L){return so(function(){return Ct(C,L)})}var N="window",Le,rt,zt,Ln,Cn,Nn=function(C){return Bi(function(){return ji(C)||l},l)},ao=function(C){return(!Le||C===!1||vt&&vt.lzy&&!Le.b)&&(Le=Bi(kt,d)),Le.v},ji=function(C,L){var B=!Le||L===!1?ao(L):Le.v;return B&&B[C]?B[C]:C===N&&rt?rt.v:d},Po=function(){return!!$i()},$i=function(){return(!zt||vt&&vt.lzy&&!zt.b)&&(zt=Nn("document")),zt.v},Jn=function(){return!!pu()},pu=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Nn(N)),rt.v},ts=function(){return!!yo()},yo=function(){return(!Ln||vt&&vt.lzy&&!Ln.b)&&(Ln=Nn("navigator")),Ln.v},al=function(){return!Cn&&(Cn=Bi(function(){return!!(process&&(process.versions||{}).node)},!1)),Cn.v},Mi,Ja,Xa;function ha(C){return Bi(function(){return Mi.v?Mi.v[C]:l},l)}function cl(){return!!lh()}function lh(){var C=!Mi||vt&&vt.lzy&&!Mi.b;return C&&(Mi=Nn(ye)),(!Ja||C)&&(Ja=ha("for")),(!Xa||C)&&(Xa=ha("keyFor")),Mi.v}function Cc(C,L){var B=Yt[C];return(!Mi||vt.lzy&&!Mi.b)&&lh(),Mi.v?Mi.v[B||C]:L?l:ta(C)}function ra(C,L){return(!Mi||vt.lzy&&!Mi.b)&&lh(),Mi.v?Mi.v(C):L?d:es(C)}function mu(C){return(!Ja||vt.lzy&&!Mi.b)&&lh(),(Ja.v||Bs)(C)}function dh(C){return!!C&&xt(C.next)}function Uo(C){return!Lr(C)&&xt(C[Cc(3)])}var Ws;function Dn(C,L,B){if(C&&(dh(C)||(!Ws&&(Ws=so(function(){return Cc(3)})),C=C[Ws.v]?C[Ws.v]():null),dh(C))){var X=void 0,se=void 0;try{for(var Se=0;!(se=C.next())[De]&&L.call(B||C,se[ae],Se,C)!==-1;)Se++}catch(Te){X={e:Te},C.throw&&(se=null,C.throw(X))}finally{try{se&&!se[De]&&C.return&&C.return(se)}finally{if(X)throw X.e}}}}var $s=He("apply");function gu(C,L){return!tt(L)&&C&&(Mt(L)?$s(C.push,C,L):dh(L)||Uo(L)?Dn(L,function(B){C.push(B)}):C.push(L)),C}function si(C,L,B){if(C)for(var X=C[ee]>>>0,se=0;se<X&&!(se in C&&L.call(B||C,C[se],se,C)===-1);se++);}var Ta=re($,$e),Xc=re(qe,$e),fh=He("call"),af=Ne.create,ap=af||cf;function cf(C){if(!C)return{};var L=typeof C;if(L!==O&&L!==_)throw new TypeError("Prototype must be an Object or function: "+Fe(C));function B(){}return B[M]=C,new B}var cp;function uf(C,L){var B=Ne.setPrototypeOf||function(X,se){!cp&&(cp=so(function(){var Se;return Se={},Se[A]=[],Se instanceof Array})),cp.v?X[A]=se:Vr(se,function(Se,Te){return X[Se]=Te})};return B(C,L)}var Al=function(C,L,B){Vs(L,C),L=uf(L,B);function X(){this.constructor=L,Vs(this,C)}return L[M]=B===d?ap(B):(X[M]=B[M],new X),L},Xn=function(C,L){try{L&&(C[ce]=L)}catch{}},Vs=function(C,L){try{Ue(C,ce,{v:L,c:!0,e:!1})}catch{}};function Ll(C,L,B){var X=B||Error,se=X[M][ce],Se=Error.captureStackTrace;return Al(C,function(){var Te=this;try{Xn(X,C);var Xe=$s(X,Te,Xc(arguments))||Te;if(Xe!==Te){var lt=_e(Te);lt!==_e(Xe)&&uf(Xe,lt)}return Se&&Se(Xe,Te[de]),L&&L(Xe,arguments),Xe}finally{Xn(X,se)}},X)}function co(){return(Date.now||hh)()}function hh(){return new Date().getTime()}function ph(C){return function(B){return fr(B)&&Ri("strTrim called ["+Fe(B)+"]"),B&&B.replace&&(B=B.replace(C,f)),B}}var Gs=ph(/^\s+|(?=\s)\s+$/g),vu=Re("trim",be,Gs),mh,yd,Ss;function Ml(C){if(!C||typeof C!==O)return!1;Ss||(Ss=Jn()?pu():!0);var L=!1;if(C!==Ss){yd||(mh=Function[M].toString,yd=fh(mh,Ne));try{var B=_e(C);L=!B,L||($r(B,de)&&(B=B[de]),L=B&&typeof B===_&&mh.call(B)===yd)}catch{}}return L}var Qc;function pm(){return(!Qc||!Qc.b&&vt&&vt.lzy)&&(Qc=Nn("performance")),Qc.v}function _d(){var C=pm();return C&&C.now?C.now():co()}var lf=re($,be),df="ref",Tc="un"+df,_o="hasRef",up="enabled";function ff(C,L,B){var X,se=!0,Se=C?L(d):d,Te,Xe=function(){return se=!1,Se&&Se[Tc]&&Se[Tc](),Te},lt=function(){return se=!0,Se&&Se[df]&&Se[df](),Te},gt=function(){return Se&&Se[_o]?Se[_o]():se},jt=function(){return Se=L(Se),se||Xe(),Te},Pr=function(){Se&&B(Se),Se=d},wr=function(Lt){!Lt&&Se&&Pr(),Lt&&!Se&&jt()};return Te=(X={cancel:Pr,refresh:jt},X[_o]=gt,X[df]=lt,X[Tc]=Xe,X[up]=!1,X),H(Te,up,{get:function(){return!!Se},set:wr}),{h:Te,dn:function(){Se=d}}}function na(C,L,B,X){var se=Mt(B),Se=se?B.length:0,Te=(Se>0?B[0]:se?l:B)||setTimeout,Xe=(Se>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),$s(lt,C,Xc(arguments))};var gt=ff(L,function(jt){if(jt){if(jt.refresh)return jt.refresh(),jt;$s(Xe,C,[jt])}return $s(Te,C,X)},function(jt){$s(Xe,C,[jt])});return gt.h}function ul(C,L){return na(this,!0,l,Xc(arguments))}function yu(C,L,B){return na(this,!0,C,Xc(arguments,1))}(ao()||{}).Symbol,(ao()||{}).Reflect;var Av="hasOwnProperty",ia=function(C,L){return ia=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var se in X)X[Av](se)&&(B[se]=X[se])},ia(C,L)};function Jy(C,L){typeof L!==i&&L!==null&&Ri("Class extends value "+String(L)+" is not a constructor or null"),ia(C,L);function B(){this.constructor=C}C[a]=L===null?ap(L):(B[a]=L[a],new B)}var Nu,bd="constructor",Ho="prototype",Nl="function",gh="_dynInstFuncs",wg="_isDynProxy",wd="_dynClass",vh="_dynCls$",lp="_dynInstChk",Fl=lp,dp="_dfOpts",Fu="_unknown_",yh="__proto__",_u="_dyn"+yh,hf="__dynProto$Gbl",Sd="_dynInstProto",pf="useBaseInst",Cd="setInstFuncs",Ks=Object,Da=Ks.getPrototypeOf,Ro=Ks.getOwnPropertyNames,Zc=ao(),Qa=Zc[hf]||(Zc[hf]={o:(Nu={},Nu[Cd]=!0,Nu[pf]=!0,Nu),n:1e3});function Sg(C){return C&&(C===Ks[Ho]||C===Array[Ho])}function qu(C){return Sg(C)||C===Function[Ho]}function Ys(C){var L;if(C){if(Da)return Da(C);var B=C[yh]||C[Ho]||(C[bd]?C[bd][Ho]:null);L=C[_u]||B,$r(C,_u)||(delete C[Sd],L=C[_u]=C[Sd]||C[_u],C[Sd]=B)}return L}function ql(C,L){var B=[];if(Ro)B=Ro(C);else for(var X in C)typeof X=="string"&&$r(C,X)&&B.push(X);if(B&&B.length>0)for(var se=0;se<B.length;se++)L(B[se])}function fp(C,L,B){return L!==bd&&typeof C[L]===Nl&&(B||$r(C,L))}function bu(C){Ri("DynamicProto: "+C)}function ll(C){var L={};return ql(C,function(B){!L[B]&&fp(C,B,!1)&&(L[B]=C[B])}),L}function _h(C,L){for(var B=C.length-1;B>=0;B--)if(C[B]===L)return!0;return!1}function Dc(C,L,B,X){function se(lt,gt,jt){var Pr=gt[jt];if(Pr[wg]&&X){var wr=lt[gh]||{};wr[Fl]!==!1&&(Pr=(wr[gt[wd]]||{})[jt]||Pr)}return function(){return Pr.apply(lt,arguments)}}var Se={};ql(B,function(lt){Se[lt]=se(L,B,lt)});for(var Te=Ys(C),Xe=[];Te&&!qu(Te)&&!_h(Xe,Te);)ql(Te,function(lt){!Se[lt]&&fp(Te,lt,!Da)&&(Se[lt]=se(L,Te,lt))}),Xe.push(Te),Te=Ys(Te);return Se}function ju(C,L,B,X){var se=null;if(C&&$r(B,wd)){var Se=C[gh]||{};if(se=(Se[B[wd]]||{})[L],se||bu("Missing ["+L+"] "+Nl),!se[lp]&&Se[Fl]!==!1){for(var Te=!$r(C,L),Xe=Ys(C),lt=[];Te&&Xe&&!qu(Xe)&&!_h(lt,Xe);){var gt=Xe[L];if(gt){Te=gt===X;break}lt.push(Xe),Xe=Ys(Xe)}try{Te&&(C[L]=se),se[lp]=1}catch{Se[Fl]=!1}}}return se}function Cs(C,L,B){var X=L[C];return X===B&&(X=Ys(L)[C]),typeof X!==Nl&&bu("["+C+"] is not a "+Nl),X}function eu(C,L,B,X,se){function Se(lt,gt){var jt=function(){var Pr=ju(this,gt,lt,jt)||Cs(gt,lt,jt);return Pr.apply(this,arguments)};return jt[wg]=1,jt}if(!Sg(C)){var Te=B[gh]=B[gh]||{},Xe=Te[L]=Te[L]||{};Te[Fl]!==!1&&(Te[Fl]=!!se),ql(B,function(lt){fp(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!$r(C,lt)||C[lt]&&!C[lt][wg])&&(C[lt]=Se(C,lt)))})}}function zu(C,L){if(Da){for(var B=[],X=Ys(L);X&&!qu(X)&&!_h(B,X);){if(X===C)return!0;B.push(X),X=Ys(X)}return!1}return!0}function Uu(C,L){return $r(C,Ho)?C.name||L||Fu:((C||{})[bd]||{}).name||L||Fu}function oa(C,L,B,X){$r(C,Ho)||bu("theClass is an invalid class definition.");var se=C[Ho];zu(se,L)||bu("["+Uu(C)+"] not in hierarchy of ["+Uu(L)+"]");var Se=null;$r(se,wd)?Se=se[wd]:(Se=vh+Uu(C,"_")+"$"+Qa.n,Qa.n++,se[wd]=Se);var Te=oa[dp],Xe=!!Te[pf];Xe&&X&&X[pf]!==void 0&&(Xe=!!X[pf]);var lt=ll(L),gt=Dc(se,L,lt,Xe);B(L,gt);var jt=!!Da&&!!Te[Cd];jt&&X&&(jt=!!X[Cd]),eu(se,Se,L,lt,jt!==!1)}oa[dp]=Qa.o;var Cg=Je,Za=Cg({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),dl="toLowerCase",Bo="blkVal",Wo="length",mf="rdOnly",Hu="notify",gf="warnToConsole",qo="throwInternal",jl="setDf",vf="watch",pa="logger",wu="apply",sa="push",As="splice",zl="hdlr",Lv="cancel",hs="initialize",tu="identifier",fl="isInitialized",bh="getPlugin",Td="name",hp="time",ec="processNext",mm="getProcessTelContext",zi="unload",rs="loggingLevelConsole",Bu="createNew",Ec="teardown",Pc="messageId",aa="message",hl="isAsync",Vi="diagLog",yf="_doTeardown",wi="update",Ea="getNext",Bn="setNextPlugin",Dd="userAgent",Ul="split",Rc="nodeType",$o="replace",tc="logInternalMessage",ca="type",uo="handler",Su="isChildEvt",Fn="getCtx",ru="setCtx",xo="complete",ai;function Hl(C,L){ai||(ai=Ll("AggregationError",function(X,se){se[Wo]>1&&(X.errors=se[1])}));var B=C||"One or more errors occurred.";throw si(L,function(X,se){B+=`
`.concat(se," > ").concat(Fe(X))}),new ai(B,L||[])}var Pa=["pending","resolving","resolved","rejected"],ma="dispatchEvent",ua;function Bl(C,L,B,X){var se=$i();!ua&&(ua=Bi(function(){var lt;return se&&se.createEvent&&(lt=se.createEvent("Event")),!!lt&&lt.initEvent},null));var Se=ua.v?se.createEvent("Event"):X?new Event(L):{};if(B&&B(Se),ua.v&&Se.initEvent(L,!1,!0),Se&&C[ma])C[ma](Se);else{var Te=C["on"+L];if(Te)Te(Se);else{var Xe=ji("console");Xe&&(Xe.error||Xe.log)(L,Fe(Se))}}}var rc="Promise",Ed="unhandledRejection",Ts=Ed.toLowerCase(),nu=10,pl;function Wl(C){return xt(C)?C.toString():Fe(C)}function Pd(C,L,B){var X=Xc(arguments,3),se=0,Se=!1,Te,Xe=[],lt=!1,gt=null,jt;!pl&&(pl=Nn(rc+"RejectionEvent"));var Pr=function(yr,hn){try{lt=!0,gt&&gt.cancel(),gt=null;var pi=C(function(ci,fo){Xe.push(function(){try{var Go=se===2?yr:hn,Oo=tt(Go)?Te:xt(Go)?Go(Te):Go;Or(Oo)?Oo.then(ci,fo):Go?ci(Oo):se===3?fo(Oo):ci(Oo)}catch(Fs){fo(Fs)}}),Se&&qt()},X);return pi}finally{}},wr=function(yr){return Pr(void 0,yr)},Lt=function(yr){var hn=yr,pi=yr;return xt(yr)&&(hn=function(ci){return yr&&yr(),ci},pi=function(ci){throw yr&&yr(),ci}),Pr(hn,pi)},Pt=function(){return Pa[se]},qt=function(){if(Xe.length>0){var yr=Xe.slice();Xe=[],lt=!0,L(yr),gt&&gt.cancel(),gt=null}},Et=function(yr,hn){return function(pi){if(se===hn){if(yr===2&&Or(pi)){se=1,pi.then(Et(2,1),Et(3,1));return}se=yr,Se=!0,Te=pi,qt(),!lt&&yr===3&&!gt&&(gt=ul(ur,nu))}}},ur=function(){if(!lt)if(al())process.emit(Ed,Te,jt);else{var yr=pu()||ao();Bl(yr,Ts,function(hn){return Ue(hn,"promise",{g:function(){return jt}}),hn.reason=Te,hn},!!pl.v)}};jt={then:Pr,catch:wr,finally:Lt},H(jt,"state",{get:Pt}),cl()&&(jt[Cc(11)]="IPromise");var nr=function(){return"IPromise "+Pt()+(Se?" - "+Wl(Te):"")};return jt.toString=nr,function(){xt(B)||Ri(rc+": executor is not a function - "+Wl(B));var hn=Et(3,0);try{B.call(jt,Et(2,0),hn)}catch(pi){hn(pi)}}(),jt}var g=function(C){si(C,function(L){try{L()}catch{}})};function v(C){var L=on(C)?C:0;return function(B){ul(function(){g(B)},L)}}function P(C,L){return Pd(P,v(L),C,L)}var x;function F(C,L){!x&&(x=Nn(rc));var B=x.v;if(!B)return P(C);xt(C)||Ri(rc+": executor is not a function - "+Fe(C));var X=0;function se(){return Pa[X]}var Se=new B(function(Te,Xe){function lt(jt){X=2,Te(jt)}function gt(jt){X=3,Xe(jt)}C(lt,gt)});return H(Se,"state",{get:se}),Se}var J;function Z(C,L){return!J&&(J=so(function(){return F})),J.v.call(this,C,L)}var pe=void 0,ke="",Qe="core",ht="disabled",Ut="extensionConfig",Sr="processTelemetry",sn="priority",jr="getPerfMgr",Wn="Not dynamic - ",Js=/-([a-z])/g,nc=/([^\w\d_$])/g,Cu=/^(\d+[\w\d_$])/;function pp(C){return!fr(C)}function gm(C){var L=C;return L&&cr(L)&&(L=L[$o](Js,function(B,X){return X.toUpperCase()}),L=L[$o](nc,"_"),L=L[$o](Cu,function(B,X){return"_"+X})),L}function Ra(C,L){return C&&L?lf(C,L)!==-1:!1}function mp(C,L){var B=null,X=null;return xt(C)?B=C:X=C,function(){var se=arguments;if(B&&(X=B()),X)return X[L][wu](X,se)}}function wh(C,L,B,X,se){C&&L&&B&&(se!==!1||tt(C[L]))&&(C[L]=mp(B,X))}function Rd(C,L,B,X){return C&&L&&hr(C)&&Mt(B)&&si(B,function(se){cr(se)&&wh(C,se,L,se,X)}),C}function Tu(C){return C&&fn&&(C=c(fn({},C))),C}var Tg="location",Xy="console",gp="JSON",vp="crypto",Qy="msCrypto",Zy="ReactNative",e_="msie",Db="trident/",vm="XMLHttpRequest",Mv=null,t_=null,r_=!1,ym=null,yp=null;function Eb(C,L){var B=!1;if(C){try{if(B=L in C,!B){var X=C[a];X&&(B=L in X)}}catch{}if(!B)try{var se=new C;B=!tt(se[L])}catch{}}return B}function n_(C){if(C&&r_){var L=ji("__mockLocation");if(L)return L}return typeof location===o&&location?location:ji(Tg)}function _p(){return typeof console!==s?console:ji(Xy)}function Nv(){return!!(typeof JSON===o&&JSON||ji(gp)!==null)}function xd(){return Nv()?JSON||ji(gp):null}function Xi(){return ji(vp)}function _m(){return ji(Qy)}function lo(){var C=yo();return C&&C.product?C.product===Zy:!1}function i_(){var C=yo();if(C&&(C[Dd]!==t_||Mv===null)){t_=C[Dd];var L=(t_||ke)[dl]();Mv=Ra(L,e_)||Ra(L,Db)}return Mv}function Fv(C){return(yp===null||C===!1)&&(yp=ts()&&!!yo().sendBeacon),yp}function Od(C){var L=!1;try{L=!!ji("fetch");var B=ji("Request");L&&C&&B&&(L=Eb(B,"keepalive"))}catch{}return L}function bp(){return ym===null&&(ym=typeof XDomainRequest!==s,ym&&iu()&&(ym=ym&&!Eb(ji(vm),"withCredentials"))),ym}function iu(){var C=!1;try{var L=ji(vm);C=!!L}catch{}return C}var Id=4294967296,kd=4294967295,Ls=123456789,fi=987654321,Du=!1,ns=Ls,Ad=fi;function bm(C){C<0&&(C>>>=0),ns=Ls+C&kd,Ad=fi-C&kd,Du=!0}function wp(){try{var C=co()&2147483647;bm((Math.random()*Id^C)+C)}catch{}}function Sp(C){var L=0,B=Xi()||_m();return B&&B.getRandomValues&&(L=B.getRandomValues(new Uint32Array(1))[0]&kd),L===0&&i_()&&(Du||wp(),L=_f()&kd),L===0&&(L=Math.floor(Id*Math.random()|0)),C||(L>>>=0),L}function _f(C){Ad=36969*(Ad&65535)+(Ad>>16)&kd,ns=18e3*(ns&65535)+(ns>>16)&kd;var L=(Ad<<16)+(ns&65535)>>>0&kd|0;return C||(L>>>=0),L}function o_(C){C===void 0&&(C=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=Sp()>>>0,X=0,se=ke;se[Wo]<C;)X++,se+=L.charAt(B&63),B>>>=6,X===5&&(B=(Sp()<<2&4294967295|B&3)>>>0,X=0);return se}var wm="3.0.5",Sm="."+o_(6),xa=0;function Ld(C){return C[Rc]===1||C[Rc]===9||!+C[Rc]}function xc(C,L){var B=L[C.id];if(!B){B={};try{Ld(L)&&Ue(L,C.id,{e:!1,v:B})}catch{}}return B}function Eu(C,L){return L===void 0&&(L=!1),gm(C+xa+++(L?"."+wm:ke)+Sm)}function Cm(C){var L={id:Eu("_aiData-"+(C||ke)+"."+wm),accept:function(B){return Ld(B)},get:function(B,X,se,Se){var Te=B[L.id];return Te?Te[gm(X)]:(Se&&(Te=xc(L,B),Te[gm(X)]=se),se)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return L}function ml(C){return C&&hr(C)&&(C.isVal||C.fb||ln(C,"v")||ln(C,"mrg")||ln(C,"ref")||C.set)}function Tm(C,L,B){var X,se=B.dfVal||zr;if(L&&B.fb){var Se=B.fb;Mt(Se)||(Se=[Se]);for(var Te=0;Te<Se[Wo];Te++){var Xe=Se[Te],lt=L[Xe];if(se(lt)?X=lt:C&&(lt=C.cfg[Xe],se(lt)&&(X=lt),C.set(C.cfg,rr(Xe),lt)),se(X))break}}return!se(X)&&se(B.v)&&(X=B.v),X}function Dg(C,L,B){var X=B;if(B&&ml(B)&&(X=Tm(C,L,B)),X){ml(X)&&(X=Dg(C,L,X));var se;Mt(X)?(se=[],se[Wo]=X[Wo]):Ml(X)&&(se={}),se&&(Vr(X,function(Se,Te){Te&&ml(Te)&&(Te=Dg(C,L,Te)),se[Se]=Te}),X=se)}return X}function Cp(C,L,B,X){var se,Se,Te,Xe=X,lt,gt,jt,Pr;ml(Xe)?(se=Xe.isVal,Se=Xe.set,jt=Xe[mf],Pr=Xe[Bo],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),Te=Tm(C,L,Xe)):Te=X,Pr&&C[Bo](L,B);var wr,Lt=!0,Pt=L[B];(Pt||!fr(Pt))&&(wr=Pt,Lt=!1,se&&wr!==Te&&!se(wr)&&(wr=Te,Lt=!0),Se&&(wr=Se(wr,Te,L),Lt=wr===Te)),Lt?Te?wr=Dg(C,L,Te):wr=Te:(Ml(wr)||Mt(Te))&&lt&&Te&&(Ml(Te)||Mt(Te))&&Vr(Te,function(qt,Et){Cp(C,wr,qt,Et)}),C.set(L,B,wr),gt&&C.ref(L,B),jt&&C[mf](L,B)}var En=mu("[[ai_dynCfg_1]]"),Md=mu("[[ai_blkDynCfg_1]]"),Ms=mu("[[ai_frcDynCfg_1]]");function bf(C){if(C){var L;if(Mt(C)?(L=[],L[Wo]=C[Wo]):Ml(C)&&(L={}),L)return Vr(C,function(B,X){L[B]=bf(X)}),L}return C}function qv(C){if(C){var L=C[En]||C;if(L.cfg&&(L.cfg===C||L.cfg[En]===L))return L}return null}function ic(C){if(C&&(Ml(C)||Mt(C)))try{C[Md]=!0}catch{}return C}function Nd(C,L,B){var X=!1;return B&&!C[L.blkVal]&&(X=B[Ms],!X&&!B[Md]&&(X=Ml(B)||Mt(B))),X}function Tp(C){Ri("InvalidAccess:"+C)}var jv=["push","pop","shift","unshift","splice"],gl=function(C,L,B,X){C&&C[qo](3,108,"".concat(B," [").concat(L,"] failed - ")+Fe(X))};function Eg(C,L,B){Mt(L)&&si(jv,function(X){var se=L[X];L[X]=function(){for(var Se=[],Te=0;Te<arguments.length;Te++)Se[Te]=arguments[Te];var Xe=se[wu](this,Se);return wf(C,L,B,"Patching"),Xe}})}function Dm(C,L){var B=Hn(C,L);return B&&B.get}function zv(C,L,B,X){var se={n:B,h:[],trk:function(gt){gt&&gt.fn&&(Ta(se.h,gt)===-1&&se.h[sa](gt),C.trk(gt,se))},clr:function(gt){var jt=Ta(se.h,gt);jt!==-1&&se.h[As](jt,1)}},Se=!0,Te=!1;function Xe(){Se&&(Te=Te||Nd(Xe,C,X),X&&!X[En]&&Te&&(X=wf(C,X,B,"Converting")),Se=!1);var gt=C.act;return gt&&se.trk(gt),X}Xe[C.prop]={chng:function(){C.add(se)}};function lt(gt){if(X!==gt){Xe[C.ro]&&!C.upd&&Tp("["+B+"] is read-only:"+Fe(L)),Se&&(Te=Te||Nd(Xe,C,X),Se=!1);var jt=Te&&Xe[C.rf];if(Te)if(jt){Vr(X,function(wr){X[wr]=gt?gt[wr]:pe});try{Vr(gt,function(wr,Lt){Pg(C,X,wr,Lt)}),gt=X}catch(wr){gl((C.hdlr||{})[pa],B,"Assigning",wr),Te=!1}}else X&&X[En]&&Vr(X,function(wr){var Lt=Dm(X,wr);if(Lt){var Pt=Lt[C.prop];Pt&&Pt.chng()}});if(gt!==X){var Pr=gt&&Nd(Xe,C,gt);!jt&&Pr&&(gt=wf(C,gt,B,"Converting")),X=gt,Te=Pr}C.add(se)}}Ue(L,se.n,{g:Xe,s:lt})}function Pg(C,L,B,X){if(L){var se=Dm(L,B),Se=se&&!!se[C.prop];Se?L[B]=X:zv(C,L,B,X)}return L}function Fd(C,L,B,X){if(L){var se=Dm(L,B),Se=se&&!!se[C.prop],Te=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!Se){if(lt)try{ic(L)}catch(gt){gl((C.hdlr||{})[pa],B,"Blocking",gt)}try{Pg(C,L,B,L[B]),se=Dm(L,B)}catch(gt){gl((C.hdlr||{})[pa],B,"State",gt)}}Te&&(se[C.rf]=Te),Xe&&(se[C.ro]=Xe),lt&&(se[C.blkVal]=!0)}return L}function wf(C,L,B,X){try{Vr(L,function(se,Se){Pg(C,L,se,Se)}),L[En]||(H(L,En,{get:function(){return C[zl]}}),Eg(C,L,B))}catch(se){gl((C.hdlr||{})[pa],B,X,se)}return L}var Em="[[ai_",Dp="]]";function Rg(C){var L,B=ra(Em+"get"+C.uid+Dp),X=ra(Em+"ro"+C.uid+Dp),se=ra(Em+"rf"+C.uid+Dp),Se=ra(Em+"blkVal"+C.uid+Dp),Te=ra(Em+"dtl"+C.uid+Dp),Xe=null,lt=null,gt;function jt(Pt,qt){var Et=gt.act;try{gt.act=Pt,Pt&&Pt[Te]&&(si(Pt[Te],function(nr){nr.clr(Pt)}),Pt[Te]=[]),qt({cfg:C.cfg,set:C.set.bind(C),setDf:C[jl].bind(C),ref:C.ref.bind(C),rdOnly:C[mf].bind(C)})}catch(nr){var ur=C[pa];throw ur&&ur[qo](1,107,Fe(nr)),nr}finally{gt.act=Et||null}}function Pr(){if(Xe){var Pt=Xe;Xe=null,lt&&lt[Lv](),lt=null;var qt=[];if(si(Pt,function(Et){if(Et&&(Et[Te]&&(si(Et[Te],function(ur){ur.clr(Et)}),Et[Te]=null),Et.fn))try{jt(Et,Et.fn)}catch(ur){qt[sa](ur)}}),Xe)try{Pr()}catch(Et){qt[sa](Et)}qt[Wo]>0&&Hl("Watcher error(s): ",qt)}}function wr(Pt){if(Pt&&Pt.h[Wo]>0){Xe||(Xe=[]),lt||(lt=ul(function(){lt=null,Pr()},0));for(var qt=0;qt<Pt.h[Wo];qt++){var Et=Pt.h[qt];Et&&Ta(Xe,Et)===-1&&Xe[sa](Et)}}}function Lt(Pt,qt){if(Pt){var Et=Pt[Te]=Pt[Te]||[];Ta(Et,qt)===-1&&Et[sa](qt)}}return gt=(L={prop:B,ro:X,rf:se},L[Bo]=Se,L[zl]=C,L.add=wr,L[Hu]=Pr,L.use=jt,L.trk=Lt,L),gt}function ou(C,L){var B={fn:L,rm:function(){B.fn=null,C=null,L=null}};return C.use(B,L),B}function oc(C,L,B){var X,se=qv(L);if(se)return se;var Se=Eu("dyncfg",!0),Te=L&&B!==!1?L:bf(L),Xe;function lt(){Xe[Hu]()}function gt(ur,nr,yr){try{ur=Pg(Xe,ur,nr,yr)}catch(hn){gl(C,nr,"Setting value",hn)}return ur[nr]}function jt(ur){return ou(Xe,ur)}function Pr(ur,nr){Xe.use(null,function(yr){var hn=Xe.upd;try{tt(nr)||(Xe.upd=nr),ur(yr)}finally{Xe.upd=hn}})}function wr(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[0]=!0,yr))[nr]}function Lt(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[1]=!0,yr))[nr]}function Pt(ur,nr){var yr;return Fd(Xe,ur,nr,(yr={},yr[2]=!0,yr))[nr]}function qt(ur,nr){return nr&&Vr(nr,function(yr,hn){Cp(Et,ur,yr,hn)}),ur}var Et=(X={uid:null,cfg:Te},X[pa]=C,X[Hu]=lt,X.set=gt,X[jl]=qt,X[vf]=jt,X.ref=wr,X[mf]=Lt,X[Bo]=Pt,X._block=Pr,X);return Ue(Et,"uid",{c:!1,e:!1,w:!1,v:Se}),Xe=Rg(Et),wf(Xe,Te,"config","Creating"),Et}function Sf(C,L){C?(C[gf](L),C[qo](2,108,L)):Tp(L)}function Wu(C,L,B,X){var se=oc(B,C||{},X);return L&&se[jl](se.cfg,L),se}function Pu(C,L,B){var X=C[En]||C;return X.cfg&&(X.cfg===C||X.cfg[En]===X)?X[vf](L):(Sf(B,Wn+Fe(C)),Wu(C,null,B)[vf](L))}var Sh=null;function qd(){var C=ji("Microsoft");return C&&(Sh=C.ApplicationInsights),Sh}function xg(C){var L=Sh;return!L&&C.disableDbgExt!==!0&&(L=Sh||qd()),L?L.ChromeDbgExt:null}var Ep,Pp="warnToConsole",Ch="AI (Internal): ",jd="AI: ",Pm="AITR_",Rp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Rm=(Ep={},Ep[0]=null,Ep[1]="errorToConsole",Ep[2]=Pp,Ep[3]="debugToConsole",Ep);function Cf(C){return C?'"'+C[$o](/\"/g,ke)+'"':ke}function Th(C,L){var B=_p();if(B){var X="log";B[C]&&(X=C),xt(B[X])&&B[X](L)}}var xm=function(){function C(L,B,X,se){X===void 0&&(X=!1);var Se=this;Se[Pc]=L,Se[aa]=(X?jd:Ch)+L;var Te=ke;Nv()&&(Te=xd().stringify(se));var Xe=(B?" message:"+Cf(B):ke)+(se?" props:"+Cf(Te):ke);Se[aa]+=Xe}return C.dataType="MessageData",C}();function Pb(C,L){return(C||{})[pa]||new sc(L)}var sc=function(){function C(L){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},se,Se,Te,Xe,lt;oa(C,this,function(gt){lt=Pr(L||{}),gt.consoleLoggingLevel=function(){return se},gt[qo]=function(Pt,qt,Et,ur,nr){nr===void 0&&(nr=!1);var yr=new xm(qt,Et,nr,ur);if(Xe)throw Fe(yr);var hn=Rm[Pt]||Pp;if(tt(yr[aa]))Lt("throw"+(Pt===1?"Critical":"Warning"),yr);else{if(nr){var pi=+yr[Pc];!X[pi]&&se>=Pt&&(gt[hn](yr[aa]),X[pi]=!0)}else se>=Pt&&gt[hn](yr[aa]);jt(Pt,yr)}},gt.debugToConsole=function(Pt){Th("debug",Pt),Lt("warning",Pt)},gt[gf]=function(Pt){Th("warn",Pt),Lt("warning",Pt)},gt.errorToConsole=function(Pt){Th("error",Pt),Lt("error",Pt)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[tc]=jt,gt[zi]=function(Pt){lt&&lt.rm(),lt=null};function jt(Pt,qt){if(!wr()){var Et=!0,ur=Pm+qt[Pc];if(X[ur]?Et=!1:X[ur]=!0,Et&&(Pt<=Se&&(gt.queue[sa](qt),B++,Lt(Pt===1?"error":"warn",qt)),B===Te)){var nr="Internal events throttle limit per PageView reached for this app.",yr=new xm(23,nr,!1);gt.queue[sa](yr),Pt===1?gt.errorToConsole(nr):gt[gf](nr)}}}function Pr(Pt){return Pu(Wu(Pt,Rp,gt).cfg,function(qt){var Et=qt.cfg;se=Et[rs],Se=Et.loggingLevelTelemetry,Te=Et.maxMessageLimit,Xe=Et.enableDebug})}function wr(){return B>=Te}function Lt(Pt,qt){var Et=xg(L||{});Et&&Et[Vi]&&Et[Vi](Pt,qt)}})}return C.__ieDyn=1,C}();function Uv(C){return C||new sc}function zd(C,L,B,X,se,Se){Se===void 0&&(Se=!1),Uv(C)[qo](L,B,X,se,Se)}function Og(C,L){Uv(C)[gf](L)}var Ud="ctx",Tf="ParentContextKey",Om="ChildrenContextKey",Ig=function(){function C(L,B,X){var se=this;if(se.start=co(),se[Td]=L,se[hl]=X,se[Su]=function(){return!1},xt(B)){var Se;Ue(se,"payload",{g:function(){return!Se&&xt(B)&&(Se=B(),B=null),Se}})}se[Fn]=function(Te){return Te?Te===C[Tf]||Te===C[Om]?se[Te]:(se[Ud]||{})[Te]:null},se[ru]=function(Te,Xe){if(Te)if(Te===C[Tf])se[Te]||(se[Su]=function(){return!0}),se[Te]=Xe;else if(Te===C[Om])se[Te]=Xe;else{var lt=se[Ud]=se[Ud]||{};lt[Te]=Xe}},se[xo]=function(){var Te=0,Xe=se[Fn](C[Om]);if(Mt(Xe))for(var lt=0;lt<Xe[Wo];lt++){var gt=Xe[lt];gt&&(Te+=gt[hp])}se[hp]=co()-se.start,se.exTime=se[hp]-Te,se[xo]=function(){}}}return C.ParentContextKey="parent",C.ChildrenContextKey="childEvts",C}(),Oc="CoreUtils.doPerf";function vl(C,L,B,X,se){if(C){var Se=C;if(Se[jr]&&(Se=Se[jr]()),Se){var Te=void 0,Xe=Se[Fn](Oc);try{if(Te=Se.create(L(),X,se),Te){if(Xe&&Te[ru]&&(Te[ru](Ig[Tf],Xe),Xe[Fn]&&Xe[ru])){var lt=Xe[Fn](Ig[Om]);lt||(lt=[],Xe[ru](Ig[Om],lt)),lt[sa](Te)}return Se[ru](Oc,Te),B(Te)}}catch(gt){Te&&Te[ru]&&Te[ru]("exception",gt)}finally{Te&&Se.fire(Te),Se[ru](Oc,Xe)}}}return B()}var kg=Cm("plugin");function Hv(C){return kg.get(C,"state",{},!0)}var Hd="TelemetryPluginChain",xp="_hasRun",Dh="_getTelCtx",Rb=0;function ES(C,L,B){for(;C;){if(C[bh]()===B)return C;C=C[Ea]()}return Ag([B],L.config||{},L)}function Bd(C,L,B,X){var se=null,Se=[];L||(L=Wu({},null,B[pa])),X!==null&&(se=X?ES(C,B,X):C);var Te={_next:lt,ctx:{core:function(){return B},diagLog:function(){return Pb(B,L.cfg)},getCfg:function(){return L.cfg},getExtCfg:jt,getConfig:Pr,hasNext:function(){return!!se},getNext:function(){return se},setNext:function(Lt){se=Lt},iterate:wr,onComplete:Xe}};function Xe(Lt,Pt){for(var qt=[],Et=2;Et<arguments.length;Et++)qt[Et-2]=arguments[Et];Lt&&Se[sa]({func:Lt,self:tt(Pt)?Te.ctx:Pt,args:qt})}function lt(){var Lt=se;if(se=Lt?Lt[Ea]():null,!Lt){var Pt=Se;Pt&&Pt[Wo]>0&&(si(Pt,function(qt){try{qt.func.call(qt.self,qt.args)}catch(Et){zd(B[pa],2,73,"Unexpected Exception during onComplete - "+Fe(Et))}}),Se=[])}return Lt}function gt(Lt,Pt){var qt=null,Et=L.cfg;if(Et&&Lt){var ur=Et[Ut];!ur&&Pt&&(ur={}),Et[Ut]=ur,ur=L.ref(Et,Ut),ur&&(qt=ur[Lt],!qt&&Pt&&(qt={}),ur[Lt]=qt,qt=L.ref(ur,Lt))}return qt}function jt(Lt,Pt){var qt=gt(Lt,!0);return Pt&&Vr(Pt,function(Et,ur){if(fr(qt[Et])){var nr=L.cfg[Et];(nr||!fr(nr))&&(qt[Et]=nr)}Cp(L,qt,Et,ur)}),L[jl](qt,Pt)}function Pr(Lt,Pt,qt){qt===void 0&&(qt=!1);var Et,ur=gt(Lt,!1),nr=L.cfg;return ur&&(ur[Pt]||!fr(ur[Pt]))?Et=ur[Pt]:(nr[Pt]||!fr(nr[Pt]))&&(Et=nr[Pt]),Et||!fr(Et)?Et:qt}function wr(Lt){for(var Pt;Pt=Te._next();){var qt=Pt[bh]();qt&&Lt(qt)}}return Te}function Bv(C,L,B,X){var se=Wu(L),Se=Bd(C,se,B,X),Te=Se.ctx;function Xe(gt){var jt=Se._next();return jt&&jt[Sr](gt,Te),!jt}function lt(gt,jt){return gt===void 0&&(gt=null),Mt(gt)&&(gt=Ag(gt,se.cfg,B,jt)),Bv(gt||Te[Ea](),se.cfg,B,jt)}return Te[ec]=Xe,Te[Bu]=lt,Te}function Wv(C,L,B){var X=Wu(L.config),se=Bd(C,X,L,B),Se=se.ctx;function Te(lt){var gt=se._next();return gt&&gt[zi](Se,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=Ag(lt,X.cfg,L,gt)),Wv(lt||Se[Ea](),L,gt)}return Se[ec]=Te,Se[Bu]=Xe,Se}function $v(C,L,B){var X=Wu(L.config),se=Bd(C,X,L,B),Se=se.ctx;function Te(lt){return Se.iterate(function(gt){xt(gt[wi])&&gt[wi](Se,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=Ag(lt,X.cfg,L,gt)),$v(lt||Se[Ea](),L,gt)}return Se[ec]=Te,Se[Bu]=Xe,Se}function Ag(C,L,B,X){var se=null,Se=!X;if(Mt(C)&&C[Wo]>0){var Te=null;si(C,function(Xe){if(!Se&&X===Xe&&(Se=!0),Se&&Xe&&xt(Xe[Sr])){var lt=wT(Xe,L,B);se||(se=lt),Te&&Te._setNext(lt),Te=lt}})}return X&&!se?Ag([X],L,B):se}function wT(C,L,B){var X=null,se=xt(C[Sr]),Se=xt(C[Bn]),Te;C?Te=C[tu]+"-"+C[sn]+"-"+Rb++:Te="Unknown-0-"+Rb++;var Xe={getPlugin:function(){return C},getNext:function(){return X},processTelemetry:jt,unload:Pr,update:wr,_id:Te,_setNext:function(Lt){X=Lt}};function lt(){var Lt;return C&&xt(C[Dh])&&(Lt=C[Dh]()),Lt||(Lt=Bv(Xe,L,B)),Lt}function gt(Lt,Pt,qt,Et,ur){var nr=!1,yr=C?C[tu]:Hd,hn=Lt[xp];return hn||(hn=Lt[xp]={}),Lt.setNext(X),C&&vl(Lt[Qe](),function(){return yr+":"+qt},function(){hn[Te]=!0;try{var pi=X?X._id:ke;pi&&(hn[pi]=!1),nr=Pt(Lt)}catch(fo){var ci=X?hn[X._id]:!0;ci&&(nr=!0),(!X||!ci)&&zd(Lt[Vi](),1,73,"Plugin ["+yr+"] failed during "+qt+" - "+Fe(fo)+", run flags: "+Fe(hn))}},Et,ur),nr}function jt(Lt,Pt){Pt=Pt||lt();function qt(Et){if(!C||!se)return!1;var ur=Hv(C);return ur[Ec]||ur[ht]?!1:(Se&&C[Bn](X),C[Sr](Lt,Et),!0)}gt(Pt,qt,"processTelemetry",function(){return{item:Lt}},!Lt.sync)||Pt[ec](Lt)}function Pr(Lt,Pt){function qt(){var Et=!1;if(C){var ur=Hv(C),nr=C[Qe]||ur[Qe];C&&(!nr||nr===Lt.core())&&!ur[Ec]&&(ur[Qe]=null,ur[Ec]=!0,ur[fl]=!1,C[Ec]&&C[Ec](Lt,Pt)===!0&&(Et=!0))}return Et}gt(Lt,qt,"unload",function(){},Pt[hl])||Lt[ec](Pt)}function wr(Lt,Pt){function qt(){var Et=!1;if(C){var ur=Hv(C),nr=C[Qe]||ur[Qe];C&&(!nr||nr===Lt.core())&&!ur[Ec]&&C[wi]&&C[wi](Lt,Pt)===!0&&(Et=!0)}return Et}gt(Lt,qt,"update",function(){},!1)||Lt[ec](Pt)}return Q(Xe)}function Lg(){var C=[];function L(X){X&&C[sa](X)}function B(X,se){si(C,function(Se){try{Se(X,se)}catch(Te){zd(X[Vi](),2,73,"Unexpected error calling unload handler - "+Fe(Te))}}),C=[]}return{add:L,run:B}}function ST(){var C=[];function L(X){var se=C;C=[],si(se,function(Se){try{(Se.rm||Se.remove).call(Se)}catch(Te){zd(X,2,73,"Unloading:"+Fe(Te))}})}function B(X){X&&gu(C,X)}return{run:L,add:B}}var $l,Eh="getPlugin",Im=($l={},$l[Ut]={isVal:pp,v:{}},$l),s_=function(){function C(){var L=this,B,X,se,Se,Te;gt(),oa(C,L,function(jt){jt[hs]=function(Pr,wr,Lt,Pt){lt(Pr,wr,Pt),B=!0},jt[Ec]=function(Pr,wr){var Lt,Pt=jt[Qe];if(!Pt||Pr&&Pt!==Pr[Qe]())return;var qt,Et=!1,ur=Pr||Wv(null,Pt,se&&se[Eh]?se[Eh]():se),nr=wr||(Lt={reason:0},Lt[hl]=!1,Lt);function yr(){Et||(Et=!0,Se.run(ur,wr),Te.run(ur[Vi]()),qt===!0&&ur[ec](nr),gt())}return!jt[yf]||jt[yf](ur,nr,yr)!==!0?yr():qt=!0,qt},jt[wi]=function(Pr,wr){var Lt=jt[Qe];if(!Lt||Pr&&Lt!==Pr[Qe]())return;var Pt,qt=!1,Et=Pr||$v(null,Lt,se&&se[Eh]?se[Eh]():se),ur=wr||{reason:0};function nr(){qt||(qt=!0,lt(Et.getCfg(),Et.core(),Et[Ea]()))}return!jt._doUpdate||jt._doUpdate(Et,ur,nr)!==!0?nr():Pt=!0,Pt},wh(jt,"_addUnloadCb",function(){return Se},"add"),wh(jt,"_addHook",function(){return Te},"add"),Ue(jt,"_unloadHooks",{g:function(){return Te}})}),L[Vi]=function(jt){return Xe(jt)[Vi]()},L[fl]=function(){return B},L.setInitialized=function(jt){B=jt},L[Bn]=function(jt){se=jt},L[ec]=function(jt,Pr){Pr?Pr[ec](jt):se&&xt(se[Sr])&&se[Sr](jt,null)},L._getTelCtx=Xe;function Xe(jt){jt===void 0&&(jt=null);var Pr=jt;if(!Pr){var wr=X||Bv(null,{},L[Qe]);se&&se[Eh]?Pr=wr[Bu](null,se[Eh]):Pr=wr[Bu](null,se)}return Pr}function lt(jt,Pr,wr){Wu(jt,Im,Pb(Pr)),!wr&&Pr&&(wr=Pr[mm]()[Ea]());var Lt=se;se&&se[Eh]&&(Lt=se[Eh]()),L[Qe]=Pr,X=Bv(wr,jt,Pr,Lt)}function gt(){B=!1,L[Qe]=null,X=null,se=null,Te=ST(),Se=Lg()}}return C.__ieDyn=1,C}(),km="on",Vl="attachEvent",yl="addEventListener",Df="detachEvent",Ef="removeEventListener",Vv="events",Op="visibilitychange",Oa="pagehide",Ph="pageshow",Rh="unload",a_="beforeunload",PS=Eu("aiEvtPageHide"),xh=Eu("aiEvtPageShow"),RS=/\.[\.]+/g,Am=/[\.]+$/,Oh=1,Gl=Cm("events"),Mg=/^([^.]*)(?:\.(.+)|)/;function Ip(C){return C&&C[$o]?C[$o](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ke):C}function Lm(C,L){var B;if(L){var X=ke;Mt(L)?(X=ke,si(L,function(Se){Se=Ip(Se),Se&&(Se[0]!=="."&&(Se="."+Se),X+=Se)})):X=Ip(L),X&&(X[0]!=="."&&(X="."+X),C=(C||ke)+X)}var se=Mg.exec(C||ke)||[];return B={},B[ca]=se[1],B.ns=(se[2]||ke).replace(RS,".").replace(Am,ke)[Ul](".").sort().join("."),B}function Ng(C,L,B){B===void 0&&(B=!0);var X=Gl.get(C,Vv,{},B),se=X[L];return se||(se=X[L]=[]),se}function xb(C,L,B,X){C&&L&&L[ca]&&(C[Ef]?C[Ef](L[ca],B,X):C[Df]&&C[Df](km+L[ca],B))}function CT(C,L,B,X){var se=!1;return C&&L&&L[ca]&&B&&(C[yl]?(C[yl](L[ca],B,X),se=!0):C[Vl]&&(C[Vl](km+L[ca],B),se=!0)),se}function Mm(C,L,B,X){for(var se=L[Wo];se--;){var Se=L[se];Se&&(!B.ns||B.ns===Se.evtName.ns)&&(!X||X(Se))&&(xb(C,Se.evtName,Se[uo],Se.capture),L[As](se,1))}}function xS(C,L,B){if(L[ca])Mm(C,Ng(C,L[ca]),L,B);else{var X=Gl.get(C,Vv,{});Vr(X,function(se,Se){Mm(C,Se,L,B)}),Oe(X)[Wo]===0&&Gl.kill(C,Vv)}}function ac(C,L){var B;return L?(Mt(L)?B=[C].concat(L):B=[C,L],B=Lm("xx",B).ns[Ul](".")):B=C,B}function Nm(C,L,B,X,se){var Se;se===void 0&&(se=!1);var Te=!1;if(C)try{var Xe=Lm(L,X);if(Te=CT(C,Xe,B,se),Te&&Gl.accept(C)){var lt=(Se={guid:Oh++,evtName:Xe},Se[uo]=B,Se.capture=se,Se);Ng(C,Xe.type)[sa](lt)}}catch{}return Te}function Fm(C,L,B,X,se){if(se===void 0&&(se=!1),C)try{var Se=Lm(L,X),Te=!1;xS(C,Se,function(Xe){return Se.ns&&!B||Xe[uo]===B?(Te=!0,!0):!1}),Te||xb(C,Se,B,se)}catch{}}function OS(C,L,B){var X=!1,se=pu();se&&(X=Nm(se,C,L,B),X=Nm(se.body,C,L,B)||X);var Se=$i();return Se&&(X=Nm(Se,C,L,B)||X),X}function TT(C,L,B){var X=pu();X&&(Fm(X,C,L,B),Fm(X.body,C,L,B));var se=$i();se&&Fm(se,C,L,B)}function Kl(C,L,B,X){var se=!1;return L&&C&&C[Wo]>0&&si(C,function(Se){Se&&(!B||Ta(B,Se)===-1)&&(se=OS(Se,L,X)||se)}),se}function cc(C,L,B,X){var se=!1;return L&&C&&Mt(C)&&(se=Kl(C,L,B,X),!se&&B&&B[Wo]>0&&(se=Kl(C,L,null,X))),se}function Yl(C,L,B){C&&Mt(C)&&si(C,function(X){X&&TT(X,L,B)})}function qm(C,L,B){return cc([a_,Rh,Oa],C,L,B)}function Fg(C,L){Yl([a_,Rh,Oa],C,L)}function c_(C,L,B){function X(Te){var Xe=$i();C&&Xe&&Xe.visibilityState==="hidden"&&C(Te)}var se=ac(PS,B),Se=Kl([Oa],C,L,se);return(!L||Ta(L,Op)===-1)&&(Se=Kl([Op],X,L,se)||Se),!Se&&L&&(Se=c_(C,null,B)),Se}function bn(C,L){var B=ac(PS,L);Yl([Oa],C,B),Yl([Op],null,B)}function Gv(C,L,B){function X(Te){var Xe=$i();C&&Xe&&Xe.visibilityState==="visible"&&C(Te)}var se=ac(xh,B),Se=Kl([Ph],C,L,se);return Se=Kl([Op],X,L,se)||Se,!Se&&L&&(Se=Gv(C,null,B)),Se}function kp(C,L){var B=ac(xh,L);Yl([Ph],C,B),Yl([Op],null,B)}var Pf="",jm="timings",Ia="value",u_="kind",qg="length",l_="processTelemetryStart",Jl,zm="4.0.4",Ih="1DS-Web-JS-"+zm,jg=u.hasOwnProperty,Um="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ru="withCredentials",Wd="timeout",Ob=(Jl={},Jl[0]=0,Jl[2]=6,Jl[1]=1,Jl[3]=7,Jl[4098]=6,Jl[4097]=1,Jl[4099]=7,Jl);Po(),Jn();function Xl(C){return!(C===Pf||fr(C))}function Kv(C){if(C){var L=lf(C,"-");if(L>-1)return Tr(C,L)}return Pf}function Ql(C,L,B){if(!L&&!Xl(L)||typeof C!="string")return null;var X=typeof L;if(X==="string"||X==="number"||X==="boolean"||Mt(L))L={value:L};else if(X==="object"&&!jg.call(L,"value"))L={value:B?JSON.stringify(L):L};else if(fr(L[Ia])||L[Ia]===Pf||!cr(L[Ia])&&!on(L[Ia])&&!un(L[Ia])&&!Mt(L[Ia]))return null;if(Mt(L[Ia])&&!d_(L[Ia]))return null;if(!fr(L[u_])){if(Mt(L[Ia])||!kb(L[u_]))return null;L[Ia]=L[Ia].toString()}return L}function Ib(C,L,B){var X=-1;if(!tt(C))if(L>0&&(L===32?X=8192:L<=13&&(X=L<<5)),Ab(B))X===-1&&(X=0),X|=B;else{var se=Ob[Hm(C)]||-1;X!==-1&&se!==-1?X|=se:se===6&&(X=se)}return X}function Yv(C,L,B,X,se){var Se={},Te=!1,Xe=0,lt=arguments[qg],gt=arguments;for(un(gt[0])&&(Te=gt[0],Xe++);Xe<lt;Xe++){var C=gt[Xe];Vr(C,function(Pr,wr){Te&&wr&&hr(wr)?Mt(wr)?(Se[Pr]=Se[Pr]||[],si(wr,function(Lt,Pt){Lt&&hr(Lt)?Se[Pr][Pt]=Yv(!0,Se[Pr][Pt],Lt):Se[Pr][Pt]=Lt})):Se[Pr]=Yv(!0,Se[Pr],wr):Se[Pr]=wr})}return Se}var Zl=_d;function kb(C){return C===0||C>0&&C<=13||C===32}function Ab(C){return C>=0&&C<=9}function d_(C){return C[qg]>0}function Rf(C,L){var B=C;B[jm]=B[jm]||{},B[jm][l_]=B[jm][l_]||{},B[jm][l_][L]=Zl()}function Hm(C){var L=0;if(C!=null){var B=typeof C;B==="string"?L=1:B==="number"?L=2:B==="boolean"?L=3:B===o&&(L=4,Mt(C)?(L=4096,C[qg]>0&&(L|=Hm(C[0]))):jg.call(C,"value")&&(L=8192|Hm(C[Ia])))}return L}function Lb(){return!!ji("chrome")}function xf(C,L,B,X,se,Se){X===void 0&&(X=!1),se===void 0&&(se=!1);function Te(lt,gt,jt){try{lt[gt]=jt}catch{}}var Xe=new XMLHttpRequest;return X&&Te(Xe,Um,X),B&&Te(Xe,Ru,B),Xe.open(C,L,!se),B&&Te(Xe,Ru,B),!se&&Se&&Te(Xe,Wd,Se),Xe}function uc(C){return C>0}var Vo="",_l="POST",zg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ed="drop",Of="send",xu="requeue",Ug="rspFail",Jv="oth",Mb="no-cache, no-store",f_="application/x-json-stream",Ap="cache-control",Hg="content-type",IS="kill-tokens",Nb="kill-duration",Fb="kill-duration-seconds",kS="time-delta-millis",T="client-version",k="client-id",z="time-delta-to-apply-millis",Y="upload-time",ve="apikey",We="AuthMsaDeviceTicket",Ze="AuthXToken",ct="NoResponseBody",Dt="msfpc",Kt="trace",Ar="user",jn="allowRequestSending",In="firstRequestSent",Qn="shouldAddClockSkewHeaders",Qr="getClockSkewHeaderValue",Zn="setClockSkew",br="length",Si="concat",$n="iKey",Pn="count",is="events",lc="push",ka="split",Bg="splice",Bm="toLowerCase",Xv="hdrs",td="useHdrs",kh="initialize",Qv="setTimeoutOverride",Zv="clearTimeoutOverride",or="payloadPreprocessor",cn="overrideEndpointUrl",hi="avoidOptions",os="disableEventTimings",Ds="stringifyObjects",Es="enableCompoundKey",Ns="disableXhrSync",Wm="disableFetchKeepAlive",Lp="useSendBeacon",Mp="alwaysUseXhrOverride",qb="unloadTransports",$m="urlString",Ah="timeout",ey="ontimeout",Ou="data",Vm="_sendReason",Lh="headers",Wg="getResponseHeader",q0="getAllResponseHeaders",$g="_thePayload",$u="batches",bl="sendType",ty="canSendRequest",If="sendQueuedRequests",DT="isCompletelyIdle",AS="setUnloading",j0="isTenantKilled",z0="sendSynchronousBatch",LS="_transport",kf="getWParam",ET="isBeacon",h_="timings",jb="isTeardown",zb="isSync",Ub="sendPOST",MS="setKillSwitchTenants",p_="_backOffTransmission",Af="identifier",m_="disableOptimizeObj",Hb="ignoreMc1Ms0CookieProcessing",to="eventsLimitInMem",NS="autoFlushEventsLimit",Vg="disableAutoBatchFlushLimit",ry="overrideInstrumentationKey",U0="disableTelemetry",Lf="sendAttempt",rd="latency",FS="baseData",Mh="sync";function Gg(C){var L=(C.ext||{}).intweb;return L&&Xl(L[Dt])?L[Dt]:null}function Np(C){for(var L=null,B=0;L===null&&B<C[br];B++)L=Gg(C[B]);return L}var wl=function(){function C(L,B){var X=B?[][Si](B):[],se=this,Se=Np(X);se[$n]=function(){return L},se.Msfpc=function(){return Se||Vo},se[Pn]=function(){return X[br]},se[is]=function(){return X},se.addEvent=function(Te){return Te?(X[lc](Te),Se||(Se=Gg(Te)),!0):!1},se[ka]=function(Te,Xe){var lt;if(Te<X[br]){var gt=X[br]-Te;fr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[Bg](Te,gt),Se=Np(X)}return new C(L,lt)}}return C.create=function(L,B){return new C(L,B)},C}(),Nh=function(){function C(){var L=!0,B=!0,X=!0,se="use-collector-delta",Se=!1;oa(C,this,function(Te){Te[jn]=function(){return L},Te[In]=function(){X&&(X=!1,Se||(L=!1))},Te[Qn]=function(){return B},Te[Qr]=function(){return se},Te[Zn]=function(Xe){Se||(Xe?(se=Xe,B=!0,Se=!0):B=!1,L=!0)}})}return C.__ieDyn=1,C}(),Fp=1e3,Kg=function(){function C(){var L={};function B(X){var se=[];return X&&si(X,function(Se){se[lc](vu(Se))}),se}oa(C,this,function(X){X[MS]=function(se,Se){if(se&&Se)try{var Te=B(se[ka](","));if(Se==="this-request-only")return Te;for(var Xe=parseInt(Se,10)*Fp,lt=0;lt<Te[br];++lt)L[Te[lt]]=co()+Xe}catch{return[]}return[]},X[j0]=function(se){var Se=L,Te=vu(se);return Se[Te]!==void 0&&Se[Te]>co()?!0:(delete Se[Te],!1)}})}return C.__ieDyn=1,C}(),qp=.8,Bb=1.2,qS=3e3,PT=6e5;function g_(C){return!(C>=300&&C<500&&C!=408&&C!=429||C==501||C==505)}function ny(C){var L=0,B=qS*qp,X=qS*Bb,se=Math.floor(Math.random()*(X-B))+B;return L=Math.pow(2,C)*se,Math.min(L,PT)}var Yg=20,iy=3984588,Wb=65e3,Jg=2e6,v_=Math.min(Jg,Wb),$b="metadata",y_="f",H0=/\./,Vb=function(){function C(L,B,X,se){var Se="data",Te="baseData",Xe="ext",lt=!!se,gt=!0,jt=B,Pr={};oa(C,this,function(wr){wr.createPayload=function(qt,Et,ur,nr,yr,hn){return{apiKeys:[],payloadBlob:Vo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:qt,isTeardown:Et,isSync:ur,isBeacon:nr,sendType:hn,sendReason:yr}},wr.appendPayload=function(qt,Et,ur){var nr=qt&&Et&&!qt.overflow;return nr&&vl(L,function(){return"Serializer:appendPayload"},function(){for(var yr=Et.events(),hn=qt.payloadBlob,pi=qt.numEvents,ci=!1,fo=[],Go=[],Oo=qt.isBeacon,Fs=Oo?Wb:iy,dc=Oo?v_:Jg,Qi=0,Ic=0;Qi<yr.length;){var kc=yr[Qi];if(kc){if(pi>=ur){qt.overflow=Et.split(Qi);break}var la=wr.getEventBlob(kc);if(la&&la.length<=dc){var Sl=la.length,ga=hn.length;if(ga+Sl>Fs){qt.overflow=Et.split(Qi);break}hn&&(hn+=`
`),hn+=la,Ic++,Ic>Yg&&(fe(hn,0,1),Ic=0),ci=!0,pi++}else la?fo.push(kc):Go.push(kc),yr.splice(Qi,1),Qi--}Qi++}if(fo.length>0&&qt.sizeExceed.push(wl.create(Et.iKey(),fo)),Go.length>0&&qt.failedEvts.push(wl.create(Et.iKey(),Go)),ci){qt.batches.push(Et),qt.payloadBlob=hn,qt.numEvents=pi;var va=Et.iKey();Ta(qt.apiKeys,va)===-1&&qt.apiKeys.push(va)}},function(){return{payload:qt,theBatch:{iKey:Et.iKey(),evts:Et.events()},max:ur}}),nr},wr.getEventBlob=function(qt){try{return vl(L,function(){return"Serializer.getEventBlob"},function(){var Et={};Et.name=qt.name,Et.time=qt.time,Et.ver=qt.ver,Et.iKey="o:"+Kv(qt.iKey);var ur={},nr=qt[Xe];nr&&(Et[Xe]=ur,Vr(nr,function(pi,ci){var fo=ur[pi]={};Pt(ci,fo,"ext."+pi,!0,null,null,!0)}));var yr=Et[Se]={};yr.baseType=qt.baseType;var hn=yr[Te]={};return Pt(qt.baseData,hn,Te,!1,[Te],function(pi,ci,fo){Aa(ur,pi,ci,fo)},gt),Pt(qt.data,yr,Se,!1,[],function(pi,ci,fo){Aa(ur,pi,ci,fo)},gt),JSON.stringify(Et)},function(){return{item:qt}})}catch{return null}};function Lt(qt,Et){var ur=Pr[qt];return ur===void 0&&(qt.length>=7&&(ur=Wr(qt,"ext.metadata")||Wr(qt,"ext.web")),Pr[qt]=ur),ur}function Pt(qt,Et,ur,nr,yr,hn,pi){Vr(qt,function(ci,fo){var Go=null;if(fo||Xl(fo)){var Oo=ur,Fs=ci,dc=yr,Qi=Et;if(lt&&!nr&&H0.test(ci)){var Ic=ci.split("."),kc=Ic.length;if(kc>1){dc&&(dc=dc.slice());for(var la=0;la<kc-1;la++){var Sl=Ic[la];Qi=Qi[Sl]=Qi[Sl]||{},Oo+="."+Sl,dc&&dc.push(Sl)}Fs=Ic[kc-1]}}var ga=nr&&Lt(Oo);if(!ga&&jt&&jt.handleField(Oo,Fs)?Go=jt.value(Oo,Fs,fo,X):Go=Ql(Fs,fo,X),Go){var va=Go.value;if(Qi[Fs]=va,hn&&hn(dc,Fs,Go),pi&&typeof va=="object"&&!Mt(va)){var Ci=dc;Ci&&(Ci=Ci.slice(),Ci.push(Fs)),Pt(fo,va,Oo+"."+Fs,nr,Ci,hn,pi)}}}})}})}return C.__ieDyn=1,C}();function Aa(C,L,B,X){if(X&&C){var se=Ib(X.value,X.kind,X.propertyType);if(se>-1){var Se=C[$b];Se||(Se=C[$b]={f:{}});var Te=Se[y_];if(Te||(Te=Se[y_]={}),L)for(var Xe=0;Xe<L.length;Xe++){var lt=L[Xe];Te[lt]||(Te[lt]={f:{}});var gt=Te[lt][y_];gt||(gt=Te[lt][y_]={}),Te=gt}Te=Te[B]={},Mt(X.value)?Te.a={t:se}:Te.t=se}}}function jp(C,L){return{set:function(B,X){for(var se=[],Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return yu([C,L],B,X,se)}}}var Xg,RT="sendAttempt",Gm="&"+ct+"=true",Qg="?cors=true&"+Hg[Bm]()+"="+f_,__=(Xg={},Xg[1]=xu,Xg[100]=xu,Xg[200]="sent",Xg[8004]=ed,Xg[8003]=ed,Xg),Gb={},Zg={};function ev(C,L,B){Gb[C]=L,B!==!1&&(Zg[L]=C)}ev(We,We,!1),ev(T,T),ev(k,"Client-Id"),ev(ve,ve),ev(z,z),ev(Y,Y),ev(Ze,Ze);function xT(C){try{return C.responseText}catch{}return Vo}function OT(C,L){var B=!1;if(C&&L){var X=Oe(C);if(X&&X[br]>0)for(var se=L[Bm](),Se=0;Se<X[br];Se++){var Te=X[Se];if(Te&&$r(L,Te)&&Te[Bm]()===se){B=!0;break}}}return B}function b_(C,L,B,X){L&&B&&B[br]>0&&(X&&Gb[L]?(C[Xv][Gb[L]]=B,C[td]=!0):C.url+="&"+L+"="+B)}function IT(C,L){return L&&(on(L)?C=[L][Si](C):Mt(L)&&(C=L[Si](C))),C}function WO(C,L,B){for(var X=0;X<C[br];X++)if(C[X].name===L){C[X].value=B;return}C[lc]({name:L,value:B})}function $O(C,L){for(var B=0;B<C[br];B++)if(C[B].name===L){C[Bg](B,1);return}}var Km=function(){function C(L,B,X,se){var Se,Te=new Kg,Xe=!1,lt=new Nh,gt=!1,jt=0,Pr,wr,Lt,Pt,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi,ci=!1,fo=!1,Go,Oo,Fs,dc,Qi,Ic=[],kc,la,Sl=[],ga,va;oa(C,this,function(Ci){zp();var ro=!0;Ci[kh]=function(Ge,At,Zt){ga||(Pt=At,pi=At.getCookieMgr(),Pr=Zt,wr=Pr.diagLog(),gu(Ic,Pu(Ge,function(lr){var rn,ei=lr.cfg,St=lr.cfg.extensionConfig[Zt.identifier];va=jp(St[Qv],St[Zv]),Xl(ei.anonCookieName)?WO(Et,"anoncknm",ei.anonCookieName):$O(Et,"anoncknm"),kc=St[or],la=St.payloadListener;var nt=St.httpXHROverride,Tt=St[cn]?St[cn]:ei.endpointUrl;Se=Tt+Qg,fo=tt(St[hi])?!0:!St[hi],hn=!St[os];var Ot=St.valueSanitizer,gr=St[Ds],xr=!!ei[Es];tt(St[Es])||(xr=!!St[Es]),Go=St.xhrTimeout,Oo=!!St[Ns],Fs=!!St[Wm],Qi=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(Fs=!0),gt=!lo(),yr=new Vb(Pt,Ot,gr,xr),fr(St[Lp])||(gt=!!St[Lp]);var Nr=nt,ti=St[Mp]?nt:null,Ko=St[Mp]?nt:null,bo=[3,2];if(!nt){qt=!1;var qh=n_();qh&&qh.protocol&&qh.protocol[Bm]()==="file:"&&(ro=!1);var $d=[];lo()?($d=[2,1],bo=[2,1,3]):$d=[1,2,3],$d=IT($d,St.transports),nt=nd($d,!1),nt||Og(wr,"No available transport to send events"),Nr=nd($d,!0)}ti||(bo=IT(bo,St[qb]),ti=nd(bo,!0)),dc=!qt&&(gt&&Fv()||!Fs&&Od(!0)),Lt=(rn={},rn[0]=nt,rn[1]=Nr||nd([1,2,3],!0),rn[2]=ti||Nr||nd([1],!0),rn[3]=Ko||nd([2,3],!0)||Nr||nd([1],!0),rn)})),ga=!0)},Ci.addResponseHandler=function(Ge){return Sl[lc](Ge),{rm:function(){var At=Sl.indexOf(Ge);At>=0&&Sl[Bg](At,1)}}};function nd(Ge,At){for(var Zt=0,lr=null,rn=0;lr==null&&rn<Ge[br];)Zt=Ge[rn],Zt===1?bp()?lr=w_:iu()&&(lr=p):Zt===2&&Od(At)&&(!At||At&&!Fs)?lr=Up:gt&&Zt===3&&Fv()&&(lr=I),rn++;return lr?{_transport:Zt,_isSync:At,sendPOST:lr}:null}Ci._getDbgPlgTargets=function(){return[Lt[0],Te,yr,Lt]};function w_(Ge,At,Zt){var lr=new XDomainRequest;lr.open(_l,Ge[$m]),Ge[Ah]&&(lr[Ah]=Ge[Ah]),lr.onload=function(){var rn=xT(lr);b(At,200,{},rn),Mn(rn)},lr.onerror=function(){b(At,400,{})},lr[ey]=function(){b(At,500,{})},lr.onprogress=function(){},Zt?lr.send(Ge[Ou]):va.set(function(){lr.send(Ge[Ou])},0)}function zp(){var Ge;Se=null,Te=new Kg,Xe=!1,lt=new Nh,gt=!1,jt=0,Pr=null,wr=null,Lt=null,Pt=null,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi=null,ci=!1,fo=!1,Go=Ge,Oo=Ge,Fs=Ge,dc=Ge,Qi=Ge,Ic=[],kc=Ge,la=Ge,Sl=[],ga=!1,va=jp()}function Up(Ge,At,Zt){var lr,rn=Ge[$m],ei=!1,St=!1,nt=(lr={body:Ge[Ou],method:_l},lr[zg]=!0,lr);Zt&&(nt.keepalive=!0,Ge[Vm]===2&&(ei=!0,Qi&&(rn+=Gm))),ro&&(nt.credentials="include"),Ge.headers&&Oe(Ge.headers)[br]>0&&(nt[Lh]=Ge[Lh]);var Tt=function(gr,xr,Nr){St||(St=!0,b(At,gr,xr,Nr),Mn(Nr))},Ot=function(){St||(St=!0,b(At,0,{}))};fetch(rn,nt).then(function(gr){var xr={},Nr=Vo,ti=gr[Lh];ti&&ti.forEach(function(Ko,bo){xr[bo]=Ko}),gr.body?gr.text().then(function(Ko){Nr=Ko,Tt(gr.status,xr,Nr)},Ot):Tt(gr.status,xr,"")}).catch(Ot),ei&&!St&&(St=!0,b(At,200,{})),!St&&Ge[Ah]>0&&va.set(function(){St||(St=!0,b(At,500,{}))},Ge[Ah])}function p(Ge,At,Zt){var lr=Ge[$m];function rn(Tt,Ot,gr){if(!Tt[gr]&&Ot&&Ot[Wg]){var xr=Ot[Wg](gr);xr&&(Tt[gr]=vu(xr))}return Tt}function ei(Tt){var Ot={};return Tt[q0]?Ot=Rr(Tt[q0]()):(Ot=rn(Ot,Tt,kS),Ot=rn(Ot,Tt,Nb),Ot=rn(Ot,Tt,Fb)),Ot}function St(Tt,Ot){b(At,Tt.status,ei(Tt),Ot)}Zt&&Ge[Ns]&&(Zt=!1);var nt=xf(_l,lr,ro,!0,Zt,Ge[Ah]);Vr(Ge[Lh],function(Tt,Ot){nt.setRequestHeader(Tt,Ot)}),nt.onload=function(){var Tt=xT(nt);St(nt,Tt),Mn(Tt)},nt.onerror=function(){St(nt)},nt[ey]=function(){St(nt)},nt.send(Ge[Ou])}function b(Ge,At,Zt,lr){try{Ge(At,Zt,lr)}catch(rn){zd(wr,2,518,Fe(rn))}}function I(Ge,At,Zt){var lr=Ge,rn=200,ei=lr[$g],St=Ge[$m]+(Qi?Gm:Vo);try{var nt=yo();if(!nt.sendBeacon(St,Ge[Ou]))if(ei){var Tt=!!Pt.getPlugin("LocalStorage"),Ot=[],gr=[];si(ei[$u],function(xr){if(Ot&&xr&&xr[Pn]()>0)for(var Nr=xr[is](),ti=0;ti<Nr[br];ti++)if(nt.sendBeacon(St,yr.getEventBlob(Nr[ti])))gr[lc](xr[ti]);else{Ot[lc](xr[ka](ti));break}else Ot[lc](xr[ka](0))}),gr[br]>0&&(ei.sentEvts=gr),Tt||Oi(Ot,8003,ei[bl],!0)}else rn=0}catch(xr){Og(wr,"Failed to send telemetry using sendBeacon API. Ex:"+Fe(xr)),rn=0}finally{b(At,rn,{},Vo)}}function j(Ge){return Ge===2||Ge===3}function W(Ge){return ci&&j(Ge)&&(Ge=2),Ge}Ci.addHeader=function(Ge,At){ur[Ge]=At},Ci[ty]=function(){return ie()&&lt[jn]()},Ci[If]=function(Ge,At){tt(Ge)&&(Ge=0),ci&&(Ge=W(Ge),At=2),Ie(nr,Ge,0)&&et(ge(),0,!1,Ge,At||0)},Ci[DT]=function(){return!Xe&&jt===0&&nr[br]===0},Ci[AS]=function(Ge){ci=Ge},Ci.addBatch=function(Ge){if(Ge&&Ge[Pn]()>0){if(Te.isTenantKilled(Ge[$n]()))return!1;nr[lc](Ge)}return!0},Ci.teardown=function(){nr[br]>0&&et(ge(),0,!0,2,2),si(Ic,function(Ge){Ge&&Ge.rm&&Ge.rm()}),Ic=[]},Ci.pause=function(){Xe=!0},Ci.resume=function(){Xe=!1,Ci[If](0,4)},Ci[z0]=function(Ge,At,Zt){Ge&&Ge[Pn]()>0&&(fr(At)&&(At=1),ci&&(At=W(At),Zt=2),et([Ge],0,!1,At,Zt||0))};function ie(){return!Xe&&jt<B}function ge(){var Ge=nr;return nr=[],Ge}function Ie(Ge,At,Zt){var lr=!1;return Ge&&Ge[br]>0&&!Xe&&Lt[At]&&yr&&(lr=At!==0||ie()&&(Zt>0||lt[jn]())),lr}function Be(Ge){var At={};return Ge&&si(Ge,function(Zt,lr){At[lr]={iKey:Zt[$n](),evts:Zt[is]()}}),At}function et(Ge,At,Zt,lr,rn){if(!(!Ge||Ge[br]===0)){if(Xe){Oi(Ge,1,lr);return}lr=W(lr);try{var ei=Ge,St=lr!==0;vl(Pt,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ge=Ge.slice(0));for(var Tt=[],Ot=null,gr=Zl(),xr=Lt[lr]||(St?Lt[1]:Lt[0]),Nr=xr&&xr[LS],ti=dc&&(ci||j(lr)||Nr===3||xr._isSync&&Nr===2);Ie(Ge,lr,At);){var Ko=Ge.shift();Ko&&Ko[Pn]()>0&&(Te.isTenantKilled(Ko[$n]())?Tt[lc](Ko):(Ot=Ot||yr.createPayload(At,Zt,St,ti,rn,lr),yr.appendPayload(Ot,Ko,L)?Ot.overflow!==null&&(Ge=[Ot.overflow][Si](Ge),Ot.overflow=null,ot(Ot,gr,Zl(),rn),gr=Zl(),Ot=null):(ot(Ot,gr,Zl(),rn),gr=Zl(),Ge=[Ko][Si](Ge),Ot=null)))}Ot&&ot(Ot,gr,Zl(),rn),Ge[br]>0&&(nr=Ge[Si](nr)),Oi(Tt,8004,lr)},function(){return{batches:Be(ei),retryCount:At,isTeardown:Zt,isSynchronous:St,sendReason:rn,useSendBeacon:j(lr),sendType:lr}},!St)}catch(nt){zd(wr,2,48,"Unexpected Exception sending batch: "+Fe(nt))}}}function Ve(Ge,At){var Zt={url:Se,hdrs:{},useHdrs:!1};At?(Zt[Xv]=Yv(Zt[Xv],ur),Zt.useHdrs=Oe(Zt.hdrs)[br]>0):Vr(ur,function(nt,Tt){Zg[nt]?b_(Zt,Zg[nt],Tt,!1):(Zt[Xv][nt]=Tt,Zt[td]=!0)}),b_(Zt,k,"NO_AUTH",At),b_(Zt,T,Ih,At);var lr=Vo;si(Ge.apiKeys,function(nt){lr[br]>0&&(lr+=","),lr+=nt}),b_(Zt,ve,lr,At),b_(Zt,Y,co().toString(),At);var rn=Ir(Ge);if(Xl(rn)&&(Zt.url+="&ext.intweb.msfpc="+rn),lt[Qn]()&&b_(Zt,z,lt[Qr](),At),Pt[kf]){var ei=Pt[kf]();ei>=0&&(Zt.url+="&w="+ei)}for(var St=0;St<Et[br];St++)Zt.url+="&"+Et[St].name+"="+Et[St].value;return Zt}function wt(Ge,At,Zt){Ge[At]=Ge[At]||{},Ge[At][Pr.identifier]=Zt}function ot(Ge,At,Zt,lr){if(Ge&&Ge.payloadBlob&&Ge.payloadBlob[br]>0){var rn=!!kc,ei=Lt[Ge.sendType];!j(Ge[bl])&&Ge[ET]&&Ge.sendReason===2&&(ei=Lt[2]||Lt[3]||ei);var St=fo;(Ge.isBeacon||ei[LS]===3)&&(St=!1);var nt=Ve(Ge,St);St=St||nt[td];var Tt=Zl();vl(Pt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ot=0;Ot<Ge.batches[br];Ot++)for(var gr=Ge[$u][Ot],xr=gr[is](),Nr=0;Nr<xr[br];Nr++){var ti=xr[Nr];if(hn){var Ko=ti[h_]=ti[h_]||{};wt(Ko,"sendEventStart",Tt),wt(Ko,"serializationStart",At),wt(Ko,"serializationCompleted",Zt)}ti[RT]>0?ti[RT]++:ti[RT]=1}Oi(Ge[$u],1e3+(lr||0),Ge[bl],!0);var bo={data:Ge.payloadBlob,urlString:nt.url,headers:nt[Xv],_thePayload:Ge,_sendReason:lr,timeout:Go,disableXhrSync:Oo,disableFetchKeepAlive:Fs};St&&(OT(bo[Lh],Ap)||(bo[Lh][Ap]=Mb),OT(bo[Lh],Hg)||(bo[Lh][Hg]=f_));var qh=null;ei&&(qh=function($d){lt[In]();var S_=function(Hp,NT){it(Hp,NT,Ge,lr)},Mf=Ge[jb]||Ge[zb];try{ei[Ub]($d,S_,Mf),la&&la(bo,$d,Mf,Ge[ET])}catch(Hp){Og(wr,"Unexpected exception sending payload. Ex:"+Fe(Hp)),b(S_,0,{})}}),vl(Pt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(qh)if(Ge[bl]===0&&jt++,rn&&!Ge.isBeacon&&ei[LS]!==3){var $d={data:bo[Ou],urlString:bo[$m],headers:Yv({},bo[Lh]),timeout:bo[Ah],disableXhrSync:bo[Ns],disableFetchKeepAlive:bo[Wm]},S_=!1;vl(Pt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{kc($d,function(Mf){S_=!0,!qt&&!Mf[$g]&&(Mf[$g]=Mf[$g]||bo[$g],Mf[Vm]=Mf[Vm]||bo[Vm]),qh(Mf)},Ge.isSync||Ge[jb])}catch{S_||qh(bo)}})}else qh(bo)})},function(){return{thePayload:Ge,serializationStart:At,serializationCompleted:Zt,sendReason:lr}},Ge[zb])}Ge.sizeExceed&&Ge.sizeExceed[br]>0&&Oi(Ge.sizeExceed,8003,Ge[bl]),Ge.failedEvts&&Ge.failedEvts[br]>0&&Oi(Ge.failedEvts,8002,Ge[bl])}function _t(Ge,At){hn&&si(Ge,function(Zt){var lr=Zt[h_]=Zt[h_]||{};wt(lr,"sendEventCompleted",At)})}function it(Ge,At,Zt,lr){var rn=9e3,ei=null,St=!1,nt=!1;try{var Tt=!0;if(typeof Ge!==s){if(At){lt[Zn](At[kS]);var Ot=At[Nb]||At["kill-duration-seconds"];si(Te[MS](At[IS],Ot),function(xr){si(Zt[$u],function(Nr){if(Nr[$n]()===xr){ei=ei||[];var ti=Nr[ka](0);Zt.numEvents-=ti[Pn](),ei[lc](ti)}})})}if(Ge==200||Ge==204){rn=200;return}(!g_(Ge)||Zt.numEvents<=0)&&(Tt=!1),rn=9e3+Ge%1e3}if(Tt){rn=100;var gr=Zt.retryCnt;Zt[bl]===0&&(gr<X?(St=!0,_r(function(){Zt[bl]===0&&jt--,et(Zt[$u],gr+1,Zt[jb],ci?2:Zt[bl],5)},ci,ny(gr))):(nt=!0,ci&&(rn=8001)))}}finally{St||(lt[Zn](),Qt(Zt,rn,lr,nt)),Oi(ei,8004,Zt[bl])}}function Qt(Ge,At,Zt,lr){try{lr&&Pr[p_]();var rn=Ge[$u];At===200&&(rn=Ge.sentEvts||Ge[$u],!lr&&!Ge[zb]&&Pr._clearBackOff(),Vt(rn)),Oi(rn,At,Ge[bl],!0)}finally{Ge[bl]===0&&(jt--,Zt!==5&&Ci.sendQueuedRequests(Ge[bl],Zt))}}function Vt(Ge){if(hn){var At=Zl();si(Ge,function(Zt){Zt&&Zt[Pn]()>0&&_t(Zt[is](),At)})}}function _r(Ge,At,Zt){At?Ge():va.set(Ge,Zt)}function Rr(Ge){var At={};if(cr(Ge)){var Zt=vu(Ge)[ka](/[\r\n]+/);si(Zt,function(lr){if(lr){var rn=lr.indexOf(": ");if(rn!==-1){var ei=vu(lr.substring(0,rn))[Bm](),St=vu(lr.substring(rn+1));At[ei]=St}else At[vu(lr)]=1}})}return At}function Ir(Ge){for(var At=0;At<Ge.batches[br];At++){var Zt=Ge[$u][At].Msfpc();if(Zt)return encodeURIComponent(Zt)}return Vo}function Mn(Ge){var At=Sl;try{for(var Zt=0;Zt<At[br];Zt++)try{At[Zt](Ge)}catch(rn){zd(wr,1,519,"Response handler failed: "+rn)}if(Ge){var lr=JSON.parse(Ge);Xl(lr.webResult)&&Xl(lr.webResult[Dt])&&pi.set("MSFPC",lr.webResult[Dt],365*86400)}}catch{}}function Oi(Ge,At,Zt,lr){if(Ge&&Ge[br]>0&&se){var rn=se[Io(At)];if(rn){var ei=Zt!==0;vl(Pt,function(){return"HttpManager:_sendBatchesNotification"},function(){_r(function(){try{rn.call(se,Ge,At,ei,Zt)}catch(St){zd(wr,1,74,"send request notification failed: "+St)}},lr||ei,0)},function(){return{batches:Be(Ge),reason:At,isSync:ei,sendSync:lr,sendType:Zt}},!ei)}}}function Io(Ge){var At=__[Ge];return Xl(At)||(At=Jv,Ge>=9e3&&Ge<=9999?At=Ug:Ge>=8e3&&Ge<=8999?At=ed:Ge>=1e3&&Ge<=1999&&(At=Of)),At}})}return C.__ieDyn=1,C}(),VO=.25,Kb=500,oy=20,jS=6,zS=2,Yb=4,Ym=2,kT=1,Xs=1e4,Fh="eventsDiscarded",Qs=void 0,AT=oe({eventsLimitInMem:{isVal:uc,v:Xs},immediateEventLimit:{isVal:uc,v:500},autoFlushEventsLimit:{isVal:uc,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:LT,v:Qs},overrideInstrumentationKey:Qs,overrideEndpointUrl:Qs,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Qs,clearTimeoutOverride:Qs,payloadPreprocessor:Qs,payloadListener:Qs,disableEventTimings:Qs,valueSanitizer:Qs,stringifyObjects:Qs,enableCompoundKey:Qs,disableOptimizeObj:!1,transports:Qs,unloadTransports:Qs,useSendBeacon:Qs,disableFetchKeepAlive:Qs,avoidOptions:!1,xhrTimeout:Qs,disableXhrSync:Qs,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:on,v:jS},maxUnloadEventRetryAttempts:{isVal:on,v:zS},addNoResponse:Qs});function LT(C){return C&&C[Ub]}var MT=function(C){Jy(L,C);function L(){var B=C.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,se=!1,Se=[],Te,Xe=!1,lt=0,gt,jt=0,Pr,wr={},Lt=e,Pt,qt,Et,ur,nr,yr,hn,pi,ci,fo,Go,Oo,Fs,dc,Qi,Ic,kc,la,Sl,ga,va,Ci;return oa(L,B,function(ro,nd){ie(),ro._getDbgPlgTargets=function(){return[nr,X]},ro[kh]=function(nt,Tt,Ot){vl(Tt,function(){return"PostChannel:initialize"},function(){nd[kh](nt,Tt,Ot),Sl=Tt.getNotifyMgr();try{Qi=ac(Eu(ro[Af]),Tt.evtNamespace&&Tt.evtNamespace()),ro._addHook(Pu(nt,function(gr){var xr=gr.cfg,Nr=Bv(null,xr,Tt);X=Nr.getExtCfg(ro[Af],AT),Ic=jp(X[Qv],X[Zv]),Go=!X[m_]&&Lb(),kc=X[Hb],zp(Tt),Pr=X[to],gt=X.immediateEventLimit,hn=X[NS],Fs=X.maxEventRetryAttempts,dc=X.maxUnloadEventRetryAttempts,la=X[Vg],St(),va=X[ry],Ci=!!X[U0],ga&&w_();var ti=xr.disablePageUnloadEvents||[];ga=qm(Up,ti,Qi),ga=c_(Up,ti,Qi)||ga,ga=Gv(p,xr.disablePageShowEvents,Qi)||ga})),nr[kh](nt,ro.core,ro)}catch(gr){throw ro.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Tt,extensions:Ot}})},ro.processTelemetry=function(nt,Tt){Rf(nt,ro[Af]),Tt=Tt||ro._getTelCtx(Tt);var Ot=nt;!Ci&&!se&&(va&&(Ot[$n]=va),b(Ot,!0),Oo?Be(2,2):W()),ro.processNext(Ot,Tt)},ro._doTeardown=function(nt,Tt){Be(2,2),se=!0,nr.teardown(),w_(),ie()};function w_(){Fg(null,Qi),bn(null,Qi),kp(null,Qi)}function zp(nt){var Tt=nt[kf];nt[kf]=function(){var Ot=0;return kc&&(Ot=Ot|2),Ot|Tt.call(nt)}}function Up(nt){var Tt=nt||pu().event;Tt.type!=="beforeunload"&&(Oo=!0,nr[AS](Oo)),Be(2,2)}function p(nt){Oo=!1,nr[AS](Oo)}function b(nt,Tt){if(nt[Lf]||(nt[Lf]=0),nt[rd]||(nt[rd]=1),nt.ext&&nt.ext[Kt]&&delete nt.ext[Kt],nt.ext&&nt.ext[Ar]&&nt.ext[Ar].id&&delete nt.ext[Ar].id,Go&&(nt.ext=Tu(nt.ext),nt[FS]&&(nt[FS]=Tu(nt[FS])),nt[Ou]&&(nt[Ou]=Tu(nt[Ou]))),nt[Mh]){if(Et||Xe)nt[rd]=3,nt[Mh]=!1;else if(nr){Go&&(nt=Tu(nt)),nr[z0](wl.create(nt[$n],[nt]),nt[Mh]===!0?1:nt[Mh],3);return}}var Ot=nt[rd],gr=jt,xr=Pr;Ot===4&&(gr=lt,xr=gt);var Nr=!1;if(gr<xr)Nr=!ot(nt,Tt);else{var ti=1,Ko=oy;Ot===4&&(ti=4,Ko=1),Nr=!0,_t(nt[$n],nt[rd],ti,Ko)&&(Nr=!ot(nt,Tt))}Nr&&Io(Fh,[nt],Za.QueueFull)}ro.setEventQueueLimits=function(nt,Tt){X[to]=Pr=uc(nt)?nt:Xs,X[NS]=hn=uc(Tt)?Tt:0,St();var Ot=jt>nt;if(!Ot&&pi>0)for(var gr=1;!Ot&&gr<=3;gr++){var xr=yr[gr];xr&&xr[$u]&&si(xr[$u],function(Nr){Nr&&Nr[Pn]()>=pi&&(Ot=!0)})}wt(!0,Ot)},ro.pause=function(){Ie(),Xe=!0,nr.pause()},ro.resume=function(){Xe=!1,nr.resume(),W()},ro._loadTransmitProfiles=function(nt){Rr(),Vr(nt,function(Tt,Ot){var gr=Ot[br];if(gr>=2){var xr=gr>2?Ot[2]:0;if(Ot[Bg](0,gr-2),Ot[1]<0&&(Ot[0]=-1),Ot[1]>0&&Ot[0]>0){var Nr=Ot[0]/Ot[1];Ot[0]=Math.ceil(Nr)*Ot[1]}xr>=0&&Ot[1]>=0&&xr>Ot[1]&&(xr=Ot[1]),Ot[lc](xr),wr[Tt]=Ot}})},ro.flush=function(nt,Tt,Ot){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Ot=Ot||1,nt)Tt||(gr=Z(function(Nr){Tt=Nr})),Te==null?(Ie(),Qt(1,0,Ot),Te=ge(function(){Te=null,Vt(Tt,Ot)},0)):Se[lc](Tt);else{var xr=Ie();I(1,1,Ot),Tt&&Tt(),xr&&W()}return gr},ro.setMsaAuthTicket=function(nt){nr.addHeader(We,nt)},ro.hasEvents=j,ro._setTransmitProfile=function(nt){Lt!==nt&&wr[nt]!==void 0&&(Ie(),Lt=nt,W())},Rd(ro,function(){return nr},["addResponseHandler"]);function I(nt,Tt,Ot){var gr=Qt(nt,Tt,Ot);return nr[If](Tt,Ot),gr}function j(){return jt>0}function W(){if(ci>=0&&Qt(ci,0,fo)&&nr[If](0,fo),lt>0&&!qt&&!Xe){var nt=wr[Lt][2];nt>=0&&(qt=ge(function(){qt=null,I(4,0,1),W()},nt))}var Tt=wr[Lt][1];!Pt&&!Te&&Tt>=0&&!Xe&&(j()?Pt=ge(function(){Pt=null,I(ur===0?3:1,0,1),ur++,ur%=2,W()},Tt):ur=0)}ro[p_]=function(){Et<Yb&&(Et++,Ie(),W())},ro._clearBackOff=function(){Et&&(Et=0,Ie(),W())};function ie(){X=null,se=!1,Se=[],Te=null,Xe=!1,lt=0,gt=500,jt=0,Pr=Xs,wr={},Lt=e,Pt=null,qt=null,Et=0,ur=0,yr={},hn=0,ga=!1,pi=0,ci=-1,fo=null,Go=!0,Oo=!1,Fs=jS,dc=zS,Qi=null,va=null,Ci=!1,Ic=jp(),nr=new Km(Kb,Ym,kT,{requeue:Mn,send:At,sent:Zt,drop:lr,rspFail:rn,oth:ei}),Ir(),et(),St()}function ge(nt,Tt){Tt===0&&Et&&(Tt=1);var Ot=1e3;return Et&&(Ot=ny(Et-1)),Ic.set(nt,Tt*Ot)}function Ie(){return Pt!==null?(Pt.cancel(),Pt=null,ur=0,!0):!1}function Be(nt,Tt){Ie(),Te&&(Te.cancel(),Te=null),Xe||I(1,nt,Tt)}function et(){yr[4]={batches:[],iKeyMap:{}},yr[3]={batches:[],iKeyMap:{}},yr[2]={batches:[],iKeyMap:{}},yr[1]={batches:[],iKeyMap:{}}}function Ve(nt,Tt,Ot){var gr=yr[Tt];gr||(Tt=1,gr=yr[Tt]);var xr=gr.iKeyMap[nt];return!xr&&Ot&&(xr=wl.create(nt),gr.batches[lc](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Tt){nr[ty]()&&!Et&&(hn>0&&jt>hn&&(Tt=!0),Tt&&Te==null&&ro.flush(nt,function(){},20))}function ot(nt,Tt){Go&&(nt=Tu(nt));var Ot=nt[rd],gr=Ve(nt[$n],Ot,!0);return gr.addEvent(nt)?(Ot!==4?(jt++,Tt&&nt[Lf]===0&&wt(!nt.sync,pi>0&&gr[Pn]()>=pi)):lt++,!0):!1}function _t(nt,Tt,Ot,gr){for(;Ot<=Tt;){var xr=Ve(nt,Tt,!0);if(xr&&xr[Pn]()>0){var Nr=xr[ka](0,gr),ti=Nr[Pn]();if(ti>0)return Ot===4?lt-=ti:jt-=ti,Ge(Fh,[Nr],Za.QueueFull),!0}Ot++}return it(),!1}function it(){for(var nt=0,Tt=0,Ot=function(xr){var Nr=yr[xr];Nr&&Nr[$u]&&si(Nr[$u],function(ti){xr===4?nt+=ti[Pn]():Tt+=ti[Pn]()})},gr=1;gr<=4;gr++)Ot(gr);jt=Tt,lt=nt}function Qt(nt,Tt,Ot){var gr=!1,xr=Tt===0;return!xr||nr[ty]()?vl(ro.core,function(){return"PostChannel._queueBatches"},function(){for(var Nr=[],ti=4;ti>=nt;){var Ko=yr[ti];Ko&&Ko.batches&&Ko.batches[br]>0&&(si(Ko[$u],function(bo){nr.addBatch(bo)?gr=gr||bo&&bo[Pn]()>0:Nr=Nr[Si](bo[is]()),ti===4?lt-=bo[Pn]():jt-=bo[Pn]()}),Ko[$u]=[],Ko.iKeyMap={}),ti--}Nr[br]>0&&Io(Fh,Nr,Za.KillSwitch),gr&&ci>=nt&&(ci=-1,fo=0)},function(){return{latency:nt,sendType:Tt,sendReason:Ot}},!xr):(ci=ci>=0?Math.min(ci,nt):nt,fo=Math.max(fo,Ot)),gr}function Vt(nt,Tt){I(1,0,Tt),it(),_r(function(){nt&&nt(),Se[br]>0?Te=ge(function(){Te=null,Vt(Se.shift(),Tt)},0):(Te=null,W())})}function _r(nt){nr[DT]()?nt():Te=ge(function(){Te=null,_r(nt)},VO)}function Rr(){Ie(),Ir(),Lt=e,W()}function Ir(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function Mn(nt,Tt){var Ot=[],gr=Fs;Oo&&(gr=dc),si(nt,function(xr){xr&&xr[Pn]()>0&&si(xr[is](),function(Nr){Nr&&(Nr[Mh]&&(Nr[rd]=4,Nr[Mh]=!1),Nr[Lf]<gr?(Rf(Nr,ro[Af]),b(Nr,!1)):Ot[lc](Nr))})}),Ot[br]>0&&Io(Fh,Ot,Za.NonRetryableStatus),Oo&&Be(2,2)}function Oi(nt,Tt){var Ot=Sl||{},gr=Ot[nt];if(gr)try{gr.apply(Ot,Tt)}catch(xr){zd(ro.diagLog(),1,74,nt+" notification failed: "+xr)}}function Io(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&Oi(nt,[Tt][Si](Ot))}function Ge(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&si(Tt,function(xr){xr&&xr[Pn]()>0&&Oi(nt,[xr.events()][Si](Ot))})}function At(nt,Tt,Ot){nt&&nt[br]>0&&Oi("eventsSendRequest",[Tt>=1e3&&Tt<=1999?Tt-1e3:0,Ot!==!0])}function Zt(nt,Tt){Ge("eventsSent",nt,Tt),W()}function lr(nt,Tt){Ge(Fh,nt,Tt>=8e3&&Tt<=8999?Tt-8e3:Za.Unknown)}function rn(nt){Ge(Fh,nt,Za.NonRetryableStatus),W()}function ei(nt,Tt){Ge(Fh,nt,Za.Unknown),W()}function St(){la?pi=0:pi=Math.max(Kb*(Ym+1),Pr/6)}}),B}return L.__ieDyn=1,L}(s_);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=MT,r.RT_PROFILE=e})});var nve=E(O_=>{"use strict";var g7e=O_&&O_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),v7e=O_&&O_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rve=O_&&O_.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&g7e(e,r,t);return v7e(e,r),e};Object.defineProperty(O_,"__esModule",{value:!0});O_.oneDataSystemClientFactory=void 0;var y7e=async(r,e,t)=>{let n=await Promise.resolve().then(()=>rve(Zge())),i=await Promise.resolve().then(()=>rve(tve())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},_7e=async(r,e,t)=>{let n=await y7e(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};O_.oneDataSystemClientFactory=_7e});var ove=E((lq,ive)=>{(function(r,e){typeof lq=="object"&&typeof ive<"u"?e(lq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(lq,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",m="_polyfill",_="indexOf",D="length",O="value",M="name",A="slice",U=Object,ne=U[a],de=String,ye=de[a],V=Math,$=Array,ee=$[a];function De(T,k){var z=k;try{z=T()}catch{}return z}function ae(T){return function(k){return typeof k===T}}function ce(T){var k="[object "+T+"]";return function(z){return!!(z&&qe(z)===k)}}function qe(T){return ne.toString.call(T)}function Ne(T){return typeof T===l||T===l}function ue(T){return T===t||Ne(T)}function Ce(T){return!!T||T!==e}var be=ae(u),xe=ae(i);function Me(T){return!T&&ue(T)?!1:!!T&&typeof T===s}var $e=$.isArray,Ct=ae(o),ze=ce("Error"),st=U.getOwnPropertyDescriptor;function at(T,k){return T&&ne.hasOwnProperty.call(T,k)}var tt=U.hasOwn||fr;function fr(T,k){return at(T,k)||!!st(T,k)}function Lr(T,k,z){if(T&&Me(T)){for(var Y in T)if(tt(T,Y)&&k.call(z||T,Y,T[Y])===-1)break}}function zr(T,k,z,Y){var ve={};return Lr(T,function(We,Ze){ve[We]=k?Ze:We,ve[Ze]=z?Ze:We}),Y(ve)}function cr(T){throw new Error(T)}function xt(T){throw new TypeError(T)}var hr=U.freeze,Mt=function(T){return T},on=function(T){return T[c]||t},un=U.assign;function On(T){return(!Me(T)||T===t)&&xt("objKeys called on non-object"),U.keys(T)}function Or(T){return hr&&Lr(T,function(k,z){($e(z)||Me(z))&&hr(z)}),Hn(T)}var Hn=hr||Mt,$r=U.getPrototypeOf||on;function ln(T){return zr(T,1,0,Or)}function ii(T){var k={};return Lr(T,function(z,Y){k[z]=Y[1],k[Y[0]]=Y[1]}),Or(k)}function Vr(T){return ii(T)}var An=de,Ri="__tsUtils$gblCfg",Gr;function Ji(){var T;return typeof globalThis!==l&&(T=globalThis),!T&&typeof self!==l&&(T=self),!T&&typeof window!==l&&(T=window),!T&&typeof global!==l&&(T=global),T}function oi(){if(!Gr){var T=Ji()||{};Gr=T[Ri]=T[Ri]||{}}return Gr}function fn(T,k){var z=n;if(ze(T))z="{ stack: '"+T.stack+"', message: '"+T.message+"', name: '"+T.name+"'";else try{z=JSON.stringify(T,t,k?Ct(k)?k:4:e)}catch(Y){z=" - "+fn(Y,k)}return qe(T)+": "+z}var Oe=ee[A],oe=function(T,k){xt("'"+An(T)+"' not defined for "+fn(k))},Q=function(T){return function(k){return k[T].apply(k,Oe.call(arguments,1))}},_e=function(T,k){var z=k&&k[T];return function(Y){var ve=Y&&Y[T]||z;if(ve)return ve.apply(Y,Oe.call(arguments,1));oe(T,Y)}},Je=function(T,k,z){var Y=k&&k[T];return function(ve){var We=ve&&ve[T]||Y;if(We||z){var Ze=arguments;return(We||z).apply(ve,We?Oe.call(Ze,1):Ze)}oe(T,ve)}},ft=V.max,Yt=_e(A,ye),rr=_e("substring",ye),Jt=Je("substr",ye,$t);function $t(T,k,z){return ue(T)&&xt("'polyStrSubstr called with invalid "+fn(T)),z<0?n:(k=k||0,k<0&&(k=ft(k+T[D],0)),Ne(z)?Yt(T,k):Yt(T,k,k+z))}function kt(T,k){return rr(T,0,k)}var K="_urid",Fe;function Ht(){if(!Fe){var T=oi();Fe=T.gblSym=T.gblSym||{k:{},s:{}}}return Fe}function Dr(T){var k={description:An(T),toString:function(){return f+"("+T+")"}};return k[m]=!0,k}function He(T){var k=Ht();if(!tt(k.k,T)){var z=Dr(T),Y=On(k.s).length;z[K]=function(){return Y+"_"+z.toString()},k.k[T]=z,k.s[z[K]()]=An(T)}return k.k[T]}var re={e:"enumerable",c:"configurable",v:O,w:"writable",g:"get",s:"set"};function Re(T){var k={};if(k[re.c]=!0,k[re.e]=!0,T.l){k.get=function(){return T.l.v};var z=st(T.l,"v");z&&z.set&&(k.set=function(Y){T.l.v=Y})}return Lr(T,function(Y,ve){k[re[Y]]=Ne(ve)?k[re[Y]]:ve}),k}var je=U.defineProperty;function he(T,k,z){return je(T,k,Re(z))}var S,fe=function(){S=oi(),fe=t};function Ye(T){var k={};return fe&&fe(),k.b=S.lzy,je(k,"v",{configurable:!0,get:function(){var z=T();return S.lzy||(je(k,"v",{value:z}),k.b&&delete k.b),S.lzy&&k.b!==S.lzy&&(k.b=S.lzy),z}}),k}function Tr(T,k){return Ye(function(){return De(T,k)})}var Wr="window",Xr,qn,xi,ks,Sn=function(T){return Tr(function(){return Bs(T)||e},e)},es=function(T){return(!Xr||T===!1||S&&S.lzy&&!Xr.b)&&(Xr=Tr(Ji,t)),Xr.v},Bs=function(T,k){var z=!Xr||k===!1?es(k):Xr.v;return z&&z[T]?z[T]:T===Wr&&qn?qn.v:t},ta=function(){return(!xi||S&&S.lzy&&!xi.b)&&(xi=Sn("document")),xi.v},Fo=function(){return!!Eo()},Eo=function(){return(!qn||S&&S.lzy&&!qn.b)&&(qn=Sn(Wr)),qn.v},H=function(){return!!Ue()},Ue=function(){return(!ks||S&&S.lzy&&!ks.b)&&(ks=Sn("navigator")),ks.v},vt,Fr,so;function Bi(T){return Tr(function(){return vt.v?vt.v[T]:e},e)}function N(){var T=!vt||S&&S.lzy&&!vt.b;return T&&(vt=Sn(f)),(!Fr||T)&&(Fr=Bi("for")),(!so||T)&&(so=Bi("keyFor")),vt.v}function Le(T,k){return(!vt||S.lzy&&!vt.b)&&N(),vt.v?vt.v(T):k?t:Dr(T)}function rt(T){return(!Fr||S.lzy&&!vt.b)&&N(),(Fr.v||He)(T)}var zt=Q("apply");function Ln(T,k,z){if(T)for(var Y=T[D]>>>0,ve=0;ve<Y&&!(ve in T&&k.call(z||T,T[ve],ve,T)===-1);ve++);}var Cn=_e(_,ee),Nn=_e("map",ee),ao=_e(A,ee),ji=Q("call"),Po=_e("reduce",ee),$i=U.create,Jn=$i||pu;function pu(T){if(!T)return{};var k=typeof T;if(k!==s&&k!==i)throw new TypeError("Prototype must be an Object or function: "+fn(T));function z(){}return z[a]=T,new z}var ts;function yo(T,k){var z=U.setPrototypeOf||function(Y,ve){!ts&&(ts=Ye(function(){var We;return We={},We[c]=[],We instanceof Array})),ts.v?Y[c]=ve:Lr(ve,function(We,Ze){return Y[We]=Ze})};return z(T,k)}var al=function(T,k,z){Ja(k,T),k=yo(k,z);function Y(){this.constructor=k,Ja(this,T)}return k[a]=z===t?Jn(z):(Y[a]=z[a],new Y),k},Mi=function(T,k){try{k&&(T[M]=k)}catch{}},Ja=function(T,k){try{he(T,M,{v:k,c:!0,e:!1})}catch{}};function Xa(T,k,z){var Y=z||Error,ve=Y[a][M],We=Error.captureStackTrace;return al(T,function(){var Ze=this;try{Mi(Y,T);var ct=zt(Y,Ze,ao(arguments))||Ze;if(ct!==Ze){var Dt=$r(Ze);Dt!==$r(ct)&&yo(ct,Dt)}return We&&We(ct,Ze[d]),k&&k(ct,arguments),ct}finally{Mi(Y,ve)}},Y)}function ha(){return(Date.now||cl)()}function cl(){return new Date().getTime()}function lh(T){return function(z){return ue(z)&&xt("strTrim called ["+fn(z)+"]"),z&&z.replace&&(z=z.replace(T,n)),z}}var Cc=lh(/^\s+|(?=\s)\s+$/g),ra=Je("trim",ye,Cc),mu,dh,Uo;function Ws(T){if(!T||typeof T!==s)return!1;Uo||(Uo=Fo()?Eo():!0);var k=!1;if(T!==Uo){dh||(mu=Function[a].toString,dh=ji(mu,U));try{var z=$r(T);k=!z,k||(at(z,d)&&(z=z[d]),k=z&&typeof z===i&&mu.call(z)===dh)}catch{}}return k}var Dn;function $s(){return(!Dn||!Dn.b&&S&&S.lzy)&&(Dn=Sn("performance")),Dn.v}var gu=Je("endsWith",ye,si);function si(T,k,z){be(T)||xt("'"+fn(T)+"' is not a string");var Y=be(k)?k:An(k),ve=Y[D],We=T[D],Ze=!Ne(z)&&z<We?z:We;return rr(T,Ze-ve,Ze)===Y}var Ta=_e(_,ye),Xc="ref",fh="un"+Xc,af="hasRef",ap="enabled";function cf(T,k,z){var Y,ve=!0,We=T?k(t):t,Ze,ct=function(){return ve=!1,We&&We[fh]&&We[fh](),Ze},Dt=function(){return ve=!0,We&&We[Xc]&&We[Xc](),Ze},Kt=function(){return We&&We[af]?We[af]():ve},Ar=function(){return We=k(We),ve||ct(),Ze},jn=function(){We&&z(We),We=t},In=function(Qn){!Qn&&We&&jn(),Qn&&!We&&Ar()};return Ze=(Y={cancel:jn,refresh:Ar},Y[af]=Kt,Y[Xc]=Dt,Y[fh]=ct,Y[ap]=!1,Y),je(Ze,ap,{get:function(){return!!We},set:In}),{h:Ze,dn:function(){We=t}}}function cp(T,k,z,Y){var ve=$e(z),We=ve?z.length:0,Ze=(We>0?z[0]:ve?e:z)||setTimeout,ct=(We>1?z[1]:e)||clearTimeout,Dt=Y[0];Y[0]=function(){Kt.dn(),zt(Dt,T,ao(arguments))};var Kt=cf(k,function(Ar){if(Ar){if(Ar.refresh)return Ar.refresh(),Ar;zt(ct,T,[Ar])}return zt(Ze,T,Y)},function(Ar){zt(ct,T,[Ar])});return Kt.h}function uf(T,k){return cp(this,!0,e,ao(arguments))}var Al=ln,Xn=Vr,Vs="toLowerCase",Ll="blkVal",co="length",hh="rdOnly",ph="notify",Gs="warnToConsole",vu="throwInternal",mh="setDf",yd="watch",Ss="logger",Ml="apply",Qc="push",pm="splice",_d="hdlr",lf="cancel",df="name",Tc="unload",_o="version",up="loggingLevelConsole",ff="messageId",na="message",ul="diagLog",yu="userAgent",Av="split",ia="replace",Jy="logInternalMessage",Nu="traceId",bd="spanId",Ho="traceFlags",Nl;function gh(T,k){Nl||(Nl=Xa("AggregationError",function(Y,ve){ve[co]>1&&(Y.errors=ve[1])}));var z=T||"One or more errors occurred.";throw Ln(k,function(Y,ve){z+=`
`.concat(ve," > ").concat(fn(Y))}),new Nl(z,k||[])}var wg="function",wd="object",vh="undefined",lp="prototype",Fl=Object,dp=Fl[lp];(es()||{}).Symbol,(es()||{}).Reflect;var Fu="hasOwnProperty",yh=function(T){for(var k,z=1,Y=arguments.length;z<Y;z++){k=arguments[z];for(var ve in k)dp[Fu].call(k,ve)&&(T[ve]=k[ve])}return T},_u=un||yh,hf=function(T,k){return hf=Fl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Y){z.__proto__=Y}||function(z,Y){for(var ve in Y)Y[Fu](ve)&&(z[ve]=Y[ve])},hf(T,k)};function Sd(T,k){typeof k!==wg&&k!==null&&xt("Class extends value "+String(k)+" is not a constructor or null"),hf(T,k);function z(){this.constructor=T}T[lp]=k===null?Jn(k):(z[lp]=k[lp],new z)}var pf,Cd="constructor",Ks="prototype",Da="function",Ro="_dynInstFuncs",Zc="_isDynProxy",Qa="_dynClass",Sg="_dynCls$",qu="_dynInstChk",Ys=qu,ql="_dfOpts",fp="_unknown_",bu="__proto__",ll="_dyn"+bu,_h="__dynProto$Gbl",Dc="_dynInstProto",ju="useBaseInst",Cs="setInstFuncs",eu=Object,zu=eu.getPrototypeOf,Uu=eu.getOwnPropertyNames,oa=es(),Cg=oa[_h]||(oa[_h]={o:(pf={},pf[Cs]=!0,pf[ju]=!0,pf),n:1e3});function Za(T){return T&&(T===eu[Ks]||T===Array[Ks])}function dl(T){return Za(T)||T===Function[Ks]}function Bo(T){var k;if(T){if(zu)return zu(T);var z=T[bu]||T[Ks]||(T[Cd]?T[Cd][Ks]:null);k=T[ll]||z,at(T,ll)||(delete T[Dc],k=T[ll]=T[Dc]||T[ll],T[Dc]=z)}return k}function Wo(T,k){var z=[];if(Uu)z=Uu(T);else for(var Y in T)typeof Y=="string"&&at(T,Y)&&z.push(Y);if(z&&z.length>0)for(var ve=0;ve<z.length;ve++)k(z[ve])}function mf(T,k,z){return k!==Cd&&typeof T[k]===Da&&(z||at(T,k))}function Hu(T){xt("DynamicProto: "+T)}function gf(T){var k={};return Wo(T,function(z){!k[z]&&mf(T,z,!1)&&(k[z]=T[z])}),k}function qo(T,k){for(var z=T.length-1;z>=0;z--)if(T[z]===k)return!0;return!1}function jl(T,k,z,Y){function ve(Dt,Kt,Ar){var jn=Kt[Ar];if(jn[Zc]&&Y){var In=Dt[Ro]||{};In[Ys]!==!1&&(jn=(In[Kt[Qa]]||{})[Ar]||jn)}return function(){return jn.apply(Dt,arguments)}}var We={};Wo(z,function(Dt){We[Dt]=ve(k,z,Dt)});for(var Ze=Bo(T),ct=[];Ze&&!dl(Ze)&&!qo(ct,Ze);)Wo(Ze,function(Dt){!We[Dt]&&mf(Ze,Dt,!zu)&&(We[Dt]=ve(k,Ze,Dt))}),ct.push(Ze),Ze=Bo(Ze);return We}function vf(T,k,z,Y){var ve=null;if(T&&at(z,Qa)){var We=T[Ro]||{};if(ve=(We[z[Qa]]||{})[k],ve||Hu("Missing ["+k+"] "+Da),!ve[qu]&&We[Ys]!==!1){for(var Ze=!at(T,k),ct=Bo(T),Dt=[];Ze&&ct&&!dl(ct)&&!qo(Dt,ct);){var Kt=ct[k];if(Kt){Ze=Kt===Y;break}Dt.push(ct),ct=Bo(ct)}try{Ze&&(T[k]=ve),ve[qu]=1}catch{We[Ys]=!1}}}return ve}function pa(T,k,z){var Y=k[T];return Y===z&&(Y=Bo(k)[T]),typeof Y!==Da&&Hu("["+T+"] is not a "+Da),Y}function wu(T,k,z,Y,ve){function We(Dt,Kt){var Ar=function(){var jn=vf(this,Kt,Dt,Ar)||pa(Kt,Dt,Ar);return jn.apply(this,arguments)};return Ar[Zc]=1,Ar}if(!Za(T)){var Ze=z[Ro]=z[Ro]||{},ct=Ze[k]=Ze[k]||{};Ze[Ys]!==!1&&(Ze[Ys]=!!ve),Wo(z,function(Dt){mf(z,Dt,!1)&&z[Dt]!==Y[Dt]&&(ct[Dt]=z[Dt],delete z[Dt],(!at(T,Dt)||T[Dt]&&!T[Dt][Zc])&&(T[Dt]=We(T,Dt)))})}}function sa(T,k){if(zu){for(var z=[],Y=Bo(k);Y&&!dl(Y)&&!qo(z,Y);){if(Y===T)return!0;z.push(Y),Y=Bo(Y)}return!1}return!0}function As(T,k){return at(T,Ks)?T.name||k||fp:((T||{})[Cd]||{}).name||k||fp}function zl(T,k,z,Y){at(T,Ks)||Hu("theClass is an invalid class definition.");var ve=T[Ks];sa(ve,k)||Hu("["+As(T)+"] not in hierarchy of ["+As(k)+"]");var We=null;at(ve,Qa)?We=ve[Qa]:(We=Sg+As(T,"_")+"$"+Cg.n,Cg.n++,ve[Qa]=We);var Ze=zl[ql],ct=!!Ze[ju];ct&&Y&&Y[ju]!==void 0&&(ct=!!Y[ju]);var Dt=gf(k),Kt=jl(ve,k,Dt,ct);z(k,Kt);var Ar=!!zu&&!!Ze[Cs];Ar&&Y&&(Ar=!!Y[Cs]),wu(ve,We,k,Dt,Ar!==!1)}zl[ql]=Cg.o;var Lv=void 0,hs="",tu="Not dynamic - ",fl=/-([a-z])/g,bh=/([^\w\d_$])/g,Td=/^(\d+[\w\d_$])/;function hp(T){return!ue(T)}function ec(T){var k=T;return k&&be(k)&&(k=k[ia](fl,function(z,Y){return Y.toUpperCase()}),k=k[ia](bh,"_"),k=k[ia](Td,function(z,Y){return"_"+Y})),k}function mm(T,k){return T&&k?Ta(T,k)!==-1:!1}function zi(T){return T&&T.toISOString()||""}function rs(T){return ze(T)?T[df]:hs}function Bu(T){return function(){function k(){var z=this;T&&Lr(T,function(Y,ve){z[Y]=ve})}return k}()}var Ec="console",Pc="JSON",aa="crypto",hl="msCrypto",Vi="msie",yf="trident/",wi=null,Ea=null,Bn=null;function Dd(){return typeof console!==vh?console:Bs(Ec)}function Ul(){return!!(typeof JSON===wd&&JSON||Bs(Pc)!==null)}function Rc(){return Ul()?JSON||Bs(Pc):null}function $o(){return Bs(aa)}function tc(){return Bs(hl)}function ca(){var T=Ue();if(T&&(T[yu]!==Ea||wi===null)){Ea=T[yu];var k=(Ea||hs)[Vs]();wi=mm(k,Vi)||mm(k,yf)}return wi}function uo(T){return(Bn===null||T===!1)&&(Bn=H()&&!!Ue().sendBeacon),Bn}function Su(T,k){if(T)for(var z=0;z<T[co];z++){var Y=T[z];if(Y[df]&&Y[df]===k)return Y}return{}}function Fn(T){var k=ta();return k&&T?Su(k.querySelectorAll("meta"),T).content:null}function ru(T){var k,z=$s();if(z){var Y=z.getEntriesByType("navigation")||[];k=Su((Y[co]>0?Y[0]:{}).serverTiming,T).description}return k}var xo=4294967296,ai=4294967295,Hl=123456789,Pa=987654321,ma=!1,ua=Hl,Bl=Pa;function rc(T){T<0&&(T>>>=0),ua=Hl+T&ai,Bl=Pa-T&ai,ma=!0}function Ed(){try{var T=ha()&2147483647;rc((Math.random()*xo^T)+T)}catch{}}function Ts(T){return T>0?Math.floor(nu()/ai*(T+1))>>>0:0}function nu(T){var k=0,z=$o()||tc();return z&&z.getRandomValues&&(k=z.getRandomValues(new Uint32Array(1))[0]&ai),k===0&&ca()&&(ma||Ed(),k=pl()&ai),k===0&&(k=Math.floor(xo*Math.random()|0)),T||(k>>>=0),k}function pl(T){Bl=36969*(Bl&65535)+(Bl>>16)&ai,ua=18e3*(ua&65535)+(ua>>16)&ai;var k=(Bl<<16)+(ua&65535)>>>0&ai|0;return T||(k>>>=0),k}function Wl(T){T===void 0&&(T=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=nu()>>>0,Y=0,ve=hs;ve[co]<T;)Y++,ve+=k.charAt(z&63),z>>>=6,Y===5&&(z=(nu()<<2&4294967295|z&3)>>>0,Y=0);return ve}var Pd="3.0.5",g="."+Wl(6),v=0;function P(T,k){return k===void 0&&(k=!1),ec(T+v+++(k?"."+Pd:hs)+g)}function x(T){return T&&Me(T)&&(T.isVal||T.fb||tt(T,"v")||tt(T,"mrg")||tt(T,"ref")||T.set)}function F(T,k,z){var Y,ve=z.dfVal||Ce;if(k&&z.fb){var We=z.fb;$e(We)||(We=[We]);for(var Ze=0;Ze<We[co];Ze++){var ct=We[Ze],Dt=k[ct];if(ve(Dt)?Y=Dt:T&&(Dt=T.cfg[ct],ve(Dt)&&(Y=Dt),T.set(T.cfg,An(ct),Dt)),ve(Y))break}}return!ve(Y)&&ve(z.v)&&(Y=z.v),Y}function J(T,k,z){var Y=z;if(z&&x(z)&&(Y=F(T,k,z)),Y){x(Y)&&(Y=J(T,k,Y));var ve;$e(Y)?(ve=[],ve[co]=Y[co]):Ws(Y)&&(ve={}),ve&&(Lr(Y,function(We,Ze){Ze&&x(Ze)&&(Ze=J(T,k,Ze)),ve[We]=Ze}),Y=ve)}return Y}function Z(T,k,z,Y){var ve,We,Ze,ct=Y,Dt,Kt,Ar,jn;x(ct)?(ve=ct.isVal,We=ct.set,Ar=ct[hh],jn=ct[Ll],Dt=ct.mrg,Kt=ct.ref,!Kt&&Ne(Kt)&&(Kt=!!Dt),Ze=F(T,k,ct)):Ze=Y,jn&&T[Ll](k,z);var In,Qn=!0,Qr=k[z];(Qr||!ue(Qr))&&(In=Qr,Qn=!1,ve&&In!==Ze&&!ve(In)&&(In=Ze,Qn=!0),We&&(In=We(In,Ze,k),Qn=In===Ze)),Qn?Ze?In=J(T,k,Ze):In=Ze:(Ws(In)||$e(Ze))&&Dt&&Ze&&(Ws(Ze)||$e(Ze))&&Lr(Ze,function(Zn,br){Z(T,In,Zn,br)}),T.set(k,z,In),Kt&&T.ref(k,z),Ar&&T[hh](k,z)}var pe=rt("[[ai_dynCfg_1]]"),ke=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function ht(T){if(T){var k;if($e(T)?(k=[],k[co]=T[co]):Ws(T)&&(k={}),k)return Lr(T,function(z,Y){k[z]=ht(Y)}),k}return T}function Ut(T){if(T){var k=T[pe]||T;if(k.cfg&&(k.cfg===T||k.cfg[pe]===k))return k}return null}function Sr(T){if(T&&(Ws(T)||$e(T)))try{T[ke]=!0}catch{}return T}function sn(T,k,z){var Y=!1;return z&&!T[k.blkVal]&&(Y=z[Qe],!Y&&!z[ke]&&(Y=Ws(z)||$e(z))),Y}function jr(T){xt("InvalidAccess:"+T)}var Wn=["push","pop","shift","unshift","splice"],Js=function(T,k,z,Y){T&&T[vu](3,108,"".concat(z," [").concat(k,"] failed - ")+fn(Y))};function nc(T,k,z){$e(k)&&Ln(Wn,function(Y){var ve=k[Y];k[Y]=function(){for(var We=[],Ze=0;Ze<arguments.length;Ze++)We[Ze]=arguments[Ze];var ct=ve[Ml](this,We);return mp(T,k,z,"Patching"),ct}})}function Cu(T,k){var z=st(T,k);return z&&z.get}function pp(T,k,z,Y){var ve={n:z,h:[],trk:function(Kt){Kt&&Kt.fn&&(Cn(ve.h,Kt)===-1&&ve.h[Qc](Kt),T.trk(Kt,ve))},clr:function(Kt){var Ar=Cn(ve.h,Kt);Ar!==-1&&ve.h[pm](Ar,1)}},We=!0,Ze=!1;function ct(){We&&(Ze=Ze||sn(ct,T,Y),Y&&!Y[pe]&&Ze&&(Y=mp(T,Y,z,"Converting")),We=!1);var Kt=T.act;return Kt&&ve.trk(Kt),Y}ct[T.prop]={chng:function(){T.add(ve)}};function Dt(Kt){if(Y!==Kt){ct[T.ro]&&!T.upd&&jr("["+z+"] is read-only:"+fn(k)),We&&(Ze=Ze||sn(ct,T,Y),We=!1);var Ar=Ze&&ct[T.rf];if(Ze)if(Ar){Lr(Y,function(In){Y[In]=Kt?Kt[In]:Lv});try{Lr(Kt,function(In,Qn){gm(T,Y,In,Qn)}),Kt=Y}catch(In){Js((T.hdlr||{})[Ss],z,"Assigning",In),Ze=!1}}else Y&&Y[pe]&&Lr(Y,function(In){var Qn=Cu(Y,In);if(Qn){var Qr=Qn[T.prop];Qr&&Qr.chng()}});if(Kt!==Y){var jn=Kt&&sn(ct,T,Kt);!Ar&&jn&&(Kt=mp(T,Kt,z,"Converting")),Y=Kt,Ze=jn}T.add(ve)}}he(k,ve.n,{g:ct,s:Dt})}function gm(T,k,z,Y){if(k){var ve=Cu(k,z),We=ve&&!!ve[T.prop];We?k[z]=Y:pp(T,k,z,Y)}return k}function Ra(T,k,z,Y){if(k){var ve=Cu(k,z),We=ve&&!!ve[T.prop],Ze=Y&&Y[0],ct=Y&&Y[1],Dt=Y&&Y[2];if(!We){if(Dt)try{Sr(k)}catch(Kt){Js((T.hdlr||{})[Ss],z,"Blocking",Kt)}try{gm(T,k,z,k[z]),ve=Cu(k,z)}catch(Kt){Js((T.hdlr||{})[Ss],z,"State",Kt)}}Ze&&(ve[T.rf]=Ze),ct&&(ve[T.ro]=ct),Dt&&(ve[T.blkVal]=!0)}return k}function mp(T,k,z,Y){try{Lr(k,function(ve,We){gm(T,k,ve,We)}),k[pe]||(je(k,pe,{get:function(){return T[_d]}}),nc(T,k,z))}catch(ve){Js((T.hdlr||{})[Ss],z,Y,ve)}return k}var wh="[[ai_",Rd="]]";function Tu(T){var k,z=Le(wh+"get"+T.uid+Rd),Y=Le(wh+"ro"+T.uid+Rd),ve=Le(wh+"rf"+T.uid+Rd),We=Le(wh+"blkVal"+T.uid+Rd),Ze=Le(wh+"dtl"+T.uid+Rd),ct=null,Dt=null,Kt;function Ar(Qr,Zn){var br=Kt.act;try{Kt.act=Qr,Qr&&Qr[Ze]&&(Ln(Qr[Ze],function($n){$n.clr(Qr)}),Qr[Ze]=[]),Zn({cfg:T.cfg,set:T.set.bind(T),setDf:T[mh].bind(T),ref:T.ref.bind(T),rdOnly:T[hh].bind(T)})}catch($n){var Si=T[Ss];throw Si&&Si[vu](1,107,fn($n)),$n}finally{Kt.act=br||null}}function jn(){if(ct){var Qr=ct;ct=null,Dt&&Dt[lf](),Dt=null;var Zn=[];if(Ln(Qr,function(br){if(br&&(br[Ze]&&(Ln(br[Ze],function(Si){Si.clr(br)}),br[Ze]=null),br.fn))try{Ar(br,br.fn)}catch(Si){Zn[Qc](Si)}}),ct)try{jn()}catch(br){Zn[Qc](br)}Zn[co]>0&&gh("Watcher error(s): ",Zn)}}function In(Qr){if(Qr&&Qr.h[co]>0){ct||(ct=[]),Dt||(Dt=uf(function(){Dt=null,jn()},0));for(var Zn=0;Zn<Qr.h[co];Zn++){var br=Qr.h[Zn];br&&Cn(ct,br)===-1&&ct[Qc](br)}}}function Qn(Qr,Zn){if(Qr){var br=Qr[Ze]=Qr[Ze]||[];Cn(br,Zn)===-1&&br[Qc](Zn)}}return Kt=(k={prop:z,ro:Y,rf:ve},k[Ll]=We,k[_d]=T,k.add=In,k[ph]=jn,k.use=Ar,k.trk=Qn,k),Kt}function Tg(T,k){var z={fn:k,rm:function(){z.fn=null,T=null,k=null}};return T.use(z,k),z}function Xy(T,k,z){var Y,ve=Ut(k);if(ve)return ve;var We=P("dyncfg",!0),Ze=k&&z!==!1?k:ht(k),ct;function Dt(){ct[ph]()}function Kt(Si,$n,Pn){try{Si=gm(ct,Si,$n,Pn)}catch(is){Js(T,$n,"Setting value",is)}return Si[$n]}function Ar(Si){return Tg(ct,Si)}function jn(Si,$n){ct.use(null,function(Pn){var is=ct.upd;try{Ne($n)||(ct.upd=$n),Si(Pn)}finally{ct.upd=is}})}function In(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[0]=!0,Pn))[$n]}function Qn(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[1]=!0,Pn))[$n]}function Qr(Si,$n){var Pn;return Ra(ct,Si,$n,(Pn={},Pn[2]=!0,Pn))[$n]}function Zn(Si,$n){return $n&&Lr($n,function(Pn,is){Z(br,Si,Pn,is)}),Si}var br=(Y={uid:null,cfg:Ze},Y[Ss]=T,Y[ph]=Dt,Y.set=Kt,Y[mh]=Zn,Y[yd]=Ar,Y.ref=In,Y[hh]=Qn,Y[Ll]=Qr,Y._block=jn,Y);return he(br,"uid",{c:!1,e:!1,w:!1,v:We}),ct=Tu(br),mp(ct,Ze,"config","Creating"),br}function gp(T,k){T?(T[Gs](k),T[vu](2,108,k)):jr(k)}function vp(T,k,z,Y){var ve=Xy(z,T||{},Y);return k&&ve[mh](ve.cfg,k),ve}function Qy(T,k,z){var Y=T[pe]||T;return Y.cfg&&(Y.cfg===T||Y.cfg[pe]===Y)?Y[yd](k):(gp(z,tu+fn(T)),vp(T,null,z)[yd](k))}var Zy=null;function e_(){var T=Bs("Microsoft");return T&&(Zy=T.ApplicationInsights),Zy}function Db(T){var k=Zy;return!k&&T.disableDbgExt!==!0&&(k=Zy||e_()),k?k.ChromeDbgExt:null}var vm,Mv="warnToConsole",t_="AI (Internal): ",r_="AI: ",ym="AITR_",yp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Eb=(vm={},vm[0]=null,vm[1]="errorToConsole",vm[2]=Mv,vm[3]="debugToConsole",vm);function n_(T){return T?'"'+T[ia](/\"/g,hs)+'"':hs}function _p(T,k){var z=Dd();if(z){var Y="log";z[T]&&(Y=T),xe(z[Y])&&z[Y](k)}}var Nv=function(){function T(k,z,Y,ve){Y===void 0&&(Y=!1);var We=this;We[ff]=k,We[na]=(Y?r_:t_)+k;var Ze=hs;Ul()&&(Ze=Rc().stringify(ve));var ct=(z?" message:"+n_(z):hs)+(ve?" props:"+n_(Ze):hs);We[na]+=ct}return T.dataType="MessageData",T}();function xd(T,k){return(T||{})[Ss]||new Xi(k)}var Xi=function(){function T(k){this.identifier="DiagnosticLogger",this.queue=[];var z=0,Y={},ve,We,Ze,ct,Dt;zl(T,this,function(Kt){Dt=jn(k||{}),Kt.consoleLoggingLevel=function(){return ve},Kt[vu]=function(Qr,Zn,br,Si,$n){$n===void 0&&($n=!1);var Pn=new Nv(Zn,br,$n,Si);if(ct)throw fn(Pn);var is=Eb[Qr]||Mv;if(Ne(Pn[na]))Qn("throw"+(Qr===1?"Critical":"Warning"),Pn);else{if($n){var lc=+Pn[ff];!Y[lc]&&ve>=Qr&&(Kt[is](Pn[na]),Y[lc]=!0)}else ve>=Qr&&Kt[is](Pn[na]);Ar(Qr,Pn)}},Kt.debugToConsole=function(Qr){_p("debug",Qr),Qn("warning",Qr)},Kt[Gs]=function(Qr){_p("warn",Qr),Qn("warning",Qr)},Kt.errorToConsole=function(Qr){_p("error",Qr),Qn("error",Qr)},Kt.resetInternalMessageCount=function(){z=0,Y={}},Kt[Jy]=Ar,Kt[Tc]=function(Qr){Dt&&Dt.rm(),Dt=null};function Ar(Qr,Zn){if(!In()){var br=!0,Si=ym+Zn[ff];if(Y[Si]?br=!1:Y[Si]=!0,br&&(Qr<=We&&(Kt.queue[Qc](Zn),z++,Qn(Qr===1?"error":"warn",Zn)),z===Ze)){var $n="Internal events throttle limit per PageView reached for this app.",Pn=new Nv(23,$n,!1);Kt.queue[Qc](Pn),Qr===1?Kt.errorToConsole($n):Kt[Gs]($n)}}}function jn(Qr){return Qy(vp(Qr,yp,Kt).cfg,function(Zn){var br=Zn.cfg;ve=br[up],We=br.loggingLevelTelemetry,Ze=br.maxMessageLimit,ct=br.enableDebug})}function In(){return z>=Ze}function Qn(Qr,Zn){var br=Db(k||{});br&&br[ul]&&br[ul](Qr,Zn)}})}return T.__ieDyn=1,T}();function _m(T){return T||new Xi}function lo(T,k,z,Y,ve,We){We===void 0&&(We=!1),_m(T)[vu](k,z,Y,ve,We)}function i_(){for(var T=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=hs,z,Y=0;Y<4;Y++)z=nu(),k+=T[z&15]+T[z>>4&15]+T[z>>8&15]+T[z>>12&15]+T[z>>16&15]+T[z>>20&15]+T[z>>24&15]+T[z>>28&15];var ve=T[8+(nu()&3)|0];return Jt(k,0,8)+Jt(k,9,4)+"4"+Jt(k,13,3)+ve+Jt(k,16,3)+Jt(k,19,12)}var Fv=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Od="00",bp="ff",iu="00000000000000000000000000000000",Id="0000000000000000",kd=1;function Ls(T,k,z){return T&&T[co]===k&&T!==z?!!T.match(/^[\da-f]*$/i):!1}function fi(T,k,z){return Ls(T,k)?T:z}function Du(T){(isNaN(T)||T<0||T>255)&&(T=1);for(var k=T.toString(16);k[co]<2;)k="0"+k;return k}function ns(T,k,z,Y){var ve;return ve={},ve[_o]=Ls(Y,2,bp)?Y:Od,ve[Nu]=bm(T)?T:i_(),ve[bd]=wp(k)?k:kt(i_(),16),ve.traceFlags=z>=0&&z<=255?z:1,ve}function Ad(T,k){var z;if(!T||($e(T)&&(T=T[0]||""),!T||!be(T)||T[co]>8192))return null;if(T.indexOf(",")!==-1){var Y=T[Av](",");T=Y[k>0&&Y[co]>k?k:0]}var ve=Fv.exec(ra(T));return!ve||ve[1]===bp||ve[2]===iu||ve[3]===Id?null:(z={version:(ve[1]||hs)[Vs](),traceId:(ve[2]||hs)[Vs](),spanId:(ve[3]||hs)[Vs]()},z[Ho]=parseInt(ve[4],16),z)}function bm(T){return Ls(T,32,iu)}function wp(T){return Ls(T,16,Id)}function Sp(T){return!(!T||!Ls(T[_o],2,bp)||!Ls(T[Nu],32,iu)||!Ls(T[bd],16,Id)||!Ls(Du(T[Ho]),2))}function _f(T){return Sp(T)?(T[Ho]&kd)===kd:!1}function o_(T){if(T){var k=Du(T[Ho]);Ls(k,2)||(k="01");var z=T[_o]||Od;return z!=="00"&&z!=="ff"&&(z=Od),"".concat(z.toLowerCase(),"-").concat(fi(T.traceId,32,iu).toLowerCase(),"-").concat(fi(T.spanId,16,Id).toLowerCase(),"-").concat(k.toLowerCase())}return""}function wm(T){var k="traceparent",z=Ad(Fn(k),T);return z||(z=Ad(ru(k),T)),z}var Sm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xa="sampleRate",Ld="ProcessLegacy",xc="http.method",Eu="https://dc.services.visualstudio.com",Cm="/v2/track",ml="not_specified",Tm="iKey",Dg=Xn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Cp="split",En="length",Md="toLowerCase",Ms="ingestionendpoint",bf="toString",qv="removeItem",ic="name",Nd="message",Tp="count",jv="preTriggerDate",gl="disabled",Eg="interval",Dm="daysOfMonth",zv="date",Pg="getUTCDate",Fd="stringify",wf="pathname",Em="correlationHeaderExcludePatterns",Dp="extensionConfig",Rg="exceptions",ou="parsedStack",oc="properties",Sf="measurements",Wu="sizeInBytes",Pu="typeName",Sh="severityLevel",qd="problemGroup",xg="isManual",Ep="CreateFromInterface",Pp="assembly",Ch="fileName",jd="hasFullStack",Pm="level",Rp="method",Rm="line",Cf="duration",Th="receivedResponse";function xm(T,k,z){var Y=k[En],ve=Pb(T,k);if(ve[En]!==Y){for(var We=0,Ze=ve;z[Ze]!==void 0;)We++,Ze=rr(ve,0,147)+Oc(We);ve=Ze}return ve}function Pb(T,k){var z;return k&&(k=ra(An(k)),k[En]>150&&(z=rr(k,0,150),lo(T,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),z||k}function sc(T,k,z){z===void 0&&(z=1024);var Y;return k&&(z=z||1024,k=ra(An(k)),k[En]>z&&(Y=rr(k,0,z),lo(T,2,61,"string value is too long. It has been truncated to "+z+" characters.",{value:k},!0))),Y||k}function Uv(T,k){return Ig(T,k,2048,66)}function zd(T,k){var z;return k&&k[En]>32768&&(z=rr(k,0,32768),lo(T,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),z||k}function Og(T,k){var z;if(k){var Y=""+k;Y[En]>32768&&(z=rr(Y,0,32768),lo(T,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return z||k}function Ud(T,k){if(k){var z={};Lr(k,function(Y,ve){if(Me(ve)&&Ul())try{ve=Rc()[Fd](ve)}catch(We){lo(T,2,49,"custom property is not valid",{exception:We},!0)}ve=sc(T,ve,8192),Y=xm(T,Y,z),z[Y]=ve}),k=z}return k}function Tf(T,k){if(k){var z={};Lr(k,function(Y,ve){Y=xm(T,Y,z),z[Y]=ve}),k=z}return k}function Om(T,k){return k&&Ig(T,k,128,69)[bf]()}function Ig(T,k,z,Y){var ve;return k&&(k=ra(An(k)),k[En]>z&&(ve=rr(k,0,z),lo(T,2,Y,"input is too long, it has been truncated to "+z+" characters.",{data:k},!0))),ve||k}function Oc(T){var k="00"+T;return Jt(k,k[En]-3)}var vl=ta()||{},kg=0,Hv=[null,null,null,null,null];function Hd(T){var k=kg,z=Hv,Y=z[k];return vl.createElement?z[k]||(Y=z[k]=vl.createElement("a")):Y={host:ES(T,!0)},Y.href=T,k++,k>=z[En]&&(k=0),kg=k,Y}function xp(T){var k,z=Hd(T);return z&&(k=z.href),k}function Dh(T){var k,z=Hd(T);return z&&(k=z[wf]),k}function Rb(T,k){return T?T.toUpperCase()+" "+k:k}function ES(T,k){var z=Bd(T,k)||"";if(z){var Y=z.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>3&&be(Y[2])&&Y[2][En]>0)return Y[2]+(Y[3]||"")}return z}function Bd(T,k){var z=null;if(T){var Y=T.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>2&&be(Y[2])&&Y[2][En]>0&&(z=Y[2]||"",k&&Y[En]>2)){var ve=(Y[1]||"")[Md](),We=Y[3]||"";(ve==="http"&&We===":80"||ve==="https"&&We===":443")&&(We=""),z+=We}}return z}var Bv=[Eu+Cm,"https://breeze.aimon.applicationinsights.io"+Cm,"https://dc-int.services.visualstudio.com"+Cm],Wv="cid-v1:";function $v(T){return Cn(Bv,T[Md]())!==-1}function Ag(T){Wv=T}function wT(){return Wv}function Lg(T,k,z){if(!k||T&&T.disableCorrelationHeaders)return!1;if(T&&T[Em]){for(var Y=0;Y<T.correlationHeaderExcludePatterns[En];Y++)if(T[Em][Y].test(k))return!1}var ve=Hd(k).host[Md]();if(ve&&(Ta(ve,":443")!==-1||Ta(ve,":80")!==-1)&&(ve=(Bd(k,!0)||"")[Md]()),(!T||!T.enableCorsCorrelation)&&ve&&ve!==z)return!1;var We=T&&T.correlationHeaderDomains;if(We){var Ze;if(Ln(We,function(Kt){var Ar=new RegExp(Kt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||Ar.test(ve)}),!Ze)return!1}var ct=T&&T.correlationHeaderExcludedDomains;if(!ct||ct[En]===0)return!0;for(var Y=0;Y<ct[En];Y++){var Dt=new RegExp(ct[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(ve))return!1}return ve&&ve[En]>0}function ST(T){if(T){var k=$l(T,Dg[1]);if(k&&k!==Wv)return k}}function $l(T,k){if(T)for(var z=T[Cp](","),Y=0;Y<z[En];++Y){var ve=z[Y][Cp]("=");if(ve[En]===2&&ve[0]===k)return ve[1]}}function Eh(T,k,z,Y){var ve,We=Y,Ze=Y;if(k&&k[En]>0){var ct=Hd(k);if(ve=ct.host,!We)if(ct[wf]!=null){var Dt=ct.pathname[En]===0?"/":ct[wf];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),Ze=ct[wf],We=sc(T,z?z+" "+Dt:Dt)}else We=sc(T,k)}else ve=Y,We=Y;return{target:ve,name:We,data:Ze}}function Im(){var T=$s();if(T&&T.now&&T.timing){var k=T.now()+T.timing.navigationStart;if(k>0)return k}return ha()}function s_(T,k){var z=null;return T!==0&&k!==0&&!ue(T)&&!ue(k)&&(z=k-T),z}function km(T,k){var z=T||{};return{getName:function(){return z[ic]},setName:function(Y){k&&k.setName(Y),z[ic]=Y},getTraceId:function(){return z.traceID},setTraceId:function(Y){k&&k.setTraceId(Y),bm(Y)&&(z.traceID=Y)},getSpanId:function(){return z.parentID},setSpanId:function(Y){k&&k.setSpanId(Y),wp(Y)&&(z.parentID=Y)},getTraceFlags:function(){return z.traceFlags},setTraceFlags:function(Y){k&&k.setTraceFlags(Y),z.traceFlags=Y}}}var Vl=Al({LocalStorage:0,SessionStorage:1}),yl=Al({AI:0,AI_AND_W3C:1,W3C:2}),Df=void 0,Ef=void 0,Vv="";function Op(){return xh()?Oa(Vl.LocalStorage):null}function Oa(T){try{if(ue(es()))return null;var k=new Date()[bf](),z=Bs(T===Vl.LocalStorage?"localStorage":"sessionStorage"),Y=Vv+k;z.setItem(Y,k);var ve=z.getItem(Y)!==k;if(z[qv](Y),!ve)return z}catch{}return null}function Ph(){return Gl()?Oa(Vl.SessionStorage):null}function Rh(){Df=!1,Ef=!1}function a_(T){Vv=T||""}function PS(){Df=xh(!0),Ef=Gl(!0)}function xh(T){return(T||Df===void 0)&&(Df=!!Oa(Vl.LocalStorage)),Df}function RS(T,k){var z=Op();if(z!==null)try{return z.getItem(k)}catch(Y){Df=!1,lo(T,2,1,"Browser failed read of local storage. "+rs(Y),{exception:fn(Y)})}return null}function Am(T,k,z){var Y=Op();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){Df=!1,lo(T,2,3,"Browser failed write to local storage. "+rs(ve),{exception:fn(ve)})}return!1}function Oh(T,k){var z=Op();if(z!==null)try{return z[qv](k),!0}catch(Y){Df=!1,lo(T,2,5,"Browser failed removal of local storage item. "+rs(Y),{exception:fn(Y)})}return!1}function Gl(T){return(T||Ef===void 0)&&(Ef=!!Oa(Vl.SessionStorage)),Ef}function Mg(){var T=[];return Gl()&&Lr(Bs("sessionStorage"),function(k){T.push(k)}),T}function Ip(T,k){var z=Ph();if(z!==null)try{return z.getItem(k)}catch(Y){Ef=!1,lo(T,2,2,"Browser failed read of session storage. "+rs(Y),{exception:fn(Y)})}return null}function Lm(T,k,z){var Y=Ph();if(Y!==null)try{return Y.setItem(k,z),!0}catch(ve){Ef=!1,lo(T,2,4,"Browser failed write to session storage. "+rs(ve),{exception:fn(ve)})}return!1}function Ng(T,k){var z=Ph();if(z!==null)try{return z[qv](k),!0}catch(Y){Ef=!1,lo(T,2,6,"Browser failed removal of session storage item. "+rs(Y),{exception:fn(Y)})}return!1}var xb="appInsightsThrottle",CT=function(){function T(k,z){var Y=this,ve,We,Ze,ct,Dt,Kt,Ar,jn=!1,In=!1;Qr(),Y._getDbgPlgTargets=function(){return[Ar]},Y.getConfig=function(){return Ze},Y.canThrottle=function(or){var cn=kh(or),hi=Zn(or);return $n(hi,ve,cn)},Y.isTriggered=function(or){return Qv(or)},Y.isReady=function(){return jn},Y.flush=function(or){try{var cn=Zv(or);if(cn&&cn[En]>0){var hi=cn.slice(0);return Ar[or]=[],Ln(hi,function(os){Qn(os.msgID,os[Nd],os.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(Ar){var or=!0;return Lr(Ar,function(cn){var hi=Y.flush(parseInt(cn));or=or&&hi}),or}}catch{}return!1},Y.onReadyState=function(or,cn){return cn===void 0&&(cn=!0),jn=ue(or)?!0:or,jn&&cn?Y.flushAll():null},Y.sendMessage=function(or,cn,hi){return Qn(or,cn,hi,!0)};function Qn(or,cn,hi,os){if(jn){var Ds=td(or);if(!Ds)return;var Es=Zn(or),Ns=kh(or),Wm=$n(Es,ve,Ns),Lp=!1,Mp=0,qb=Qv(or);try{Wm&&!qb?(Mp=Math.min(Es.limit.maxSendNumber,Ns[Tp]+1),Ns[Tp]=0,Lp=!0,Dt[or]=!0,Ns[jv]=new Date):(Dt[or]=Wm,Ns[Tp]+=1);var $m=Pn(or);Bg(We,$m,Ns);for(var Ah=0;Ah<Mp;Ah++)Xv(or,We,cn,hi)}catch{}return{isThrottled:Lp,throttleNum:Mp}}else if(os){var ey=Zv(or);ey.push({msgID:or,message:cn,severity:hi})}return null}function Qr(){We=xd(k),Dt={},ct={},Ar={},Ze={},br(109),Kt=hp(z)?z:"",k.addUnloadHook(Qy(k.config,function(or){var cn=or.cfg;ve=xh();var hi=cn.throttleMgrCfg||{};Lr(hi,function(os,Ds){br(parseInt(os),Ds)})}))}function Zn(or){return Ze[or]||Ze[109]}function br(or,cn){var hi,os;try{var Ds=cn||{},Es={};Es[gl]=!!Ds[gl];var Ns=Ds[Eg]||{};In=Ns?.daysOfMonth&&Ns?.daysOfMonth[En]>0,Es[Eg]=Si(Ns);var Wm={samplingRate:((hi=Ds.limit)===null||hi===void 0?void 0:hi.samplingRate)||100,maxSendNumber:((os=Ds.limit)===null||os===void 0?void 0:os.maxSendNumber)||1};Es.limit=Wm,Ze[or]=Es}catch{}}function Si(or){or=or||{};var cn=or?.monthInterval,hi=or?.dayInterval;return ue(cn)&&ue(hi)&&(or.monthInterval=3,In||(or[Dm]=[28],In=!0)),or={monthInterval:or?.monthInterval,dayInterval:or?.dayInterval,daysOfMonth:or?.daysOfMonth},or}function $n(or,cn,hi){if(or&&!or[gl]&&cn&&hp(hi)){var os=ka(),Ds=hi[zv],Es=or[Eg],Ns=1;if(Es?.monthInterval){var Wm=(os.getUTCFullYear()-Ds.getUTCFullYear())*12+os.getUTCMonth()-Ds.getUTCMonth();Ns=Bm(Es.monthInterval,0,Wm)}var Lp=1;if(In)Lp=Cn(Es[Dm],os[Pg]());else if(Es?.dayInterval){var Mp=Math.floor((os.getTime()-Ds.getTime())/864e5);Lp=Bm(Es.dayInterval,0,Mp)}return Ns>=0&&Lp>=0}return!1}function Pn(or,cn){var hi=hp(cn)?cn:"";return or?xb+hi+"-"+or:null}function is(or){try{if(or){var cn=new Date;return or.getUTCFullYear()===cn.getUTCFullYear()&&or.getUTCMonth()===cn.getUTCMonth()&&or[Pg]()===cn[Pg]()}}catch{}return!1}function lc(or,cn,hi){try{var os={date:ka(),count:0};if(or){var Ds=JSON.parse(or),Es={date:ka(Ds[zv])||os[zv],count:Ds[Tp]||os[Tp],preTriggerDate:Ds.preTriggerDate?ka(Ds[jv]):void 0};return Es}else return Bg(cn,hi,os),os}catch{}return null}function ka(or){try{if(or){var cn=new Date(or);if(!isNaN(cn.getDate()))return cn}else return new Date}catch{}return null}function Bg(or,cn,hi){try{return Am(or,cn,ra(JSON[Fd](hi)))}catch{}return!1}function Bm(or,cn,hi){return or<=0?1:hi>=cn&&(hi-cn)%or==0?Math.floor((hi-cn)/or)+1:-1}function Xv(or,cn,hi,os){lo(cn,os||1,or,hi)}function td(or){try{var cn=Zn(or);return Ts(1e6)<=cn.limit.samplingRate}catch{}return!1}function kh(or){try{var cn=ct[or];if(!cn){var hi=Pn(or,Kt);cn=lc(RS(We,hi),We,hi),ct[or]=cn}return ct[or]}catch{}return null}function Qv(or){var cn=Dt[or];if(ue(cn)){cn=!1;var hi=kh(or);hi&&(cn=is(hi[jv])),Dt[or]=cn}return Dt[or]}function Zv(or){return Ar=Ar||{},ue(Ar[or])&&(Ar[or]=[]),Ar[or]}}return T}(),Mm=";",xS="=";function ac(T){if(!T)return{};var k=T[Cp](Mm),z=Po(k,function(ve,We){var Ze=We[Cp](xS);if(Ze[En]===2){var ct=Ze[0][Md](),Dt=Ze[1];ve[ct]=Dt}return ve},{});if(On(z)[En]>0){if(z.endpointsuffix){var Y=z.location?z.location+".":"";z[Ms]=z[Ms]||"https://"+Y+"dc."+z.endpointsuffix}z[Ms]=z[Ms]||Eu,gu(z[Ms],"/")&&(z[Ms]=z[Ms].slice(0,-1))}return z}var Nm={parse:ac},Fm=function(){function T(k,z,Y){var ve=this,We=this;We.ver=1,We.sampleRate=100,We.tags={},We[ic]=sc(k,Y)||ml,We.data=z,We.time=zi(new Date),We.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ve.sampleRate===100?4:1},tags:1,data:1}}return T}(),OS=function(){function T(k,z,Y,ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var We=this;We.ver=2,We[ic]=sc(k,z)||ml,We[oc]=Ud(k,Y),We[Sf]=Tf(k,ve)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Event",T.dataType="EventData",T}(),TT="<no_method>",Kl="error",cc="stack",Yl="stackDetails",qm="errorSrc",Fg="message",c_="description";function bn(T,k){var z=T;return z&&!be(z)&&(JSON&&JSON[Fd]?(z=JSON[Fd](T),k&&(!z||z==="{}")&&(xe(T[bf])?z=T[bf]():z=""+T)):z=""+T+" - (Missing JSON.stringify)"),z||""}function Gv(T,k){var z=T;return T&&(z&&!be(z)&&(z=T[Fg]||T[c_]||z),z&&!be(z)&&(z=bn(z,!0)),T.filename&&(z=z+" @"+(T.filename||"")+":"+(T.lineno||"?")+":"+(T.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Ta(z||"",k)===-1&&(z=k+": "+z),z||""}function kp(T){try{if(Me(T))return"hasFullStack"in T&&"typeName"in T}catch{}return!1}function Pf(T){try{if(Me(T))return"ver"in T&&"exceptions"in T&&"properties"in T}catch{}return!1}function jm(T){return T&&T.src&&be(T.src)&&T.obj&&$e(T.obj)}function Ia(T){var k=T||"";be(k)||(be(k[cc])?k=k[cc]:k=""+k);var z=k[Cp](`
`);return{src:k,obj:z}}function u_(T){for(var k=[],z=T[Cp](`
`),Y=0;Y<z[En];Y++){var ve=z[Y];z[Y+1]&&(ve+="@"+z[Y+1],Y++),k.push(ve)}return{src:T,obj:k}}function qg(T){var k=null;if(T)try{if(T[cc])k=Ia(T[cc]);else if(T[Kl]&&T[Kl][cc])k=Ia(T[Kl][cc]);else if(T.exception&&T.exception[cc])k=Ia(T.exception[cc]);else if(jm(T))k=T;else if(jm(T[Yl]))k=T[Yl];else if(Eo()&&Eo().opera&&T[Fg])k=u_(T[Nd]);else if(T.reason&&T.reason[cc])k=Ia(T.reason[cc]);else if(be(T))k=Ia(T);else{var z=T[Fg]||T[c_]||"";be(T[qm])&&(z&&(z+=`
`),z+=" from "+T[qm]),z&&(k=Ia(z))}}catch(Y){k=Ia(Y)}return k||{src:"",obj:null}}function l_(T){var k="";return T&&(T.obj?Ln(T.obj,function(z){k+=z+`
`}):k=T.src||""),k}function Jl(T){var k,z=T.obj;if(z&&z[En]>0){k=[];var Y=0,ve=0;Ln(z,function(Qr){var Zn=Qr[bf]();if(Ru.regex.test(Zn)){var br=new Ru(Zn,Y++);ve+=br[Wu],k.push(br)}});var We=32*1024;if(ve>We)for(var Ze=0,ct=k[En]-1,Dt=0,Kt=Ze,Ar=ct;Ze<ct;){var jn=k[Ze][Wu],In=k[ct][Wu];if(Dt+=jn+In,Dt>We){var Qn=Ar-Kt+1;k.splice(Kt,Qn);break}Kt=Ze,Ar=ct,Ze++,ct--}}return k}function zm(T){var k="";if(T&&(k=T.typeName||T[ic]||"",!k))try{var z=/function (.{1,200})\(/,Y=z.exec(T.constructor[bf]());k=Y&&Y[En]>1?Y[1]:""}catch{}return k}function Ih(T){if(T)try{if(!be(T)){var k=zm(T),z=bn(T,!1);return(!z||z==="{}")&&(T[Kl]&&(T=T[Kl],k=zm(T)),z=bn(T,!0)),Ta(z,k)!==0&&k!=="String"?k+":"+z:z}}catch{}return""+(T||"")}var jg=function(){function T(k,z,Y,ve,We,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ct=this;ct.ver=2,Pf(z)?(ct[Rg]=z[Rg]||[],ct[oc]=z[oc],ct[Sf]=z[Sf],z[Sh]&&(ct[Sh]=z[Sh]),z.id&&(ct.id=z.id),z[qd]&&(ct[qd]=z[qd]),ue(z[xg])||(ct[xg]=z[xg])):(Y||(Y={}),ct[Rg]=[new Um(k,z,Y)],ct[oc]=Ud(k,Y),ct[Sf]=Tf(k,ve),We&&(ct[Sh]=We),Ze&&(ct.id=Ze))}return T.CreateAutoException=function(k,z,Y,ve,We,Ze,ct,Dt){var Kt,Ar=zm(We||Ze||k);return Kt={},Kt[Nd]=Gv(k,Ar),Kt.url=z,Kt.lineNumber=Y,Kt.columnNumber=ve,Kt.error=Ih(We||Ze||k),Kt.evt=Ih(Ze||k),Kt[Pu]=Ar,Kt.stackDetails=qg(ct||We||Ze),Kt.errorSrc=Dt,Kt},T.CreateFromInterface=function(k,z,Y,ve){var We=z[Rg]&&Nn(z[Rg],function(ct){return Um[Ep](k,ct)}),Ze=new T(k,_u(_u({},z),{exceptions:We}),Y,ve);return Ze},T.prototype.toInterface=function(){var k,z=this,Y=z.exceptions,ve=z.properties,We=z.measurements,Ze=z.severityLevel,ct=z.problemGroup,Dt=z.id,Kt=z.isManual,Ar=Y instanceof Array&&Nn(Y,function(jn){return jn.toInterface()})||void 0;return k={ver:"4.0"},k[Rg]=Ar,k.severityLevel=Ze,k.properties=ve,k.measurements=We,k.problemGroup=ct,k.id=Dt,k.isManual=Kt,k},T.CreateSimpleException=function(k,z,Y,ve,We,Ze){var ct;return{exceptions:[(ct={},ct[jd]=!0,ct.message=k,ct.stack=We,ct.typeName=z,ct)]}},T.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",T.dataType="ExceptionData",T.formatError=Ih,T}(),Um=function(){function T(k,z,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ve=this;if(kp(z))ve[Pu]=z[Pu],ve[Nd]=z[Nd],ve[cc]=z[cc],ve[ou]=z[ou]||[],ve[jd]=z[jd];else{var We=z,Ze=We&&We.evt;ze(We)||(We=We[Kl]||Ze||We),ve[Pu]=sc(k,zm(We))||ml,ve[Nd]=zd(k,Gv(z||We,ve[Pu]))||ml;var ct=z[Yl]||qg(z);ve[ou]=Jl(ct),$e(ve[ou])&&Nn(ve[ou],function(Dt){Dt[Pp]=sc(k,Dt[Pp]),Dt[Ch]=sc(k,Dt[Ch])}),ve[cc]=Og(k,l_(ct)),ve.hasFullStack=$e(ve.parsedStack)&&ve.parsedStack[En]>0,Y&&(Y[Pu]=Y[Pu]||ve[Pu])}}return T.prototype.toInterface=function(){var k,z=this,Y=z[ou]instanceof Array&&Nn(z[ou],function(We){return We.toInterface()}),ve=(k={id:z.id,outerId:z.outerId,typeName:z[Pu],message:z[Nd],hasFullStack:z[jd],stack:z[cc]},k[ou]=Y||void 0,k);return ve},T.CreateFromInterface=function(k,z){var Y=z[ou]instanceof Array&&Nn(z[ou],function(We){return Ru[Ep](We)})||z[ou],ve=new T(k,_u(_u({},z),{parsedStack:Y}));return ve},T}(),Ru=function(){function T(k,z){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[Wu]=0,typeof k=="string"){var ve=k;Y[Pm]=z,Y[Rp]=TT,Y[Pp]=ra(ve),Y[Ch]="",Y[Rm]=0;var We=ve.match(T.regex);We&&We[En]>=5&&(Y[Rp]=ra(We[2])||Y[Rp],Y[Ch]=ra(We[4]),Y[Rm]=parseInt(We[5])||0)}else Y[Pm]=k[Pm],Y[Rp]=k[Rp],Y[Pp]=k[Pp],Y[Ch]=k[Ch],Y[Rm]=k[Rm],Y[Wu]=0;Y.sizeInBytes+=Y.method[En],Y.sizeInBytes+=Y.fileName[En],Y.sizeInBytes+=Y.assembly[En],Y[Wu]+=T.baseSize,Y.sizeInBytes+=Y.level.toString()[En],Y.sizeInBytes+=Y.line.toString()[En]}return T.CreateFromInterface=function(k){return new T(k,null)},T.prototype.toInterface=function(){var k=this;return{level:k[Pm],method:k[Rp],assembly:k[Pp],fileName:k[Ch],line:k[Rm]}},T.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,T.baseSize=58,T}(),Wd=function(){function T(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return T}(),Ob=function(){function T(k,z,Y,ve,We,Ze,ct,Dt,Kt){this.aiDataContract={ver:1,metrics:1,properties:0};var Ar=this;Ar.ver=2;var jn=new Wd;jn[Tp]=ve>0?ve:void 0,jn.max=isNaN(Ze)||Ze===null?void 0:Ze,jn.min=isNaN(We)||We===null?void 0:We,jn[ic]=sc(k,z)||ml,jn.value=Y,jn.stdDev=isNaN(ct)||ct===null?void 0:ct,Ar.metrics=[jn],Ar[oc]=Ud(k,Dt),Ar[Sf]=Tf(k,Kt)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",T.dataType="MetricData",T}(),Xl="";function Kv(T,k){return k===void 0&&(k=!1),T==null?k:T.toString()[Md]()==="true"}function Ql(T){(isNaN(T)||T<0)&&(T=0),T=Math.round(T);var k=Xl+T%1e3,z=Xl+Math.floor(T/1e3)%60,Y=Xl+Math.floor(T/(1e3*60))%60,ve=Xl+Math.floor(T/(1e3*60*60))%24,We=Math.floor(T/(1e3*60*60*24));return k=k[En]===1?"00"+k:k[En]===2?"0"+k:k,z=z[En]<2?"0"+z:z,Y=Y[En]<2?"0"+Y:Y,ve=ve[En]<2?"0"+ve:ve,(We>0?We+".":Xl)+ve+":"+Y+":"+z+"."+k}function Ib(T,k){var z=null;return Ln(T,function(Y){if(Y.identifier===k)return z=Y,-1}),z}function Yv(T,k,z,Y,ve){return!ve&&be(T)&&(T==="Script error."||T==="Script error")}var Zl=function(){function T(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=Om(k,ct),Dt.url=Uv(k,Y),Dt[ic]=sc(k,z)||ml,isNaN(ve)||(Dt[Cf]=Ql(ve)),Dt[oc]=Ud(k,We),Dt[Sf]=Tf(k,Ze)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",T.dataType="PageviewData",T}(),kb=function(){function T(k,z,Y,ve,We,Ze,ct,Dt,Kt,Ar,jn,In){Kt===void 0&&(Kt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Qn=this;Qn.ver=2,Qn.id=z,Qn[Cf]=Ql(We),Qn.success=Ze,Qn.resultCode=ct+"",Qn.type=sc(k,Kt);var Qr=Eh(k,Y,Dt,ve);Qn.data=Uv(k,ve)||Qr.data,Qn.target=sc(k,Qr.target),Ar&&(Qn.target="".concat(Qn.target," | ").concat(Ar)),Qn[ic]=sc(k,Qr[ic]),Qn[oc]=Ud(k,jn),Qn[Sf]=Tf(k,In)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",T.dataType="RemoteDependencyData",T}(),Ab=function(){function T(k,z,Y,ve,We){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,z=z||ml,Ze[Nd]=zd(k,z),Ze[oc]=Ud(k,ve),Ze[Sf]=Tf(k,We),Y&&(Ze[Sh]=Y)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.Message",T.dataType="MessageData",T}(),d_=function(){function T(k,z,Y,ve,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=Uv(k,Y),Dt[ic]=sc(k,z)||ml,Dt[oc]=Ud(k,We),Dt[Sf]=Tf(k,Ze),ct&&(Dt.domProcessing=ct.domProcessing,Dt[Cf]=ct[Cf],Dt.networkConnect=ct.networkConnect,Dt.perfTotal=ct.perfTotal,Dt[Th]=ct[Th],Dt.sentRequest=ct.sentRequest)}return T.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",T.dataType="PageviewPerformanceData",T}(),Rf=function(){function T(k,z){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=z}return T}(),Hm=Al({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Lb=function(){function T(){}return T.getConfig=function(k,z,Y,ve){ve===void 0&&(ve=!1);var We;return Y&&k[Dp]&&k[Dp][Y]&&!ue(k[Dp][Y][z])?We=k[Dp][Y][z]:We=k[z],ue(We)?ve:We},T}();function xf(T){var k="ai."+T+".";return function(z){return k+z}}var uc=xf("application"),Vo=xf("device"),_l=xf("location"),zg=xf("operation"),ed=xf("session"),Of=xf("user"),xu=xf("cloud"),Ug=xf("internal"),Jv=function(T){Sd(k,T);function k(){return T.call(this)||this}return k}(Bu({applicationVersion:uc("ver"),applicationBuild:uc("build"),applicationTypeId:uc("typeId"),applicationId:uc("applicationId"),applicationLayer:uc("layer"),deviceId:Vo("id"),deviceIp:Vo("ip"),deviceLanguage:Vo("language"),deviceLocale:Vo("locale"),deviceModel:Vo("model"),deviceFriendlyName:Vo("friendlyName"),deviceNetwork:Vo("network"),deviceNetworkName:Vo("networkName"),deviceOEMName:Vo("oemName"),deviceOS:Vo("os"),deviceOSVersion:Vo("osVersion"),deviceRoleInstance:Vo("roleInstance"),deviceRoleName:Vo("roleName"),deviceScreenResolution:Vo("screenResolution"),deviceType:Vo("type"),deviceMachineName:Vo("machineName"),deviceVMName:Vo("vmName"),deviceBrowser:Vo("browser"),deviceBrowserVersion:Vo("browserVersion"),locationIp:_l("ip"),locationCountry:_l("country"),locationProvince:_l("province"),locationCity:_l("city"),operationId:zg("id"),operationName:zg("name"),operationParentId:zg("parentId"),operationRootId:zg("rootId"),operationSyntheticSource:zg("syntheticSource"),operationCorrelationVector:zg("correlationVector"),sessionId:ed("id"),sessionIsFirst:ed("isFirst"),sessionIsNew:ed("isNew"),userAccountAcquisitionDate:Of("accountAcquisitionDate"),userAccountId:Of("accountId"),userAgent:Of("userAgent"),userId:Of("id"),userStoreRegion:Of("storeRegion"),userAuthUserId:Of("authUserId"),userAnonymousUserAcquisitionDate:Of("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Of("authUserAcquisitionDate"),cloudName:xu("name"),cloudRole:xu("role"),cloudRoleVer:xu("roleVer"),cloudRoleInstance:xu("roleInstance"),cloudEnvironment:xu("environment"),cloudLocation:xu("location"),cloudDeploymentUnit:xu("deploymentUnit"),internalNodeName:Ug("nodeName"),internalSdkVersion:Ug("sdkVersion"),internalAgentVersion:Ug("agentVersion"),internalSnippet:Ug("snippet"),internalSdkSrc:Ug("sdkSrc")}));function Mb(T,k,z,Y,ve,We){var Ze;z=sc(Y,z)||ml,(ue(T)||ue(k)||ue(z))&&cr("Input doesn't contain all required fields");var ct="";T[Tm]&&(ct=T[Tm],delete T[Tm]);var Dt=(Ze={},Ze[ic]=z,Ze.time=zi(new Date),Ze.iKey=ct,Ze.ext=We||{},Ze.tags=[],Ze.data={},Ze.baseType=k,Ze.baseData=T,Ze);return ue(ve)||Lr(ve,function(Kt,Ar){Dt.data[Kt]=Ar}),Dt}var f_=function(){function T(){}return T.create=Mb,T}(),Ap={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Hg=new Jv;function IS(T){var k=null;if(xe(Event))k=new Event(T);else{var z=ta();z&&z.createEvent&&(k=z.createEvent("Event"),k.initEvent(T,!0,!0))}return k}var Nb="AppInsightsPropertiesPlugin",Fb="AppInsightsChannelPlugin",kS="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=kS,r.BreezeChannelIdentifier=Fb,r.ConfigurationManager=Lb,r.ConnectionStringParser=Nm,r.ContextTagKeys=Jv,r.CtxTagKeys=Hg,r.DEFAULT_BREEZE_ENDPOINT=Eu,r.DEFAULT_BREEZE_PATH=Cm,r.Data=Rf,r.DisabledPropertyName=Sm,r.DistributedTracingModes=yl,r.Envelope=Fm,r.Event=OS,r.Exception=jg,r.Extensions=Ap,r.HttpMethod=xc,r.Metric=Ob,r.PageView=Zl,r.PageViewPerformance=d_,r.ProcessLegacy=Ld,r.PropertiesPluginIdentifier=Nb,r.RemoteDependencyData=kb,r.RequestHeaders=Dg,r.SampleRate=xa,r.SeverityLevel=Hm,r.TelemetryItemCreator=f_,r.ThrottleMgr=CT,r.Trace=Ab,r.correlationIdCanIncludeCorrelationHeader=Lg,r.correlationIdGetCorrelationContext=ST,r.correlationIdGetCorrelationContextValue=$l,r.correlationIdGetPrefix=wT,r.correlationIdSetPrefix=Ag,r.createDistributedTraceContextFromTrace=km,r.createDomEvent=IS,r.createTelemetryItem=Mb,r.createTraceParent=ns,r.dataSanitizeException=Og,r.dataSanitizeId=Om,r.dataSanitizeInput=Ig,r.dataSanitizeKey=Pb,r.dataSanitizeKeyAndAddUniqueness=xm,r.dataSanitizeMeasurements=Tf,r.dataSanitizeMessage=zd,r.dataSanitizeProperties=Ud,r.dataSanitizeString=sc,r.dataSanitizeUrl=Uv,r.dateTimeUtilsDuration=s_,r.dateTimeUtilsNow=Im,r.dsPadNumber=Oc,r.findW3cTraceParent=wm,r.formatTraceParent=o_,r.getExtensionByName=Ib,r.isBeaconApiSupported=uo,r.isCrossOriginError=Yv,r.isInternalApplicationInsightsEndpoint=$v,r.isSampledFlag=_f,r.isValidSpanId=wp,r.isValidTraceId=bm,r.isValidTraceParent=Sp,r.msToTimeSpan=Ql,r.parseConnectionString=ac,r.parseTraceParent=Ad,r.strNotSpecified=ml,r.stringToBoolOrDefault=Kv,r.urlGetAbsoluteUrl=xp,r.urlGetCompleteUrl=Rb,r.urlGetPathName=Dh,r.urlParseFullHost=Bd,r.urlParseHost=ES,r.urlParseUrl=Hd,r.utlCanUseLocalStorage=xh,r.utlCanUseSessionStorage=Gl,r.utlDisableStorage=Rh,r.utlEnableStorage=PS,r.utlGetLocalStorage=RS,r.utlGetSessionStorage=Ip,r.utlGetSessionStorageKeys=Mg,r.utlRemoveSessionStorage=Ng,r.utlRemoveStorage=Oh,r.utlSetLocalStorage=Am,r.utlSetSessionStorage=Lm,r.utlSetStoragePrefix=a_})});var ave=E((dq,sve)=>{(function(r,e){typeof dq=="object"&&typeof sve<"u"?e(dq):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(dq,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",m="Symbol",_="_polyfill",D="indexOf",O="length",M="done",A="value",U="name",ne="slice",de=Object,ye=de[c],V=String,$=V[c],ee=Math,De=Array,ae=De[c];function ce(h,y){var w=y;try{w=h()}catch{}return w}var qe=[l,s,i,d,"symbol","bigint"];function Ne(h){return function(y){return typeof y===h}}function ue(h){var y="[object "+h+"]";return function(w){return!!(w&&Ce(w)===y)}}function Ce(h){return ye.toString.call(h)}function be(h){return typeof h===d||h===d}function xe(h){return h===t||be(h)}function Me(h){return h===t||!$e(h)}function $e(h){return!!h||h!==e}var Ct=function(h){return h!==a&&qe.indexOf(h)!==-1},ze=Ne(l),st=Ne(o);function at(h){return!h&&xe(h)?!1:!!h&&typeof h===a}var tt=De.isArray,fr=ue("Date"),Lr=Ne(s),zr=Ne(i),cr=ue("Error");function xt(h){return!!h&&st(h.then)}function hr(h){return!(!h||ce(function(){return!(h&&0+h)},!h))}var Mt=de.getOwnPropertyDescriptor;function on(h,y){return h&&ye.hasOwnProperty.call(h,y)}var un=de.hasOwn||On;function On(h,y){return on(h,y)||!!Mt(h,y)}function Or(h,y,w){if(h&&at(h)){for(var R in h)if(un(h,R)&&y.call(w||h,R,h[R])===-1)break}}function Hn(h,y,w,R){var q={};return Or(h,function(G,te){q[G]=y?te:G,q[te]=w?te:G}),R(q)}function $r(h){throw new Error(h)}function ln(h){throw new TypeError(h)}var ii=de.freeze,Vr=function(h){return h},An=function(h){return h[u]||t},Ri=de.assign;function Gr(h){return(!at(h)||h===t)&&ln("objKeys called on non-object"),de.keys(h)}function Ji(h){return ii&&Or(h,function(y,w){(tt(w)||at(w))&&ii(w)}),oi(h)}var oi=ii||Vr,fn=de.getPrototypeOf||An;function Oe(h){return Hn(h,1,0,Ji)}function oe(h){return Hn(h,0,0,Ji)}function Q(h){var y={};return Or(h,function(w,R){y[w]=R[1],y[R[0]]=R[1]}),Ji(y)}function _e(h){return Q(h)}var Je=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=V,Yt="__tsUtils$gblCfg",rr;function Jt(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}function $t(){if(!rr){var h=Jt()||{};rr=h[Yt]=h[Yt]||{}}return rr}function kt(h,y){var w=n;if(cr(h))w="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{w=JSON.stringify(h,t,y?Lr(y)?y:4:e)}catch(R){w=" - "+kt(R,y)}return Ce(h)+": "+w}var K=ae[ne],Fe=function(h,y){ln("'"+ft(h)+"' not defined for "+kt(y))},Ht=function(h){return function(y){return y[h].apply(y,K.call(arguments,1))}},Dr=function(h,y){var w=y&&y[h];return function(R){var q=R&&R[h]||w;if(q)return q.apply(R,K.call(arguments,1));Fe(h,R)}},He=function(h,y,w){var R=y&&y[h];return function(q){var G=q&&q[h]||R;if(G||w){var te=arguments;return(G||w).apply(q,G?K.call(te,1):te)}Fe(h,q)}};function re(h){return function(y){return y[h]}}var Re=ee.max,je=Dr(ne,$),he=Dr("substring",$),S=He("substr",$,fe);function fe(h,y,w){return xe(h)&&ln("'polyStrSubstr called with invalid "+kt(h)),w<0?n:(y=y||0,y<0&&(y=Re(y+h[O],0)),be(w)?je(h,y):je(h,y,y+w))}function Ye(h,y){return he(h,0,y)}var Tr="_urid",Wr;function Xr(){if(!Wr){var h=$t();Wr=h.gblSym=h.gblSym||{k:{},s:{}}}return Wr}var qn={};function xi(h){var y={description:ft(h),toString:function(){return m+"("+h+")"}};return y[_]=!0,y}function ks(h){var y=Xr();if(!un(y.k,h)){var w=xi(h),R=Gr(y.s).length;w[Tr]=function(){return R+"_"+w.toString()},y.k[h]=w,y.s[w[Tr]()]=ft(h)}return y.k[h]}function Sn(h){var y,w=Je[h];return w&&(y=qn[w]=qn[w]||xi(m+"."+w)),y}var es={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Bs(h){var y={};if(y[es.c]=!0,y[es.e]=!0,h.l){y.get=function(){return h.l.v};var w=Mt(h.l,"v");w&&w.set&&(y.set=function(R){h.l.v=R})}return Or(h,function(R,q){y[es[R]]=be(q)?y[es[R]]:q}),y}var ta=de.defineProperty;function Fo(h,y,w){return ta(h,y,Bs(w))}var Eo,H=function(){Eo=$t(),H=t};function Ue(h){var y={};return H&&H(),y.b=Eo.lzy,ta(y,"v",{configurable:!0,get:function(){var w=h();return Eo.lzy||(ta(y,"v",{value:w}),y.b&&delete y.b),Eo.lzy&&y.b!==Eo.lzy&&(y.b=Eo.lzy),w}}),y}function vt(h,y){return Ue(function(){return ce(h,y)})}var Fr="window",so,Bi,N,Le,rt,zt=function(h){return vt(function(){return Cn(h)||e},e)},Ln=function(h){return(!so||h===!1||Eo&&Eo.lzy&&!so.b)&&(so=vt(Jt,t)),so.v},Cn=function(h,y){var w=!so||y===!1?Ln(y):so.v;return w&&w[h]?w[h]:h===Fr&&Bi?Bi.v:t},Nn=function(){return!!ao()},ao=function(){return(!N||Eo&&Eo.lzy&&!N.b)&&(N=zt("document")),N.v},ji=function(){return!!Po()},Po=function(){return(!Bi||Eo&&Eo.lzy&&!Bi.b)&&(Bi=zt(Fr)),Bi.v},$i=function(){return!!Jn()},Jn=function(){return(!Le||Eo&&Eo.lzy&&!Le.b)&&(Le=zt("navigator")),Le.v},pu=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},ts,yo,al;function Mi(h){return vt(function(){return ts.v?ts.v[h]:e},e)}function Ja(){return!!Xa()}function Xa(){var h=!ts||Eo&&Eo.lzy&&!ts.b;return h&&(ts=zt(m)),(!yo||h)&&(yo=Mi("for")),(!al||h)&&(al=Mi("keyFor")),ts.v}function ha(h,y){var w=Je[h];return(!ts||Eo.lzy&&!ts.b)&&Xa(),ts.v?ts.v[w||h]:y?e:Sn(h)}function cl(h,y){return(!ts||Eo.lzy&&!ts.b)&&Xa(),ts.v?ts.v(h):y?t:xi(h)}function lh(h){return(!yo||Eo.lzy&&!ts.b)&&Xa(),(yo.v||ks)(h)}function Cc(h){return!!h&&st(h.next)}function ra(h){return!Me(h)&&st(h[ha(3)])}var mu;function dh(h,y,w){if(h&&(Cc(h)||(!mu&&(mu=Ue(function(){return ha(3)})),h=h[mu.v]?h[mu.v]():null),Cc(h))){var R=void 0,q=void 0;try{for(var G=0;!(q=h.next())[M]&&y.call(w||h,q[A],G,h)!==-1;)G++}catch(te){R={e:te},h.throw&&(q=null,h.throw(R))}finally{try{q&&!q[M]&&h.return&&h.return(q)}finally{if(R)throw R.e}}}}var Uo=Ht("apply");function Ws(h,y){return!be(y)&&h&&(tt(y)?Uo(h.push,h,y):Cc(y)||ra(y)?dh(y,function(w){h.push(w)}):h.push(y)),h}function Dn(h,y,w){if(h)for(var R=h[O]>>>0,q=0;q<R&&!(q in h&&y.call(w||h,h[q],q,h)===-1);q++);}var $s=Dr(D,ae),gu=Dr("map",ae),si=Dr(ne,ae),Ta=Ht("call"),Xc=Dr("reduce",ae),fh=de.create,af=fh||ap;function ap(h){if(!h)return{};var y=typeof h;if(y!==a&&y!==o)throw new TypeError("Prototype must be an Object or function: "+kt(h));function w(){}return w[c]=h,new w}var cf;function cp(h,y){var w=de.setPrototypeOf||function(R,q){!cf&&(cf=Ue(function(){var G;return G={},G[u]=[],G instanceof Array})),cf.v?R[u]=q:Or(q,function(G,te){return R[G]=te})};return w(h,y)}var uf=function(h,y,w){Xn(y,h),y=cp(y,w);function R(){this.constructor=y,Xn(this,h)}return y[c]=w===t?af(w):(R[c]=w[c],new R),y},Al=function(h,y){try{y&&(h[U]=y)}catch{}},Xn=function(h,y){try{Fo(h,U,{v:y,c:!0,e:!1})}catch{}};function Vs(h,y,w){var R=w||Error,q=R[c][U],G=Error.captureStackTrace;return uf(h,function(){var te=this;try{Al(R,h);var le=Uo(R,te,si(arguments))||te;if(le!==te){var Ee=fn(te);Ee!==fn(le)&&cp(le,Ee)}return G&&G(le,te[f]),y&&y(le,arguments),le}finally{Al(R,q)}},R)}function Ll(){return(Date.now||co)()}function co(){return new Date().getTime()}function hh(h){return function(w){return xe(w)&&ln("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(h,n)),w}}var ph=hh(/^\s+|(?=\s)\s+$/g),Gs=He("trim",$,ph),vu,mh,yd;function Ss(h){if(!h||typeof h!==a)return!1;yd||(yd=ji()?Po():!0);var y=!1;if(h!==yd){mh||(vu=Function[c].toString,mh=Ta(vu,de));try{var w=fn(h);y=!w,y||(on(w,f)&&(w=w[f]),y=w&&typeof w===o&&vu.call(w)===mh)}catch{}}return y}var Ml=function(h){return h.value&&na(h),!0},Qc=[_o,na,ff,up];function pm(h,y,w,R){var q;return Dn(h,function(G){if(G.k===y)return q=G,-1}),q||(q={k:y,v:y},h.push(q),R(q)),q.v}function _d(h,y,w,R){var q=w.handler,G=w.path?R?w.path.concat(R):w.path:[],te={handler:w.handler,src:w.src,path:G},le=typeof y,Ee=!1,Ae=!1;y&&le===a?Ee=Ss(y):Ae=y===t||Ct(le);var Ke={type:le,isPrim:Ae,isPlain:Ee,value:y,result:y,path:G,origin:w.src,copy:function(bt,It){return _d(h,bt,It?te:w,It)},copyTo:function(bt,It){return lf(h,bt,It,te)}};return Ke.isPrim?q&&Ta(q,w,Ke)?Ke.result:y:pm(h,y,G,function(bt){Fo(Ke,"result",{g:function(){return bt.v},s:function(ut){bt.v=ut}});for(var It=0,yt=q;!Ta(yt||(It<Qc.length?Qc[It++]:Ml),w,Ke);)yt=t})}function lf(h,y,w,R){if(!xe(w))for(var q in w)y[q]=_d(h,w[q],R,q);return y}function df(h,y,w){var R={handler:w,src:y,path:[]};return lf([],h,y,R)}function Tc(h,y){var w={handler:y,src:h};return _d([],h,w)}function _o(h){var y=h.value;if(tt(y)){var w=h.result=[];return w.length=y.length,h.copyTo(w,y),!0}return!1}function up(h){var y=h.value;return fr(y)?(h.result=new Date(y.getTime()),!0):!1}function ff(h){return h.type===o}function na(h){var y=h.value;if(y&&h.isPlain){var w=h.result={};return h.copyTo(w,y),!0}return!1}function ul(h,y){return Dn(y,function(w){df(h,w)}),h}function yu(h,y,w,R,q,G,te){return ul(Tc(h)||{},si(arguments))}var Av=re(O),ia=He("endsWith",$,Jy);function Jy(h,y,w){ze(h)||ln("'"+kt(h)+"' is not a string");var R=ze(y)?y:ft(y),q=R[O],G=h[O],te=!be(w)&&w<G?w:G;return he(h,te-q,te)===R}var Nu=Dr(D,$),bd="ref",Ho="un"+bd,Nl="hasRef",gh="enabled";function wg(h,y,w){var R,q=!0,G=h?y(t):t,te,le=function(){return q=!1,G&&G[Ho]&&G[Ho](),te},Ee=function(){return q=!0,G&&G[bd]&&G[bd](),te},Ae=function(){return G&&G[Nl]?G[Nl]():q},Ke=function(){return G=y(G),q||le(),te},bt=function(){G&&w(G),G=t},It=function(yt){!yt&&G&&bt(),yt&&!G&&Ke()};return te=(R={cancel:bt,refresh:Ke},R[Nl]=Ae,R[bd]=Ee,R[Ho]=le,R[gh]=!1,R),ta(te,gh,{get:function(){return!!G},set:It}),{h:te,dn:function(){G=t}}}function wd(h,y,w,R){var q=tt(w),G=q?w.length:0,te=(G>0?w[0]:q?e:w)||setTimeout,le=(G>1?w[1]:e)||clearTimeout,Ee=R[0];R[0]=function(){Ae.dn(),Uo(Ee,h,si(arguments))};var Ae=wg(y,function(Ke){if(Ke){if(Ke.refresh)return Ke.refresh(),Ke;Uo(le,h,[Ke])}return Uo(te,h,R)},function(Ke){Uo(le,h,[Ke])});return Ae.h}function vh(h,y){return wd(this,!0,e,si(arguments))}function lp(h,y){return wd(this,!1,e,si(arguments))}var Fl,dp="constructor",Fu="prototype",yh="function",_u="_dynInstFuncs",hf="_isDynProxy",Sd="_dynClass",pf="_dynCls$",Cd="_dynInstChk",Ks=Cd,Da="_dfOpts",Ro="_unknown_",Zc="__proto__",Qa="_dyn"+Zc,Sg="__dynProto$Gbl",qu="_dynInstProto",Ys="useBaseInst",ql="setInstFuncs",fp=Object,bu=fp.getPrototypeOf,ll=fp.getOwnPropertyNames,_h=Ln(),Dc=_h[Sg]||(_h[Sg]={o:(Fl={},Fl[ql]=!0,Fl[Ys]=!0,Fl),n:1e3});function ju(h){return h&&(h===fp[Fu]||h===Array[Fu])}function Cs(h){return ju(h)||h===Function[Fu]}function eu(h){var y;if(h){if(bu)return bu(h);var w=h[Zc]||h[Fu]||(h[dp]?h[dp][Fu]:null);y=h[Qa]||w,on(h,Qa)||(delete h[qu],y=h[Qa]=h[qu]||h[Qa],h[qu]=w)}return y}function zu(h,y){var w=[];if(ll)w=ll(h);else for(var R in h)typeof R=="string"&&on(h,R)&&w.push(R);if(w&&w.length>0)for(var q=0;q<w.length;q++)y(w[q])}function Uu(h,y,w){return y!==dp&&typeof h[y]===yh&&(w||on(h,y))}function oa(h){ln("DynamicProto: "+h)}function Cg(h){var y={};return zu(h,function(w){!y[w]&&Uu(h,w,!1)&&(y[w]=h[w])}),y}function Za(h,y){for(var w=h.length-1;w>=0;w--)if(h[w]===y)return!0;return!1}function dl(h,y,w,R){function q(Ee,Ae,Ke){var bt=Ae[Ke];if(bt[hf]&&R){var It=Ee[_u]||{};It[Ks]!==!1&&(bt=(It[Ae[Sd]]||{})[Ke]||bt)}return function(){return bt.apply(Ee,arguments)}}var G={};zu(w,function(Ee){G[Ee]=q(y,w,Ee)});for(var te=eu(h),le=[];te&&!Cs(te)&&!Za(le,te);)zu(te,function(Ee){!G[Ee]&&Uu(te,Ee,!bu)&&(G[Ee]=q(y,te,Ee))}),le.push(te),te=eu(te);return G}function Bo(h,y,w,R){var q=null;if(h&&on(w,Sd)){var G=h[_u]||{};if(q=(G[w[Sd]]||{})[y],q||oa("Missing ["+y+"] "+yh),!q[Cd]&&G[Ks]!==!1){for(var te=!on(h,y),le=eu(h),Ee=[];te&&le&&!Cs(le)&&!Za(Ee,le);){var Ae=le[y];if(Ae){te=Ae===R;break}Ee.push(le),le=eu(le)}try{te&&(h[y]=q),q[Cd]=1}catch{G[Ks]=!1}}}return q}function Wo(h,y,w){var R=y[h];return R===w&&(R=eu(y)[h]),typeof R!==yh&&oa("["+h+"] is not a "+yh),R}function mf(h,y,w,R,q){function G(Ee,Ae){var Ke=function(){var bt=Bo(this,Ae,Ee,Ke)||Wo(Ae,Ee,Ke);return bt.apply(this,arguments)};return Ke[hf]=1,Ke}if(!ju(h)){var te=w[_u]=w[_u]||{},le=te[y]=te[y]||{};te[Ks]!==!1&&(te[Ks]=!!q),zu(w,function(Ee){Uu(w,Ee,!1)&&w[Ee]!==R[Ee]&&(le[Ee]=w[Ee],delete w[Ee],(!on(h,Ee)||h[Ee]&&!h[Ee][hf])&&(h[Ee]=G(h,Ee)))})}}function Hu(h,y){if(bu){for(var w=[],R=eu(y);R&&!Cs(R)&&!Za(w,R);){if(R===h)return!0;w.push(R),R=eu(R)}return!1}return!0}function gf(h,y){return on(h,Fu)?h.name||y||Ro:((h||{})[dp]||{}).name||y||Ro}function qo(h,y,w,R){on(h,Fu)||oa("theClass is an invalid class definition.");var q=h[Fu];Hu(q,y)||oa("["+gf(h)+"] not in hierarchy of ["+gf(y)+"]");var G=null;on(q,Sd)?G=q[Sd]:(G=pf+gf(h,"_")+"$"+Dc.n,Dc.n++,q[Sd]=G);var te=qo[Da],le=!!te[Ys];le&&R&&R[Ys]!==void 0&&(le=!!R[Ys]);var Ee=Cg(y),Ae=dl(q,y,Ee,le);w(y,Ae);var Ke=!!bu&&!!te[ql];Ke&&R&&(Ke=!!R[ql]),mf(q,G,y,Ee,Ke!==!1)}qo[Da]=Dc.o;var jl="function",vf="object",pa="undefined",wu="prototype",sa=Object,As=sa[wu];(Ln()||{}).Symbol,(Ln()||{}).Reflect;var zl="hasOwnProperty",Lv=function(h){for(var y,w=1,R=arguments.length;w<R;w++){y=arguments[w];for(var q in y)As[zl].call(y,q)&&(h[q]=y[q])}return h},hs=Ri||Lv,tu=function(h,y){return tu=sa.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var q in R)R[zl](q)&&(w[q]=R[q])},tu(h,y)};function fl(h,y){typeof y!==jl&&y!==null&&ln("Class extends value "+String(y)+" is not a constructor or null"),tu(h,y);function w(){this.constructor=h}h[wu]=y===null?af(y):(w[wu]=y[wu],new w)}function bh(h,y){for(var w=0,R=y.length,q=h.length;w<R;w++,q++)h[q]=y[w];return h}var Td=Oe,hp=_e,ec="toLowerCase",mm="blkVal",zi="length",rs="rdOnly",Bu="notify",Ec="warnToConsole",Pc="throwInternal",aa="setDf",hl="watch",Vi="logger",yf="apply",wi="push",Ea="splice",Bn="hdlr",Dd="cancel",Ul="initialize",Rc="identifier",$o="isInitialized",tc="getPlugin",ca="pollInternalLogs",uo="name",Su="time",Fn="processNext",ru="getProcessTelContext",xo="getNotifyMgr",ai="addNotificationListener",Hl="removeNotificationListener",Pa="enabled",ma="stopPollingInternalLogs",ua="unload",Bl="onComplete",rc="version",Ed="loggingLevelConsole",Ts="createNew",nu="teardown",pl="messageId",Wl="message",Pd="isAsync",g="diagLog",v="_doTeardown",P="update",x="getNext",F="setNextPlugin",J="userAgent",Z="split",pe="nodeType",ke="replace",Qe="logInternalMessage",ht="type",Ut="handler",Sr="isChildEvt",sn="getCtx",jr="setCtx",Wn="complete",Js="traceId",nc="spanId",Cu="traceFlags",pp;function gm(h,y){pp||(pp=Vs("AggregationError",function(R,q){q[zi]>1&&(R.errors=q[1])}));var w=h||"One or more errors occurred.";throw Dn(y,function(R,q){w+=`
`.concat(q," > ").concat(kt(R))}),new pp(w,y||[])}function Ra(h,y){return mp(h,function(w){y&&y({value:w,rejected:!1})},function(w){y&&y({rejected:!0,reason:w})})}function mp(h,y,w,R){var q=h;return xt(h)?(y||w)&&(q=h.then(y,w)):y&&y(h),R&&(q=wh(q,R)),q}function wh(h,y){var w=h;return y&&(xt(h)?h.finally?w=h.finally(y):w=h.then(function(R){return y(),R},function(R){throw y(),R}):y()),w}var Rd=["pending","resolving","resolved","rejected"],Tu="dispatchEvent",Tg;function Xy(h,y,w,R){var q=ao();!Tg&&(Tg=vt(function(){var Ee;return q&&q.createEvent&&(Ee=q.createEvent("Event")),!!Ee&&Ee.initEvent},null));var G=Tg.v?q.createEvent("Event"):R?new Event(y):{};if(w&&w(G),Tg.v&&G.initEvent(y,!1,!0),G&&h[Tu])h[Tu](G);else{var te=h["on"+y];if(te)te(G);else{var le=Cn("console");le&&(le.error||le.log)(y,kt(G))}}}var gp="Promise",vp="unhandledRejection",Qy=vp.toLowerCase(),Zy=10,e_;function Db(h){return st(h)?h.toString():kt(h)}function vm(h,y,w){var R=si(arguments,3),q=0,G=!1,te,le=[],Ee=!1,Ae=null,Ke;!e_&&(e_=zt(gp+"RejectionEvent"));var bt=function(ar,nn){try{Ee=!0,Ae&&Ae.cancel(),Ae=null;var Ii=h(function(as,Lc){le.push(function(){try{var La=q===2?ar:nn,od=be(La)?te:st(La)?La(te):La;xt(od)?od.then(as,Lc):La?as(od):q===3?Lc(od):as(od)}catch(Gu){Lc(Gu)}}),G&&sr()},R);return Ii}finally{}},It=function(ar){return bt(void 0,ar)},yt=function(ar){var nn=ar,Ii=ar;return st(ar)&&(nn=function(as){return ar&&ar(),as},Ii=function(as){throw ar&&ar(),as}),bt(nn,Ii)},ut=function(){return Rd[q]},sr=function(){if(le.length>0){var ar=le.slice();le=[],Ee=!0,y(ar),Ae&&Ae.cancel(),Ae=null}},Nt=function(ar,nn){return function(Ii){if(q===nn){if(ar===2&&xt(Ii)){q=1,Ii.then(Nt(2,1),Nt(3,1));return}q=ar,G=!0,te=Ii,sr(),!Ee&&ar===3&&!Ae&&(Ae=vh(pr,Zy))}}},pr=function(){if(!Ee)if(pu())process.emit(vp,te,Ke);else{var ar=Po()||Ln();Xy(ar,Qy,function(nn){return Fo(nn,"promise",{g:function(){return Ke}}),nn.reason=te,nn},!!e_.v)}};Ke={then:bt,catch:It,finally:yt},ta(Ke,"state",{get:ut}),Ja()&&(Ke[ha(11)]="IPromise");var er=function(){return"IPromise "+ut()+(G?" - "+Db(te):"")};return Ke.toString=er,function(){st(w)||ln(gp+": executor is not a function - "+Db(w));var nn=Nt(3,0);try{w.call(Ke,Nt(2,0),nn)}catch(Ii){nn(Ii)}}(),Ke}function Mv(h){return function(y){var w=si(arguments,1);return h(function(R,q){try{var G=[],te=1;Dn(y,function(le,Ee){le&&(te++,mp(le,function(Ae){G[Ee]=Ae,--te===0&&R(G)},q))}),te--,te===0&&R(G)}catch(le){q(le)}},w)}}var t_=function(h){Dn(h,function(y){try{y()}catch{}})};function r_(h){var y=Lr(h)?h:0;return function(w){vh(function(){t_(w)},y)}}function ym(h,y){return vm(ym,r_(y),h,y)}var yp;function Eb(h,y){!yp&&(yp=zt(gp));var w=yp.v;if(!w)return ym(h);st(h)||ln(gp+": executor is not a function - "+kt(h));var R=0;function q(){return Rd[R]}var G=new w(function(te,le){function Ee(Ke){R=2,te(Ke)}function Ae(Ke){R=3,le(Ke)}h(Ee,Ae)});return ta(G,"state",{get:q}),G}var n_;function _p(h,y){return!n_&&(n_=Ue(function(){return Eb})),n_.v.call(this,h,y)}var Nv=Mv(_p),xd=void 0,Xi="",_m="channels",lo="core",i_="createPerfMgr",Fv="disabled",Od="extensionConfig",bp="extensions",iu="processTelemetry",Id="priority",kd="eventsSent",Ls="eventsDiscarded",fi="eventsSendRequest",Du="perfEvent",ns="getPerfMgr",Ad="domain",bm="path",wp="Not dynamic - ",Sp=/-([a-z])/g,_f=/([^\w\d_$])/g,o_=/^(\d+[\w\d_$])/;function wm(h){return!xe(h)}function Sm(h){var y=h;return y&&ze(y)&&(y=y[ke](Sp,function(w,R){return R.toUpperCase()}),y=y[ke](_f,"_"),y=y[ke](o_,function(w,R){return"_"+R})),y}function xa(h,y){return h&&y?Nu(h,y)!==-1:!1}function Ld(h){return h&&h.toISOString()||""}function xc(h){return cr(h)?h[uo]:Xi}function Eu(h,y,w,R,q){var G=w;return h&&(G=h[y],G!==w&&(!q||q(G))&&(!R||R(w))&&(G=w,h[y]=G)),G}function Cm(h,y,w){var R;return h?(R=h[y],!R&&xe(R)&&(R=be(w)?{}:w,h[y]=R)):R=be(w)?{}:w,R}function ml(h,y){var w=null,R=null;return st(h)?w=h:R=h,function(){var q=arguments;if(w&&(R=w()),R)return R[y][yf](R,q)}}function Tm(h,y,w,R,q){h&&y&&w&&(q!==!1||be(h[y]))&&(h[y]=ml(w,R))}function Dg(h,y,w,R){return h&&y&&at(h)&&tt(w)&&Dn(w,function(q){ze(q)&&Tm(h,q,y,q,R)}),h}function Cp(h){return function(){function y(){var w=this;h&&Or(h,function(R,q){w[R]=q})}return y}()}function En(h){return h&&Ri&&(h=sa(Ri({},h))),h}function Md(h,y,w,R,q,G){var te=arguments,le=te[0]||{},Ee=te[zi],Ae=!1,Ke=1;for(Ee>0&&zr(le)&&(Ae=le,le=te[Ke]||{},Ke++),at(le)||(le={});Ke<Ee;Ke++){var bt=te[Ke],It=tt(bt),yt=at(bt);for(var ut in bt){var sr=It&&ut in bt||yt&&un(bt,ut);if(sr){var Nt=bt[ut],pr=void 0;if(Ae&&Nt&&((pr=tt(Nt))||Ss(Nt))){var er=le[ut];pr?tt(er)||(er=[]):Ss(er)||(er={}),Nt=Md(Ae,er,Nt)}Nt!==void 0&&(le[ut]=Nt)}}}return le}var Ms="documentMode",bf="location",qv="console",ic="JSON",Nd="crypto",Tp="msCrypto",jv="msie",gl="trident/",Eg="XMLHttpRequest",Dm=null,zv=null,Pg=!1,Fd=null,wf=null;function Em(h,y){var w=!1;if(h){try{if(w=y in h,!w){var R=h[wu];R&&(w=y in R)}}catch{}if(!w)try{var q=new h;w=!be(q[y])}catch{}}return w}function Dp(h){if(h&&Pg){var y=Cn("__mockLocation");if(y)return y}return typeof location===vf&&location?location:Cn(bf)}function Rg(){return typeof console!==pa?console:Cn(qv)}function ou(){return!!(typeof JSON===vf&&JSON||Cn(ic)!==null)}function oc(){return ou()?JSON||Cn(ic):null}function Sf(){return Cn(Nd)}function Wu(){return Cn(Tp)}function Pu(){var h=Jn();if(h&&(h[J]!==zv||Dm===null)){zv=h[J];var y=(zv||Xi)[ec]();Dm=xa(y,jv)||xa(y,gl)}return Dm}function Sh(h){if(h===void 0&&(h=null),!h){var y=Jn()||{};h=y?(y.userAgent||Xi)[ec]():Xi}var w=(h||Xi)[ec]();if(xa(w,jv)){var R=ao()||{};return Math.max(parseInt(w[Z](jv)[1]),R[Ms]||0)}else if(xa(w,gl)){var q=parseInt(w[Z](gl)[1]);if(q)return q+4}return null}function qd(h){return(wf===null||h===!1)&&(wf=$i()&&!!Jn().sendBeacon),wf}function xg(h){var y=!1;try{y=!!Cn("fetch");var w=Cn("Request");y&&h&&w&&(y=Em(w,"keepalive"))}catch{}return y}function Ep(){return Fd===null&&(Fd=typeof XDomainRequest!==pa,Fd&&Pp()&&(Fd=Fd&&!Em(Cn(Eg),"withCredentials"))),Fd}function Pp(){var h=!1;try{var y=Cn(Eg);h=!!y}catch{}return h}var Ch=4294967296,jd=4294967295,Pm=123456789,Rp=987654321,Rm=!1,Cf=Pm,Th=Rp;function xm(h){h<0&&(h>>>=0),Cf=Pm+h&jd,Th=Rp-h&jd,Rm=!0}function Pb(){try{var h=Ll()&2147483647;xm((Math.random()*Ch^h)+h)}catch{}}function sc(h){var y=0,w=Sf()||Wu();return w&&w.getRandomValues&&(y=w.getRandomValues(new Uint32Array(1))[0]&jd),y===0&&Pu()&&(Rm||Pb(),y=Uv()&jd),y===0&&(y=Math.floor(Ch*Math.random()|0)),h||(y>>>=0),y}function Uv(h){Th=36969*(Th&65535)+(Th>>16)&jd,Cf=18e3*(Cf&65535)+(Cf>>16)&jd;var y=(Th<<16)+(Cf&65535)>>>0&jd|0;return h||(y>>>=0),y}function zd(h){h===void 0&&(h=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=sc()>>>0,R=0,q=Xi;q[zi]<h;)R++,q+=y.charAt(w&63),w>>>=6,R===5&&(w=(sc()<<2&4294967295|w&3)>>>0,R=0);return q}var Og="3.0.5",Ud="."+zd(6),Tf=0;function Om(h){return h[pe]===1||h[pe]===9||!+h[pe]}function Ig(h,y){var w=y[h.id];if(!w){w={};try{Om(y)&&Fo(y,h.id,{e:!1,v:w})}catch{}}return w}function Oc(h,y){return y===void 0&&(y=!1),Sm(h+Tf+++(y?"."+Og:Xi)+Ud)}function vl(h){var y={id:Oc("_aiData-"+(h||Xi)+"."+Og),accept:function(w){return Om(w)},get:function(w,R,q,G){var te=w[y.id];return te?te[Sm(R)]:(G&&(te=Ig(y,w),te[Sm(R)]=q),q)},kill:function(w,R){if(w&&w[R])try{delete w[R]}catch{}}};return y}function kg(h){return h&&at(h)&&(h.isVal||h.fb||un(h,"v")||un(h,"mrg")||un(h,"ref")||h.set)}function Hv(h,y,w){var R,q=w.dfVal||$e;if(y&&w.fb){var G=w.fb;tt(G)||(G=[G]);for(var te=0;te<G[zi];te++){var le=G[te],Ee=y[le];if(q(Ee)?R=Ee:h&&(Ee=h.cfg[le],q(Ee)&&(R=Ee),h.set(h.cfg,ft(le),Ee)),q(R))break}}return!q(R)&&q(w.v)&&(R=w.v),R}function Hd(h,y,w){var R=w;if(w&&kg(w)&&(R=Hv(h,y,w)),R){kg(R)&&(R=Hd(h,y,R));var q;tt(R)?(q=[],q[zi]=R[zi]):Ss(R)&&(q={}),q&&(Or(R,function(G,te){te&&kg(te)&&(te=Hd(h,y,te)),q[G]=te}),R=q)}return R}function xp(h,y,w,R){var q,G,te,le=R,Ee,Ae,Ke,bt;kg(le)?(q=le.isVal,G=le.set,Ke=le[rs],bt=le[mm],Ee=le.mrg,Ae=le.ref,!Ae&&be(Ae)&&(Ae=!!Ee),te=Hv(h,y,le)):te=R,bt&&h[mm](y,w);var It,yt=!0,ut=y[w];(ut||!xe(ut))&&(It=ut,yt=!1,q&&It!==te&&!q(It)&&(It=te,yt=!0),G&&(It=G(It,te,y),yt=It===te)),yt?te?It=Hd(h,y,te):It=te:(Ss(It)||tt(te))&&Ee&&te&&(Ss(te)||tt(te))&&Or(te,function(sr,Nt){xp(h,It,sr,Nt)}),h.set(y,w,It),Ae&&h.ref(y,w),Ke&&h[rs](y,w)}var Dh=lh("[[ai_dynCfg_1]]"),Rb=lh("[[ai_blkDynCfg_1]]"),ES=lh("[[ai_frcDynCfg_1]]");function Bd(h){if(h){var y;if(tt(h)?(y=[],y[zi]=h[zi]):Ss(h)&&(y={}),y)return Or(h,function(w,R){y[w]=Bd(R)}),y}return h}function Bv(h){if(h){var y=h[Dh]||h;if(y.cfg&&(y.cfg===h||y.cfg[Dh]===y))return y}return null}function Wv(h){if(h&&(Ss(h)||tt(h)))try{h[Rb]=!0}catch{}return h}function $v(h,y,w){var R=!1;return w&&!h[y.blkVal]&&(R=w[ES],!R&&!w[Rb]&&(R=Ss(w)||tt(w))),R}function Ag(h){ln("InvalidAccess:"+h)}var wT=["push","pop","shift","unshift","splice"],Lg=function(h,y,w,R){h&&h[Pc](3,108,"".concat(w," [").concat(y,"] failed - ")+kt(R))};function ST(h,y,w){tt(y)&&Dn(wT,function(R){var q=y[R];y[R]=function(){for(var G=[],te=0;te<arguments.length;te++)G[te]=arguments[te];var le=q[yf](this,G);return km(h,y,w,"Patching"),le}})}function $l(h,y){var w=Mt(h,y);return w&&w.get}function Eh(h,y,w,R){var q={n:w,h:[],trk:function(Ae){Ae&&Ae.fn&&($s(q.h,Ae)===-1&&q.h[wi](Ae),h.trk(Ae,q))},clr:function(Ae){var Ke=$s(q.h,Ae);Ke!==-1&&q.h[Ea](Ke,1)}},G=!0,te=!1;function le(){G&&(te=te||$v(le,h,R),R&&!R[Dh]&&te&&(R=km(h,R,w,"Converting")),G=!1);var Ae=h.act;return Ae&&q.trk(Ae),R}le[h.prop]={chng:function(){h.add(q)}};function Ee(Ae){if(R!==Ae){le[h.ro]&&!h.upd&&Ag("["+w+"] is read-only:"+kt(y)),G&&(te=te||$v(le,h,R),G=!1);var Ke=te&&le[h.rf];if(te)if(Ke){Or(R,function(It){R[It]=Ae?Ae[It]:xd});try{Or(Ae,function(It,yt){Im(h,R,It,yt)}),Ae=R}catch(It){Lg((h.hdlr||{})[Vi],w,"Assigning",It),te=!1}}else R&&R[Dh]&&Or(R,function(It){var yt=$l(R,It);if(yt){var ut=yt[h.prop];ut&&ut.chng()}});if(Ae!==R){var bt=Ae&&$v(le,h,Ae);!Ke&&bt&&(Ae=km(h,Ae,w,"Converting")),R=Ae,te=bt}h.add(q)}}Fo(y,q.n,{g:le,s:Ee})}function Im(h,y,w,R){if(y){var q=$l(y,w),G=q&&!!q[h.prop];G?y[w]=R:Eh(h,y,w,R)}return y}function s_(h,y,w,R){if(y){var q=$l(y,w),G=q&&!!q[h.prop],te=R&&R[0],le=R&&R[1],Ee=R&&R[2];if(!G){if(Ee)try{Wv(y)}catch(Ae){Lg((h.hdlr||{})[Vi],w,"Blocking",Ae)}try{Im(h,y,w,y[w]),q=$l(y,w)}catch(Ae){Lg((h.hdlr||{})[Vi],w,"State",Ae)}}te&&(q[h.rf]=te),le&&(q[h.ro]=le),Ee&&(q[h.blkVal]=!0)}return y}function km(h,y,w,R){try{Or(y,function(q,G){Im(h,y,q,G)}),y[Dh]||(ta(y,Dh,{get:function(){return h[Bn]}}),ST(h,y,w))}catch(q){Lg((h.hdlr||{})[Vi],w,R,q)}return y}var Vl="[[ai_",yl="]]";function Df(h){var y,w=cl(Vl+"get"+h.uid+yl),R=cl(Vl+"ro"+h.uid+yl),q=cl(Vl+"rf"+h.uid+yl),G=cl(Vl+"blkVal"+h.uid+yl),te=cl(Vl+"dtl"+h.uid+yl),le=null,Ee=null,Ae;function Ke(ut,sr){var Nt=Ae.act;try{Ae.act=ut,ut&&ut[te]&&(Dn(ut[te],function(er){er.clr(ut)}),ut[te]=[]),sr({cfg:h.cfg,set:h.set.bind(h),setDf:h[aa].bind(h),ref:h.ref.bind(h),rdOnly:h[rs].bind(h)})}catch(er){var pr=h[Vi];throw pr&&pr[Pc](1,107,kt(er)),er}finally{Ae.act=Nt||null}}function bt(){if(le){var ut=le;le=null,Ee&&Ee[Dd](),Ee=null;var sr=[];if(Dn(ut,function(Nt){if(Nt&&(Nt[te]&&(Dn(Nt[te],function(pr){pr.clr(Nt)}),Nt[te]=null),Nt.fn))try{Ke(Nt,Nt.fn)}catch(pr){sr[wi](pr)}}),le)try{bt()}catch(Nt){sr[wi](Nt)}sr[zi]>0&&gm("Watcher error(s): ",sr)}}function It(ut){if(ut&&ut.h[zi]>0){le||(le=[]),Ee||(Ee=vh(function(){Ee=null,bt()},0));for(var sr=0;sr<ut.h[zi];sr++){var Nt=ut.h[sr];Nt&&$s(le,Nt)===-1&&le[wi](Nt)}}}function yt(ut,sr){if(ut){var Nt=ut[te]=ut[te]||[];$s(Nt,sr)===-1&&Nt[wi](sr)}}return Ae=(y={prop:w,ro:R,rf:q},y[mm]=G,y[Bn]=h,y.add=It,y[Bu]=bt,y.use=Ke,y.trk=yt,y),Ae}function Ef(h,y){var w={fn:y,rm:function(){w.fn=null,h=null,y=null}};return h.use(w,y),w}function Vv(h,y,w){var R,q=Bv(y);if(q)return q;var G=Oc("dyncfg",!0),te=y&&w!==!1?y:Bd(y),le;function Ee(){le[Bu]()}function Ae(pr,er,ar){try{pr=Im(le,pr,er,ar)}catch(nn){Lg(h,er,"Setting value",nn)}return pr[er]}function Ke(pr){return Ef(le,pr)}function bt(pr,er){le.use(null,function(ar){var nn=le.upd;try{be(er)||(le.upd=er),pr(ar)}finally{le.upd=nn}})}function It(pr,er){var ar;return s_(le,pr,er,(ar={},ar[0]=!0,ar))[er]}function yt(pr,er){var ar;return s_(le,pr,er,(ar={},ar[1]=!0,ar))[er]}function ut(pr,er){var ar;return s_(le,pr,er,(ar={},ar[2]=!0,ar))[er]}function sr(pr,er){return er&&Or(er,function(ar,nn){xp(Nt,pr,ar,nn)}),pr}var Nt=(R={uid:null,cfg:te},R[Vi]=h,R[Bu]=Ee,R.set=Ae,R[aa]=sr,R[hl]=Ke,R.ref=It,R[rs]=yt,R[mm]=ut,R._block=bt,R);return Fo(Nt,"uid",{c:!1,e:!1,w:!1,v:G}),le=Df(Nt),km(le,te,"config","Creating"),Nt}function Op(h,y){h?(h[Ec](y),h[Pc](2,108,y)):Ag(y)}function Oa(h,y,w,R){var q=Vv(w,h||{},R);return y&&q[aa](q.cfg,y),q}function Ph(h,y,w){var R=h[Dh]||h;return R.cfg&&(R.cfg===h||R.cfg[Dh]===R)?R[hl](y):(Op(w,wp+kt(h)),Oa(h,null,w)[hl](y))}function Rh(h,y){if(h&&h[ua])return h[ua](y)}function a_(h,y,w){var R;return w||(R=_p(function(q){w=q})),h&&Av(h)>0?Ra(Rh(h[0],y),function(){a_(si(h,1),y,w)}):w(),R}var PS=500;function xh(h,y,w){return!h&&xe(h)?y:zr(h)?h:ft(h)[ec]()==="true"}function RS(h){return{mrg:!0,v:h}}function Am(h,y,w){return{fb:w,isVal:h,v:y}}function Oh(h,y){return{fb:y,set:xh,v:!!h}}var Gl=[kd,Ls,fi,Du],Mg=null,Ip;function Lm(h,y){return function(){var w=arguments,R=xb(y);if(R){var q=R.listener;q&&q[h]&&q[h][yf](q,w)}}}function Ng(){var h=Cn("Microsoft");return h&&(Mg=h.ApplicationInsights),Mg}function xb(h){var y=Mg;return!y&&h.disableDbgExt!==!0&&(y=Mg||Ng()),y?y.ChromeDbgExt:null}function CT(h){if(!Ip){Ip={};for(var y=0;y<Gl[zi];y++)Ip[Gl[y]]=Lm(Gl[y],h)}return Ip}var Mm,xS="warnToConsole",ac="AI (Internal): ",Nm="AI: ",Fm="AITR_",OS={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},TT=(Mm={},Mm[0]=null,Mm[1]="errorToConsole",Mm[2]=xS,Mm[3]="debugToConsole",Mm);function Kl(h){return h?'"'+h[ke](/\"/g,Xi)+'"':Xi}function cc(h,y){var w=Rg();if(w){var R="log";w[h]&&(R=h),st(w[R])&&w[R](y)}}var Yl=function(){function h(y,w,R,q){R===void 0&&(R=!1);var G=this;G[pl]=y,G[Wl]=(R?Nm:ac)+y;var te=Xi;ou()&&(te=oc().stringify(q));var le=(w?" message:"+Kl(w):Xi)+(q?" props:"+Kl(te):Xi);G[Wl]+=le}return h.dataType="MessageData",h}();function qm(h,y){return(h||{})[Vi]||new Fg(y)}var Fg=function(){function h(y){this.identifier="DiagnosticLogger",this.queue=[];var w=0,R={},q,G,te,le,Ee;qo(h,this,function(Ae){Ee=bt(y||{}),Ae.consoleLoggingLevel=function(){return q},Ae[Pc]=function(ut,sr,Nt,pr,er){er===void 0&&(er=!1);var ar=new Yl(sr,Nt,er,pr);if(le)throw kt(ar);var nn=TT[ut]||xS;if(be(ar[Wl]))yt("throw"+(ut===1?"Critical":"Warning"),ar);else{if(er){var Ii=+ar[pl];!R[Ii]&&q>=ut&&(Ae[nn](ar[Wl]),R[Ii]=!0)}else q>=ut&&Ae[nn](ar[Wl]);Ke(ut,ar)}},Ae.debugToConsole=function(ut){cc("debug",ut),yt("warning",ut)},Ae[Ec]=function(ut){cc("warn",ut),yt("warning",ut)},Ae.errorToConsole=function(ut){cc("error",ut),yt("error",ut)},Ae.resetInternalMessageCount=function(){w=0,R={}},Ae[Qe]=Ke,Ae[ua]=function(ut){Ee&&Ee.rm(),Ee=null};function Ke(ut,sr){if(!It()){var Nt=!0,pr=Fm+sr[pl];if(R[pr]?Nt=!1:R[pr]=!0,Nt&&(ut<=G&&(Ae.queue[wi](sr),w++,yt(ut===1?"error":"warn",sr)),w===te)){var er="Internal events throttle limit per PageView reached for this app.",ar=new Yl(23,er,!1);Ae.queue[wi](ar),ut===1?Ae.errorToConsole(er):Ae[Ec](er)}}}function bt(ut){return Ph(Oa(ut,OS,Ae).cfg,function(sr){var Nt=sr.cfg;q=Nt[Ed],G=Nt.loggingLevelTelemetry,te=Nt.maxMessageLimit,le=Nt.enableDebug})}function It(){return w>=te}function yt(ut,sr){var Nt=xb(y||{});Nt&&Nt[g]&&Nt[g](ut,sr)}})}return h.__ieDyn=1,h}();function c_(h){return h||new Fg}function bn(h,y,w,R,q,G){G===void 0&&(G=!1),c_(h)[Pc](y,w,R,q,G)}function Gv(h,y){c_(h)[Ec](y)}var kp,Pf,jm="toGMTString",Ia="toUTCString",u_="cookie",qg="expires",l_="isCookieUseDisabled",Jl="disableCookiesUsage",zm="_ckMgr",Ih=null,jg=null,Um=null,Ru,Wd={},Ob={},Xl=(kp={cookieCfg:RS((Pf={},Pf[Ad]={fb:"cookieDomain",dfVal:wm},Pf.path={fb:"cookiePath",dfVal:wm},Pf.enabled=xd,Pf.ignoreCookies=xd,Pf.blockedCookies=xd,Pf)),cookieDomain:xd,cookiePath:xd},kp[Jl]=xd,kp);function Kv(){!Ru&&(Ru=Ue(function(){return ao()}))}function Ql(h){return h?h.isEnabled():!0}function Ib(h,y){return y&&h&&tt(h.ignoreCookies)?$s(h.ignoreCookies,y)!==-1:!1}function Yv(h,y){return y&&h&&tt(h.blockedCookies)&&$s(h.blockedCookies,y)!==-1?!0:Ib(h,y)}function Zl(h,y){var w=y[Pa];if(xe(w)){var R=void 0;be(h[l_])||(R=!h[l_]),be(h[Jl])||(R=!h[Jl]),w=R}return w}function kb(h,y){var w,R,q,G,te,le,Ee,Ae,Ke;h=Oa(h||Ob,null,y).cfg,te=Ph(h,function(It){It[aa](It.cfg,Xl),R=It.ref(It.cfg,"cookieCfg"),q=R[bm]||"/",G=R[Ad],le=Zl(h,R)!==!1,Ee=R.getCookie||Lb,Ae=R.setCookie||xf,Ke=R.delCookie||xf},y);var bt=(w={isEnabled:function(){var It=Zl(h,R)!==!1&&le&&Ab(y),yt=Ob[zm];return It&&yt&&bt!==yt&&(It=Ql(yt)),It},setEnabled:function(It){le=It!==!1,R[Pa]=It},set:function(It,yt,ut,sr,Nt){var pr=!1;if(Ql(bt)&&!Yv(R,It)){var er={},ar=Gs(yt||Xi),nn=Nu(ar,";");if(nn!==-1&&(ar=Gs(Ye(yt,nn)),er=d_(he(yt,nn+1))),Eu(er,Ad,sr||G,hr,be),!xe(ut)){var Ii=Pu();if(be(er[qg])){var as=Ll(),Lc=as+ut*1e3;if(Lc>0){var La=new Date;La.setTime(Lc),Eu(er,qg,Rf(La,Ii?jm:Ia)||Rf(La,Ii?jm:Ia)||Xi,hr)}}Ii||Eu(er,"max-age",Xi+ut,null,be)}var od=Dp();od&&od.protocol==="https:"&&(Eu(er,"secure",null,null,be),jg===null&&(jg=!uc((Jn()||{})[J])),jg&&Eu(er,"SameSite","None",null,be)),Eu(er,bm,Nt||q,null,be),Ae(It,Hm(ar,er)),pr=!0}return pr},get:function(It){var yt=Xi;return Ql(bt)&&!Ib(R,It)&&(yt=Ee(It)),yt},del:function(It,yt){var ut=!1;return Ql(bt)&&(ut=bt.purge(It,yt)),ut},purge:function(It,yt){var ut,sr=!1;if(Ab(y)){var Nt=(ut={},ut[bm]=yt||"/",ut[qg]="Thu, 01 Jan 1970 00:00:01 GMT",ut);Pu()||(Nt["max-age"]="0"),Ke(It,Hm(Xi,Nt)),sr=!0}return sr}},w[ua]=function(It){te&&te.rm(),te=null},w);return bt[zm]=bt,bt}function Ab(h){if(Ih===null){Ih=!1,!Ru&&Kv();try{var y=Ru.v||{};Ih=y[u_]!==void 0}catch(w){bn(h,2,68,"Cannot access document.cookie - "+xc(w),{exception:kt(w)})}}return Ih}function d_(h){var y={};if(h&&h[zi]){var w=Gs(h)[Z](";");Dn(w,function(R){if(R=Gs(R||Xi),R){var q=Nu(R,"=");q===-1?y[R]=null:y[Gs(Ye(R,q))]=Gs(he(R,q+1))}})}return y}function Rf(h,y){return st(h[y])?h[y]():null}function Hm(h,y){var w=h||Xi;return Or(y,function(R,q){w+="; "+R+(xe(q)?Xi:"="+q)}),w}function Lb(h){var y=Xi;if(!Ru&&Kv(),Ru.v){var w=Ru.v[u_]||Xi;Um!==w&&(Wd=d_(w),Um=w),y=Gs(Wd[h]||Xi)}return y}function xf(h,y){!Ru&&Kv(),Ru.v&&(Ru.v[u_]=h+"="+y)}function uc(h){return ze(h)?!!(xa(h,"CPU iPhone OS 12")||xa(h,"iPad; CPU OS 12")||xa(h,"Macintosh; Intel Mac OS X 10_14")&&xa(h,"Version/")&&xa(h,"Safari")||xa(h,"Macintosh; Intel Mac OS X 10_14")&&ia(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xa(h,"Chrome/5")||xa(h,"Chrome/6")||xa(h,"UnrealEngine")&&!xa(h,"Chrome")||xa(h,"UCBrowser/12")||xa(h,"UCBrowser/11")):!1}var Vo={perfEvtsSendAll:!1};function _l(h,y,w,R){Dn(h,function(q){if(q&&q[y])if(w)vh(function(){return R(q)},0);else try{R(q)}catch{}})}var zg=function(){function h(y){this.listeners=[];var w,R,q=[],G=Oa(y,Vo);R=G[hl](function(te){w=!!te.cfg.perfEvtsSendAll}),qo(h,this,function(te){Fo(te,"listeners",{g:function(){return q}}),te[ai]=function(le){q[wi](le)},te[Hl]=function(le){for(var Ee=$s(q,le);Ee>-1;)q[Ea](Ee,1),Ee=$s(q,le)},te[kd]=function(le){_l(q,kd,!0,function(Ee){Ee[kd](le)})},te[Ls]=function(le,Ee){_l(q,Ls,!0,function(Ae){Ae[Ls](le,Ee)})},te[fi]=function(le,Ee){_l(q,fi,Ee,function(Ae){Ae[fi](le,Ee)})},te[Du]=function(le){le&&(w||!le[Sr]())&&_l(q,Du,!1,function(Ee){le[Pd]?vh(function(){return Ee[Du](le)},0):Ee[Du](le)})},te[ua]=function(le){var Ee=function(){R&&R.rm(),R=null,q=[]},Ae;if(_l(q,"unload",!1,function(Ke){var bt=Ke[ua](le);bt&&(Ae||(Ae=[]),Ae[wi](bt))}),Ae)return _p(function(Ke){return Ra(Nv(Ae),function(){Ee(),Ke()})});Ee()}})}return h.__ieDyn=1,h}(),ed="ctx",Of="ParentContextKey",xu="ChildrenContextKey",Ug=null,Jv=function(){function h(y,w,R){var q=this;if(q.start=Ll(),q[uo]=y,q[Pd]=R,q[Sr]=function(){return!1},st(w)){var G;Fo(q,"payload",{g:function(){return!G&&st(w)&&(G=w(),w=null),G}})}q[sn]=function(te){return te?te===h[Of]||te===h[xu]?q[te]:(q[ed]||{})[te]:null},q[jr]=function(te,le){if(te)if(te===h[Of])q[te]||(q[Sr]=function(){return!0}),q[te]=le;else if(te===h[xu])q[te]=le;else{var Ee=q[ed]=q[ed]||{};Ee[te]=le}},q[Wn]=function(){var te=0,le=q[sn](h[xu]);if(tt(le))for(var Ee=0;Ee<le[zi];Ee++){var Ae=le[Ee];Ae&&(te+=Ae[Su])}q[Su]=Ll()-q.start,q.exTime=q[Su]-te,q[Wn]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),Mb=function(){function h(y){this.ctx={},qo(h,this,function(w){w.create=function(R,q,G){return new Jv(R,q,G)},w.fire=function(R){R&&(R[Wn](),y&&st(y[Du])&&y[Du](R))},w[jr]=function(R,q){if(R){var G=w[ed]=w[ed]||{};G[R]=q}},w[sn]=function(R){return(w[ed]||{})[R]}})}return h.__ieDyn=1,h}(),f_="CoreUtils.doPerf";function Ap(h,y,w,R,q){if(h){var G=h;if(G[ns]&&(G=G[ns]()),G){var te=void 0,le=G[sn](f_);try{if(te=G.create(y(),R,q),te){if(le&&te[jr]&&(te[jr](Jv[Of],le),le[sn]&&le[jr])){var Ee=le[sn](Jv[xu]);Ee||(Ee=[],le[jr](Jv[xu],Ee)),Ee[wi](te)}return G[jr](f_,te),w(te)}}catch(Ae){te&&te[jr]&&te[jr]("exception",Ae)}finally{te&&G.fire(te),G[jr](f_,le)}}}return w()}function Hg(){return Ug}var IS="00000000000000000000000000000000",Nb="0000000000000000";function Fb(h,y,w){return h&&h[zi]===y&&h!==w?!!h.match(/^[\da-f]*$/i):!1}function kS(h){return Fb(h,32,IS)}function T(h){return Fb(h,16,Nb)}var k=vl("plugin");function z(h){return k.get(h,"state",{},!0)}function Y(h,y){for(var w=[],R=null,q=h[x](),G;q;){var te=q[tc]();if(te){R&&R[F]&&te[iu]&&R[F](te),G=z(te);var le=!!G[$o];te[$o]&&(le=te[$o]()),le||w[wi](te),R=te,q=q[x]()}}Dn(w,function(Ee){var Ae=h[lo]();Ee[Ul](h.getCfg(),Ae,y,h[x]()),G=z(Ee),!Ee[lo]&&!G[lo]&&(G[lo]=Ae),G[$o]=!0,delete G[nu]})}function ve(h){return h.sort(function(y,w){var R=0;if(w){var q=w[iu];y[iu]?R=q?y[Id]-w[Id]:1:q&&(R=-1)}else R=y?1:-1;return R})}function We(h){var y={};return{getName:function(){return y[uo]},setName:function(w){h&&h.setName(w),y[uo]=w},getTraceId:function(){return y[Js]},setTraceId:function(w){h&&h.setTraceId(w),kS(w)&&(y[Js]=w)},getSpanId:function(){return y[nc]},setSpanId:function(w){h&&h.setSpanId(w),T(w)&&(y[nc]=w)},getTraceFlags:function(){return y[Cu]},setTraceFlags:function(w){h&&h.setTraceFlags(w),y[Cu]=w}}}var Ze="TelemetryPluginChain",ct="_hasRun",Dt="_getTelCtx",Kt=0;function Ar(h,y,w){for(;h;){if(h[tc]()===w)return h;h=h[x]()}return Zn([w],y.config||{},y)}function jn(h,y,w,R){var q=null,G=[];y||(y=Oa({},null,w[Vi])),R!==null&&(q=R?Ar(h,w,R):h);var te={_next:Ee,ctx:{core:function(){return w},diagLog:function(){return qm(w,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ke,getConfig:bt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(yt){q=yt},iterate:It,onComplete:le}};function le(yt,ut){for(var sr=[],Nt=2;Nt<arguments.length;Nt++)sr[Nt-2]=arguments[Nt];yt&&G[wi]({func:yt,self:be(ut)?te.ctx:ut,args:sr})}function Ee(){var yt=q;if(q=yt?yt[x]():null,!yt){var ut=G;ut&&ut[zi]>0&&(Dn(ut,function(sr){try{sr.func.call(sr.self,sr.args)}catch(Nt){bn(w[Vi],2,73,"Unexpected Exception during onComplete - "+kt(Nt))}}),G=[])}return yt}function Ae(yt,ut){var sr=null,Nt=y.cfg;if(Nt&&yt){var pr=Nt[Od];!pr&&ut&&(pr={}),Nt[Od]=pr,pr=y.ref(Nt,Od),pr&&(sr=pr[yt],!sr&&ut&&(sr={}),pr[yt]=sr,sr=y.ref(pr,yt))}return sr}function Ke(yt,ut){var sr=Ae(yt,!0);return ut&&Or(ut,function(Nt,pr){if(xe(sr[Nt])){var er=y.cfg[Nt];(er||!xe(er))&&(sr[Nt]=er)}xp(y,sr,Nt,pr)}),y[aa](sr,ut)}function bt(yt,ut,sr){sr===void 0&&(sr=!1);var Nt,pr=Ae(yt,!1),er=y.cfg;return pr&&(pr[ut]||!xe(pr[ut]))?Nt=pr[ut]:(er[ut]||!xe(er[ut]))&&(Nt=er[ut]),Nt||!xe(Nt)?Nt:sr}function It(yt){for(var ut;ut=te._next();){var sr=ut[tc]();sr&&yt(sr)}}return te}function In(h,y,w,R){var q=Oa(y),G=jn(h,q,w,R),te=G.ctx;function le(Ae){var Ke=G._next();return Ke&&Ke[iu](Ae,te),!Ke}function Ee(Ae,Ke){return Ae===void 0&&(Ae=null),tt(Ae)&&(Ae=Zn(Ae,q.cfg,w,Ke)),In(Ae||te[x](),q.cfg,w,Ke)}return te[Fn]=le,te[Ts]=Ee,te}function Qn(h,y,w){var R=Oa(y.config),q=jn(h,R,y,w),G=q.ctx;function te(Ee){var Ae=q._next();return Ae&&Ae[ua](G,Ee),!Ae}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,R.cfg,y,Ae)),Qn(Ee||G[x](),y,Ae)}return G[Fn]=te,G[Ts]=le,G}function Qr(h,y,w){var R=Oa(y.config),q=jn(h,R,y,w),G=q.ctx;function te(Ee){return G.iterate(function(Ae){st(Ae[P])&&Ae[P](G,Ee)})}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,R.cfg,y,Ae)),Qr(Ee||G[x](),y,Ae)}return G[Fn]=te,G[Ts]=le,G}function Zn(h,y,w,R){var q=null,G=!R;if(tt(h)&&h[zi]>0){var te=null;Dn(h,function(le){if(!G&&R===le&&(G=!0),G&&le&&st(le[iu])){var Ee=br(le,y,w);q||(q=Ee),te&&te._setNext(Ee),te=Ee}})}return R&&!q?Zn([R],y,w):q}function br(h,y,w){var R=null,q=st(h[iu]),G=st(h[F]),te;h?te=h[Rc]+"-"+h[Id]+"-"+Kt++:te="Unknown-0-"+Kt++;var le={getPlugin:function(){return h},getNext:function(){return R},processTelemetry:Ke,unload:bt,update:It,_id:te,_setNext:function(yt){R=yt}};function Ee(){var yt;return h&&st(h[Dt])&&(yt=h[Dt]()),yt||(yt=In(le,y,w)),yt}function Ae(yt,ut,sr,Nt,pr){var er=!1,ar=h?h[Rc]:Ze,nn=yt[ct];return nn||(nn=yt[ct]={}),yt.setNext(R),h&&Ap(yt[lo](),function(){return ar+":"+sr},function(){nn[te]=!0;try{var Ii=R?R._id:Xi;Ii&&(nn[Ii]=!1),er=ut(yt)}catch(Lc){var as=R?nn[R._id]:!0;as&&(er=!0),(!R||!as)&&bn(yt[g](),1,73,"Plugin ["+ar+"] failed during "+sr+" - "+kt(Lc)+", run flags: "+kt(nn))}},Nt,pr),er}function Ke(yt,ut){ut=ut||Ee();function sr(Nt){if(!h||!q)return!1;var pr=z(h);return pr[nu]||pr[Fv]?!1:(G&&h[F](R),h[iu](yt,Nt),!0)}Ae(ut,sr,"processTelemetry",function(){return{item:yt}},!yt.sync)||ut[Fn](yt)}function bt(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[nu]&&(pr[lo]=null,pr[nu]=!0,pr[$o]=!1,h[nu]&&h[nu](yt,ut)===!0&&(Nt=!0))}return Nt}Ae(yt,sr,"unload",function(){},ut[Pd])||yt[Fn](ut)}function It(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[lo]||pr[lo];h&&(!er||er===yt.core())&&!pr[nu]&&h[P]&&h[P](yt,ut)===!0&&(Nt=!0)}return Nt}Ae(yt,sr,"update",function(){},!1)||yt[Fn](ut)}return oi(le)}function Si(){var h=[];function y(R){R&&h[wi](R)}function w(R,q){Dn(h,function(G){try{G(R,q)}catch(te){bn(R[g](),2,73,"Unexpected error calling unload handler - "+kt(te))}}),h=[]}return{add:y,run:w}}function $n(){var h=[];function y(R){var q=h;h=[],Dn(q,function(G){try{(G.rm||G.remove).call(G)}catch(te){bn(R,2,73,"Unloading:"+kt(te))}})}function w(R){R&&Ws(h,R)}return{run:y,add:w}}var Pn,is="getPlugin",lc=(Pn={},Pn[Od]={isVal:wm,v:{}},Pn),ka=function(){function h(){var y=this,w,R,q,G,te;Ae(),qo(h,y,function(Ke){Ke[Ul]=function(bt,It,yt,ut){Ee(bt,It,ut),w=!0},Ke[nu]=function(bt,It){var yt,ut=Ke[lo];if(!ut||bt&&ut!==bt[lo]())return;var sr,Nt=!1,pr=bt||Qn(null,ut,q&&q[is]?q[is]():q),er=It||(yt={reason:0},yt[Pd]=!1,yt);function ar(){Nt||(Nt=!0,G.run(pr,It),te.run(pr[g]()),sr===!0&&pr[Fn](er),Ae())}return!Ke[v]||Ke[v](pr,er,ar)!==!0?ar():sr=!0,sr},Ke[P]=function(bt,It){var yt=Ke[lo];if(!yt||bt&&yt!==bt[lo]())return;var ut,sr=!1,Nt=bt||Qr(null,yt,q&&q[is]?q[is]():q),pr=It||{reason:0};function er(){sr||(sr=!0,Ee(Nt.getCfg(),Nt.core(),Nt[x]()))}return!Ke._doUpdate||Ke._doUpdate(Nt,pr,er)!==!0?er():ut=!0,ut},Tm(Ke,"_addUnloadCb",function(){return G},"add"),Tm(Ke,"_addHook",function(){return te},"add"),Fo(Ke,"_unloadHooks",{g:function(){return te}})}),y[g]=function(Ke){return le(Ke)[g]()},y[$o]=function(){return w},y.setInitialized=function(Ke){w=Ke},y[F]=function(Ke){q=Ke},y[Fn]=function(Ke,bt){bt?bt[Fn](Ke):q&&st(q[iu])&&q[iu](Ke,null)},y._getTelCtx=le;function le(Ke){Ke===void 0&&(Ke=null);var bt=Ke;if(!bt){var It=R||In(null,{},y[lo]);q&&q[is]?bt=It[Ts](null,q[is]):bt=It[Ts](null,q)}return bt}function Ee(Ke,bt,It){Oa(Ke,lc,qm(bt)),!It&&bt&&(It=bt[ru]()[x]());var yt=q;q&&q[is]&&(yt=q[is]()),y[lo]=bt,R=In(It,Ke,bt,yt)}function Ae(){w=!1,y[lo]=null,R=null,q=null,te=$n(),G=Si()}}return h.__ieDyn=1,h}();function Bg(h,y,w){var R={id:y,fn:w};Ws(h,R);var q={remove:function(){Dn(h,function(G,te){if(G.id===R.id)return h[Ea](te,1),-1})}};return q}function Bm(h,y,w){for(var R=!1,q=h[zi],G=0;G<q;++G){var te=h[G];if(te)try{if(te.fn[yf](null,[y])===!1){R=!0;break}}catch(le){bn(w,2,64,"Telemetry initializer failed: "+xc(le),{exception:kt(le)},!0)}}return!R}var Xv=function(h){fl(y,h);function y(){var w=h.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var R,q;G(),qo(y,w,function(te,le){te.addTelemetryInitializer=function(Ee){return Bg(q,R++,Ee)},te[iu]=function(Ee,Ae){Bm(q,Ee,Ae?Ae[g]():te[g]())&&te[Fn](Ee,Ae)},te[v]=function(){G()}});function G(){R=0,q=[]}return w}return y.__ieDyn=1,y}(ka),td,kh="Plugins must provide initialize method",Qv="_notificationManager",Zv="SDK is still unloading...",or="SDK is not initialized",cn=Ji((td={cookieCfg:{}},td[bp]={rdOnly:!0,ref:!0,v:[]},td[_m]={rdOnly:!0,ref:!0,v:[]},td[Od]={ref:!0,v:{}},td[i_]=xd,td.loggingLevelConsole=0,td.diagnosticLogInterval=xd,td));function hi(h,y){return new Mb(y)}function os(h,y,w){var R,q=[],G=[],te={};return Dn(w,function(le){(xe(le)||xe(le[Ul]))&&$r(kh);var Ee=le[Id],Ae=le[Rc];le&&Ee&&(xe(te[Ee])?te[Ee]=Ae:Gv(h,"Two extensions have same priority #"+Ee+" - "+te[Ee]+", "+Ae)),!Ee||Ee<y?q[wi](le):G[wi](le)}),R={},R[lo]=q,R[_m]=G,R}function Ds(h,y){var w=!1;return Dn(y,function(R){if(R===h)return w=!0,-1}),w}function Es(h,y,w,R){w&&Or(w,function(q,G){R&&Ss(G)&&Ss(y[q])&&Es(h,y[q],G,R),R&&Ss(G)&&Ss(y[q])?Es(h,y[q],G,R):h.set(y,q,G)})}function Ns(h,y){var w=null,R=-1;return Dn(h,function(q,G){if(q.w===y)return w=q,R=G,-1}),{i:R,l:w}}function Wm(h,y){var w=Ns(h,y).l;return w||(w={w:y,rm:function(){var R=Ns(h,y);R.i!==-1&&h[Ea](R.i,1)}},h[wi](w)),w}function Lp(h,y,w){Dn(y,function(R){var q=Ph(h,R.w,w);delete R.w,R.rm=function(){q.rm()}})}var Mp=function(){function h(){var y,w,R,q,G,te,le,Ee,Ae,Ke,bt,It,yt,ut,sr,Nt,pr,er,ar,nn,Ii,as,Lc,La,od,Gu,W0,C_;qo(h,this,function(Ur){vr(),Ur._getDbgPlgTargets=function(){return[Lc]},Ur[$o]=function(){return w},Ur[Ul]=function(Bt,Yr,bi,li){yt&&$r(Zv),Ur[$o]()&&$r("Core cannot be initialized more than once"),y=Oa(Bt,cn,bi||Ur[Vi],!1),Bt=y.cfg,Zb(y[hl](function(Rs){Ii=Rs.cfg.instrumentationKey;var su=Rs.ref(Rs.cfg,Od);Or(su,function(Ku){Rs.ref(su,Ku)}),xe(Ii)&&$r("Please provide instrumentation key")})),G=li,KO(),RN(),Ur[Vi]=bi;var ri=Bt[bp];if(Ke=[],Ke[wi].apply(Ke,bh(bh([],Yr,!1),ri)),bt=Bt[_m],GO(null),(!It||It[zi]===0)&&$r("No "+_m+" available"),bt&&bt[zi]>1){var Ps=Ur[tc]("TeeChannelController");(!Ps||!Ps.plugin)&&bn(R,1,28,"TeeChannel required")}Lp(Bt,as,R),as=null,w=!0,Ur.releaseQueue(),Ur[ca]()},Ur.getChannels=function(){var Bt=[];return It&&Dn(It,function(Yr){Bt[wi](Yr)}),oi(Bt)},Ur.track=function(Bt){Ap(Ur[ns](),function(){return"AppInsightsCore:track"},function(){Bt===null&&(xN(Bt),$r("Invalid telemetry item")),!Bt[uo]&&xe(Bt[uo])&&(xN(Bt),$r("telemetry name required")),Bt.iKey=Bt.iKey||Ii,Bt[Su]=Bt[Su]||Ld(new Date),Bt.ver=Bt.ver||"4.0",!yt&&Ur[$o]()?zT()[Fn](Bt):q[wi](Bt)},function(){return{item:Bt}},!Bt.sync)},Ur[ru]=zT,Ur[xo]=function(){return G||(G=new zg(y.cfg),Ur[Qv]=G),G},Ur[ai]=function(Bt){Ur[xo]()[ai](Bt)},Ur[Hl]=function(Bt){G&&G[Hl](Bt)},Ur.getCookieMgr=function(){return Ee||(Ee=kb(y.cfg,Ur[Vi])),Ee},Ur.setCookieMgr=function(Bt){Ee!==Bt&&(Rh(Ee,!1),Ee=Bt)},Ur[ns]=function(){return!te&&!le&&Zb(y[hl](function(Bt){if(Bt.cfg.enablePerfMgr){var Yr=Bt.cfg[i_];st(Yr)&&(le=Yr(Ur,Ur[xo]()))}})),te||le||Hg()},Ur.setPerfMgr=function(Bt){te=Bt},Ur.eventCnt=function(){return q[zi]},Ur.releaseQueue=function(){if(w&&q[zi]>0){var Bt=q;q=[],Dn(Bt,function(Yr){zT()[Fn](Yr)})}},Ur[ca]=function(Bt){return sr=Bt||null,C_=!1,Gu&&Gu[Dd](),T_(!0)};function T_(Bt){if((!Gu||!Gu[Pa])&&!C_){var Yr=Bt||R&&R.queue[zi]>0;Yr&&(W0||(W0=!0,Zb(y[hl](function(bi){var li=bi.cfg.diagnosticLogInterval;(!li||!(li>0))&&(li=1e4);var ri=!1;Gu&&(ri=Gu[Pa],Gu[Dd]()),Gu=lp(HT,li),Gu.unref(),Gu[Pa]=ri}))),Gu[Pa]=!0)}return Gu}Ur[ma]=function(){C_=!0,Gu&&Gu[Dd](),HT()},Dg(Ur,function(){return ut},["addTelemetryInitializer"]),Ur[ua]=function(Bt,Yr,bi){var li;Bt===void 0&&(Bt=!0),w||$r(or),yt&&$r(Zv);var ri=(li={reason:50},li[Pd]=Bt,li.flushComplete=!1,li),Ps;Bt&&!Yr&&(Ps=_p(function(Ku){Yr=Ku}));var Rs=Qn(UT(),Ur);Rs[Bl](function(){er.run(Ur[Vi]),a_([Ee,G,R],Bt,function(){vr(),Yr&&Yr(ri)})},Ur);function su(Ku){ri.flushComplete=Ku,yt=!0,pr.run(Rs,ri),Ur[ma](),Rs[Fn](ri)}return HT(),PN(Bt,su,6,bi),Ps},Ur[tc]=$0,Ur.addPlugin=function(Bt,Yr,bi,li){if(!Bt){li&&li(!1),Qb(kh);return}var ri=$0(Bt[Rc]);if(ri&&!Yr){li&&li(!1),Qb("Plugin ["+Bt[Rc]+"] is already loaded!");return}var Ps={reason:16};function Rs(Jm){Ke[wi](Bt),Ps.added=[Bt],GO(Ps),li&&li(!0)}if(ri){var su=[ri.plugin],Ku={reason:2,isAsync:!!bi};V0(su,Ku,function(Jm){Jm?(Ps.removed=su,Ps.reason|=32,Rs()):li&&li(!1)})}else Rs()},Ur.updateCfg=function(Bt,Yr){Yr===void 0&&(Yr=!0);var bi;if(Ur[$o]()){bi={reason:1,cfg:y.cfg,oldCfg:yu({},y.cfg),newConfig:yu({},Bt),merge:Yr},Bt=bi.newConfig;var li=y.cfg;Bt[bp]=li[bp],Bt[_m]=li[_m]}y._block(function(ri){var Ps=ri.cfg;Es(ri,Ps,Bt,Yr),Yr||Or(Ps,function(Rs){un(Bt,Rs)||ri.set(Ps,Rs,xd)}),ri[aa](Ps,cn)},!0),y[Bu](),bi&&YO(bi)},Ur.evtNamespace=function(){return Nt},Ur.flush=PN,Ur.getTraceCtx=function(Bt){return nn||(nn=We()),nn},Ur.setTraceCtx=function(Bt){nn=Bt||null},Ur.addUnloadHook=Zb,Tm(Ur,"addUnloadCb",function(){return pr},"add"),Ur.onCfgChange=function(Bt){var Yr;return w?Yr=Ph(y.cfg,Bt,Ur[Vi]):Yr=Wm(as,Bt),{rm:function(){Yr.rm()}}},Ur.getWParam=function(){return Nn()||y.cfg.enableWParam?0:-1};function D_(){var Bt={};La=[];var Yr=function(bi){bi&&Dn(bi,function(li){if(li[Rc]&&li[rc]&&!Bt[li.identifier]){var ri=li[Rc]+"="+li[rc];La[wi](ri),Bt[li.identifier]=li}})};Yr(It),bt&&Dn(bt,function(bi){Yr(bi)}),Yr(Ke)}function vr(){w=!1,y=Oa({},cn,Ur[Vi]),y.cfg[Ed]=1,Fo(Ur,"config",{g:function(){return y.cfg},s:function(Yr){Ur.updateCfg(Yr,!1)}}),Fo(Ur,"pluginVersionStringArr",{g:function(){return La||D_(),La}}),Fo(Ur,"pluginVersionString",{g:function(){return od||(La||D_(),od=La.join(";")),od||Xi}}),Fo(Ur,"logger",{g:function(){return R||(R=new Fg(y.cfg),y[Vi]=R),R},s:function(Yr){y[Vi]=Yr,R!==Yr&&(Rh(R,!1),R=Yr)}}),Ur[Vi]=new Fg(y.cfg),Lc=[];var Bt=Ur.config[bp]||[];Bt.splice(0,Bt[zi]),Ws(Bt,Lc),ut=new Xv,q=[],Rh(G,!1),G=null,te=null,le=null,Rh(Ee,!1),Ee=null,Ae=null,Ke=[],bt=null,It=null,yt=!1,sr=null,Nt=Oc("AIBaseCore",!0),pr=Si(),nn=null,Ii=null,er=$n(),as=[],od=null,La=null,C_=!1}function zT(){var Bt=In(UT(),y.cfg,Ur);return Bt[Bl](T_),Bt}function GO(Bt){var Yr=os(Ur[Vi],PS,Ke);Ae=null,od=null,La=null,It=(bt||[])[0]||[],It=ve(Ws(It,Yr[_m]));var bi=Ws(ve(Yr[lo]),It);Lc=oi(bi);var li=Ur.config[bp]||[];li.splice(0,li[zi]),Ws(li,Lc);var ri=zT();It&&It[zi]>0&&Y(ri[Ts](It),bi),Y(ri,bi),Bt&&YO(Bt)}function $0(Bt){var Yr=null,bi=null,li=[];return Dn(Lc,function(ri){if(ri[Rc]===Bt&&ri!==ut)return bi=ri,-1;ri.getChannel&&li[wi](ri)}),!bi&&li[zi]>0&&Dn(li,function(ri){if(bi=ri.getChannel(Bt),!bi)return-1}),bi&&(Yr={plugin:bi,setEnabled:function(ri){z(bi)[Fv]=!ri},isEnabled:function(){var ri=z(bi);return!ri[nu]&&!ri[Fv]},remove:function(ri,Ps){var Rs;ri===void 0&&(ri=!0);var su=[bi],Ku=(Rs={reason:1},Rs[Pd]=ri,Rs);V0(su,Ku,function(Jm){Jm&&GO({reason:32,removed:su}),Ps&&Ps(Jm)})}}),Yr}function UT(){if(!Ae){var Bt=(Lc||[]).slice();$s(Bt,ut)===-1&&Bt[wi](ut),Ae=Zn(ve(Bt),y.cfg,Ur)}return Ae}function V0(Bt,Yr,bi){if(Bt&&Bt[zi]>0){var li=Zn(Bt,y.cfg,Ur),ri=Qn(li,Ur);ri[Bl](function(){var Ps=!1,Rs=[];Dn(Ke,function(Ku,Jm){Ds(Ku,Bt)?Ps=!0:Rs[wi](Ku)}),Ke=Rs,od=null,La=null;var su=[];bt&&(Dn(bt,function(Ku,Jm){var ew=[];Dn(Ku,function(ON){Ds(ON,Bt)?Ps=!0:ew[wi](ON)}),su[wi](ew)}),bt=su),bi&&bi(Ps),T_()}),ri[Fn](Yr)}else bi(!1)}function HT(){if(R&&R.queue){var Bt=R.queue.slice(0);R.queue[zi]=0,Dn(Bt,function(Yr){var bi,li=(bi={},bi[uo]=sr||"InternalMessageId: "+Yr[pl],bi.iKey=Ii,bi[Su]=Ld(new Date),bi.baseType=Yl.dataType,bi.baseData={message:Yr[Wl]},bi);Ur.track(li)})}}function PN(Bt,Yr,bi,li){var ri=1,Ps=!1,Rs=null;li=li||5e3;function su(){ri--,Ps&&ri===0&&(Rs&&Rs[Dd](),Rs=null,Yr&&Yr(Ps),Yr=null)}if(It&&It[zi]>0){var Ku=zT()[Ts](It);Ku.iterate(function(Jm){if(Jm.flush){ri++;var ew=!1;Jm.flush(Bt,function(){ew=!0,su()},bi)||ew||(Bt&&Rs==null?Rs=vh(function(){Rs=null,su()},li):su())}})}return Ps=!0,su(),!0}function KO(){!G&&Ur[xo](),Zb(y[hl](function(Bt){var Yr=Bt.cfg.disableDbgExt;Yr===!0&&ar&&(G[Hl](ar),ar=null),G&&!ar&&Yr!==!0&&(ar=CT(Bt.cfg),G[ai](ar))}))}function RN(){Zb(y[hl](function(Bt){var Yr=Bt.cfg.enablePerfMgr;!Yr&&le&&(le=null),Yr&&Cm(Bt.cfg,i_,hi)}))}function YO(Bt){var Yr=Qr(UT(),Ur);Yr[Bl](T_),(!Ur._updateHook||Ur._updateHook(Yr,Bt)!==!0)&&Yr[Fn](Bt)}function Qb(Bt){var Yr=Ur[Vi];Yr?(bn(Yr,2,73,Bt),T_()):$r(Bt)}function xN(Bt){var Yr=Ur[xo]();Yr&&Yr[Ls]([Bt],2)}function Zb(Bt){er.add(Bt)}})}return h.__ieDyn=1,h}(),qb="on",$m="attachEvent",Ah="addEventListener",ey="detachEvent",Ou="removeEventListener",Vm="events";Oc("aiEvtPageHide"),Oc("aiEvtPageShow");var Lh=/\.[\.]+/g,Wg=/[\.]+$/,q0=1,$g=vl("events"),$u=/^([^.]*)(?:\.(.+)|)/;function bl(h){return h&&h[ke]?h[ke](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Xi):h}function ty(h,y){var w;if(y){var R=Xi;tt(y)?(R=Xi,Dn(y,function(G){G=bl(G),G&&(G[0]!=="."&&(G="."+G),R+=G)})):R=bl(y),R&&(R[0]!=="."&&(R="."+R),h=(h||Xi)+R)}var q=$u.exec(h||Xi)||[];return w={},w[ht]=q[1],w.ns=(q[2]||Xi).replace(Lh,".").replace(Wg,Xi)[Z](".").sort().join("."),w}function If(h,y,w){w===void 0&&(w=!0);var R=$g.get(h,Vm,{},w),q=R[y];return q||(q=R[y]=[]),q}function DT(h,y,w,R){h&&y&&y[ht]&&(h[Ou]?h[Ou](y[ht],w,R):h[ey]&&h[ey](qb+y[ht],w))}function AS(h,y,w,R){var q=!1;return h&&y&&y[ht]&&w&&(h[Ah]?(h[Ah](y[ht],w,R),q=!0):h[$m]&&(h[$m](qb+y[ht],w),q=!0)),q}function j0(h,y,w,R){for(var q=y[zi];q--;){var G=y[q];G&&(!w.ns||w.ns===G.evtName.ns)&&(!R||R(G))&&(DT(h,G.evtName,G[Ut],G.capture),y[Ea](q,1))}}function z0(h,y,w){if(y[ht])j0(h,If(h,y[ht]),y,w);else{var R=$g.get(h,Vm,{});Or(R,function(q,G){j0(h,G,y,w)}),Gr(R)[zi]===0&&$g.kill(h,Vm)}}function LS(h,y){var w;return y?(tt(y)?w=[h].concat(y):w=[h,y],w=ty("xx",w).ns[Z](".")):w=h,w}function kf(h,y,w,R,q){var G;q===void 0&&(q=!1);var te=!1;if(h)try{var le=ty(y,R);if(te=AS(h,le,w,q),te&&$g.accept(h)){var Ee=(G={guid:q0++,evtName:le},G[Ut]=w,G.capture=q,G);If(h,le.type)[wi](Ee)}}catch{}return te}function ET(h,y,w,R,q){if(q===void 0&&(q=!1),h)try{var G=ty(y,R),te=!1;z0(h,G,function(le){return G.ns&&!w||le[Ut]===w?(te=!0,!0):!1}),te||DT(h,G,w,q)}catch{}}var h_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",jb="sampleRate",zb="ProcessLegacy",Ub="http.method",MS="https://dc.services.visualstudio.com",p_="/v2/track",Af="not_specified",m_=hp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Hb="split",to="length",NS="toLowerCase",Vg="ingestionendpoint",ry="toString",U0="removeItem",Lf="name",rd="message",FS="count",Mh="stringify",Gg="pathname",Np="exceptions",wl="parsedStack",Nh="properties",Fp="measurements",Kg="sizeInBytes",qp="typeName",Bb="severityLevel",qS="problemGroup",PT="isManual",g_="CreateFromInterface",ny="assembly",Yg="fileName",iy="hasFullStack",Wb="level",Jg="method",v_="line",$b="duration",y_="receivedResponse";function H0(h,y,w){var R=y[to],q=Vb(h,y);if(q[to]!==R){for(var G=0,te=q;w[te]!==void 0;)G++,te=he(q,0,147)+Zg(G);q=te}return q}function Vb(h,y){var w;return y&&(y=Gs(ft(y)),y[to]>150&&(w=he(y,0,150),bn(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),w||y}function Aa(h,y,w){w===void 0&&(w=1024);var R;return y&&(w=w||1024,y=Gs(ft(y)),y[to]>w&&(R=he(y,0,w),bn(h,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:y},!0))),R||y}function jp(h,y){return Gb(h,y,2048,66)}function Xg(h,y){var w;return y&&y[to]>32768&&(w=he(y,0,32768),bn(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),w||y}function RT(h,y){var w;if(y){var R=""+y;R[to]>32768&&(w=he(R,0,32768),bn(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return w||y}function Gm(h,y){if(y){var w={};Or(y,function(R,q){if(at(q)&&ou())try{q=oc()[Mh](q)}catch(G){bn(h,2,49,"custom property is not valid",{exception:G},!0)}q=Aa(h,q,8192),R=H0(h,R,w),w[R]=q}),y=w}return y}function Qg(h,y){if(y){var w={};Or(y,function(R,q){R=H0(h,R,w),w[R]=q}),y=w}return y}function __(h,y){return y&&Gb(h,y,128,69)[ry]()}function Gb(h,y,w,R){var q;return y&&(y=Gs(ft(y)),y[to]>w&&(q=he(y,0,w),bn(h,2,R,"input is too long, it has been truncated to "+w+" characters.",{data:y},!0))),q||y}function Zg(h){var y="00"+h;return S(y,y[to]-3)}var ev=ao()||{},xT=0,OT=[null,null,null,null,null];function b_(h){var y=xT,w=OT,R=w[y];return ev.createElement?w[y]||(R=w[y]=ev.createElement("a")):R={host:IT(h,!0)},R.href=h,y++,y>=w[to]&&(y=0),xT=y,R}function IT(h,y){var w=WO(h,y)||"";if(w){var R=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[to]>3&&ze(R[2])&&R[2][to]>0)return R[2]+(R[3]||"")}return w}function WO(h,y){var w=null;if(h){var R=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[to]>2&&ze(R[2])&&R[2][to]>0&&(w=R[2]||"",y&&R[to]>2)){var q=(R[1]||"")[NS](),G=R[3]||"";(q==="http"&&G===":80"||q==="https"&&G===":443")&&(G=""),w+=G}}return w}var $O=[MS+p_,"https://breeze.aimon.applicationinsights.io"+p_,"https://dc-int.services.visualstudio.com"+p_];function Km(h){return $s($O,h[NS]())!==-1}function VO(h,y,w,R){var q,G=R,te=R;if(y&&y[to]>0){var le=b_(y);if(q=le.host,!G)if(le[Gg]!=null){var Ee=le.pathname[to]===0?"/":le[Gg];Ee.charAt(0)!=="/"&&(Ee="/"+Ee),te=le[Gg],G=Aa(h,w?w+" "+Ee:Ee)}else G=Aa(h,y)}else q=R,G=R;return{target:q,name:G,data:te}}var Kb=Td({LocalStorage:0,SessionStorage:1});Td({AI:0,AI_AND_W3C:1,W3C:2});var oy=void 0,jS="";function zS(h){try{if(xe(Ln()))return null;var y=new Date()[ry](),w=Cn(h===Kb.LocalStorage?"localStorage":"sessionStorage"),R=jS+y;w.setItem(R,y);var q=w.getItem(R)!==y;if(w[U0](R),!q)return w}catch{}return null}function Yb(){return kT()?zS(Kb.SessionStorage):null}function Ym(h){jS=h||""}function kT(h){return(h||oy===void 0)&&(oy=!!zS(Kb.SessionStorage)),oy}function Xs(h,y){var w=Yb();if(w!==null)try{return w.getItem(y)}catch(R){oy=!1,bn(h,2,2,"Browser failed read of session storage. "+xc(R),{exception:kt(R)})}return null}function Fh(h,y,w){var R=Yb();if(R!==null)try{return R.setItem(y,w),!0}catch(q){oy=!1,bn(h,2,4,"Browser failed write to session storage. "+xc(q),{exception:kt(q)})}return!1}var Qs=";",AT="=";function LT(h){if(!h)return{};var y=h[Hb](Qs),w=Xc(y,function(q,G){var te=G[Hb](AT);if(te[to]===2){var le=te[0][NS](),Ee=te[1];q[le]=Ee}return q},{});if(Gr(w)[to]>0){if(w.endpointsuffix){var R=w.location?w.location+".":"";w[Vg]=w[Vg]||"https://"+R+"dc."+w.endpointsuffix}w[Vg]=w[Vg]||MS,ia(w[Vg],"/")&&(w[Vg]=w[Vg].slice(0,-1))}return w}var MT=function(){function h(y,w,R){var q=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[Lf]=Aa(y,R)||Af,G.data=w,G.time=Ld(new Date),G.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return q.sampleRate===100?4:1},tags:1,data:1}}return h}(),C=function(){function h(y,w,R,q){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[Lf]=Aa(y,w)||Af,G[Nh]=Gm(y,R),G[Fp]=Qg(y,q)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),L="<no_method>",B="error",X="stack",se="stackDetails",Se="errorSrc",Te="message",Xe="description";function lt(h,y){var w=h;return w&&!ze(w)&&(JSON&&JSON[Mh]?(w=JSON[Mh](h),y&&(!w||w==="{}")&&(st(h[ry])?w=h[ry]():w=""+h)):w=""+h+" - (Missing JSON.stringify)"),w||""}function gt(h,y){var w=h;return h&&(w&&!ze(w)&&(w=h[Te]||h[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),h.filename&&(w=w+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Nu(w||"",y)===-1&&(w=y+": "+w),w||""}function jt(h){try{if(at(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}function Pr(h){try{if(at(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}function wr(h){return h&&h.src&&ze(h.src)&&h.obj&&tt(h.obj)}function Lt(h){var y=h||"";ze(y)||(ze(y[X])?y=y[X]:y=""+y);var w=y[Hb](`
`);return{src:y,obj:w}}function Pt(h){for(var y=[],w=h[Hb](`
`),R=0;R<w[to];R++){var q=w[R];w[R+1]&&(q+="@"+w[R+1],R++),y.push(q)}return{src:h,obj:y}}function qt(h){var y=null;if(h)try{if(h[X])y=Lt(h[X]);else if(h[B]&&h[B][X])y=Lt(h[B][X]);else if(h.exception&&h.exception[X])y=Lt(h.exception[X]);else if(wr(h))y=h;else if(wr(h[se]))y=h[se];else if(Po()&&Po().opera&&h[Te])y=Pt(h[rd]);else if(h.reason&&h.reason[X])y=Lt(h.reason[X]);else if(ze(h))y=Lt(h);else{var w=h[Te]||h[Xe]||"";ze(h[Se])&&(w&&(w+=`
`),w+=" from "+h[Se]),w&&(y=Lt(w))}}catch(R){y=Lt(R)}return y||{src:"",obj:null}}function Et(h){var y="";return h&&(h.obj?Dn(h.obj,function(w){y+=w+`
`}):y=h.src||""),y}function ur(h){var y,w=h.obj;if(w&&w[to]>0){y=[];var R=0,q=0;Dn(w,function(ut){var sr=ut[ry]();if(ci.regex.test(sr)){var Nt=new ci(sr,R++);q+=Nt[Kg],y.push(Nt)}});var G=32*1024;if(q>G)for(var te=0,le=y[to]-1,Ee=0,Ae=te,Ke=le;te<le;){var bt=y[te][Kg],It=y[le][Kg];if(Ee+=bt+It,Ee>G){var yt=Ke-Ae+1;y.splice(Ae,yt);break}Ae=te,Ke=le,te++,le--}}return y}function nr(h){var y="";if(h&&(y=h.typeName||h[Lf]||"",!y))try{var w=/function (.{1,200})\(/,R=w.exec(h.constructor[ry]());y=R&&R[to]>1?R[1]:""}catch{}return y}function yr(h){if(h)try{if(!ze(h)){var y=nr(h),w=lt(h,!1);return(!w||w==="{}")&&(h[B]&&(h=h[B],y=nr(h)),w=lt(h,!0)),Nu(w,y)!==0&&y!=="String"?y+":"+w:w}}catch{}return""+(h||"")}var hn=function(){function h(y,w,R,q,G,te){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var le=this;le.ver=2,Pr(w)?(le[Np]=w[Np]||[],le[Nh]=w[Nh],le[Fp]=w[Fp],w[Bb]&&(le[Bb]=w[Bb]),w.id&&(le.id=w.id),w[qS]&&(le[qS]=w[qS]),xe(w[PT])||(le[PT]=w[PT])):(R||(R={}),le[Np]=[new pi(y,w,R)],le[Nh]=Gm(y,R),le[Fp]=Qg(y,q),G&&(le[Bb]=G),te&&(le.id=te))}return h.CreateAutoException=function(y,w,R,q,G,te,le,Ee){var Ae,Ke=nr(G||te||y);return Ae={},Ae[rd]=gt(y,Ke),Ae.url=w,Ae.lineNumber=R,Ae.columnNumber=q,Ae.error=yr(G||te||y),Ae.evt=yr(te||y),Ae[qp]=Ke,Ae.stackDetails=qt(le||G||te),Ae.errorSrc=Ee,Ae},h.CreateFromInterface=function(y,w,R,q){var G=w[Np]&&gu(w[Np],function(le){return pi[g_](y,le)}),te=new h(y,hs(hs({},w),{exceptions:G}),R,q);return te},h.prototype.toInterface=function(){var y,w=this,R=w.exceptions,q=w.properties,G=w.measurements,te=w.severityLevel,le=w.problemGroup,Ee=w.id,Ae=w.isManual,Ke=R instanceof Array&&gu(R,function(bt){return bt.toInterface()})||void 0;return y={ver:"4.0"},y[Np]=Ke,y.severityLevel=te,y.properties=q,y.measurements=G,y.problemGroup=le,y.id=Ee,y.isManual=Ae,y},h.CreateSimpleException=function(y,w,R,q,G,te){var le;return{exceptions:[(le={},le[iy]=!0,le.message=y,le.stack=G,le.typeName=w,le)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=yr,h}(),pi=function(){function h(y,w,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var q=this;if(jt(w))q[qp]=w[qp],q[rd]=w[rd],q[X]=w[X],q[wl]=w[wl]||[],q[iy]=w[iy];else{var G=w,te=G&&G.evt;cr(G)||(G=G[B]||te||G),q[qp]=Aa(y,nr(G))||Af,q[rd]=Xg(y,gt(w||G,q[qp]))||Af;var le=w[se]||qt(w);q[wl]=ur(le),tt(q[wl])&&gu(q[wl],function(Ee){Ee[ny]=Aa(y,Ee[ny]),Ee[Yg]=Aa(y,Ee[Yg])}),q[X]=RT(y,Et(le)),q.hasFullStack=tt(q.parsedStack)&&q.parsedStack[to]>0,R&&(R[qp]=R[qp]||q[qp])}}return h.prototype.toInterface=function(){var y,w=this,R=w[wl]instanceof Array&&gu(w[wl],function(G){return G.toInterface()}),q=(y={id:w.id,outerId:w.outerId,typeName:w[qp],message:w[rd],hasFullStack:w[iy],stack:w[X]},y[wl]=R||void 0,y);return q},h.CreateFromInterface=function(y,w){var R=w[wl]instanceof Array&&gu(w[wl],function(G){return ci[g_](G)})||w[wl],q=new h(y,hs(hs({},w),{parsedStack:R}));return q},h}(),ci=function(){function h(y,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Kg]=0,typeof y=="string"){var q=y;R[Wb]=w,R[Jg]=L,R[ny]=Gs(q),R[Yg]="",R[v_]=0;var G=q.match(h.regex);G&&G[to]>=5&&(R[Jg]=Gs(G[2])||R[Jg],R[Yg]=Gs(G[4]),R[v_]=parseInt(G[5])||0)}else R[Wb]=y[Wb],R[Jg]=y[Jg],R[ny]=y[ny],R[Yg]=y[Yg],R[v_]=y[v_],R[Kg]=0;R.sizeInBytes+=R.method[to],R.sizeInBytes+=R.fileName[to],R.sizeInBytes+=R.assembly[to],R[Kg]+=h.baseSize,R.sizeInBytes+=R.level.toString()[to],R.sizeInBytes+=R.line.toString()[to]}return h.CreateFromInterface=function(y){return new h(y,null)},h.prototype.toInterface=function(){var y=this;return{level:y[Wb],method:y[Jg],assembly:y[ny],fileName:y[Yg],line:y[v_]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),fo=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return h}(),Go=function(){function h(y,w,R,q,G,te,le,Ee,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var Ke=this;Ke.ver=2;var bt=new fo;bt[FS]=q>0?q:void 0,bt.max=isNaN(te)||te===null?void 0:te,bt.min=isNaN(G)||G===null?void 0:G,bt[Lf]=Aa(y,w)||Af,bt.value=R,bt.stdDev=isNaN(le)||le===null?void 0:le,Ke.metrics=[bt],Ke[Nh]=Gm(y,Ee),Ke[Fp]=Qg(y,Ae)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),Oo="";function Fs(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var y=Oo+h%1e3,w=Oo+Math.floor(h/1e3)%60,R=Oo+Math.floor(h/(1e3*60))%60,q=Oo+Math.floor(h/(1e3*60*60))%24,G=Math.floor(h/(1e3*60*60*24));return y=y[to]===1?"00"+y:y[to]===2?"0"+y:y,w=w[to]<2?"0"+w:w,R=R[to]<2?"0"+R:R,q=q[to]<2?"0"+q:q,(G>0?G+".":Oo)+q+":"+R+":"+w+"."+y}var dc=function(){function h(y,w,R,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ee=this;Ee.ver=2,Ee.id=__(y,le),Ee.url=jp(y,R),Ee[Lf]=Aa(y,w)||Af,isNaN(q)||(Ee[$b]=Fs(q)),Ee[Nh]=Gm(y,G),Ee[Fp]=Qg(y,te)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),Qi=function(){function h(y,w,R,q,G,te,le,Ee,Ae,Ke,bt,It){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var yt=this;yt.ver=2,yt.id=w,yt[$b]=Fs(G),yt.success=te,yt.resultCode=le+"",yt.type=Aa(y,Ae);var ut=VO(y,R,Ee,q);yt.data=jp(y,q)||ut.data,yt.target=Aa(y,ut.target),Ke&&(yt.target="".concat(yt.target," | ").concat(Ke)),yt[Lf]=Aa(y,ut[Lf]),yt[Nh]=Gm(y,bt),yt[Fp]=Qg(y,It)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),Ic=function(){function h(y,w,R,q,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var te=this;te.ver=2,w=w||Af,te[rd]=Xg(y,w),te[Nh]=Gm(y,q),te[Fp]=Qg(y,G),R&&(te[Bb]=R)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),kc=function(){function h(y,w,R,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee.url=jp(y,R),Ee[Lf]=Aa(y,w)||Af,Ee[Nh]=Gm(y,G),Ee[Fp]=Qg(y,te),le&&(Ee.domProcessing=le.domProcessing,Ee[$b]=le[$b],Ee.networkConnect=le.networkConnect,Ee.perfTotal=le.perfTotal,Ee[y_]=le[y_],Ee.sentRequest=le.sentRequest)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),la=function(){function h(y,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=w}return h}(),Sl=Td({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function ga(h){var y="ai."+h+".";return function(w){return y+w}}var va=ga("application"),Ci=ga("device"),ro=ga("location"),nd=ga("operation"),w_=ga("session"),zp=ga("user"),Up=ga("cloud"),p=ga("internal"),b=function(h){fl(y,h);function y(){return h.call(this)||this}return y}(Cp({applicationVersion:va("ver"),applicationBuild:va("build"),applicationTypeId:va("typeId"),applicationId:va("applicationId"),applicationLayer:va("layer"),deviceId:Ci("id"),deviceIp:Ci("ip"),deviceLanguage:Ci("language"),deviceLocale:Ci("locale"),deviceModel:Ci("model"),deviceFriendlyName:Ci("friendlyName"),deviceNetwork:Ci("network"),deviceNetworkName:Ci("networkName"),deviceOEMName:Ci("oemName"),deviceOS:Ci("os"),deviceOSVersion:Ci("osVersion"),deviceRoleInstance:Ci("roleInstance"),deviceRoleName:Ci("roleName"),deviceScreenResolution:Ci("screenResolution"),deviceType:Ci("type"),deviceMachineName:Ci("machineName"),deviceVMName:Ci("vmName"),deviceBrowser:Ci("browser"),deviceBrowserVersion:Ci("browserVersion"),locationIp:ro("ip"),locationCountry:ro("country"),locationProvince:ro("province"),locationCity:ro("city"),operationId:nd("id"),operationName:nd("name"),operationParentId:nd("parentId"),operationRootId:nd("rootId"),operationSyntheticSource:nd("syntheticSource"),operationCorrelationVector:nd("correlationVector"),sessionId:w_("id"),sessionIsFirst:w_("isFirst"),sessionIsNew:w_("isNew"),userAccountAcquisitionDate:zp("accountAcquisitionDate"),userAccountId:zp("accountId"),userAgent:zp("userAgent"),userId:zp("id"),userStoreRegion:zp("storeRegion"),userAuthUserId:zp("authUserId"),userAnonymousUserAcquisitionDate:zp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:zp("authUserAcquisitionDate"),cloudName:Up("name"),cloudRole:Up("role"),cloudRoleVer:Up("roleVer"),cloudRoleInstance:Up("roleInstance"),cloudEnvironment:Up("environment"),cloudLocation:Up("location"),cloudDeploymentUnit:Up("deploymentUnit"),internalNodeName:p("nodeName"),internalSdkVersion:p("sdkVersion"),internalAgentVersion:p("agentVersion"),internalSnippet:p("snippet"),internalSdkSrc:p("sdkSrc")})),I=new b,j="AppInsightsChannelPlugin",W="duration",ie="tags",ge="deviceType",Ie="data",Be="name",et="traceID",Ve="length",wt="stringify",ot="measurements",_t="dataType",it="envelopeType",Qt="toString",Vt="onLine",_r="isOnline",Rr="_get",Ir="enqueue",Mn="count",Oi="eventsLimitInMem",Io="push",Ge="emitLineDelimitedJson",At="clear",Zt="batchPayloads",lr="createNew",rn="markAsSent",ei="clearSent",St="bufferOverride",nt="BUFFER_KEY",Tt="SENT_BUFFER_KEY",Ot="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Nr="diagLog",ti="_sender",Ko="customHeaders",bo="maxBatchSizeInBytes",qh="onunloadDisableBeacon",$d="isBeaconApiDisabled",S_="alwaysUseXhrOverride",Mf="enableSessionStorageBuffer",Hp="_buffer",NT="onunloadDisableFetch",Jb="instrumentationKey",Wt="convertUndefined",Kr="maxBatchInterval",ui="baseType",Vn="sampleRate",mi="_xhrReadyStateChange",jo="_onError",ss="_onPartialSuccess",Ac="_onSuccess",Iu="itemsAccepted",tv="itemsReceived",sy="oriPayload",B0="setRequestHeader",ile="eventsSendRequest",ole="getSamplingScore",VHe="getHashCodeScore",_4="baseType",fc="baseData",id="properties",sle="true";function Vu(h,y,w){return Eu(h,y,w,hr)}function GHe(h,y,w){var R=w[ie]=w[ie]||{},q=y.ext=y.ext||{},G=y[ie]=y[ie]||[],te=q.user;te&&(Vu(R,I.userAuthUserId,te.authId),Vu(R,I.userId,te.id||te.localId));var le=q.app;le&&Vu(R,I.sessionId,le.sesId);var Ee=q.device;Ee&&(Vu(R,I.deviceId,Ee.id||Ee.localId),Vu(R,I[ge],Ee.deviceClass),Vu(R,I.deviceIp,Ee.ip),Vu(R,I.deviceModel,Ee.model),Vu(R,I[ge],Ee[ge]));var Ae=y.ext.web;if(Ae){Vu(R,I.deviceLanguage,Ae.browserLang),Vu(R,I.deviceBrowserVersion,Ae.browserVer),Vu(R,I.deviceBrowser,Ae.browser);var Ke=w[Ie]=w[Ie]||{},bt=Ke[fc]=Ke[fc]||{},It=bt[id]=bt[id]||{};Vu(It,"domain",Ae.domain),Vu(It,"isManual",Ae.isManual?sle:null),Vu(It,"screenRes",Ae.screenRes),Vu(It,"userConsent",Ae.userConsent?sle:null)}var yt=q.os;yt&&Vu(R,I.deviceOS,yt[Be]);var ut=q.trace;ut&&(Vu(R,I.operationParentId,ut.parentID),Vu(R,I.operationName,Aa(h,ut[Be])),Vu(R,I.operationId,ut[et]));for(var sr={},Nt=G[Ve]-1;Nt>=0;Nt--){var pr=G[Nt];Or(pr,function(ar,nn){sr[ar]=nn}),G.splice(Nt,1)}Or(G,function(ar,nn){sr[ar]=nn});var er=hs(hs({},R),sr);er[I.internalSdkVersion]||(er[I.internalSdkVersion]=Aa(h,"javascript:".concat(KHe.Version),64)),w[ie]=En(er)}function US(h,y,w){xe(h)||Or(h,function(R,q){Lr(q)?w[R]=q:ze(q)?y[R]=q:ou()&&(y[R]=oc()[wt](q))})}function FT(h,y){xe(h)||Or(h,function(w,R){h[w]=R||y})}function qT(h,y,w,R){var q=new MT(h,R,y);Vu(q,"sampleRate",w[jb]),(w[fc]||{}).startTime&&(q.time=Ld(w[fc].startTime)),q.iKey=w.iKey;var G=w.iKey.replace(/-/g,"");return q[Be]=q[Be].replace("{0}",G),GHe(h,w,q),w[ie]=w[ie]||[],En(q)}function jT(h,y){xe(y[fc])&&bn(h,1,46,"telemetryItem.baseData cannot be null.")}var KHe={Version:"3.0.5"};function YHe(h,y,w){jT(h,y);var R=y[fc][ot]||{},q=y[fc][id]||{};US(y[Ie],q,R),xe(w)||FT(q,w);var G=y[fc];if(xe(G))return Gv(h,"Invalid input for dependency data"),null;var te=G[id]&&G[id][Ub]?G[id][Ub]:"GET",le=new Qi(h,G.id,G.target,G[Be],G[W],G.success,G.responseCode,te,G.type,G.correlationContext,q,R),Ee=new la(Qi[_t],le);return qT(h,Qi[it],y,Ee)}function ale(h,y,w){jT(h,y);var R={},q={};y[_4]!==C[_t]&&(R.baseTypeSource=y[_4]),y[_4]===C[_t]?(R=y[fc][id]||{},q=y[fc][ot]||{}):y[fc]&&US(y[fc],R,q),US(y[Ie],R,q),xe(w)||FT(R,w);var G=y[fc][Be],te=new C(h,G,R,q),le=new la(C[_t],te);return qT(h,C[it],y,le)}function JHe(h,y,w){jT(h,y);var R=y[fc][ot]||{},q=y[fc][id]||{};US(y[Ie],q,R),xe(w)||FT(q,w);var G=y[fc],te=hn.CreateFromInterface(h,G,q,R),le=new la(hn[_t],te);return qT(h,hn[it],y,le)}function XHe(h,y,w){jT(h,y);var R=y[fc],q=R[id]||{},G=R[ot]||{};US(y[Ie],q,G),xe(w)||FT(q,w);var te=new Go(h,R[Be],R.average,R.sampleCount,R.min,R.max,R.stdDev,q,G),le=new la(Go[_t],te);return qT(h,Go[it],y,le)}function QHe(h,y,w){jT(h,y);var R,q=y[fc];!xe(q)&&!xe(q[id])&&!xe(q[id][W])?(R=q[id][W],delete q[id][W]):!xe(y[Ie])&&!xe(y[Ie][W])&&(R=y[Ie][W],delete y[Ie][W]);var G=y[fc],te;((y.ext||{}).trace||{})[et]&&(te=y.ext.trace[et]);var le=G.id||te,Ee=G[Be],Ae=G.uri,Ke=G[id]||{},bt=G[ot]||{};if(xe(G.refUri)||(Ke.refUri=G.refUri),xe(G.pageType)||(Ke.pageType=G.pageType),xe(G.isLoggedIn)||(Ke.isLoggedIn=G.isLoggedIn[Qt]()),!xe(G[id])){var It=G[id];Or(It,function(sr,Nt){Ke[sr]=Nt})}US(y[Ie],Ke,bt),xe(w)||FT(Ke,w);var yt=new dc(h,Ee,Ae,R,Ke,bt,le),ut=new la(dc[_t],yt);return qT(h,dc[it],y,ut)}function ZHe(h,y,w){jT(h,y);var R=y[fc],q=R[Be],G=R.uri||R.url,te=R[id]||{},le=R[ot]||{};US(y[Ie],te,le),xe(w)||FT(te,w);var Ee=new kc(h,q,G,void 0,te,le,R),Ae=new la(kc[_t],Ee);return qT(h,kc[it],y,Ae)}function eBe(h,y,w){jT(h,y);var R=y[fc].message,q=y[fc].severityLevel,G=y[fc][id]||{},te=y[fc][ot]||{};US(y[Ie],G,te),xe(w)||FT(G,w);var le=new Ic(h,R,q,G,te),Ee=new la(Ic[_t],le);return qT(h,Ic[it],y,Ee)}function cle(h,y){ET(h,null,null,y)}function tBe(h){var y,w=ao(),R=Jn(),q=!1,G=!0,te=LS(Oc("OfflineListener"),h);try{if(Ee(Po())&&(q=!0),w){var le=w.body||w;le.ononline&&Ee(le)&&(q=!0)}q&&R&&!xe(R[Vt])&&(G=R[Vt])}catch{q=!1}function Ee(yt){var ut=!1;return yt&&(ut=kf(yt,"online",Ae,te),ut&&kf(yt,"offline",Ke,te)),ut}function Ae(){G=!0}function Ke(){G=!1}function bt(){var yt=!0;return q?yt=G:R&&!xe(R[Vt])&&(yt=R[Vt]),yt}function It(){var yt=Po();if(yt&&q){if(cle(yt,te),w){var ut=w.body||w;be(ut.ononline)||cle(ut,te)}q=!1}}return y={},y[_r]=bt,y.isListening=function(){return q},y.unload=It,y}var ule=function(){function h(y,w){var R=[],q=!1;this[Rr]=function(){return R},this._set=function(G){return R=G,R},qo(h,this,function(G){G[Ir]=function(te){if(G[Mn]()>=w[Oi]){q||(bn(y,2,105,"Maximum in-memory buffer size reached: "+G[Mn](),!0),q=!0);return}R[Io](te)},G[Mn]=function(){return R[Ve]},G.size=function(){for(var te=R[Ve],le=0;le<R[Ve];le++)te+=R[le][Ve];return w[Ge]||(te+=2),te},G[At]=function(){R=[],q=!1},G.getItems=function(){return R.slice(0)},G[Zt]=function(te){if(te&&te[Ve]>0){var le=w[Ge]?te.join(`
`):"["+te.join(",")+"]";return le}return null},G[lr]=function(te,le,Ee){var Ae=R.slice(0);te=te||y,le=le||{};var Ke=Ee?new lle(te,le):new b4(te,le);return Dn(Ae,function(bt){Ke[Ir](bt)}),Ke}})}return h.__ieDyn=1,h}(),b4=function(h){fl(y,h);function y(w,R){var q=h.call(this,w,R)||this;return qo(y,q,function(G,te){G[rn]=function(le){te[At]()},G[ei]=function(le){}}),q}return y.__ieDyn=1,y}(ule),lle=function(h){fl(y,h);function y(w,R){var q=h.call(this,w,R)||this,G=!1,te=R?.namePrefix,le=R[St]||{getItem:Xs,setItem:Fh},Ee=le.getItem,Ae=le.setItem;return qo(y,q,function(Ke,bt){var It=Nt(y[nt]),yt=Nt(y[Tt]),ut=Ke._set(It.concat(yt));ut[Ve]>y[Ot]&&(ut[Ve]=y[Ot]),pr(y[Tt],[]),pr(y[nt],ut),Ke[Ir]=function(er){if(Ke[Mn]()>=y[Ot]){G||(bn(w,2,67,"Maximum buffer size reached: "+Ke[Mn](),!0),G=!0);return}bt[Ir](er),pr(y.BUFFER_KEY,Ke[Rr]())},Ke[At]=function(){bt[At](),pr(y.BUFFER_KEY,Ke[Rr]()),pr(y[Tt],[]),G=!1},Ke[rn]=function(er){pr(y[nt],Ke._set(sr(er,Ke[Rr]())));var ar=Nt(y[Tt]);ar instanceof Array&&er instanceof Array&&(ar=ar.concat(er),ar[Ve]>y[Ot]&&(bn(w,1,67,"Sent buffer reached its maximum size: "+ar[Ve],!0),ar[Ve]=y[Ot]),pr(y[Tt],ar))},Ke[ei]=function(er){var ar=Nt(y[Tt]);ar=sr(er,ar),pr(y[Tt],ar)},Ke[lr]=function(er,ar,nn){nn=!!nn;var Ii=Ke[Rr]().slice(0),as=Nt(y[Tt]).slice(0);er=er||w,ar=ar||{},Ke[At]();var Lc=nn?new y(er,ar):new b4(er,ar);return Dn(Ii,function(La){Lc[Ir](La)}),nn&&Lc[rn](as),Lc};function sr(er,ar){var nn=[];return Dn(ar,function(Ii){!st(Ii)&&$s(er,Ii)===-1&&nn[Io](Ii)}),nn}function Nt(er){var ar=er;try{ar=te?te+"_"+ar:ar;var nn=Ee(w,ar);if(nn){var Ii=oc().parse(nn);if(ze(Ii)&&(Ii=oc().parse(Ii)),Ii&&tt(Ii))return Ii}}catch(as){bn(w,1,42," storage key: "+ar+", "+xc(as),{exception:kt(as)})}return[]}function pr(er,ar){var nn=er;try{nn=te?te+"_"+nn:nn;var Ii=JSON[wt](ar);Ae(w,nn,Ii)}catch(as){Ae(w,nn,JSON[wt]([])),bn(w,2,41," storage key: "+nn+", "+xc(as)+". Buffer cleared",{exception:kt(as)})}}}),q}return y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(ule),rBe=function(){function h(y){qo(h,this,function(w){w.serialize=function(te){var le=R(te,"root");try{return oc()[wt](le)}catch(Ee){bn(y,1,48,Ee&&st(Ee[Qt])?Ee[Qt]():"Error serializing object",null,!0)}};function R(te,le){var Ee="__aiCircularRefCheck",Ae={};if(!te)return bn(y,1,48,"cannot serialize object because it is null or undefined",{name:le},!0),Ae;if(te[Ee])return bn(y,2,50,"Circular reference detected while serializing object",{name:le},!0),Ae;if(!te.aiDataContract){if(le==="measurements")Ae=G(te,"number",le);else if(le==="properties")Ae=G(te,"string",le);else if(le==="tags")Ae=G(te,"string",le);else if(tt(te))Ae=q(te,le);else{bn(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:le},!0);try{oc()[wt](te),Ae=te}catch(Ke){bn(y,1,48,Ke&&st(Ke[Qt])?Ke[Qt]():"Error serializing object",null,!0)}}return Ae}return te[Ee]=!0,Or(te.aiDataContract,function(Ke,bt){var It=st(bt)?bt()&1:bt&1,yt=st(bt)?bt()&4:bt&4,ut=bt&2,sr=te[Ke]!==void 0,Nt=at(te[Ke])&&te[Ke]!==null;if(It&&!sr&&!ut)bn(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ke,name:le});else if(!yt){var pr=void 0;Nt?ut?pr=q(te[Ke],Ke):pr=R(te[Ke],Ke):pr=te[Ke],pr!==void 0&&(Ae[Ke]=pr)}}),delete te[Ee],Ae}function q(te,le){var Ee;if(te)if(!tt(te))bn(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:le},!0);else{Ee=[];for(var Ae=0;Ae<te[Ve];Ae++){var Ke=te[Ae],bt=R(Ke,le+"["+Ae+"]");Ee[Io](bt)}}return Ee}function G(te,le,Ee){var Ae;return te&&(Ae={},Or(te,function(Ke,bt){if(le==="string")bt===void 0?Ae[Ke]="undefined":bt===null?Ae[Ke]="null":bt[Qt]?Ae[Ke]=bt[Qt]():Ae[Ke]="invalid field: toString() is not defined.";else if(le==="number")if(bt===void 0)Ae[Ke]="undefined";else if(bt===null)Ae[Ke]="null";else{var It=parseFloat(bt);isNaN(It)?Ae[Ke]="NaN":Ae[Ke]=It}else Ae[Ke]="invalid field: "+Ee+" is of unknown type.",bn(y,1,Ae[Ke],null,!0)})),Ae}})}return h.__ieDyn=1,h}(),nBe=8,iBe=function(){function h(){}return h.prototype.getHashCodeScore=function(y){var w=this.getHashCode(y)/h.INT_MAX_VALUE;return w*100},h.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[Ve]<nBe;)y=y.concat(y);for(var w=5381,R=0;R<y[Ve];++R)w=(w<<5)+w+y.charCodeAt(R),w=w&w;return Math.abs(w)},h.INT_MAX_VALUE=2147483647,h}(),oBe=function(){function h(){var y=this,w=new iBe,R=new b;y[ole]=function(q){var G=0;return q[ie]&&q[ie][R.userId]?G=w.getHashCodeScore(q[ie][R.userId]):q.ext&&q.ext.user&&q.ext.user.id?G=w[VHe](q.ext.user.id):q[ie]&&q[ie][R.operationId]?G=w.getHashCodeScore(q[ie][R.operationId]):q.ext&&q.ext.telemetryTrace&&q.ext.telemetryTrace[et]?G=w.getHashCodeScore(q.ext.telemetryTrace[et]):G=Math.random()*100,G}}return h}(),sBe=function(){function h(y,w){this.INT_MAX_VALUE=2147483647;var R=w||qm(null);(y>100||y<0)&&(R.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Vn]=y,this.samplingScoreGenerator=new oBe}return h.prototype.isSampledIn=function(y){var w=this[Vn],R=!1;return w==null||w>=100||y.baseType===Go[_t]?!0:(R=this.samplingScoreGenerator[ole](y)<w,R)},h}(),ku,Xb,HS=void 0,aBe=65e3;function EN(h){try{return h.responseText}catch{}return null}function cBe(h){return h&&h[gr]}var dle=Ji((ku={endpointUrl:Am(hr,MS+p_)},ku[Ge]=Oh(),ku[Kr]=15e3,ku[bo]=102400,ku.disableTelemetry=Oh(),ku[Mf]=Oh(!0),ku.isRetryDisabled=Oh(),ku[$d]=Oh(!0),ku.disableXhr=Oh(),ku[NT]=Oh(),ku[qh]=Oh(),ku[Jb]=HS,ku.namePrefix=HS,ku.samplingPercentage=Am(uBe,100),ku[Ko]=HS,ku[Wt]=HS,ku[Oi]=1e4,ku[St]=!1,ku.httpXHROverride={isVal:cBe,v:HS},ku[S_]=Oh(),ku));function uBe(h){return!isNaN(h)&&h>0&&h<=100}var lBe=(Xb={},Xb[C.dataType]=ale,Xb[Ic.dataType]=eBe,Xb[dc.dataType]=QHe,Xb[kc.dataType]=ZHe,Xb[hn.dataType]=JHe,Xb[Go.dataType]=XHe,Xb[Qi.dataType]=YHe,Xb),fle=function(h){fl(y,h);function y(){var w=h.call(this)||this;w.priority=1001,w.identifier=j;var R,q,G,te,le,Ee,Ae,Ke=0,bt,It,yt,ut,sr,Nt,pr,er,ar,nn,Ii,as,Lc,La,od,Gu,W0,C_,Ur,T_,D_;return qo(y,w,function(vr,zT){ple(),vr.pause=function(){Ku(),G=!0},vr.resume=function(){G&&(G=!1,q=null,KO(),su())},vr.flush=function(mt,tr,Hr){if(mt===void 0&&(mt=!0),!G){Ku();try{return vr[xr](mt,null,Hr||1)}catch(Zr){bn(vr[Nr](),1,22,"flush failed, telemetry will not be collected: "+xc(Zr),{exception:kt(Zr)})}}},vr.onunloadFlush=function(){if(!G)if(pr||C_)try{return vr[xr](!0,xN,2)}catch(mt){bn(vr[Nr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+xc(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,tr){Ae[mt]=tr},vr.initialize=function(mt,tr,Hr,Zr){vr.isInitialized()&&bn(vr[Nr](),1,28,"Sender is already initialized"),zT.initialize(mt,tr,Hr,Zr);var Tn=vr.identifier;le=new rBe(tr.logger),R=0,q=null,vr[ti]=null,Ee=0;var kn=vr[Nr]();yt=LS(Oc("Sender"),tr.evtNamespace&&tr.evtNamespace()),It=tBe(yt),vr._addHook(Ph(mt,function(wo){var ho=wo.cfg;ho.storagePrefix&&Ym(ho.storagePrefix);var Ma=In(null,ho,tr),Gn=Ma.getExtCfg(Tn,dle);Fo(vr,"_senderConfig",{g:function(){return Gn}}),sr!==Gn.endpointUrl&&(ut=sr=Gn.endpointUrl),er&&er!==Gn[Ko]&&Dn(er,function(au){delete Ae[au.header]}),Nt=Gn[bo],pr=(Gn[qh]===!1||Gn[$d]===!1)&&qd(),C_=Gn[S_],Ur=!!Gn.disableXhr;var ay=Gn[St],E_=!!Gn[Mf]&&(!!ay||kT()),G0=Gn.namePrefix,IN=E_!==La||E_&&Gu!==G0||E_&&od!==ay;if(vr[Hp]){if(IN)try{vr._buffer=vr._buffer[lr](kn,Gn,E_)}catch(au){bn(vr[Nr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+xc(au),{exception:kt(au)})}KO()}else vr[Hp]=E_?new lle(kn,Gn):new b4(kn,Gn);Gu=G0,La=E_,od=ay,T_=!Gn[NT]&&xg(!0),vr._sample=new sBe(Gn.samplingPercentage,kn),nn=Gn[Jb],gBe(nn,ho)||bn(kn,1,100,"Invalid Instrumentation key "+nn),er=Gn[Ko],!Km(ut)&&er&&er[Ve]>0?Dn(er,function(au){w.addHeader(au.header,au.value)}):er=null,W0=Gn.enableSendPromise;var P_=Gn.httpXHROverride,BS=null,K0=null;BS=$0([1,2],!1);var Vd={sendPOST:Yr};D_=function(au,BT){return V0(Vd,au,BT)},!Gn[$d]&&qd()&&(BS=$0([3],!1)),BS=C_?P_:BS||P_||Vd,vr[ti]=function(au,BT){return V0(BS,au,BT)},T_&&(bt=bi),K0=C_?P_:$0([3,1],!0)||P_,(C_||!bt)&&K0&&(bt=function(au,BT){return V0(K0,au,BT)}),bt||(bt=D_),ar=Gn.disableTelemetry,Ii=Gn[Wt]||HS,as=Gn.isRetryDisabled,Lc=Gn[Kr]}))},vr.processTelemetry=function(mt,tr){tr=vr._getTelCtx(tr);var Hr=tr[Nr]();try{if(ar)return;if(!mt){bn(Hr,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ui]){bn(Hr,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ui]||(mt[ui]="EventData"),!vr[ti]){bn(Hr,1,28,"Sender was not initialized");return}if(GO(mt))mt[jb]=vr._sample[Vn];else{bn(Hr,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[Vn]});return}var Zr=mt.iKey||nn,Tn=y.constructEnvelope(mt,Zr,Hr,Ii);if(!Tn){bn(Hr,1,47,"Unable to create an AppInsights envelope");return}var kn=!1;if(mt[ie]&&mt[ie][zb]&&(Dn(mt[ie][zb],function(Ma){try{Ma&&Ma(Tn)===!1&&(kn=!0,Gv(Hr,"Telemetry processor check returns false"))}catch(Gn){bn(Hr,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+xc(Gn),{exception:kt(Gn)},!0)}}),delete mt[ie][zb]),kn)return;var wo=le.serialize(Tn),ho=vr[Hp];KO(wo),ho[Ir](wo),su()}catch(Ma){bn(Hr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+xc(Ma),{exception:kt(Ma)})}vr.processNext(mt,tr)},vr[mi]=function(mt,tr,Hr){mt.readyState===4&&RN(mt.status,tr,mt.responseURL,Hr,ew(mt),EN(mt)||mt.response)},vr[xr]=function(mt,tr,Hr){mt===void 0&&(mt=!0);var Zr;if(!G)try{var Tn=vr[Hp];if(ar)Tn[At]();else if(Tn[Mn]()>0){var kn=Tn.getItems();mBe(Hr||0,mt),tr?Zr=tr.call(vr,kn,mt):Zr=vr[ti](kn,mt)}Ku()}catch(ho){var wo=Sh();(!wo||wo>9)&&bn(vr[Nr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+xc(ho),{exception:kt(ho)})}return Zr},vr._doTeardown=function(mt,tr){vr.onunloadFlush(),Rh(It,!1),ple()},vr[jo]=function(mt,tr,Hr){bn(vr[Nr](),2,26,"Failed to send telemetry.",{message:tr}),vr._buffer&&vr._buffer[ei](mt)},vr[ss]=function(mt,tr){for(var Hr=[],Zr=[],Tn=tr.errors.reverse(),kn=0,wo=Tn;kn<wo.length;kn++){var ho=wo[kn],Ma=mt.splice(ho.index,1)[0];Jm(ho.statusCode)?Zr[Io](Ma):Hr[Io](Ma)}mt[Ve]>0&&vr[Ac](mt,tr[Iu]),Hr[Ve]>0&&vr[jo](Hr,ew(null,["partial success",tr[Iu],"of",tr.itemsReceived].join(" "))),Zr[Ve]>0&&(Ps(Zr),bn(vr[Nr](),2,40,"Partial success. Delivered: "+mt[Ve]+", Failed: "+Hr[Ve]+". Will retry to send "+Zr[Ve]+" our of "+tr[tv]+" items"))},vr[Ac]=function(mt,tr){vr._buffer&&vr._buffer[ei](mt)},vr._xdrOnLoad=function(mt,tr){var Hr=EN(mt);if(mt&&(Hr+""=="200"||Hr===""))R=0,vr[Ac](tr,0);else{var Zr=ri(Hr);Zr&&Zr.itemsReceived&&Zr.itemsReceived>Zr[Iu]&&!as?vr[ss](tr,Zr):vr[jo](tr,hle(mt))}};function GO(mt){return vr._sample.isSampledIn(mt)}function $0(mt,tr){for(var Hr,Zr=null,Tn=null,kn=0;Tn==null&&kn<mt[Ve];)Zr=mt[kn],!Ur&&Zr===1?Ep()?Tn=ON:Pp()&&(Tn=Yr):Zr===2&&xg(tr)?Tn=PN:qd()&&Zr===3&&(Tn=Bt),kn++;return Tn?(Hr={},Hr[gr]=Tn,Hr):null}function UT(mt,tr,Hr,Zr){tr===200&&mt&&vr._onSuccess(mt,mt[Ve]),Zr&&vr[jo](mt,Zr)}function V0(mt,tr,Hr){var Zr=function(wo,ho,Ma){return UT(tr,wo,ho,Ma)},Tn=HT(tr),kn=mt&&mt[gr];return kn&&Tn?(vr._buffer[rn](tr),kn(Tn,Zr,!Hr)):null}function HT(mt){var tr;if(tt(mt)&&mt[Ve]>0){var Hr=vr._buffer[Zt](mt),Zr=(tr={},tr[Ie]=Hr,tr.urlString=ut,tr.headers=Ae,tr.disableXhrSync=Ur,tr.disableFetchKeepAlive=!T_,tr[sy]=mt,tr);return Zr}return null}function PN(mt,tr,Hr){return li(mt,tr,!1)}function KO(mt){var tr=mt?mt[Ve]:0;return vr[Hp].size()+tr>Nt?((!It||It[_r]())&&vr[xr](!0,null,10),!0):!1}function RN(mt,tr,Hr,Zr,Tn,kn){var wo=null;if(vr._appId||(wo=ri(kn),wo&&wo.appId&&(vr._appId=wo.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!YO(Hr)){vr[jo](tr,Tn);return}!as&&Jm(mt)?(Ps(tr),bn(vr[Nr](),2,40,". Response code "+mt+". Will retry to send "+tr[Ve]+" items.")):vr[jo](tr,Tn)}else if(It&&!It[_r]()){if(!as){var ho=10;Ps(tr,ho),bn(vr[Nr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!It.isOnline(),". Will retry to send ").concat(tr.length," items."))}}else YO(Hr),mt===206?(wo||(wo=ri(kn)),wo&&!as?vr[ss](tr,wo):vr[jo](tr,Tn)):(R=0,vr[Ac](tr,Zr))}function YO(mt){return Ee>=10?!1:!xe(mt)&&mt!==""&&mt!==ut?(ut=mt,++Ee,!0):!1}function Qb(mt,tr,Hr,Zr){try{mt(tr,Hr,Zr)}catch{}}function xN(mt,tr){var Hr=function(Tn,kn,wo){return UT(mt,Tn,kn,wo)};if(bt)bt(mt,!1);else{var Zr=HT(mt);Bt(Zr,Hr)}}function Zb(mt,tr){var Hr=Jn(),Zr=ut,Tn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),kn=Hr.sendBeacon(Zr,Tn);return kn&&tr(200,{},mt),kn}function Bt(mt,tr,Hr){var Zr=mt,Tn=Zr&&Zr[Ie];if(ze(Tn)&&Tn[Ve]>0&&!Zb(Tn,tr)){var kn=[],wo=Zr[sy];if(wo[Ve]>0)for(var ho=0;ho<Tn[Ve];ho++){var Ma=mt[ho],Gn=vr._buffer[Zt](Ma);Zb(Gn,tr)||kn[Io](Ma)}kn[Ve]>0&&(D_&&D_(kn,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Yr(mt,tr,Hr){var Zr=mt,Tn,kn,wo,ho=new XMLHttpRequest,Ma=ut;try{ho[h_]=!0}catch{}return ho.open("POST",Ma,!Hr),ho[B0]("Content-type","application/json"),Km(Ma)&&ho[B0](m_[6],m_[7]),Dn(Gr(Ae),function(Gn){ho[B0](Gn,Ae[Gn])}),ho.onreadystatechange=function(){var Gn=Zr[sy];vr._xhrReadyStateChange(ho,Gn,Gn[Ve]),ho.readyState===4&&kn&&kn(!0)},ho.onerror=function(Gn){Qb(tr,400,{},ew(ho)),wo&&wo(Gn)},!Hr&&W0&&(Tn=_p(function(Gn,ay){kn=Gn,wo=ay})),ho.send(mt[Ie]),Tn}function bi(mt,tr){var Hr=function(wo,ho,Ma){return UT(mt,wo,ho,Ma)};if(tt(mt)){for(var Zr=mt[Ve],Tn=0;Tn<mt[Ve];Tn++)Zr+=mt[Tn][Ve];var kn=HT(mt);Ke+Zr<=aBe?li(kn,Hr,!0):qd()?Bt(kn,Hr):(D_&&D_(mt,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function li(mt,tr,Hr){var Zr,Tn=ut,kn=mt,wo=kn[Ie],ho=new Blob([wo],{type:"application/json"}),Ma,Gn,ay,E_=new Headers,G0=wo[Ve],IN=!1,P_=!1;Km(Tn)&&E_.append(m_[6],m_[7]),Dn(Gr(Ae),function(Vd){E_.append(Vd,Ae[Vd])});var BS=(Zr={method:"POST",headers:E_,body:ho},Zr[h_]=!0,Zr);Hr&&(BS.keepalive=!0,IN=!0,Ke+=G0);var K0=new Request(Tn,BS);try{K0[h_]=!0}catch{}!Hr&&W0&&(Ma=_p(function(Vd,au){Gn=Vd,ay=au}));try{Ra(fetch(K0),function(Vd){if(Hr&&(Ke-=G0,G0=0),!P_)if(P_=!0,Vd.rejected)Qb(tr,400,{},Vd.reason&&Vd.reason.message),ay&&ay(Vd.reason);else{var au=Vd.value;au.ok?Ra(au.text(),function(BT){var mle=kn[sy];RN(au.status,mle,au.url,mle[Ve],au.statusText,BT.value||""),Gn&&Gn(!0)}):(Qb(tr,400,{},au.statusText),Gn&&Gn(!1))}})}catch(Vd){P_||(Qb(tr,400,{},kt(Vd)),ay&&ay(Vd))}return IN&&!P_&&(P_=!0,Qb(tr,200,{}),Gn&&Gn(!0)),Ma}function ri(mt){try{if(mt&&mt!==""){var tr=oc().parse(mt);if(tr&&tr.itemsReceived&&tr.itemsReceived>=tr[Iu]&&tr.itemsReceived-tr.itemsAccepted===tr.errors[Ve])return tr}}catch(Hr){bn(vr[Nr](),1,43,"Cannot parse the response. "+xc(Hr),{response:mt})}return null}function Ps(mt,tr){if(tr===void 0&&(tr=1),!(!mt||mt[Ve]===0)){var Hr=vr[Hp];Hr[ei](mt),R++;for(var Zr=0,Tn=mt;Zr<Tn.length;Zr++){var kn=Tn[Zr];Hr[Ir](kn)}Rs(tr),su()}}function Rs(mt){var tr=10,Hr;if(R<=1)Hr=tr;else{var Zr=(Math.pow(2,R)-1)/2,Tn=Math.floor(Math.random()*Zr*tr)+1;Tn=mt*Tn,Hr=Math.max(Math.min(Tn,3600),tr)}var kn=Ll()+Hr*1e3;q=kn}function su(){if(!te&&!G){var mt=q?Math.max(0,q-Ll()):0,tr=Math.max(Lc,mt);te=vh(function(){te=null,vr[xr](!0,null,1)},tr)}}function Ku(){te&&te.cancel(),te=null,q=null}function Jm(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function ew(mt,tr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+EN(mt)||mt.response||"":tr}function ON(mt,tr,Hr){var Zr=mt,Tn=Po(),kn=new XDomainRequest,wo=Zr[Ie];kn.onload=function(){var Gn=Zr[sy];vr._xdrOnLoad(kn,Gn)},kn.onerror=function(){Qb(tr,400,{},hle(kn))};var ho=Tn&&Tn.location&&Tn.location.protocol||"";if(ut.lastIndexOf(ho,0)!==0){bn(vr[Nr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var Ma=ut.replace(/^(https?:)/,"");kn.open("POST",Ma),kn.send(wo)}function hle(mt,tr){return mt?"XDomainRequest,Response:"+EN(mt)||"":tr}function pBe(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function mBe(mt,tr){var Hr=pBe();if(Hr&&Hr[ile])try{Hr[ile](mt,tr)}catch(Zr){bn(vr[Nr](),1,74,"send request notification failed: "+xc(Zr),{exception:kt(Zr)})}}function gBe(mt,tr){var Hr=tr.disableInstrumentationKeyValidation,Zr=xe(Hr)?!1:Hr;if(Zr)return!0;var Tn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",kn=new RegExp(Tn);return kn.test(mt)}function ple(){vr[ti]=null,vr[Hp]=null,vr._appId=null,vr._sample=null,Ae={},It=null,R=0,q=null,G=!1,te=null,le=null,Ee=0,Ke=0,bt=null,yt=null,ut=null,sr=null,Nt=0,pr=!1,er=null,ar=!1,nn=null,Ii=HS,as=!1,La=null,Gu=HS,Ur=!1,T_=!1,D_=null,Fo(vr,"_senderConfig",{g:function(){return Md({},dle)}})}}),w}return y.constructEnvelope=function(w,R,q,G){var te;R!==w.iKey&&!xe(R)?te=hs(hs({},w),{iKey:R}):te=w;var le=lBe[te.baseType]||ale;return le(q,te,G)},y}(ka),w4="instrumentationKey",S4="connectionString",dBe={diagnosticLogInterval:Am(fBe,1e4)};function fBe(h){return h&&h>0}var hBe=function(){function h(y){var w=new Mp,R;(xe(y)||xe(y[w4])&&xe(y[S4]))&&$r("Invalid input configuration"),qo(h,this,function(G){Fo(G,"config",{g:function(){return R}}),te(),G.initialize=te,G.track=q,Dg(G,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function te(){var le=Oa(y||{},dBe);R=le.cfg,w.addUnloadHook(Ph(le,function(){if(R[S4]){var Ee=LT(R[S4]),Ae=Ee.ingestionendpoint;R.endpointUrl=Ae?Ae+p_:R.endpointUrl,R[w4]=Ee.instrumentationkey||R[w4]}})),w.initialize(R,[new fle])}});function q(G){G&&(G.baseData=G.baseData||{},G.baseType=G.baseType||"EventData"),w.track(G)}}return h.__ieDyn=1,h}();r.AppInsightsCore=Mp,r.ApplicationInsights=hBe,r.Sender=fle,r.SeverityLevel=Sl,r.arrForEach=Dn,r.isNullOrUndefined=xe,r.proxyFunctions=Dg,r.throwError=$r})});var cve=E(I_=>{"use strict";var b7e=I_&&I_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),w7e=I_&&I_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),S7e=I_&&I_.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&b7e(e,r,t);return w7e(e,r),e};Object.defineProperty(I_,"__esModule",{value:!0});I_.appInsightsClientFactory=void 0;var C7e=ove(),T7e=CG(),D7e=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>S7e(ave()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[C7e.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&T7e.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};I_.appInsightsClientFactory=D7e});var fve=E(lw=>{"use strict";var E7e=lw&&lw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),P7e=lw&&lw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EG=lw&&lw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&E7e(e,r,t);return P7e(e,r),e};Object.defineProperty(lw,"__esModule",{value:!0});var TG=EG(require("os")),uve=EG(require("vscode")),R7e=EG(require("https")),x7e=Jge(),O7e=Xge(),lve=CG(),I7e=nve(),k7e=cve();function dve(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=R7e.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var DG=class extends x7e.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,k7e.appInsightsClientFactory)(s,dve(),t);lve.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,I7e.oneDataSystemClientFactory)(s,uve,dve()));let i={release:TG.release(),platform:TG.platform(),architecture:TG.arch()},o=new O7e.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,uve,{additionalCommonProperties:lve.TelemetryUtil.getAdditionalCommonProperties(i)})}};lw.default=DG});var RG=E(sk=>{"use strict";var A7e=sk&&sk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sk,"__esModule",{value:!0});var PG=Nc();function L7e(r){return function(t){return t.lift(new M7e(r))}}sk.audit=L7e;var M7e=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new N7e(e,this.durationSelector))},r}(),N7e=function(r){A7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=PG.innerSubscribe(n,new PG.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(PG.SimpleOuterSubscriber)});var pve=E(xG=>{"use strict";Object.defineProperty(xG,"__esModule",{value:!0});var F7e=$h(),q7e=RG(),j7e=cG();function z7e(r,e){return e===void 0&&(e=F7e.async),q7e.audit(function(){return j7e.timer(r,e)})}xG.auditTime=z7e});var mve=E(ak=>{"use strict";var U7e=ak&&ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ak,"__esModule",{value:!0});var OG=Nc();function H7e(r){return function(t){return t.lift(new B7e(r))}}ak.buffer=H7e;var B7e=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new W7e(e,this.closingNotifier))},r}(),W7e=function(r){U7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(OG.innerSubscribe(n,new OG.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(OG.SimpleOuterSubscriber)});var yve=E(ck=>{"use strict";var gve=ck&&ck.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ck,"__esModule",{value:!0});var vve=gi();function $7e(r,e){return e===void 0&&(e=null),function(n){return n.lift(new V7e(r,e))}}ck.bufferCount=$7e;var V7e=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=G7e:this.subscriberClass=K7e}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),G7e=function(r){gve(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(vve.Subscriber),K7e=function(r){gve(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(vve.Subscriber)});var wve=E(uk=>{"use strict";var Y7e=uk&&uk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uk,"__esModule",{value:!0});var J7e=$h(),X7e=gi(),Q7e=dy();function Z7e(r){var e=arguments.length,t=J7e.async;Q7e.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new eYe(r,n,i,t))}}uk.bufferTime=Z7e;var eYe=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new rYe(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),tYe=function(){function r(){this.buffer=[]}return r}(),rYe=function(r){Y7e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(_ve,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(bve,n,l)),a.add(s.schedule(nYe,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(_ve,i,o))}},e.prototype.openContext=function(){var t=new tYe;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(X7e.Subscriber);function _ve(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function nYe(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(bve,t,{subscriber:n,context:o})),s.schedule(r,e))}function bve(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var Cve=E(lk=>{"use strict";var iYe=lk&&lk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lk,"__esModule",{value:!0});var oYe=Tl(),Sve=cC(),sYe=aC();function aYe(r,e){return function(n){return n.lift(new cYe(r,e))}}lk.bufferToggle=aYe;var cYe=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new uYe(e,this.openings,this.closingSelector))},r}(),uYe=function(r){iYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(Sve.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new oYe.Subscription,s={buffer:i,subscription:o};n.push(s);var a=Sve.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(sYe.OuterSubscriber)});var Tve=E(dk=>{"use strict";var lYe=dk&&dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dk,"__esModule",{value:!0});var dYe=Tl(),IG=Nc();function fYe(r){return function(e){return e.lift(new hYe(r))}}dk.bufferWhen=fYe;var hYe=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new pYe(e,this.closingSelector))},r}(),pYe=function(r){lYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new dYe.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(IG.innerSubscribe(i,new IG.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(IG.SimpleOuterSubscriber)});var Dve=E(fk=>{"use strict";var mYe=fk&&fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fk,"__esModule",{value:!0});var kG=Nc();function gYe(r){return function(t){var n=new vYe(r),i=t.lift(n);return n.caught=i}}fk.catchError=gYe;var vYe=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new yYe(e,this.selector,this.caught))},r}(),yYe=function(r){mYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new kG.SimpleInnerSubscriber(this);this.add(i);var o=kG.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(kG.SimpleOuterSubscriber)});var Eve=E(AG=>{"use strict";Object.defineProperty(AG,"__esModule",{value:!0});var _Ye=UF();function bYe(r){return function(e){return e.lift(new _Ye.CombineLatestOperator(r))}}AG.combineAll=bYe});var Pve=E(LG=>{"use strict";Object.defineProperty(LG,"__esModule",{value:!0});var wYe=Wh(),SYe=UF(),CYe=fy();function TYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&wYe.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(CYe.from([n].concat(r)),new SYe.CombineLatestOperator(t))}}LG.combineLatest=TYe});var Rve=E(MG=>{"use strict";Object.defineProperty(MG,"__esModule",{value:!0});var DYe=ek();function EYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(DYe.concat.apply(void 0,[t].concat(r)))}}MG.concat=EYe});var FG=E(NG=>{"use strict";Object.defineProperty(NG,"__esModule",{value:!0});var PYe=ZI();function RYe(r,e){return PYe.mergeMap(r,e,1)}NG.concatMap=RYe});var xve=E(qG=>{"use strict";Object.defineProperty(qG,"__esModule",{value:!0});var xYe=FG();function OYe(r,e){return xYe.concatMap(function(){return r},e)}qG.concatMapTo=OYe});var Ove=E(hk=>{"use strict";var IYe=hk&&hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hk,"__esModule",{value:!0});var kYe=gi();function AYe(r){return function(e){return e.lift(new LYe(r,e))}}hk.count=AYe;var LYe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new MYe(e,this.predicate,this.source))},r}(),MYe=function(r){IYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(kYe.Subscriber)});var Ive=E(pk=>{"use strict";var NYe=pk&&pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pk,"__esModule",{value:!0});var jG=Nc();function FYe(r){return function(e){return e.lift(new qYe(r))}}pk.debounce=FYe;var qYe=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new jYe(e,this.durationSelector))},r}(),jYe=function(r){NYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=jG.innerSubscribe(n,new jG.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(jG.SimpleOuterSubscriber)});var kve=E(mk=>{"use strict";var zYe=mk&&mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mk,"__esModule",{value:!0});var UYe=gi(),HYe=$h();function BYe(r,e){return e===void 0&&(e=HYe.async),function(t){return t.lift(new WYe(r,e))}}mk.debounceTime=BYe;var WYe=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new $Ye(e,this.dueTime,this.scheduler))},r}(),$Ye=function(r){zYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(VYe,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(UYe.Subscriber);function VYe(r){r.debouncedNext()}});var DE=E(gk=>{"use strict";var GYe=gk&&gk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gk,"__esModule",{value:!0});var KYe=gi();function YYe(r){return r===void 0&&(r=null),function(e){return e.lift(new JYe(r))}}gk.defaultIfEmpty=YYe;var JYe=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new XYe(e,this.defaultValue))},r}(),XYe=function(r){GYe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(KYe.Subscriber)});var UG=E(zG=>{"use strict";Object.defineProperty(zG,"__esModule",{value:!0});function QYe(r){return r instanceof Date&&!isNaN(+r)}zG.isDate=QYe});var Lve=E(vk=>{"use strict";var ZYe=vk&&vk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vk,"__esModule",{value:!0});var eJe=$h(),tJe=UG(),rJe=gi(),Ave=jI();function nJe(r,e){e===void 0&&(e=eJe.async);var t=tJe.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new iJe(n,e))}}vk.delay=nJe;var iJe=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new oJe(e,this.delay,this.scheduler))},r}(),oJe=function(r){ZYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new sJe(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(Ave.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Ave.Notification.createComplete()),this.unsubscribe()},e}(rJe.Subscriber),sJe=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var Nve=E(yk=>{"use strict";var HG=yk&&yk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yk,"__esModule",{value:!0});var aJe=gi(),cJe=zo(),uJe=aC(),lJe=cC();function dJe(r,e){return e?function(t){return new hJe(t,e).lift(new Mve(r))}:function(t){return t.lift(new Mve(r))}}yk.delayWhen=dJe;var Mve=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new fJe(e,this.delayDurationSelector))},r}(),fJe=function(r){HG(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=lJe.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(uJe.OuterSubscriber),hJe=function(r){HG(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new pJe(t,this.source))},e}(cJe.Observable),pJe=function(r){HG(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(aJe.Subscriber)});var Fve=E(_k=>{"use strict";var mJe=_k&&_k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_k,"__esModule",{value:!0});var gJe=gi();function vJe(){return function(e){return e.lift(new yJe)}}_k.dematerialize=vJe;var yJe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new _Je(e))},r}(),_Je=function(r){mJe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(gJe.Subscriber)});var jve=E(EE=>{"use strict";var bJe=EE&&EE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(EE,"__esModule",{value:!0});var BG=Nc();function wJe(r,e){return function(t){return t.lift(new SJe(r,e))}}EE.distinct=wJe;var SJe=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new qve(e,this.keySelector,this.flushes))},r}(),qve=function(r){bJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(BG.innerSubscribe(i,new BG.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(BG.SimpleOuterSubscriber);EE.DistinctSubscriber=qve});var WG=E(bk=>{"use strict";var CJe=bk&&bk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bk,"__esModule",{value:!0});var TJe=gi();function DJe(r,e){return function(t){return t.lift(new EJe(r,e))}}bk.distinctUntilChanged=DJe;var EJe=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new PJe(e,this.compare,this.keySelector))},r}(),PJe=function(r){CJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(TJe.Subscriber)});var zve=E($G=>{"use strict";Object.defineProperty($G,"__esModule",{value:!0});var RJe=WG();function xJe(r,e){return RJe.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}$G.distinctUntilKeyChanged=xJe});var Sk=E(wk=>{"use strict";var OJe=wk&&wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wk,"__esModule",{value:!0});var IJe=wE(),kJe=gi();function AJe(r){return r===void 0&&(r=NJe),function(e){return e.lift(new LJe(r))}}wk.throwIfEmpty=AJe;var LJe=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new MJe(e,this.errorFactory))},r}(),MJe=function(r){OJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(kJe.Subscriber);function NJe(){return new IJe.EmptyError}});var hq=E(Ck=>{"use strict";var FJe=Ck&&Ck.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ck,"__esModule",{value:!0});var qJe=gi(),jJe=bE(),zJe=ly();function UJe(r){return function(e){return r===0?zJe.empty():e.lift(new HJe(r))}}Ck.take=UJe;var HJe=function(){function r(e){if(this.total=e,this.total<0)throw new jJe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new BJe(e,this.total))},r}(),BJe=function(r){FJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(qJe.Subscriber)});var Hve=E(VG=>{"use strict";Object.defineProperty(VG,"__esModule",{value:!0});var Uve=bE(),WJe=sD(),$Je=Sk(),VJe=DE(),GJe=hq();function KJe(r,e){if(r<0)throw new Uve.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(WJe.filter(function(i,o){return o===r}),GJe.take(1),t?VJe.defaultIfEmpty(e):$Je.throwIfEmpty(function(){return new Uve.ArgumentOutOfRangeError}))}}VG.elementAt=KJe});var Bve=E(GG=>{"use strict";Object.defineProperty(GG,"__esModule",{value:!0});var YJe=ek(),JJe=FI();function XJe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return YJe.concat(t,JJe.of.apply(void 0,r))}}GG.endWith=XJe});var Wve=E(Tk=>{"use strict";var QJe=Tk&&Tk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tk,"__esModule",{value:!0});var ZJe=gi();function eXe(r,e){return function(t){return t.lift(new tXe(r,e,t))}}Tk.every=eXe;var tXe=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new rXe(e,this.predicate,this.thisArg,this.source))},r}(),rXe=function(r){QJe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ZJe.Subscriber)});var $ve=E(Dk=>{"use strict";var nXe=Dk&&Dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dk,"__esModule",{value:!0});var KG=Nc();function iXe(){return function(r){return r.lift(new oXe)}}Dk.exhaust=iXe;var oXe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new sXe(e))},r}(),sXe=function(r){nXe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(KG.innerSubscribe(t,new KG.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(KG.SimpleOuterSubscriber)});var Gve=E(Ek=>{"use strict";var aXe=Ek&&Ek.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ek,"__esModule",{value:!0});var cXe=Xm(),uXe=fy(),YG=Nc();function Vve(r,e){return e?function(t){return t.pipe(Vve(function(n,i){return uXe.from(r(n,i)).pipe(cXe.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new lXe(r))}}Ek.exhaustMap=Vve;var lXe=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new dXe(e,this.project))},r}(),dXe=function(r){aXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new YG.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=YG.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(YG.SimpleOuterSubscriber)});var Jve=E(fD=>{"use strict";var fXe=fD&&fD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fD,"__esModule",{value:!0});var JG=Nc();function hXe(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Kve(r,e,t))}}fD.expand=hXe;var Kve=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new Yve(e,this.project,this.concurrent,this.scheduler))},r}();fD.ExpandOperator=Kve;var Yve=function(r){fXe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add(JG.innerSubscribe(t,new JG.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(JG.SimpleOuterSubscriber);fD.ExpandSubscriber=Yve});var Xve=E(Pk=>{"use strict";var pXe=Pk&&Pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pk,"__esModule",{value:!0});var mXe=gi(),gXe=Tl();function vXe(r){return function(e){return e.lift(new yXe(r))}}Pk.finalize=vXe;var yXe=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new _Xe(e,this.callback))},r}(),_Xe=function(r){pXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new gXe.Subscription(n)),i}return e}(mXe.Subscriber)});var XG=E(hD=>{"use strict";var bXe=hD&&hD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hD,"__esModule",{value:!0});var wXe=gi();function SXe(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new Qve(r,t,!1,e))}}hD.find=SXe;var Qve=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new Zve(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();hD.FindValueOperator=Qve;var Zve=function(r){bXe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(wXe.Subscriber);hD.FindValueSubscriber=Zve});var eye=E(QG=>{"use strict";Object.defineProperty(QG,"__esModule",{value:!0});var CXe=XG();function TXe(r,e){return function(t){return t.lift(new CXe.FindValueOperator(r,t,!0,e))}}QG.findIndex=TXe});var tye=E(ZG=>{"use strict";Object.defineProperty(ZG,"__esModule",{value:!0});var DXe=wE(),EXe=sD(),PXe=hq(),RXe=DE(),xXe=Sk(),OXe=oC();function IXe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?EXe.filter(function(i,o){return r(i,o,n)}):OXe.identity,PXe.take(1),t?RXe.defaultIfEmpty(e):xXe.throwIfEmpty(function(){return new DXe.EmptyError}))}}ZG.first=IXe});var rye=E(Rk=>{"use strict";var kXe=Rk&&Rk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rk,"__esModule",{value:!0});var AXe=gi();function LXe(){return function(e){return e.lift(new MXe)}}Rk.ignoreElements=LXe;var MXe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new NXe(e))},r}(),NXe=function(r){kXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(AXe.Subscriber)});var nye=E(xk=>{"use strict";var FXe=xk&&xk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xk,"__esModule",{value:!0});var qXe=gi();function jXe(){return function(r){return r.lift(new zXe)}}xk.isEmpty=jXe;var zXe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new UXe(e))},r}(),UXe=function(r){FXe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(qXe.Subscriber)});var pq=E(Ok=>{"use strict";var HXe=Ok&&Ok.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ok,"__esModule",{value:!0});var BXe=gi(),WXe=bE(),$Xe=ly();function VXe(r){return function(t){return r===0?$Xe.empty():t.lift(new GXe(r))}}Ok.takeLast=VXe;var GXe=function(){function r(e){if(this.total=e,this.total<0)throw new WXe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new KXe(e,this.total))},r}(),KXe=function(r){HXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(BXe.Subscriber)});var iye=E(e8=>{"use strict";Object.defineProperty(e8,"__esModule",{value:!0});var YXe=wE(),JXe=sD(),XXe=pq(),QXe=Sk(),ZXe=DE(),eQe=oC();function tQe(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?JXe.filter(function(i,o){return r(i,o,n)}):eQe.identity,XXe.takeLast(1),t?ZXe.defaultIfEmpty(e):QXe.throwIfEmpty(function(){return new YXe.EmptyError}))}}e8.last=tQe});var oye=E(Ik=>{"use strict";var rQe=Ik&&Ik.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ik,"__esModule",{value:!0});var nQe=gi();function iQe(r){return function(e){return e.lift(new oQe(r))}}Ik.mapTo=iQe;var oQe=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new sQe(e,this.value))},r}(),sQe=function(r){rQe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(nQe.Subscriber)});var sye=E(kk=>{"use strict";var aQe=kk&&kk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kk,"__esModule",{value:!0});var cQe=gi(),t8=jI();function uQe(){return function(e){return e.lift(new lQe)}}kk.materialize=uQe;var lQe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new dQe(e))},r}(),dQe=function(r){aQe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(t8.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(t8.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(t8.Notification.createComplete()),t.complete()},e}(cQe.Subscriber)});var mq=E(Ak=>{"use strict";var fQe=Ak&&Ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ak,"__esModule",{value:!0});var hQe=gi();function pQe(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new mQe(r,e,t))}}Ak.scan=pQe;var mQe=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new gQe(e,this.accumulator,this.seed,this.hasSeed))},r}(),gQe=function(r){fQe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(hQe.Subscriber)});var Lk=E(r8=>{"use strict";Object.defineProperty(r8,"__esModule",{value:!0});var aye=mq(),cye=pq(),vQe=DE(),uye=IF();function yQe(r,e){return arguments.length>=2?function(n){return uye.pipe(aye.scan(r,e),cye.takeLast(1),vQe.defaultIfEmpty(e))(n)}:function(n){return uye.pipe(aye.scan(function(i,o,s){return r(i,o,s+1)}),cye.takeLast(1))(n)}}r8.reduce=yQe});var lye=E(n8=>{"use strict";Object.defineProperty(n8,"__esModule",{value:!0});var _Qe=Lk();function bQe(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return _Qe.reduce(e)}n8.max=bQe});var dye=E(i8=>{"use strict";Object.defineProperty(i8,"__esModule",{value:!0});var wQe=Z5();function SQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(wQe.merge.apply(void 0,[t].concat(r)))}}i8.merge=SQe});var hye=E(o8=>{"use strict";Object.defineProperty(o8,"__esModule",{value:!0});var fye=ZI();function CQe(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?fye.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),fye.mergeMap(function(){return r},t))}o8.mergeMapTo=CQe});var gye=E(pD=>{"use strict";var TQe=pD&&pD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pD,"__esModule",{value:!0});var s8=Nc();function DQe(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new pye(r,e,t))}}pD.mergeScan=DQe;var pye=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new mye(e,this.accumulator,this.seed,this.concurrent))},r}();pD.MergeScanOperator=pye;var mye=function(r){TQe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new s8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=s8.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(s8.SimpleOuterSubscriber);pD.MergeScanSubscriber=mye});var vye=E(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});var EQe=Lk();function PQe(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return EQe.reduce(e)}a8.min=PQe});var mD=E(gq=>{"use strict";Object.defineProperty(gq,"__esModule",{value:!0});var RQe=J6();function xQe(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new yye(i,e));var o=Object.create(n,RQe.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}gq.multicast=xQe;var yye=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();gq.MulticastOperator=yye});var wye=E(PE=>{"use strict";var OQe=PE&&PE.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(PE,"__esModule",{value:!0});var IQe=fy(),_ye=Wh(),c8=Nc();function kQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&_ye.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new bye(r))}}PE.onErrorResumeNext=kQe;function AQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&_ye.isArray(r[0])&&(r=r[0]),t=r.shift(),IQe.from(t).lift(new bye(r))}PE.onErrorResumeNextStatic=AQe;var bye=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new LQe(e,this.nextSources))},r}(),LQe=function(r){OQe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new c8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=c8.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(c8.SimpleOuterSubscriber)});var Sye=E(Mk=>{"use strict";var MQe=Mk&&Mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Mk,"__esModule",{value:!0});var NQe=gi();function FQe(){return function(r){return r.lift(new qQe)}}Mk.pairwise=FQe;var qQe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new jQe(e))},r}(),jQe=function(r){MQe(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(NQe.Subscriber)});var Tye=E(u8=>{"use strict";Object.defineProperty(u8,"__esModule",{value:!0});var zQe=iG(),Cye=sD();function UQe(r,e){return function(t){return[Cye.filter(r,e)(t),Cye.filter(zQe.not(r,e))(t)]}}u8.partition=UQe});var Dye=E(l8=>{"use strict";Object.defineProperty(l8,"__esModule",{value:!0});var HQe=Xm();function BQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return HQe.map(WQe(r,t))(n)}}l8.pluck=BQe;function WQe(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var Rye=E(d8=>{"use strict";Object.defineProperty(d8,"__esModule",{value:!0});var Eye=jf(),Pye=mD();function $Qe(r){return r?Pye.multicast(function(){return new Eye.Subject},r):Pye.multicast(new Eye.Subject)}d8.publish=$Qe});var xye=E(f8=>{"use strict";Object.defineProperty(f8,"__esModule",{value:!0});var VQe=Z6(),GQe=mD();function KQe(r){return function(e){return GQe.multicast(new VQe.BehaviorSubject(r))(e)}}f8.publishBehavior=KQe});var Oye=E(h8=>{"use strict";Object.defineProperty(h8,"__esModule",{value:!0});var YQe=HI(),JQe=mD();function XQe(){return function(r){return JQe.multicast(new YQe.AsyncSubject)(r)}}h8.publishLast=XQe});var Iye=E(p8=>{"use strict";Object.defineProperty(p8,"__esModule",{value:!0});var QQe=FF(),ZQe=mD();function eZe(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new QQe.ReplaySubject(r,e,n);return function(s){return ZQe.multicast(function(){return o},i)(s)}}p8.publishReplay=eZe});var kye=E(m8=>{"use strict";Object.defineProperty(m8,"__esModule",{value:!0});var tZe=Wh(),rZe=sG();function nZe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&tZe.isArray(r[0])&&(r=r[0]),n.lift.call(rZe.race.apply(void 0,[n].concat(r)))}}m8.race=nZe});var Lye=E(Nk=>{"use strict";var iZe=Nk&&Nk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nk,"__esModule",{value:!0});var oZe=gi(),sZe=ly();function aZe(r){return r===void 0&&(r=-1),function(e){return r===0?sZe.empty():r<0?e.lift(new Aye(-1,e)):e.lift(new Aye(r-1,e))}}Nk.repeat=aZe;var Aye=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new cZe(e,this.count,this.source))},r}(),cZe=function(r){iZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(oZe.Subscriber)});var Mye=E(Fk=>{"use strict";var uZe=Fk&&Fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fk,"__esModule",{value:!0});var lZe=jf(),g8=Nc();function dZe(r){return function(e){return e.lift(new fZe(r))}}Fk.repeatWhen=dZe;var fZe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new hZe(e,this.notifier,t))},r}(),hZe=function(r){uZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new lZe.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=g8.innerSubscribe(t,new g8.SimpleInnerSubscriber(this))},e}(g8.SimpleOuterSubscriber)});var Nye=E(qk=>{"use strict";var pZe=qk&&qk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qk,"__esModule",{value:!0});var mZe=gi();function gZe(r){return r===void 0&&(r=-1),function(e){return e.lift(new vZe(r,e))}}qk.retry=gZe;var vZe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new yZe(e,this.count,this.source))},r}(),yZe=function(r){pZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(mZe.Subscriber)});var Fye=E(jk=>{"use strict";var _Ze=jk&&jk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jk,"__esModule",{value:!0});var bZe=jf(),v8=Nc();function wZe(r){return function(e){return e.lift(new SZe(r,e))}}jk.retryWhen=wZe;var SZe=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new CZe(e,this.notifier,this.source))},r}(),CZe=function(r){_Ze(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new bZe.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=v8.innerSubscribe(i,new v8.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(v8.SimpleOuterSubscriber)});var qye=E(zk=>{"use strict";var TZe=zk&&zk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zk,"__esModule",{value:!0});var y8=Nc();function DZe(r){return function(e){return e.lift(new EZe(r))}}zk.sample=DZe;var EZe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new PZe(e),i=t.subscribe(n);return i.add(y8.innerSubscribe(this.notifier,new y8.SimpleInnerSubscriber(n))),i},r}(),PZe=function(r){TZe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(y8.SimpleOuterSubscriber)});var jye=E(Uk=>{"use strict";var RZe=Uk&&Uk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Uk,"__esModule",{value:!0});var xZe=gi(),OZe=$h();function IZe(r,e){return e===void 0&&(e=OZe.async),function(t){return t.lift(new kZe(r,e))}}Uk.sampleTime=IZe;var kZe=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new AZe(e,this.period,this.scheduler))},r}(),AZe=function(r){RZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(LZe,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(xZe.Subscriber);function LZe(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var Wye=E(gD=>{"use strict";var zye=gD&&gD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gD,"__esModule",{value:!0});var Uye=gi();function MZe(r,e){return function(t){return t.lift(new Hye(r,e))}}gD.sequenceEqual=MZe;var Hye=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new Bye(e,this.compareTo,this.comparator))},r}();gD.SequenceEqualOperator=Hye;var Bye=function(r){zye(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new NZe(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Uye.Subscriber);gD.SequenceEqualSubscriber=Bye;var NZe=function(r){zye(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Uye.Subscriber)});var $ye=E(_8=>{"use strict";Object.defineProperty(_8,"__esModule",{value:!0});var FZe=mD(),qZe=AF(),jZe=jf();function zZe(){return new jZe.Subject}function UZe(){return function(r){return qZe.refCount()(FZe.multicast(zZe)(r))}}_8.share=UZe});var Vye=E(b8=>{"use strict";Object.defineProperty(b8,"__esModule",{value:!0});var HZe=FF();function BZe(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(WZe(n))}}b8.shareReplay=BZe;function WZe(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(m){c++;var _;!a||l?(l=!1,a=new HZe.ReplaySubject(t,i,s),_=a.subscribe(this),u=m.subscribe({next:function(D){a.next(D)},error:function(D){l=!0,a.error(D)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var Gye=E(Hk=>{"use strict";var $Ze=Hk&&Hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hk,"__esModule",{value:!0});var VZe=gi(),GZe=wE();function KZe(r){return function(e){return e.lift(new YZe(r,e))}}Hk.single=KZe;var YZe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new JZe(e,this.predicate,this.source))},r}(),JZe=function(r){$Ze(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new GZe.EmptyError)},e}(VZe.Subscriber)});var Kye=E(Bk=>{"use strict";var XZe=Bk&&Bk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Bk,"__esModule",{value:!0});var QZe=gi();function ZZe(r){return function(e){return e.lift(new eet(r))}}Bk.skip=ZZe;var eet=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new tet(e,this.total))},r}(),tet=function(r){XZe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(QZe.Subscriber)});var Jye=E(Wk=>{"use strict";var ret=Wk&&Wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Wk,"__esModule",{value:!0});var Yye=gi(),net=bE();function iet(r){return function(e){return e.lift(new oet(r))}}Wk.skipLast=iet;var oet=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new net.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new Yye.Subscriber(e)):t.subscribe(new set(e,this._skipCount))},r}(),set=function(r){ret(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(Yye.Subscriber)});var Xye=E($k=>{"use strict";var aet=$k&&$k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($k,"__esModule",{value:!0});var w8=Nc();function cet(r){return function(e){return e.lift(new uet(r))}}$k.skipUntil=cet;var uet=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new det(e,this.notifier))},r}(),det=function(r){aet(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new w8.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=w8.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(w8.SimpleOuterSubscriber)});var Qye=E(Vk=>{"use strict";var fet=Vk&&Vk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vk,"__esModule",{value:!0});var het=gi();function pet(r){return function(e){return e.lift(new met(r))}}Vk.skipWhile=pet;var met=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new get(e,this.predicate))},r}(),get=function(r){fet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(het.Subscriber)});var e_e=E(S8=>{"use strict";Object.defineProperty(S8,"__esModule",{value:!0});var Zye=ek(),vet=dy();function yet(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return vet.isScheduler(t)?(r.pop(),function(n){return Zye.concat(r,n,t)}):function(n){return Zye.concat(r,n)}}S8.startWith=yet});var t_e=E(Gk=>{"use strict";var _et=Gk&&Gk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Gk,"__esModule",{value:!0});var bet=zo(),C8=f5(),wet=tk(),Cet=function(r){_et(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=C8.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!wet.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=C8.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=C8.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(bet.Observable);Gk.SubscribeOnObservable=Cet});var r_e=E(T8=>{"use strict";Object.defineProperty(T8,"__esModule",{value:!0});var Tet=t_e();function Det(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Eet(r,e))}}T8.subscribeOn=Det;var Eet=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new Tet.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var vq=E(Kk=>{"use strict";var Pet=Kk&&Kk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kk,"__esModule",{value:!0});var Ret=Xm(),xet=fy(),D8=Nc();function n_e(r,e){return typeof e=="function"?function(t){return t.pipe(n_e(function(n,i){return xet.from(r(n,i)).pipe(Ret.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new Oet(r))}}Kk.switchMap=n_e;var Oet=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Iet(e,this.project))},r}(),Iet=function(r){Pet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new D8.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=D8.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(D8.SimpleOuterSubscriber)});var i_e=E(E8=>{"use strict";Object.defineProperty(E8,"__esModule",{value:!0});var ket=vq(),Aet=oC();function Let(){return ket.switchMap(Aet.identity)}E8.switchAll=Let});var s_e=E(P8=>{"use strict";Object.defineProperty(P8,"__esModule",{value:!0});var o_e=vq();function Met(r,e){return e?o_e.switchMap(function(){return r},e):o_e.switchMap(function(){return r})}P8.switchMapTo=Met});var a_e=E(Yk=>{"use strict";var Net=Yk&&Yk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Yk,"__esModule",{value:!0});var R8=Nc();function Fet(r){return function(e){return e.lift(new qet(r))}}Yk.takeUntil=Fet;var qet=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new jet(e),i=R8.innerSubscribe(this.notifier,new R8.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),jet=function(r){Net(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(R8.SimpleOuterSubscriber)});var c_e=E(Jk=>{"use strict";var zet=Jk&&Jk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jk,"__esModule",{value:!0});var Uet=gi();function Het(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new Bet(r,e))}}Jk.takeWhile=Het;var Bet=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new Wet(e,this.predicate,this.inclusive))},r}(),Wet=function(r){zet(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(Uet.Subscriber)});var u_e=E(Xk=>{"use strict";var $et=Xk&&Xk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xk,"__esModule",{value:!0});var Vet=gi(),fC=zF(),Get=dE();function Ket(r,e,t){return function(i){return i.lift(new Yet(r,e,t))}}Xk.tap=Ket;var Yet=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new Jet(e,this.nextOrObserver,this.error,this.complete))},r}(),Jet=function(r){$et(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=fC.noop,s._tapError=fC.noop,s._tapComplete=fC.noop,s._tapError=i||fC.noop,s._tapComplete=o||fC.noop,Get.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||fC.noop,s._tapError=n.error||fC.noop,s._tapComplete=n.complete||fC.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(Vet.Subscriber)});var O8=E(vD=>{"use strict";var Xet=vD&&vD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vD,"__esModule",{value:!0});var x8=Nc();vD.defaultThrottleConfig={leading:!0,trailing:!1};function Qet(r,e){return e===void 0&&(e=vD.defaultThrottleConfig),function(t){return t.lift(new Zet(r,!!e.leading,!!e.trailing))}}vD.throttle=Qet;var Zet=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new ett(e,this.durationSelector,this.leading,this.trailing))},r}(),ett=function(r){Xet(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=x8.innerSubscribe(n,new x8.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(x8.SimpleOuterSubscriber)});var l_e=E(Qk=>{"use strict";var ttt=Qk&&Qk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Qk,"__esModule",{value:!0});var rtt=gi(),ntt=$h(),itt=O8();function ott(r,e,t){return e===void 0&&(e=ntt.async),t===void 0&&(t=itt.defaultThrottleConfig),function(n){return n.lift(new stt(r,e,t.leading,t.trailing))}}Qk.throttleTime=ott;var stt=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new att(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),att=function(r){ttt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ctt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(rtt.Subscriber);function ctt(r){var e=r.subscriber;e.clearThrottle()}});var f_e=E(yq=>{"use strict";Object.defineProperty(yq,"__esModule",{value:!0});var utt=$h(),ltt=mq(),dtt=$F(),ftt=Xm();function htt(r){return r===void 0&&(r=utt.async),function(e){return dtt.defer(function(){return e.pipe(ltt.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),ftt.map(function(t){var n=t.current,i=t.last,o=t.value;return new d_e(o,n-i)}))})}}yq.timeInterval=htt;var d_e=function(){function r(e,t){this.value=e,this.interval=t}return r}();yq.TimeInterval=d_e});var k8=E(Zk=>{"use strict";var ptt=Zk&&Zk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Zk,"__esModule",{value:!0});var mtt=$h(),gtt=UG(),I8=Nc();function vtt(r,e,t){return t===void 0&&(t=mtt.async),function(n){var i=gtt.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new ytt(o,i,e,t))}}Zk.timeoutWith=vtt;var ytt=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new _tt(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),_tt=function(r){ptt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(I8.innerSubscribe(n,new I8.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(I8.SimpleOuterSubscriber)});var h_e=E(A8=>{"use strict";Object.defineProperty(A8,"__esModule",{value:!0});var btt=$h(),wtt=y5(),Stt=k8(),Ctt=NF();function Ttt(r,e){return e===void 0&&(e=btt.async),Stt.timeoutWith(r,Ctt.throwError(new wtt.TimeoutError),e)}A8.timeout=Ttt});var m_e=E(_q=>{"use strict";Object.defineProperty(_q,"__esModule",{value:!0});var Dtt=$h(),Ett=Xm();function Ptt(r){return r===void 0&&(r=Dtt.async),Ett.map(function(e){return new p_e(e,r.now())})}_q.timestamp=Ptt;var p_e=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();_q.Timestamp=p_e});var g_e=E(L8=>{"use strict";Object.defineProperty(L8,"__esModule",{value:!0});var Rtt=Lk();function xtt(r,e,t){return t===0?[e]:(r.push(e),r)}function Ott(){return Rtt.reduce(xtt,[])}L8.toArray=Ott});var y_e=E(e1=>{"use strict";var Itt=e1&&e1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e1,"__esModule",{value:!0});var v_e=jf(),M8=Nc();function ktt(r){return function(t){return t.lift(new Att(r))}}e1.window=ktt;var Att=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new Ltt(e),i=t.subscribe(n);return i.closed||n.add(M8.innerSubscribe(this.windowBoundaries,new M8.SimpleInnerSubscriber(n))),i},r}(),Ltt=function(r){Itt(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new v_e.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new v_e.Subject;n.next(i)},e}(M8.SimpleOuterSubscriber)});var w_e=E(t1=>{"use strict";var Mtt=t1&&t1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(t1,"__esModule",{value:!0});var Ntt=gi(),b_e=jf();function Ftt(r,e){return e===void 0&&(e=0),function(n){return n.lift(new qtt(r,e))}}t1.windowCount=Ftt;var qtt=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new jtt(e,this.windowSize,this.startWindowEvery))},r}(),jtt=function(r){Mtt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new b_e.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new b_e.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Ntt.Subscriber)});var D_e=E(r1=>{"use strict";var C_e=r1&&r1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r1,"__esModule",{value:!0});var ztt=jf(),Utt=$h(),Htt=gi(),S_e=tk(),N8=dy();function Btt(r){var e=Utt.async,t=null,n=Number.POSITIVE_INFINITY;return N8.isScheduler(arguments[3])&&(e=arguments[3]),N8.isScheduler(arguments[2])?e=arguments[2]:S_e.isNumeric(arguments[2])&&(n=Number(arguments[2])),N8.isScheduler(arguments[1])?e=arguments[1]:S_e.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new Wtt(r,t,n,e))}}r1.windowTime=Btt;var Wtt=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Vtt(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),$tt=function(r){C_e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ztt.Subject),Vtt=function(r){C_e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(T_e,n,u)),a.add(s.schedule(Ktt,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(Gtt,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new $tt;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(Htt.Subscriber);function Gtt(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function Ktt(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(T_e,e,c),s.add(a.subscription),s.schedule(r,i)}function T_e(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var P_e=E(n1=>{"use strict";var Ytt=n1&&n1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(n1,"__esModule",{value:!0});var Jtt=jf(),Xtt=Tl(),Qtt=aC(),E_e=cC();function Ztt(r,e){return function(t){return t.lift(new ert(r,e))}}n1.windowToggle=Ztt;var ert=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new trt(e,this.openings,this.closingSelector))},r}(),trt=function(r){Ytt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=E_e.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(m){return this.error(m)}var u=new Jtt.Subject,l=new Xtt.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=E_e.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(Qtt.OuterSubscriber)});var R_e=E(i1=>{"use strict";var rrt=i1&&i1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(i1,"__esModule",{value:!0});var nrt=jf(),irt=aC(),ort=cC();function srt(r){return function(t){return t.lift(new art(r))}}i1.windowWhen=srt;var art=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new crt(e,this.closingSelector))},r}(),crt=function(r){rrt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new nrt.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=ort.subscribeToResult(this,o))},e}(irt.OuterSubscriber)});var x_e=E(o1=>{"use strict";var urt=o1&&o1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(o1,"__esModule",{value:!0});var lrt=aC(),drt=cC();function frt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new hrt(i,n))}}o1.withLatestFrom=frt;var hrt=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new prt(e,this.observables,this.project))},r}(),prt=function(r){urt(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(drt.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(lrt.OuterSubscriber)});var O_e=E(F8=>{"use strict";Object.defineProperty(F8,"__esModule",{value:!0});var mrt=JF();function grt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(mrt.zip.apply(void 0,[n].concat(r)))}}F8.zip=grt});var I_e=E(q8=>{"use strict";Object.defineProperty(q8,"__esModule",{value:!0});var vrt=JF();function yrt(r){return function(e){return e.lift(new vrt.ZipOperator(r))}}q8.zipAll=yrt});var s1=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});var _rt=RG();ir.audit=_rt.audit;var brt=pve();ir.auditTime=brt.auditTime;var wrt=mve();ir.buffer=wrt.buffer;var Srt=yve();ir.bufferCount=Srt.bufferCount;var Crt=wve();ir.bufferTime=Crt.bufferTime;var Trt=Cve();ir.bufferToggle=Trt.bufferToggle;var Drt=Tve();ir.bufferWhen=Drt.bufferWhen;var Ert=Dve();ir.catchError=Ert.catchError;var Prt=Eve();ir.combineAll=Prt.combineAll;var Rrt=Pve();ir.combineLatest=Rrt.combineLatest;var xrt=Rve();ir.concat=xrt.concat;var Ort=H5();ir.concatAll=Ort.concatAll;var Irt=FG();ir.concatMap=Irt.concatMap;var krt=xve();ir.concatMapTo=krt.concatMapTo;var Art=Ove();ir.count=Art.count;var Lrt=Ive();ir.debounce=Lrt.debounce;var Mrt=kve();ir.debounceTime=Mrt.debounceTime;var Nrt=DE();ir.defaultIfEmpty=Nrt.defaultIfEmpty;var Frt=Lve();ir.delay=Frt.delay;var qrt=Nve();ir.delayWhen=qrt.delayWhen;var jrt=Fve();ir.dematerialize=jrt.dematerialize;var zrt=jve();ir.distinct=zrt.distinct;var Urt=WG();ir.distinctUntilChanged=Urt.distinctUntilChanged;var Hrt=zve();ir.distinctUntilKeyChanged=Hrt.distinctUntilKeyChanged;var Brt=Hve();ir.elementAt=Brt.elementAt;var Wrt=Bve();ir.endWith=Wrt.endWith;var $rt=Wve();ir.every=$rt.every;var Vrt=$ve();ir.exhaust=Vrt.exhaust;var Grt=Gve();ir.exhaustMap=Grt.exhaustMap;var Krt=Jve();ir.expand=Krt.expand;var Yrt=sD();ir.filter=Yrt.filter;var Jrt=Xve();ir.finalize=Jrt.finalize;var Xrt=XG();ir.find=Xrt.find;var Qrt=eye();ir.findIndex=Qrt.findIndex;var Zrt=tye();ir.first=Zrt.first;var ent=Q6();ir.groupBy=ent.groupBy;var tnt=rye();ir.ignoreElements=tnt.ignoreElements;var rnt=nye();ir.isEmpty=rnt.isEmpty;var nnt=iye();ir.last=nnt.last;var int=Xm();ir.map=int.map;var ont=oye();ir.mapTo=ont.mapTo;var snt=sye();ir.materialize=snt.materialize;var ant=lye();ir.max=ant.max;var cnt=dye();ir.merge=cnt.merge;var unt=WF();ir.mergeAll=unt.mergeAll;var k_e=ZI();ir.mergeMap=k_e.mergeMap;ir.flatMap=k_e.flatMap;var lnt=hye();ir.mergeMapTo=lnt.mergeMapTo;var dnt=gye();ir.mergeScan=dnt.mergeScan;var fnt=vye();ir.min=fnt.min;var hnt=mD();ir.multicast=hnt.multicast;var pnt=d5();ir.observeOn=pnt.observeOn;var mnt=wye();ir.onErrorResumeNext=mnt.onErrorResumeNext;var gnt=Sye();ir.pairwise=gnt.pairwise;var vnt=Tye();ir.partition=vnt.partition;var ynt=Dye();ir.pluck=ynt.pluck;var _nt=Rye();ir.publish=_nt.publish;var bnt=xye();ir.publishBehavior=bnt.publishBehavior;var wnt=Oye();ir.publishLast=wnt.publishLast;var Snt=Iye();ir.publishReplay=Snt.publishReplay;var Cnt=kye();ir.race=Cnt.race;var Tnt=Lk();ir.reduce=Tnt.reduce;var Dnt=Lye();ir.repeat=Dnt.repeat;var Ent=Mye();ir.repeatWhen=Ent.repeatWhen;var Pnt=Nye();ir.retry=Pnt.retry;var Rnt=Fye();ir.retryWhen=Rnt.retryWhen;var xnt=AF();ir.refCount=xnt.refCount;var Ont=qye();ir.sample=Ont.sample;var Int=jye();ir.sampleTime=Int.sampleTime;var knt=mq();ir.scan=knt.scan;var Ant=Wye();ir.sequenceEqual=Ant.sequenceEqual;var Lnt=$ye();ir.share=Lnt.share;var Mnt=Vye();ir.shareReplay=Mnt.shareReplay;var Nnt=Gye();ir.single=Nnt.single;var Fnt=Kye();ir.skip=Fnt.skip;var qnt=Jye();ir.skipLast=qnt.skipLast;var jnt=Xye();ir.skipUntil=jnt.skipUntil;var znt=Qye();ir.skipWhile=znt.skipWhile;var Unt=e_e();ir.startWith=Unt.startWith;var Hnt=r_e();ir.subscribeOn=Hnt.subscribeOn;var Bnt=i_e();ir.switchAll=Bnt.switchAll;var Wnt=vq();ir.switchMap=Wnt.switchMap;var $nt=s_e();ir.switchMapTo=$nt.switchMapTo;var Vnt=hq();ir.take=Vnt.take;var Gnt=pq();ir.takeLast=Gnt.takeLast;var Knt=a_e();ir.takeUntil=Knt.takeUntil;var Ynt=c_e();ir.takeWhile=Ynt.takeWhile;var Jnt=u_e();ir.tap=Jnt.tap;var Xnt=O8();ir.throttle=Xnt.throttle;var Qnt=l_e();ir.throttleTime=Qnt.throttleTime;var Znt=Sk();ir.throwIfEmpty=Znt.throwIfEmpty;var eit=f_e();ir.timeInterval=eit.timeInterval;var tit=h_e();ir.timeout=tit.timeout;var rit=k8();ir.timeoutWith=rit.timeoutWith;var nit=m_e();ir.timestamp=nit.timestamp;var iit=g_e();ir.toArray=iit.toArray;var oit=y_e();ir.window=oit.window;var sit=w_e();ir.windowCount=sit.windowCount;var ait=D_e();ir.windowTime=ait.windowTime;var cit=P_e();ir.windowToggle=cit.windowToggle;var uit=R_e();ir.windowWhen=uit.windowWhen;var lit=x_e();ir.withLatestFrom=lit.withLatestFrom;var dit=O_e();ir.zip=dit.zip;var fit=I_e();ir.zipAll=fit.zipAll});var N_e=E((Wzt,M_e)=>{var RE=1e3,xE=RE*60,OE=xE*60,yD=OE*24,hit=yD*7,pit=yD*365.25;M_e.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return mit(r);if(t==="number"&&isFinite(r))return e.long?vit(r):git(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function mit(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*pit;case"weeks":case"week":case"w":return t*hit;case"days":case"day":case"d":return t*yD;case"hours":case"hour":case"hrs":case"hr":case"h":return t*OE;case"minutes":case"minute":case"mins":case"min":case"m":return t*xE;case"seconds":case"second":case"secs":case"sec":case"s":return t*RE;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function git(r){var e=Math.abs(r);return e>=yD?Math.round(r/yD)+"d":e>=OE?Math.round(r/OE)+"h":e>=xE?Math.round(r/xE)+"m":e>=RE?Math.round(r/RE)+"s":r+"ms"}function vit(r){var e=Math.abs(r);return e>=yD?bq(r,e,yD,"day"):e>=OE?bq(r,e,OE,"hour"):e>=xE?bq(r,e,xE,"minute"):e>=RE?bq(r,e,RE,"second"):r+" ms"}function bq(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var z8=E(($zt,F_e)=>{function yit(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=N_e(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,m,_;function D(...O){if(!D.enabled)return;let M=D,A=Number(new Date),U=A-(d||A);M.diff=U,M.prev=d,M.curr=A,d=A,O[0]=t.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let ne=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(ye,V)=>{if(ye==="%%")return"%";ne++;let $=t.formatters[V];if(typeof $=="function"){let ee=O[ne];ye=$.call(M,ee),O.splice(ne,1),ne--}return ye}),t.formatArgs.call(M,O),(M.log||t.log).apply(M,O)}return D.namespace=l,D.useColors=t.useColors(),D.color=t.selectColor(l),D.extend=n,D.destroy=t.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==t.namespaces&&(m=t.namespaces,_=t.enabled(l)),_),set:O=>{f=O}}),typeof t.init=="function"&&t.init(D),D}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),m=f.length;for(d=0;d<m;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(l))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}F_e.exports=yit});var q_e=E((Qm,wq)=>{Qm.formatArgs=bit;Qm.save=wit;Qm.load=Sit;Qm.useColors=_it;Qm.storage=Cit();Qm.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qm.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function _it(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function bit(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+wq.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}Qm.log=console.debug||console.log||(()=>{});function wit(r){try{r?Qm.storage.setItem("debug",r):Qm.storage.removeItem("debug")}catch{}}function Sit(){let r;try{r=Qm.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Cit(){try{return localStorage}catch{}}wq.exports=z8()(Qm);var{formatters:Tit}=wq.exports;Tit.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var z_e=E((Vzt,j_e)=>{"use strict";j_e.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var H_e=E((Gzt,U_e)=>{"use strict";var Dit=require("os"),py=z_e(),Uf=process.env,IE;py("no-color")||py("no-colors")||py("color=false")?IE=!1:(py("color")||py("colors")||py("color=true")||py("color=always"))&&(IE=!0);"FORCE_COLOR"in Uf&&(IE=Uf.FORCE_COLOR.length===0||parseInt(Uf.FORCE_COLOR,10)!==0);function Eit(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Pit(r){if(IE===!1)return 0;if(py("color=16m")||py("color=full")||py("color=truecolor"))return 3;if(py("color=256"))return 2;if(r&&!r.isTTY&&IE!==!0)return 0;let e=IE?1:0;if(process.platform==="win32"){let t=Dit.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Uf)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Uf)||Uf.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Uf)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Uf.TEAMCITY_VERSION)?1:0;if(Uf.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Uf){let t=parseInt((Uf.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Uf.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Uf.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Uf.TERM)||"COLORTERM"in Uf?1:(Uf.TERM==="dumb",e)}function U8(r){let e=Pit(r);return Eit(e)}U_e.exports={supportsColor:U8,stdout:U8(process.stdout),stderr:U8(process.stderr)}});var W_e=E((cd,Cq)=>{var Rit=require("tty"),Sq=require("util");cd.init=Mit;cd.log=kit;cd.formatArgs=Oit;cd.save=Ait;cd.load=Lit;cd.useColors=xit;cd.destroy=Sq.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");cd.colors=[6,2,3,4,5,1];try{let r=H_e();r&&(r.stderr||r).level>=2&&(cd.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}cd.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function xit(){return"colors"in cd.inspectOpts?!!cd.inspectOpts.colors:Rit.isatty(process.stderr.fd)}function Oit(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+Cq.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Iit()+e+" "+r[0]}function Iit(){return cd.inspectOpts.hideDate?"":new Date().toISOString()+" "}function kit(...r){return process.stderr.write(Sq.formatWithOptions(cd.inspectOpts,...r)+`
`)}function Ait(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Lit(){return process.env.DEBUG}function Mit(r){r.inspectOpts={};let e=Object.keys(cd.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=cd.inspectOpts[e[t]]}Cq.exports=z8()(cd);var{formatters:B_e}=Cq.exports;B_e.o=function(r){return this.inspectOpts.colors=this.useColors,Sq.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};B_e.O=function(r){return this.inspectOpts.colors=this.useColors,Sq.inspect(r,this.inspectOpts)}});var Tq=E((Kzt,H8)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?H8.exports=q_e():H8.exports=W_e()});var G_e=E(Kp=>{"use strict";var Nit=Kp&&Kp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fit=Kp&&Kp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$_e=Kp&&Kp.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Nit(e,r,t);return Fit(e,r),e};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.req=Kp.json=Kp.toBuffer=void 0;var qit=$_e(require("http")),jit=$_e(require("https"));async function V_e(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}Kp.toBuffer=V_e;async function zit(r){let t=(await V_e(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}Kp.json=zit;function Uit(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?jit:qit).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}Kp.req=Uit});var W8=E(Zm=>{"use strict";var Y_e=Zm&&Zm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hit=Zm&&Zm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bit=Zm&&Zm.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Y_e(e,r,t);return Hit(e,r),e},Wit=Zm&&Zm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Y_e(e,r,t)};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Agent=void 0;var K_e=Bit(require("http"));Wit(G_e(),Zm);var k_=Symbol("AgentBaseInternalState"),B8=class extends K_e.Agent{constructor(e){super(e),this[k_]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof K_e.Agent)return o.addRequest(e,i);this[k_].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[k_].currentSocket;if(this[k_].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[k_].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[k_]&&(this[k_].defaultPort=e)}get protocol(){return this[k_].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[k_]&&(this[k_].protocol=e)}};Zm.Agent=B8});var X_e=E(iv=>{"use strict";var $it=iv&&iv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vit=iv&&iv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),J_e=iv&&iv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$it(e,r,t);return Vit(e,r),e},Git=iv&&iv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iv,"__esModule",{value:!0});iv.HttpProxyAgent=void 0;var Kit=J_e(require("net")),Yit=J_e(require("tls")),Jit=Git(Tq()),Xit=require("events"),Qit=W8(),kE=(0,Jit.default)("http-proxy-agent"),Dq=class extends Qit.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},kE("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?Zit(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;kE("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(kE("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),kE("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(kE("Creating `tls.Socket`: %o",this.connectOpts),o=Yit.connect(this.connectOpts)):(kE("Creating `net.Socket`: %o",this.connectOpts),o=Kit.connect(this.connectOpts)),await(0,Xit.once)(o,"connect"),o}};Dq.protocols=["http","https"];iv.HttpProxyAgent=Dq;function Zit(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var Q_e=E(AE=>{"use strict";var eot=AE&&AE.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AE,"__esModule",{value:!0});AE.parseProxyResponse=void 0;var tot=eot(Tq()),Eq=(0,tot.default)("https-proxy-agent:parse-proxy-response");function rot(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),Eq("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),Eq("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){Eq("have not received end of HTTP headers yet..."),o();return}let m=d.slice(0,f).toString("ascii").split(`\r
`),_=m.shift();if(!_)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let D=_.split(" "),O=+D[1],M=D.slice(2).join(" "),A={};for(let U of m){if(!U)continue;let ne=U.indexOf(":");if(ne===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${U}"`));let de=U.slice(0,ne).toLowerCase(),ye=U.slice(ne+1).trimStart(),V=A[de];typeof V=="string"?A[de]=[V,ye]:Array.isArray(V)?V.push(ye):A[de]=ye}Eq("got proxy server response: %o %o",_,A),s(),e({connect:{statusCode:O,statusText:M,headers:A},buffered:d})}r.on("error",c),r.on("end",a),o()})}AE.parseProxyResponse=rot});var nbe=E(ov=>{"use strict";var not=ov&&ov.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iot=ov&&ov.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tbe=ov&&ov.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&not(e,r,t);return iot(e,r),e},rbe=ov&&ov.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ov,"__esModule",{value:!0});ov.HttpsProxyAgent=void 0;var a1=tbe(require("net")),Z_e=tbe(require("tls")),oot=rbe(require("assert")),sot=rbe(Tq()),aot=W8(),cot=Q_e(),c1=(0,sot.default)("https-proxy-agent"),Pq=class extends aot.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},c1("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?ebe(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){c1("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=Z_e.connect({...this.connectOpts,servername:f&&a1.isIP(f)?void 0:f})}else c1("Creating `net.Socket`: %o",this.connectOpts),i=a1.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=a1.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,cot.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",uot),t.secureEndpoint){c1("Upgrading socket connection to TLS");let f=t.servername||t.host;return Z_e.connect({...ebe(t,"host","path","port"),socket:i,servername:a1.isIP(f)?void 0:f})}return i}i.destroy();let d=new a1.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{c1("Replaying proxy buffer for failed request"),(0,oot.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};Pq.protocols=["http","https"];ov.HttpsProxyAgent=Pq;function uot(r){r.resume()}function ebe(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var ube=E(V8=>{var _D=require("path"),pC=process.platform==="win32",hC=require("fs"),dot=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function fot(){var r;if(dot){var e=new Error;r=t}else r=n;return r;function t(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function hot(r){return typeof r=="function"?r:fot()}var oUt=_D.normalize;pC?dw=/(.*?)(?:[\/\\]+|$)/g:dw=/(.*?)(?:[\/]+|$)/g;var dw;pC?u1=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:u1=/^[\/]*/;var u1;V8.realpathSync=function(e,t){if(e=_D.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n=e,i={},o={},s,a,c,u;l();function l(){var O=u1.exec(e);s=O[0].length,a=O[0],c=O[0],u="",pC&&!o[c]&&(hC.lstatSync(c),o[c]=!0)}for(;s<e.length;){dw.lastIndex=s;var d=dw.exec(e);if(u=a,a+=d[0],c=u+d[1],s=dw.lastIndex,!(o[c]||t&&t[c]===c)){var f;if(t&&Object.prototype.hasOwnProperty.call(t,c))f=t[c];else{var m=hC.lstatSync(c);if(!m.isSymbolicLink()){o[c]=!0,t&&(t[c]=c);continue}var _=null;if(!pC){var D=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(D)&&(_=i[D])}_===null&&(hC.statSync(c),_=hC.readlinkSync(c)),f=_D.resolve(u,_),t&&(t[c]=f),pC||(i[D]=_)}e=_D.resolve(f,e.slice(s)),l()}}return t&&(t[n]=e),e};V8.realpath=function(e,t,n){if(typeof n!="function"&&(n=hot(t),t=null),e=_D.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var i=e,o={},s={},a,c,u,l;d();function d(){var O=u1.exec(e);a=O[0].length,c=O[0],u=O[0],l="",pC&&!s[u]?hC.lstat(u,function(M){if(M)return n(M);s[u]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return t&&(t[i]=e),n(null,e);dw.lastIndex=a;var O=dw.exec(e);return l=c,c+=O[0],u=l+O[1],a=dw.lastIndex,s[u]||t&&t[u]===u?process.nextTick(f):t&&Object.prototype.hasOwnProperty.call(t,u)?D(t[u]):hC.lstat(u,m)}function m(O,M){if(O)return n(O);if(!M.isSymbolicLink())return s[u]=!0,t&&(t[u]=u),process.nextTick(f);if(!pC){var A=M.dev.toString(32)+":"+M.ino.toString(32);if(o.hasOwnProperty(A))return _(null,o[A],u)}hC.stat(u,function(U){if(U)return n(U);hC.readlink(u,function(ne,de){pC||(o[A]=de),_(ne,de)})})}function _(O,M,A){if(O)return n(O);var U=_D.resolve(l,M);t&&(t[A]=U),D(U)}function D(O){e=_D.resolve(O,e.slice(a)),d()}}});var J8=E((aUt,hbe)=>{hbe.exports=mC;mC.realpath=mC;mC.sync=Y8;mC.realpathSync=Y8;mC.monkeypatch=mot;mC.unmonkeypatch=got;var LE=require("fs"),G8=LE.realpath,K8=LE.realpathSync,pot=process.version,lbe=/^v[0-5]\./.test(pot),dbe=ube();function fbe(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function mC(r,e,t){if(lbe)return G8(r,e,t);typeof e=="function"&&(t=e,e=null),G8(r,e,function(n,i){fbe(n)?dbe.realpath(r,e,t):t(n,i)})}function Y8(r,e){if(lbe)return K8(r,e);try{return K8(r,e)}catch(t){if(fbe(t))return dbe.realpathSync(r,e);throw t}}function mot(){LE.realpath=mC,LE.realpathSync=Y8}function got(){LE.realpath=G8,LE.realpathSync=K8}});var mbe=E((cUt,pbe)=>{pbe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);vot(i)?t.push.apply(t,i):t.push(i)}return t};var vot=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var X8=E((uUt,_be)=>{"use strict";_be.exports=vbe;function vbe(r,e,t){r instanceof RegExp&&(r=gbe(r,t)),e instanceof RegExp&&(e=gbe(e,t));var n=ybe(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function gbe(r,e){var t=e.match(r);return t?t[0]:null}vbe.range=ybe;function ybe(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var Pbe=E((lUt,Ebe)=>{var yot=mbe(),bbe=X8();Ebe.exports=wot;var wbe="\0SLASH"+Math.random()+"\0",Sbe="\0OPEN"+Math.random()+"\0",Z8="\0CLOSE"+Math.random()+"\0",Cbe="\0COMMA"+Math.random()+"\0",Tbe="\0PERIOD"+Math.random()+"\0";function Q8(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function _ot(r){return r.split("\\\\").join(wbe).split("\\{").join(Sbe).split("\\}").join(Z8).split("\\,").join(Cbe).split("\\.").join(Tbe)}function bot(r){return r.split(wbe).join("\\").split(Sbe).join("{").split(Z8).join("}").split(Cbe).join(",").split(Tbe).join(".")}function Dbe(r){if(!r)return[""];var e=[],t=bbe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=Dbe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function wot(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),ME(_ot(r),!0).map(bot)):[]}function Sot(r){return"{"+r+"}"}function Cot(r){return/^-?0\d/.test(r)}function Tot(r,e){return r<=e}function Dot(r,e){return r>=e}function ME(r,e){var t=[],n=bbe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+Z8+n.post,ME(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=Dbe(n.body),c.length===1&&(c=ME(c[0],!1).map(Sot),c.length===1)){var l=n.post.length?ME(n.post,!1):[""];return l.map(function(ae){return n.pre+c[0]+ae})}var u=n.pre,l=n.post.length?ME(n.post,!1):[""],d;if(s){var f=Q8(c[0]),m=Q8(c[1]),_=Math.max(c[0].length,c[1].length),D=c.length==3?Math.abs(Q8(c[2])):1,O=Tot,M=m<f;M&&(D*=-1,O=Dot);var A=c.some(Cot);d=[];for(var U=f;O(U,m);U+=D){var ne;if(o)ne=String.fromCharCode(U),ne==="\\"&&(ne="");else if(ne=String(U),A){var de=_-ne.length;if(de>0){var ye=new Array(de+1).join("0");U<0?ne="-"+ye+ne.slice(1):ne=ye+ne}}d.push(ne)}}else d=yot(c,function(De){return ME(De,!1)});for(var V=0;V<d.length;V++)for(var $=0;$<l.length;$++){var ee=u+d[V]+l[$];(!e||s||ee)&&t.push(ee)}return t}});var bD=E((dUt,kbe)=>{kbe.exports=eg;eg.Minimatch=Jd;var l1=(()=>{try{return require("path")}catch{}})()||{sep:"/"};eg.sep=l1.sep;var rK=eg.GLOBSTAR=Jd.GLOBSTAR={},Eot=Pbe(),Rbe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},eK="[^/]",tK=eK+"*?",Pot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Rot="(?:(?!(?:\\/|^)\\.).)*?",xbe=xot("().*{}+?[]^$\\!");function xot(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var Obe=/\/+/;eg.filter=Oot;function Oot(r,e){return e=e||{},function(t,n,i){return eg(t,r,e)}}function gC(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}eg.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return eg;let e=eg,t=function(i,o,s){return e(i,o,gC(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,gC(r,o))},t.Minimatch.defaults=n=>e.defaults(gC(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,gC(r,o))},t.defaults=function(i){return e.defaults(gC(r,i))},t.makeRe=function(i,o){return e.makeRe(i,gC(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,gC(r,o))},t.match=function(n,i,o){return e.match(n,i,gC(r,o))},t};Jd.defaults=function(r){return eg.defaults(r).Minimatch};function eg(r,e,t){return Oq(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new Jd(e,t).match(r)}function Jd(r,e){if(!(this instanceof Jd))return new Jd(r,e);Oq(r),e||(e={}),r=r.trim(),l1.sep!=="/"&&(r=r.split(l1.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Jd.prototype.debug=function(){};Jd.prototype.make=Iot;function Iot(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(Obe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}Jd.prototype.parseNegate=kot;function kot(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}eg.braceExpand=function(r,e){return Ibe(r,e)};Jd.prototype.braceExpand=Ibe;function Ibe(r,e){return e||(this instanceof Jd?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,Oq(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Eot(r)}var Aot=1024*64,Oq=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Aot)throw new TypeError("pattern is too long")};Jd.prototype.parse=Lot;var xq={};function Lot(r,e){Oq(r);var t=this.options;if(!t.noglobstar&&r==="**")return rK;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function _(){if(c){switch(c){case"*":n+=tK,i=!0;break;case"?":n+=eK,i=!0;break;default:n+="\\"+c;break}m.debug("clearStateChar %j %j",c,n),c=!1}}for(var D=0,O=r.length,M;D<O&&(M=r.charAt(D));D++){if(this.debug("%s	%s %s %j",r,D,n,M),o&&xbe[M]){n+="\\"+M,o=!1;continue}switch(M){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,D,n,M),u){this.debug("  in class"),M==="!"&&D===d+1&&(M="^"),n+=M;continue}m.debug("call clearStateChar %j",c),_(),c=M,t.noext&&_();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:D-1,reStart:n.length,open:Rbe[c].open,close:Rbe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}_(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&a.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),u){n+="\\"+M;continue}u=!0,d=D,l=n.length,n+=M;continue;case"]":if(D===d+1||!u){n+="\\"+M,o=!1;continue}if(u){var U=r.substring(d+1,D);try{RegExp("["+U+"]")}catch{var ne=this.parse(U,xq);n=n.substr(0,l)+"\\["+ne[0]+"\\]",i=i||ne[1],u=!1;continue}}i=!0,u=!1,n+=M;continue;default:_(),o?o=!1:xbe[M]&&!(M==="^"&&u)&&(n+="\\"),n+=M}}for(u&&(U=r.substr(d+1),ne=this.parse(U,xq),n=n.substr(0,l)+"\\["+ne[0],i=i||ne[1]),A=s.pop();A;A=s.pop()){var de=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),de=de.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,de,de,A,n);var ye=A.type==="*"?tK:A.type==="?"?eK:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+ye+"\\("+de}_(),o&&(n+="\\\\");var V=!1;switch(n.charAt(0)){case".":case"[":case"(":V=!0}for(var $=a.length-1;$>-1;$--){var ee=a[$],De=n.slice(0,ee.reStart),ae=n.slice(ee.reStart,ee.reEnd-8),ce=n.slice(ee.reEnd-8,ee.reEnd),qe=n.slice(ee.reEnd);ce+=qe;var Ne=De.split("(").length-1,ue=qe;for(D=0;D<Ne;D++)ue=ue.replace(/\)[+*?]?/,"");qe=ue;var Ce="";qe===""&&e!==xq&&(Ce="$");var be=De+ae+qe+Ce+ce;n=be}if(n!==""&&i&&(n="(?=.)"+n),V&&(n=f+n),e===xq)return[n,i];if(!i)return Fot(r);var xe=t.nocase?"i":"";try{var Me=new RegExp("^"+n+"$",xe)}catch{return new RegExp("$.")}return Me._glob=r,Me._src=n,Me}eg.makeRe=function(r,e){return new Jd(r,e||{}).makeRe()};Jd.prototype.makeRe=Mot;function Mot(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?tK:e.dot?Pot:Rot,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===rK?t:typeof s=="string"?qot(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}eg.match=function(r,e,t){t=t||{};let n=new Jd(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};Jd.prototype.match=Not;function Not(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;l1.sep!=="/"&&(r=r.split(l1.sep).join("/")),r=r.split(Obe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}Jd.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===rK){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var m;if(typeof c=="string"?(n.nocase?m=u.toLowerCase()===c.toLowerCase():m=u===c,this.debug("string match",c,u,m)):(m=u.match(c),this.debug("pattern match",c,u,m)),!m)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function Fot(r){return r.replace(/\\(.)/g,"$1")}function qot(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Abe=E((fUt,nK)=>{typeof Object.create=="function"?nK.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:nK.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}});var Lbe=E((hUt,oK)=>{try{if(iK=require("util"),typeof iK.inherits!="function")throw"";oK.exports=iK.inherits}catch{oK.exports=Abe()}var iK});var kq=E((pUt,Iq)=>{"use strict";function Mbe(r){return r.charAt(0)==="/"}function Nbe(r){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=e.exec(r),n=t[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(t[2]||i)}Iq.exports=process.platform==="win32"?Nbe:Mbe;Iq.exports.posix=Mbe;Iq.exports.win32=Nbe});var aK=E(vC=>{vC.setopts=Wot;vC.ownProp=Fbe;vC.makeAbs=d1;vC.finish=$ot;vC.mark=Vot;vC.isIgnored=jbe;vC.childrenIgnored=Got;function Fbe(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var jot=require("fs"),NE=require("path"),zot=bD(),qbe=kq(),sK=zot.Minimatch;function Uot(r,e){return r.localeCompare(e,"en")}function Hot(r,e){r.ignore=e.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(Bot))}function Bot(r){var e=null;if(r.slice(-3)==="/**"){var t=r.replace(/(\/\*\*)+$/,"");e=new sK(t,{dot:!0})}return{matcher:new sK(r,{dot:!0}),gmatcher:e}}function Wot(r,e,t){if(t||(t={}),t.matchBase&&e.indexOf("/")===-1){if(t.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}r.silent=!!t.silent,r.pattern=e,r.strict=t.strict!==!1,r.realpath=!!t.realpath,r.realpathCache=t.realpathCache||Object.create(null),r.follow=!!t.follow,r.dot=!!t.dot,r.mark=!!t.mark,r.nodir=!!t.nodir,r.nodir&&(r.mark=!0),r.sync=!!t.sync,r.nounique=!!t.nounique,r.nonull=!!t.nonull,r.nosort=!!t.nosort,r.nocase=!!t.nocase,r.stat=!!t.stat,r.noprocess=!!t.noprocess,r.absolute=!!t.absolute,r.fs=t.fs||jot,r.maxLength=t.maxLength||1/0,r.cache=t.cache||Object.create(null),r.statCache=t.statCache||Object.create(null),r.symlinks=t.symlinks||Object.create(null),Hot(r,t),r.changedCwd=!1;var n=process.cwd();Fbe(t,"cwd")?(r.cwd=NE.resolve(t.cwd),r.changedCwd=r.cwd!==n):r.cwd=n,r.root=t.root||NE.resolve(r.cwd,"/"),r.root=NE.resolve(r.root),process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/")),r.cwdAbs=qbe(r.cwd)?r.cwd:d1(r,r.cwd),process.platform==="win32"&&(r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),r.nomount=!!t.nomount,t.nonegate=!0,t.nocomment=!0,r.minimatch=new sK(e,t),r.options=r.minimatch.options}function $ot(r){for(var e=r.nounique,t=e?[]:Object.create(null),n=0,i=r.matches.length;n<i;n++){var o=r.matches[n];if(!o||Object.keys(o).length===0){if(r.nonull){var s=r.minimatch.globSet[n];e?t.push(s):t[s]=!0}}else{var a=Object.keys(o);e?t.push.apply(t,a):a.forEach(function(c){t[c]=!0})}}if(e||(t=Object.keys(t)),r.nosort||(t=t.sort(Uot)),r.mark){for(var n=0;n<t.length;n++)t[n]=r._mark(t[n]);r.nodir&&(t=t.filter(function(c){var u=!/\/$/.test(c),l=r.cache[c]||r.cache[d1(r,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}r.ignore.length&&(t=t.filter(function(c){return!jbe(r,c)})),r.found=t}function Vot(r,e){var t=d1(r,e),n=r.cache[t],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=d1(r,i);r.statCache[a]=r.statCache[t],r.cache[a]=r.cache[t]}}return i}function d1(r,e){var t=e;return e.charAt(0)==="/"?t=NE.join(r.root,e):qbe(e)||e===""?t=e:r.changedCwd?t=NE.resolve(r.cwd,e):t=NE.resolve(e),process.platform==="win32"&&(t=t.replace(/\\/g,"/")),t}function jbe(r,e){return r.ignore.length?r.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))}):!1}function Got(r,e){return r.ignore.length?r.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))}):!1}});var Wbe=E((_Ut,Bbe)=>{Bbe.exports=Hbe;Hbe.GlobSync=El;var Kot=J8(),zbe=bD(),gUt=zbe.Minimatch,vUt=lK().Glob,yUt=require("util"),cK=require("path"),Ube=require("assert"),Aq=kq(),wD=aK(),Yot=wD.setopts,uK=wD.ownProp,Jot=wD.childrenIgnored,Xot=wD.isIgnored;function Hbe(r,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new El(r,e).found}function El(r,e){if(!r)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof El))return new El(r,e);if(Yot(this,r,e),this.noprocess)return this;var t=this.minimatch.set.length;this.matches=new Array(t);for(var n=0;n<t;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}El.prototype._finish=function(){if(Ube(this instanceof El),this.realpath){var r=this;this.matches.forEach(function(e,t){var n=r.matches[t]=Object.create(null);for(var i in e)try{i=r._makeAbs(i);var o=Kot.realpathSync(i,r.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[r._makeAbs(i)]=!0;else throw s}})}wD.finish(this)};El.prototype._process=function(r,e,t){Ube(this instanceof El);for(var n=0;typeof r[n]=="string";)n++;var i;switch(n){case r.length:this._processSimple(r.join("/"),e);return;case 0:i=null;break;default:i=r.slice(0,n).join("/");break}var o=r.slice(n),s;i===null?s=".":((Aq(i)||Aq(r.join("/")))&&(!i||!Aq(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!Jot(this,s)){var c=o[0]===zbe.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,t):this._processReaddir(i,s,a,o,e,t)}};El.prototype._processReaddir=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",d=[],f=0;f<s.length;f++){var m=s[f];if(m.charAt(0)!=="."||l){var _;c&&!r?_=!m.match(a):_=m.match(a),_&&d.push(m)}}var D=d.length;if(D!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<D;f++){var m=d[f];r&&(r.slice(-1)!=="/"?m=r+"/"+m:m=r+m),m.charAt(0)==="/"&&!this.nomount&&(m=cK.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var f=0;f<D;f++){var m=d[f],O;r?O=[r,m]:O=[m],this._process(O.concat(n),i,o)}}}};El.prototype._emitMatch=function(r,e){if(!Xot(this,e)){var t=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0,this.stat&&this._stat(e)}}};El.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var e,t,n;try{t=this.fs.lstatSync(r)}catch(o){if(o.code==="ENOENT")return null}var i=t&&t.isSymbolicLink();return this.symlinks[r]=i,!i&&t&&!t.isDirectory()?this.cache[r]="FILE":e=this._readdir(r,!1),e};El.prototype._readdir=function(r,e){var t;if(e&&!uK(this.symlinks,r))return this._readdirInGlobStar(r);if(uK(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(i){return this._readdirError(r,i),null}};El.prototype._readdirEntries=function(r,e){if(!this.mark&&!this.stat)for(var t=0;t<e.length;t++){var n=e[t];r==="/"?n=r+n:n=r+"/"+n,this.cache[n]=!0}return this.cache[r]=e,e};El.prototype._readdirError=function(r,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var t=this._makeAbs(r);if(this.cache[t]="FILE",t===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};El.prototype._processGlobStar=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){var a=n.slice(1),c=r?[r]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,d=this.symlinks[t];if(!(d&&o))for(var f=0;f<l;f++){var m=s[f];if(!(m.charAt(0)==="."&&!this.dot)){var _=c.concat(s[f],a);this._process(_,i,!0);var D=c.concat(s[f],n);this._process(D,i,!0)}}}};El.prototype._processSimple=function(r,e){var t=this._stat(r);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!t){if(r&&Aq(r)&&!this.nomount){var n=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=cK.join(this.root,r):(r=cK.resolve(this.root,r),n&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r)}};El.prototype._stat=function(r){var e=this._makeAbs(r),t=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&uK(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!t||s==="DIR")return s;if(t&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,t&&s==="FILE"?!1:s};El.prototype._mark=function(r){return wD.mark(this,r)};El.prototype._makeAbs=function(r){return wD.makeAbs(this,r)}});var dK=E((bUt,Vbe)=>{Vbe.exports=$be;function $be(r,e){if(r&&e)return $be(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var f1=E((wUt,fK)=>{var Gbe=dK();fK.exports=Gbe(Lq);fK.exports.strict=Gbe(Kbe);Lq.proto=Lq(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Lq(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Kbe(this)},configurable:!0})});function Lq(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function Kbe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var Jbe=E((SUt,Ybe)=>{var Qot=dK(),h1=Object.create(null),Zot=f1();Ybe.exports=Qot(est);function est(r,e){return h1[r]?(h1[r].push(e),null):(h1[r]=[e],tst(r))}function tst(r){return Zot(function e(){var t=h1[r],n=t.length,i=rst(arguments);try{for(var o=0;o<n;o++)t[o].apply(null,i)}finally{t.length>n?(t.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete h1[r]}})}function rst(r){for(var e=r.length,t=[],n=0;n<e;n++)t[n]=r[n];return t}});var lK=E((DUt,Qbe)=>{Qbe.exports=SD;var nst=J8(),Xbe=bD(),CUt=Xbe.Minimatch,ist=Lbe(),ost=require("events").EventEmitter,hK=require("path"),pK=require("assert"),p1=kq(),gK=Wbe(),CD=aK(),sst=CD.setopts,mK=CD.ownProp,vK=Jbe(),TUt=require("util"),ast=CD.childrenIgnored,cst=CD.isIgnored,ust=f1();function SD(r,e,t){if(typeof e=="function"&&(t=e,e={}),e||(e={}),e.sync){if(t)throw new TypeError("callback provided to sync glob");return gK(r,e)}return new Os(r,e,t)}SD.sync=gK;var lst=SD.GlobSync=gK.GlobSync;SD.glob=SD;function dst(r,e){if(e===null||typeof e!="object")return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}SD.hasMagic=function(r,e){var t=dst({},e);t.noprocess=!0;var n=new Os(r,t),i=n.minimatch.set;if(!r)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};SD.Glob=Os;ist(Os,ost);function Os(r,e,t){if(typeof e=="function"&&(t=e,e=null),e&&e.sync){if(t)throw new TypeError("callback provided to sync glob");return new lst(r,e)}if(!(this instanceof Os))return new Os(r,e,t);sst(this,r,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof t=="function"&&(t=ust(t),this.on("error",t),this.on("end",function(c){t(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}Os.prototype._finish=function(){if(pK(this instanceof Os),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();CD.finish(this),this.emit("end",this.found)}};Os.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var e=this,t=0;t<this.matches.length;t++)this._realpathSet(t,n);function n(){--r===0&&e._finish()}};Os.prototype._realpathSet=function(r,e){var t=this.matches[r];if(!t)return e();var n=Object.keys(t),i=this,o=n.length;if(o===0)return e();var s=this.matches[r]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),nst.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[r]=s,e())})})};Os.prototype._mark=function(r){return CD.mark(this,r)};Os.prototype._makeAbs=function(r){return CD.makeAbs(this,r)};Os.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Os.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Os.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<r.length;e++){var t=r[e];this._emitMatch(t[0],t[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Os.prototype._process=function(r,e,t,n){if(pK(this instanceof Os),pK(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,e,t,n]);return}for(var i=0;typeof r[i]=="string";)i++;var o;switch(i){case r.length:this._processSimple(r.join("/"),e,n);return;case 0:o=null;break;default:o=r.slice(0,i).join("/");break}var s=r.slice(i),a;o===null?a=".":((p1(o)||p1(r.join("/")))&&(!o||!p1(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(ast(this,a))return n();var u=s[0]===Xbe.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,t,n):this._processReaddir(o,a,c,s,e,t,n)}};Os.prototype._processReaddir=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){return a._processReaddir2(r,e,t,n,i,o,u,s)})};Os.prototype._processReaddir2=function(r,e,t,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||l.charAt(0)===".",f=[],m=0;m<s.length;m++){var _=s[m];if(_.charAt(0)!=="."||d){var D;u&&!r?D=!_.match(c):D=_.match(c),D&&f.push(_)}}var O=f.length;if(O===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<O;m++){var _=f[m];r&&(r!=="/"?_=r+"/"+_:_=r+_),_.charAt(0)==="/"&&!this.nomount&&(_=hK.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var m=0;m<O;m++){var _=f[m],M;r&&(r!=="/"?_=r+"/"+_:_=r+_),this._process([_].concat(n),i,o,a)}a()};Os.prototype._emitMatch=function(r,e){if(!this.aborted&&!cst(this,e)){if(this.paused){this._emitQueue.push([r,e]);return}var t=p1(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0;var i=this.statCache[t];i&&this.emit("stat",e,i),this.emit("match",e)}}};Os.prototype._readdirInGlobStar=function(r,e){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,e);var t="lstat\0"+r,n=this,i=vK(t,o);i&&n.fs.lstat(r,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[r]=c,!c&&a&&!a.isDirectory()?(n.cache[r]="FILE",e()):n._readdir(r,!1,e)}};Os.prototype._readdir=function(r,e,t){if(!this.aborted&&(t=vK("readdir\0"+r+"\0"+e,t),!!t)){if(e&&!mK(this.symlinks,r))return this._readdirInGlobStar(r,t);if(mK(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return t();if(Array.isArray(n))return t(null,n)}var i=this;i.fs.readdir(r,fst(this,r,t))}};function fst(r,e,t){return function(n,i){n?r._readdirError(e,n,t):r._readdirEntries(e,i,t)}}Os.prototype._readdirEntries=function(r,e,t){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];r==="/"?i=r+i:i=r+"/"+i,this.cache[i]=!0}return this.cache[r]=e,t(null,e)}};Os.prototype._readdirError=function(r,e,t){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return t()}};Os.prototype._processGlobStar=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){a._processGlobStar2(r,e,t,n,i,o,u,s)})};Os.prototype._processGlobStar2=function(r,e,t,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=r?[r]:[],l=u.concat(c);this._process(l,i,!1,a);var d=this.symlinks[t],f=s.length;if(d&&o)return a();for(var m=0;m<f;m++){var _=s[m];if(!(_.charAt(0)==="."&&!this.dot)){var D=u.concat(s[m],c);this._process(D,i,!0,a);var O=u.concat(s[m],n);this._process(O,i,!0,a)}}a()};Os.prototype._processSimple=function(r,e,t){var n=this;this._stat(r,function(i,o){n._processSimple2(r,e,i,o,t)})};Os.prototype._processSimple2=function(r,e,t,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(r&&p1(r)&&!this.nomount){var o=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=hK.join(this.root,r):(r=hK.resolve(this.root,r),o&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r),i()};Os.prototype._stat=function(r,e){var t=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return e();if(!this.stat&&mK(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[t];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=vK("stat\0"+t,l);u&&c.fs.lstat(t,u);function l(d,f){if(f&&f.isSymbolicLink())return c.fs.stat(t,function(m,_){m?c._stat2(r,t,null,f,e):c._stat2(r,t,m,_,e)});c._stat2(r,t,d,f,e)}};Os.prototype._stat2=function(r,e,t,n,i){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=r.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var awe=E((EUt,swe)=>{swe.exports=bK;bK.sync=owe;var ms=require("assert"),rwe=require("path"),Zbe=require("fs"),Fq=lK(),nwe=parseInt("666",8),hst={nosort:!0,silent:!0},yK=0,m1=process.platform==="win32";function iwe(r){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(function(t){r[t]=r[t]||Zbe[t],t=t+"Sync",r[t]=r[t]||Zbe[t]}),r.maxBusyTries=r.maxBusyTries||3,r.emfileWait=r.emfileWait||1e3,r.glob===!1&&(r.disableGlob=!0),r.disableGlob=r.disableGlob||!1,r.glob=r.glob||hst}function bK(r,e,t){typeof e=="function"&&(t=e,e={}),ms(r,"rimraf: missing path"),ms.equal(typeof r,"string","rimraf: path should be a string"),ms.equal(typeof t,"function","rimraf: callback function required"),ms(e,"rimraf: invalid options argument provided"),ms.equal(typeof e,"object","rimraf: options should be object"),iwe(e);var n=0,i=null,o=0;if(e.disableGlob||!Fq.hasMagic(r))return a(null,[r]);e.lstat(r,function(c,u){if(!c)return a(null,[r]);Fq(r,e.glob,a)});function s(c){i=i||c,--o===0&&t(i)}function a(c,u){if(c)return t(c);if(o=u.length,o===0)return t();u.forEach(function(l){_K(l,e,function d(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<e.maxBusyTries){n++;var m=n*100;return setTimeout(function(){_K(l,e,d)},m)}if(f.code==="EMFILE"&&yK<e.emfileWait)return setTimeout(function(){_K(l,e,d)},yK++);f.code==="ENOENT"&&(f=null)}yK=0,s(f)})})}}function _K(r,e,t){ms(r),ms(e),ms(typeof t=="function"),e.lstat(r,function(n,i){if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&m1&&ewe(r,e,n,t),i&&i.isDirectory())return Mq(r,e,n,t);e.unlink(r,function(o){if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return m1?ewe(r,e,o,t):Mq(r,e,o,t);if(o.code==="EISDIR")return Mq(r,e,o,t)}return t(o)})})}function ewe(r,e,t,n){ms(r),ms(e),ms(typeof n=="function"),t&&ms(t instanceof Error),e.chmod(r,nwe,function(i){i?n(i.code==="ENOENT"?null:t):e.stat(r,function(o,s){o?n(o.code==="ENOENT"?null:t):s.isDirectory()?Mq(r,e,t,n):e.unlink(r,n)})})}function twe(r,e,t){ms(r),ms(e),t&&ms(t instanceof Error);try{e.chmodSync(r,nwe)}catch(i){if(i.code==="ENOENT")return;throw t}try{var n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?Nq(r,e,t):e.unlinkSync(r)}function Mq(r,e,t,n){ms(r),ms(e),t&&ms(t instanceof Error),ms(typeof n=="function"),e.rmdir(r,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?pst(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function pst(r,e,t){ms(r),ms(e),ms(typeof t=="function"),e.readdir(r,function(n,i){if(n)return t(n);var o=i.length;if(o===0)return e.rmdir(r,t);var s;i.forEach(function(a){bK(rwe.join(r,a),e,function(c){if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function owe(r,e){e=e||{},iwe(e),ms(r,"rimraf: missing path"),ms.equal(typeof r,"string","rimraf: path should be a string"),ms(e,"rimraf: missing options"),ms.equal(typeof e,"object","rimraf: options should be object");var t;if(e.disableGlob||!Fq.hasMagic(r))t=[r];else try{e.lstatSync(r),t=[r]}catch{t=Fq.sync(r,e.glob)}if(t.length)for(var n=0;n<t.length;n++){var r=t[n];try{var i=e.lstatSync(r)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&m1&&twe(r,e,s)}try{i&&i.isDirectory()?Nq(r,e,null):e.unlinkSync(r)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return m1?twe(r,e,s):Nq(r,e,s);if(s.code!=="EISDIR")throw s;Nq(r,e,s)}}}function Nq(r,e,t){ms(r),ms(e),t&&ms(t instanceof Error);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw t;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&mst(r,e)}}function mst(r,e){ms(r),ms(e),e.readdirSync(r).forEach(function(s){owe(rwe.join(r,s),e)});var t=m1?100:1,n=0;do{var i=!0;try{var o=e.rmdirSync(r,e);return i=!1,o}finally{if(++n<t&&i)continue}}while(!0)}});var dwe=E(Ei=>{"use strict";var mo=require("fs"),cwe=require("path"),gst=awe(),FE=require("fs");Ei.createReadStream=FE.createReadStream;Ei.createWriteStream=FE.createWriteStream;Ei.watch=FE.watch;Ei.watchFile=FE.watchFile;Ei.unwatchFile=FE.unwatchFile;Ei.constants=FE.constants;function vst(r,e){return ko(mo.access,arguments)}Ei.access=vst;function yst(r,e,t){return ko(mo.appendFile,arguments)}Ei.appendFile=yst;function _st(r,e){return ko(mo.chmod,arguments)}Ei.chmod=_st;function bst(r,e,t){return ko(mo.chown,arguments)}Ei.chown=bst;function wst(r){return ko(mo.close,arguments)}Ei.close=wst;function Sst(r,e){return ko(mo.fchmod,arguments)}Ei.fchmod=Sst;function Cst(r,e,t){return ko(mo.fchown,arguments)}Ei.fchown=Cst;function Tst(r){return ko(mo.fstat,arguments)}Ei.fstat=Tst;function Dst(r,e){return ko(mo.ftruncate,arguments)}Ei.ftruncate=Dst;function Est(r,e,t){return ko(mo.futimes,arguments)}Ei.futimes=Est;function Pst(r){return ko(mo.fsync,arguments)}Ei.fsync=Pst;function Rst(r,e){return ko(mo.lchmod,arguments)}Ei.lchmod=Rst;function xst(r,e,t){return ko(mo.lchown,arguments)}Ei.lchown=xst;function Ost(r,e){return ko(mo.link,arguments)}Ei.link=Ost;function Ist(r){return ko(mo.lstat,arguments)}Ei.lstat=Ist;function kst(r,e){return ko(mo.mkdir,arguments)}Ei.mkdir=kst;function Ast(r){return ko(mo.mkdtemp,arguments)}Ei.mkdtemp=Ast;function Lst(r,e,t){return ko(mo.open,arguments)}Ei.open=Lst;function Mst(r,e,t,n,i){return ko(mo.read,arguments,null,function(){return{bytesRead:arguments[1],buffer:arguments[2]}})}Ei.read=Mst;function Nst(r){return ko(mo.readdir,arguments)}Ei.readdir=Nst;function Fst(r,e){return ko(mo.readFile,arguments)}Ei.readFile=Fst;function qst(r){return ko(mo.readlink,arguments)}Ei.readlink=qst;function jst(r,e){return ko(mo.realpath,arguments)}Ei.realpath=jst;function zst(r,e){return ko(mo.rename,arguments)}Ei.rename=zst;function Ust(r){return ko(mo.rmdir,arguments)}Ei.rmdir=Ust;function Hst(r){return ko(mo.stat,arguments)}Ei.stat=Hst;function Bst(r,e,t){return ko(mo.symlink,arguments)}Ei.symlink=Bst;function Wst(r,e){return ko(mo.truncate,arguments)}Ei.truncate=Wst;function $st(r){return ko(mo.unlink,arguments)}Ei.unlink=$st;function Vst(r,e,t){return ko(mo.utimes,arguments)}Ei.utimes=Vst;function Gst(r){return ko(mo.write,arguments,null,function(){return{written:arguments[1],buffer:arguments[2]}})}Ei.write=Gst;function Kst(r,e,t){return ko(mo.writeFile,arguments)}Ei.writeFile=Kst;function Yst(r,e,t){return e===void 0&&(e="utf8"),t==null&&(t="r"),ko(mo.readFile,[r,{encoding:e,flags:t}])}Ei.readTextFile=Yst;function Jst(r,e,t,n,i){t===void 0&&(t="utf8"),n==null&&(n="w");var o={encoding:t,flags:n,mode:i};return n[0]==="a"?ko(mo.appendFile,[r,e,o]):ko(mo.writeFile,[r,e,o])}Ei.writeTextFile=Jst;function uwe(r,e){return new Promise((t,n)=>wK(r,e,i=>i?n(i):t()))}Ei.createDirectory=uwe;Ei.mkdirp=uwe;function lwe(r){return new Promise((e,t)=>gst(r,n=>n?t(n):e()))}Ei.delete=lwe;Ei.rimraf=lwe;function Xst(r){return new Promise((e,t)=>mo.lstat(r,n=>n?n.code==="ENOENT"?e(!1):t(n):e(!0)))}Ei.exists=Xst;function wK(r,e,t){r=cwe.resolve(r),mo.mkdir(r,e,n=>{n?n.code==="ENOENT"?wK(cwe.dirname(r),e,i=>i?t(i):wK(r,e,t)):mo.stat(r,(i,o)=>i?t(i):o.isDirectory()?t(null):t(new Error(r+" is already a file"))):t(null)})}function ko(r,e,t,n){return new Promise((i,o)=>{r.apply(t,Array.prototype.slice.call(e).concat([(s,a)=>{s?o(s):n?n.apply(t,arguments):i(a)}]))})}});var mwe=E((RUt,pwe)=>{pwe.exports=qq;function qq(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}qq.prototype.go=function(r){this.pending<this.max?hwe(this,r):this.waiting.push(r)};qq.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};qq.prototype.hold=function(){return fwe(this)};function fwe(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)hwe(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function hwe(r,e){e(fwe(r))}});var vwe=E(v1=>{var g1=require("fs"),jq=require("util"),SK=require("stream"),gwe=SK.Readable,CK=SK.Writable,Qst=SK.PassThrough,Zst=mwe(),zq=require("events").EventEmitter;v1.createFromBuffer=eat;v1.createFromFd=tat;v1.BufferSlicer=hw;v1.FdSlicer=fw;jq.inherits(fw,zq);function fw(r,e){e=e||{},zq.call(this),this.fd=r,this.pend=new Zst,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}fw.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){g1.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};fw.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){g1.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};fw.prototype.createReadStream=function(r){return new Uq(this,r)};fw.prototype.createWriteStream=function(r){return new Hq(this,r)};fw.prototype.ref=function(){this.refCount+=1};fw.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&g1.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};jq.inherits(Uq,gwe);function Uq(r,e){e=e||{},gwe.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Uq.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);g1.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};Uq.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};jq.inherits(Hq,CK);function Hq(r,e){e=e||{},CK.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Hq.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();g1.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};Hq.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};jq.inherits(hw,zq);function hw(r,e){zq.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}hw.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};hw.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};hw.prototype.createReadStream=function(r){r=r||{};var e=new Qst(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};hw.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new CK(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};hw.prototype.ref=function(){this.refCount+=1};hw.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function eat(r,e){return new hw(r,e)}function tat(r,e){return new fw(r,e)}});var bwe=E((OUt,_we)=>{var yC=require("buffer").Buffer,TK=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(TK=new Int32Array(TK));function ywe(r){if(yC.isBuffer(r))return r;var e=typeof yC.alloc=="function"&&typeof yC.from=="function";if(typeof r=="number")return e?yC.alloc(r):new yC(r);if(typeof r=="string")return e?yC.from(r):new yC(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function rat(r){var e=ywe(4);return e.writeInt32BE(r,0),e}function DK(r,e){r=ywe(r),yC.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=TK[(t^r[n])&255]^t>>>8;return t^-1}function EK(){return rat(DK.apply(null,arguments))}EK.signed=function(){return DK.apply(null,arguments)};EK.unsigned=function(){return DK.apply(null,arguments)>>>0};_we.exports=EK});var Pwe=E(L_=>{var PK=require("fs"),nat=require("zlib"),wwe=vwe(),iat=bwe(),$q=require("util"),Vq=require("events").EventEmitter,Swe=require("stream").Transform,RK=require("stream").PassThrough,oat=require("stream").Writable;L_.open=sat;L_.fromFd=Cwe;L_.fromBuffer=aat;L_.fromRandomAccessReader=xK;L_.dosDateTimeToDate=Dwe;L_.validateFileName=Ewe;L_.ZipFile=_C;L_.Entry=y1;L_.RandomAccessReader=bC;function sat(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Wq),PK.open(r,"r",function(n,i){if(n)return t(n);Cwe(i,e,function(o,s){o&&PK.close(i,Wq),t(o,s)})})}function Cwe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=Wq),PK.fstat(r,function(n,i){if(n)return t(n);var o=wwe.createFromFd(r,{autoClose:!0});xK(o,i.size,e,t)})}function aat(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=wwe.createFromBuffer(r,{maxChunkSize:65536});xK(n,r.length,e,t)}function xK(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=Wq),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=A_(a),u=e-c.length;qE(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),m=f.readUInt16LE(4);if(m!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+m));var _=f.readUInt16LE(10),D=f.readUInt32LE(16),O=f.readUInt16LE(20),M=f.length-o;if(O!==M)return n(new Error("invalid comment length. expected: "+M+". found: "+O));var A=i?Bq(f,22,f.length,!1):f.slice(22);if(!(_===65535||D===4294967295))return n(null,new _C(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var U=A_(20),ne=u+d-U.length;qE(r,U,0,U.length,ne,function(de){if(de)return n(de);if(U.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var ye=jE(U,8),V=A_(56);qE(r,V,0,V.length,ye,function($){return $?n($):V.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(_=jE(V,32),D=jE(V,48),n(null,new _C(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}$q.inherits(_C,Vq);function _C(r,e,t,n,i,o,s,a,c,u){var l=this;Vq.call(l),l.reader=r,l.reader.on("error",function(d){Twe(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}_C.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function my(r,e){r.autoClose&&r.close(),Twe(r,e)}function Twe(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}_C.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};_C.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=A_(46);qE(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return my(r,t);if(!r.emittedError){var n=new y1,i=e.readUInt32LE(0);if(i!==33639248)return my(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return my(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=A_(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),qE(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return my(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?Bq(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,m=f+d;if(m>c.length)return my(r,new Error("extra field length exceeds extra field buffer size"));var _=A_(d);c.copy(_,0,f,m),n.extraFields.push({id:l,data:_}),u=m}if(n.fileComment=r.decodeStrings?Bq(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var D=null,u=0;u<n.extraFields.length;u++){var O=n.extraFields[u];if(O.id===1){D=O.data;break}}if(D==null)return my(r,new Error("expected zip64 extended information extra field"));var M=0;if(n.uncompressedSize===4294967295){if(M+8>D.length)return my(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=jE(D,M),M+=8}if(n.compressedSize===4294967295){if(M+8>D.length)return my(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=jE(D,M),M+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(M+8>D.length)return my(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=jE(D,M),M+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var O=n.extraFields[u];if(O.id===28789){if(O.data.length<6||O.data.readUInt8(0)!==1)continue;var A=O.data.readUInt32LE(1);if(iat.unsigned(e.slice(0,n.fileNameLength))!==A)continue;n.fileName=Bq(O.data,5,O.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var U=n.uncompressedSize;if(n.isEncrypted()&&(U+=12),n.compressedSize!==U){var ne="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return my(r,new Error(ne))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var de=Ewe(n.fileName,r.validateFileNameOptions);if(de!=null)return my(r,new Error(de))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};_C.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=A_(30);qE(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var m=d,_=m+r.compressedSize;if(r.compressedSize!==0&&_>n.fileSize)return t(new Error("file data overflows file bounds: "+m+" + "+r.compressedSize+" > "+n.fileSize));var D=n.reader.createReadStream({start:m+i,end:m+o}),O=D;if(f){var M=!1,A=nat.createInflateRaw();D.on("error",function(U){setImmediate(function(){M||A.emit("error",U)})}),D.pipe(A),n.validateEntrySizes?(O=new _1(r.uncompressedSize),A.on("error",function(U){setImmediate(function(){M||O.emit("error",U)})}),A.pipe(O)):O=A,O.destroy=function(){M=!0,A!==O&&A.unpipe(O),D.unpipe(A),D.destroy()}}t(null,O)}finally{n.reader.unref()}})};function y1(){}y1.prototype.getLastModDate=function(){return Dwe(this.lastModFileDate,this.lastModFileTime)};y1.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};y1.prototype.isCompressed=function(){return this.compressionMethod===8};function Dwe(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function Ewe(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function qE(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,A_(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}$q.inherits(_1,Swe);function _1(r){Swe.call(this),this.actualByteCount=0,this.expectedByteCount=r}_1.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};_1.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};$q.inherits(bC,Vq);function bC(){Vq.call(this),this.refCount=0}bC.prototype.ref=function(){this.refCount+=1};bC.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};bC.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new RK;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new Gq(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new _1(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};bC.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};bC.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new oat,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};bC.prototype.close=function(r){setImmediate(r)};$q.inherits(Gq,RK);function Gq(r){RK.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}Gq.prototype._flush=function(r){this.unref(),r()};Gq.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var cat="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Bq(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=cat[r[o]];return i}function jE(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var A_;typeof Buffer.allocUnsafe=="function"?A_=function(r){return Buffer.allocUnsafe(r)}:A_=function(r){return new Buffer(r)};function Wq(r){if(r)throw r}});var zSe=E((jBt,jSe)=>{"use strict";jSe.exports=function(r){try{return r()}catch{}}});var $Se=E((zBt,WSe)=>{WSe.exports=BSe;BSe.sync=Tat;var USe=require("fs");function Cat(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function HSe(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:Cat(e,t)}function BSe(r,e,t){USe.stat(r,function(n,i){t(n,n?!1:HSe(i,r,e))})}function Tat(r,e){return HSe(USe.statSync(r),r,e)}});var JSe=E((UBt,YSe)=>{YSe.exports=GSe;GSe.sync=Dat;var VSe=require("fs");function GSe(r,e,t){VSe.stat(r,function(n,i){t(n,n?!1:KSe(i,e))})}function Dat(r,e){return KSe(VSe.statSync(r),e)}function KSe(r,e){return r.isFile()&&Eat(r,e)}function Eat(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var zK=E((BBt,XSe)=>{var HBt=require("fs"),mj;process.platform==="win32"||global.TESTING_WINDOWS?mj=$Se():mj=JSe();XSe.exports=jK;jK.sync=Pat;function jK(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){jK(r,e||{},function(o,s){o?i(o):n(s)})})}mj(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function Pat(r,e){try{return mj.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var iCe=E((WBt,nCe)=>{nCe.exports=rCe;rCe.sync=xat;var UK=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",QSe=require("path"),Rat=UK?";":":",ZSe=zK();function eCe(r){var e=new Error("not found: "+r);return e.code="ENOENT",e}function tCe(r,e){var t=e.colon||Rat,n=e.path||process.env.PATH||"",i=[""];n=n.split(t);var o="";return UK&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(t),r.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(r.match(/\//)||UK&&r.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function rCe(r,e,t){typeof e=="function"&&(t=e,e={});var n=tCe(r,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?t(null,a):t(eCe(r));var d=i[u];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var f=QSe.join(d,r);!d&&/^\.[\\\/]/.test(r)&&(f=r.slice(0,2)+f),function m(_,D){if(_===D)return c(u+1,l);var O=o[_];ZSe(f+O,{pathExt:s},function(M,A){if(!M&&A)if(e.all)a.push(f+O);else return t(null,f+O);return m(_+1,D)})}(0,o.length)})(0,i.length)}function xat(r,e){e=e||{};for(var t=tCe(r,e),n=t.env,i=t.ext,o=t.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=QSe.join(u,r);!u&&/^\.[\\\/]/.test(r)&&(l=r.slice(0,2)+l);for(var d=0,f=i.length;d<f;d++){var m=l+i[d],_;try{if(_=ZSe.sync(m,{pathExt:o}),_)if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw eCe(r)}});var sCe=E(($Bt,oCe)=>{"use strict";oCe.exports=r=>{r=r||{};let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).find(n=>n.toUpperCase()==="PATH")||"Path"}});var lCe=E((VBt,uCe)=>{"use strict";var aCe=require("path"),Oat=iCe(),Iat=sCe()();function cCe(r,e){let t=process.cwd(),n=r.options.cwd!=null,i=n&&process.chdir!==void 0;if(i)try{process.chdir(r.options.cwd)}catch{}let o;try{o=Oat.sync(r.command,{path:(r.options.env||process.env)[Iat],pathExt:e?aCe.delimiter:void 0})}catch{}finally{i&&process.chdir(t)}return o&&(o=aCe.resolve(n?r.options.cwd:"",o)),o}function kat(r){return cCe(r)||cCe(r,!0)}uCe.exports=kat});var dCe=E((GBt,BK)=>{"use strict";var HK=/([()\][%!^"`<>&|;, *?])/g;function Aat(r){return r=r.replace(HK,"^$1"),r}function Lat(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(HK,"^$1"),e&&(r=r.replace(HK,"^$1")),r}BK.exports.command=Aat;BK.exports.argument=Lat});var hCe=E((KBt,fCe)=>{"use strict";fCe.exports=/^#!.*/});var mCe=E((YBt,pCe)=>{"use strict";var Mat=hCe();pCe.exports=function(r){var e=r.match(Mat);if(!e)return null;var t=e[0].replace(/#! ?/,"").split(" "),n=t[0].split("/").pop(),i=t[1];return n==="env"?i:n+(i?" "+i:"")}});var vCe=E((JBt,gCe)=>{"use strict";var WK=require("fs"),Nat=mCe();function Fat(r){let t;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150),t.fill(0));let n;try{n=WK.openSync(r,"r"),WK.readSync(n,t,0,150,0),WK.closeSync(n)}catch{}return Nat(t.toString())}gCe.exports=Fat});var LCe=E((Ai,ACe)=>{Ai=ACe.exports=Ao;var qs;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?qs=function(){var r=Array.prototype.slice.call(arguments,0);r.unshift("SEMVER"),console.log.apply(console,r)}:qs=function(){};Ai.SEMVER_SPEC_VERSION="2.0.0";var O1=256,gj=Number.MAX_SAFE_INTEGER||9007199254740991,$K=16,qat=O1-6,I1=Ai.re=[],ba=Ai.safeRe=[],dr=Ai.src=[],So=0,JK="[a-zA-Z0-9-]",VK=[["\\s",1],["\\d",O1],[JK,qat]];function Sj(r){for(var e=0;e<VK.length;e++){var t=VK[e][0],n=VK[e][1];r=r.split(t+"*").join(t+"{0,"+n+"}").split(t+"+").join(t+"{1,"+n+"}")}return r}var eP=So++;dr[eP]="0|[1-9]\\d*";var tP=So++;dr[tP]="\\d+";var XK=So++;dr[XK]="\\d*[a-zA-Z-]"+JK+"*";var _Ce=So++;dr[_Ce]="("+dr[eP]+")\\.("+dr[eP]+")\\.("+dr[eP]+")";var bCe=So++;dr[bCe]="("+dr[tP]+")\\.("+dr[tP]+")\\.("+dr[tP]+")";var GK=So++;dr[GK]="(?:"+dr[eP]+"|"+dr[XK]+")";var KK=So++;dr[KK]="(?:"+dr[tP]+"|"+dr[XK]+")";var QK=So++;dr[QK]="(?:-("+dr[GK]+"(?:\\."+dr[GK]+")*))";var ZK=So++;dr[ZK]="(?:-?("+dr[KK]+"(?:\\."+dr[KK]+")*))";var YK=So++;dr[YK]=JK+"+";var A1=So++;dr[A1]="(?:\\+("+dr[YK]+"(?:\\."+dr[YK]+")*))";var e9=So++,wCe="v?"+dr[_Ce]+dr[QK]+"?"+dr[A1]+"?";dr[e9]="^"+wCe+"$";var t9="[v=\\s]*"+dr[bCe]+dr[ZK]+"?"+dr[A1]+"?",r9=So++;dr[r9]="^"+t9+"$";var sP=So++;dr[sP]="((?:<|>)?=?)";var vj=So++;dr[vj]=dr[tP]+"|x|X|\\*";var yj=So++;dr[yj]=dr[eP]+"|x|X|\\*";var ED=So++;dr[ED]="[v=\\s]*("+dr[yj]+")(?:\\.("+dr[yj]+")(?:\\.("+dr[yj]+")(?:"+dr[QK]+")?"+dr[A1]+"?)?)?";var nP=So++;dr[nP]="[v=\\s]*("+dr[vj]+")(?:\\.("+dr[vj]+")(?:\\.("+dr[vj]+")(?:"+dr[ZK]+")?"+dr[A1]+"?)?)?";var SCe=So++;dr[SCe]="^"+dr[sP]+"\\s*"+dr[ED]+"$";var CCe=So++;dr[CCe]="^"+dr[sP]+"\\s*"+dr[nP]+"$";var TCe=So++;dr[TCe]="(?:^|[^\\d])(\\d{1,"+$K+"})(?:\\.(\\d{1,"+$K+"}))?(?:\\.(\\d{1,"+$K+"}))?(?:$|[^\\d])";var Cj=So++;dr[Cj]="(?:~>?)";var iP=So++;dr[iP]="(\\s*)"+dr[Cj]+"\\s+";I1[iP]=new RegExp(dr[iP],"g");ba[iP]=new RegExp(Sj(dr[iP]),"g");var jat="$1~",DCe=So++;dr[DCe]="^"+dr[Cj]+dr[ED]+"$";var ECe=So++;dr[ECe]="^"+dr[Cj]+dr[nP]+"$";var Tj=So++;dr[Tj]="(?:\\^)";var oP=So++;dr[oP]="(\\s*)"+dr[Tj]+"\\s+";I1[oP]=new RegExp(dr[oP],"g");ba[oP]=new RegExp(Sj(dr[oP]),"g");var zat="$1^",PCe=So++;dr[PCe]="^"+dr[Tj]+dr[ED]+"$";var RCe=So++;dr[RCe]="^"+dr[Tj]+dr[nP]+"$";var n9=So++;dr[n9]="^"+dr[sP]+"\\s*("+t9+")$|^$";var i9=So++;dr[i9]="^"+dr[sP]+"\\s*("+wCe+")$|^$";var PD=So++;dr[PD]="(\\s*)"+dr[sP]+"\\s*("+t9+"|"+dr[ED]+")";I1[PD]=new RegExp(dr[PD],"g");ba[PD]=new RegExp(Sj(dr[PD]),"g");var Uat="$1$2$3",xCe=So++;dr[xCe]="^\\s*("+dr[ED]+")\\s+-\\s+("+dr[ED]+")\\s*$";var OCe=So++;dr[OCe]="^\\s*("+dr[nP]+")\\s+-\\s+("+dr[nP]+")\\s*$";var ICe=So++;dr[ICe]="(<|>)?=?\\s*\\*";for(M_=0;M_<So;M_++)qs(M_,dr[M_]),I1[M_]||(I1[M_]=new RegExp(dr[M_]),ba[M_]=new RegExp(Sj(dr[M_])));var M_;Ai.parse=RD;function RD(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao)return r;if(typeof r!="string"||r.length>O1)return null;var t=e.loose?ba[r9]:ba[e9];if(!t.test(r))return null;try{return new Ao(r,e)}catch{return null}}Ai.valid=Hat;function Hat(r,e){var t=RD(r,e);return t?t.version:null}Ai.clean=Bat;function Bat(r,e){var t=RD(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null}Ai.SemVer=Ao;function Ao(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ao){if(r.loose===e.loose)return r;r=r.version}else if(typeof r!="string")throw new TypeError("Invalid Version: "+r);if(r.length>O1)throw new TypeError("version is longer than "+O1+" characters");if(!(this instanceof Ao))return new Ao(r,e);qs("SemVer",r,e),this.options=e,this.loose=!!e.loose;var t=r.trim().match(e.loose?ba[r9]:ba[e9]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>gj||this.major<0)throw new TypeError("Invalid major version");if(this.minor>gj||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>gj||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<gj)return i}return n}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}Ao.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ao.prototype.toString=function(){return this.version};Ao.prototype.compare=function(r){return qs("SemVer.compare",this.version,this.options,r),r instanceof Ao||(r=new Ao(r,this.options)),this.compareMain(r)||this.comparePre(r)};Ao.prototype.compareMain=function(r){return r instanceof Ao||(r=new Ao(r,this.options)),rP(this.major,r.major)||rP(this.minor,r.minor)||rP(this.patch,r.patch)};Ao.prototype.comparePre=function(r){if(r instanceof Ao||(r=new Ao(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(qs("prerelease compare",e,t,n),t===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(t===void 0)return-1;if(t===n)continue;return rP(t,n)}while(++e)};Ao.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this.raw=this.version,this};Ai.inc=Wat;function Wat(r,e,t,n){typeof t=="string"&&(n=t,t=void 0);try{return new Ao(r,t).inc(e,n).version}catch{return null}}Ai.diff=$at;function $at(r,e){if(o9(r,e))return null;var t=RD(r),n=RD(e),i="";if(t.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in t)if((s==="major"||s==="minor"||s==="patch")&&t[s]!==n[s])return i+s;return o}Ai.compareIdentifiers=rP;var yCe=/^[0-9]+$/;function rP(r,e){var t=yCe.test(r),n=yCe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1}Ai.rcompareIdentifiers=Vat;function Vat(r,e){return rP(e,r)}Ai.major=Gat;function Gat(r,e){return new Ao(r,e).major}Ai.minor=Kat;function Kat(r,e){return new Ao(r,e).minor}Ai.patch=Yat;function Yat(r,e){return new Ao(r,e).patch}Ai.compare=vw;function vw(r,e,t){return new Ao(r,t).compare(new Ao(e,t))}Ai.compareLoose=Jat;function Jat(r,e){return vw(r,e,!0)}Ai.rcompare=Xat;function Xat(r,e,t){return vw(e,r,t)}Ai.sort=Qat;function Qat(r,e){return r.sort(function(t,n){return Ai.compare(t,n,e)})}Ai.rsort=Zat;function Zat(r,e){return r.sort(function(t,n){return Ai.rcompare(t,n,e)})}Ai.gt=k1;function k1(r,e,t){return vw(r,e,t)>0}Ai.lt=_j;function _j(r,e,t){return vw(r,e,t)<0}Ai.eq=o9;function o9(r,e,t){return vw(r,e,t)===0}Ai.neq=kCe;function kCe(r,e,t){return vw(r,e,t)!==0}Ai.gte=s9;function s9(r,e,t){return vw(r,e,t)>=0}Ai.lte=a9;function a9(r,e,t){return vw(r,e,t)<=0}Ai.cmp=bj;function bj(r,e,t,n){switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return o9(r,t,n);case"!=":return kCe(r,t,n);case">":return k1(r,t,n);case">=":return s9(r,t,n);case"<":return _j(r,t,n);case"<=":return a9(r,t,n);default:throw new TypeError("Invalid operator: "+e)}}Ai.Comparator=av;function av(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof av){if(r.loose===!!e.loose)return r;r=r.value}if(!(this instanceof av))return new av(r,e);r=r.trim().split(/\s+/).join(" "),qs("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===L1?this.value="":this.value=this.operator+this.semver.version,qs("comp",this)}var L1={};av.prototype.parse=function(r){var e=this.options.loose?ba[n9]:ba[i9],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new Ao(t[2],this.options.loose):this.semver=L1};av.prototype.toString=function(){return this.value};av.prototype.test=function(r){return qs("Comparator.test",r,this.options.loose),this.semver===L1?!0:(typeof r=="string"&&(r=new Ao(r,this.options)),bj(r,this.operator,this.semver,this.options))};av.prototype.intersects=function(r,e){if(!(r instanceof av))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var t;if(this.operator==="")return t=new Fc(r.value,e),wj(this.value,t,e);if(r.operator==="")return t=new Fc(this.value,e),wj(r.semver,t,e);var n=(this.operator===">="||this.operator===">")&&(r.operator===">="||r.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(r.operator==="<="||r.operator==="<"),o=this.semver.version===r.semver.version,s=(this.operator===">="||this.operator==="<=")&&(r.operator===">="||r.operator==="<="),a=bj(this.semver,"<",r.semver,e)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),c=bj(this.semver,">",r.semver,e)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||i||o&&s||a||c};Ai.Range=Fc;function Fc(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Fc)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new Fc(r.raw,e);if(r instanceof av)return new Fc(r.value,e);if(!(this instanceof Fc))return new Fc(r,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Fc.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range};Fc.prototype.toString=function(){return this.range};Fc.prototype.parseRange=function(r){var e=this.options.loose,t=e?ba[OCe]:ba[xCe];r=r.replace(t,uct),qs("hyphen replace",r),r=r.replace(ba[PD],Uat),qs("comparator trim",r,ba[PD]),r=r.replace(ba[iP],jat),r=r.replace(ba[oP],zat);var n=e?ba[n9]:ba[i9],i=r.split(" ").map(function(o){return tct(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new av(o,this.options)},this),i};Fc.prototype.intersects=function(r,e){if(!(r instanceof Fc))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(n){return r.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};Ai.toComparators=ect;function ect(r,e){return new Fc(r,e).set.map(function(t){return t.map(function(n){return n.value}).join(" ").trim().split(" ")})}function tct(r,e){return qs("comp",r,e),r=ict(r,e),qs("caret",r),r=rct(r,e),qs("tildes",r),r=sct(r,e),qs("xrange",r),r=cct(r,e),qs("stars",r),r}function Gh(r){return!r||r.toLowerCase()==="x"||r==="*"}function rct(r,e){return r.trim().split(/\s+/).map(function(t){return nct(t,e)}).join(" ")}function nct(r,e){var t=e.loose?ba[ECe]:ba[DCe];return r.replace(t,function(n,i,o,s,a){qs("tilde",r,n,i,o,s,a);var c;return Gh(i)?c="":Gh(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Gh(s)?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(qs("replaceTilde pr",a),c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",qs("tilde return",c),c})}function ict(r,e){return r.trim().split(/\s+/).map(function(t){return oct(t,e)}).join(" ")}function oct(r,e){qs("caret",r,e);var t=e.loose?ba[RCe]:ba[PCe];return r.replace(t,function(n,i,o,s,a){qs("caret",r,n,i,o,s,a);var c;return Gh(i)?c="":Gh(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Gh(s)?i==="0"?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(qs("replaceCaret pr",a),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(qs("no pr"),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),qs("caret return",c),c})}function sct(r,e){return qs("replaceXRanges",r,e),r.split(/\s+/).map(function(t){return act(t,e)}).join(" ")}function act(r,e){r=r.trim();var t=e.loose?ba[CCe]:ba[SCe];return r.replace(t,function(n,i,o,s,a,c){qs("xRange",r,n,i,o,s,a,c);var u=Gh(o),l=u||Gh(s),d=l||Gh(a),f=d;return i==="="&&f&&(i=""),u?i===">"||i==="<"?n="<0.0.0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),qs("xRange return",n),n})}function cct(r,e){return qs("replaceStars",r,e),r.trim().replace(ba[ICe],"")}function uct(r,e,t,n,i,o,s,a,c,u,l,d,f){return Gh(t)?e="":Gh(n)?e=">="+t+".0.0":Gh(i)?e=">="+t+"."+n+".0":e=">="+e,Gh(c)?a="":Gh(u)?a="<"+(+c+1)+".0.0":Gh(l)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+l+"-"+d:a="<="+a,(e+" "+a).trim()}Fc.prototype.test=function(r){if(!r)return!1;typeof r=="string"&&(r=new Ao(r,this.options));for(var e=0;e<this.set.length;e++)if(lct(this.set[e],r,this.options))return!0;return!1};function lct(r,e,t){for(var n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(n=0;n<r.length;n++)if(qs(r[n].semver),r[n].semver!==L1&&r[n].semver.prerelease.length>0){var i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ai.satisfies=wj;function wj(r,e,t){try{e=new Fc(e,t)}catch{return!1}return e.test(r)}Ai.maxSatisfying=dct;function dct(r,e,t){var n=null,i=null;try{var o=new Fc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new Ao(n,t))}),n}Ai.minSatisfying=fct;function fct(r,e,t){var n=null,i=null;try{var o=new Fc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Ao(n,t))}),n}Ai.minVersion=hct;function hct(r,e){r=new Fc(r,e);var t=new Ao("0.0.0");if(r.test(t)||(t=new Ao("0.0.0-0"),r.test(t)))return t;t=null;for(var n=0;n<r.set.length;++n){var i=r.set[n];i.forEach(function(o){var s=new Ao(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!t||k1(t,s))&&(t=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return t&&r.test(t)?t:null}Ai.validRange=pct;function pct(r,e){try{return new Fc(r,e).range||"*"}catch{return null}}Ai.ltr=mct;function mct(r,e,t){return c9(r,e,"<",t)}Ai.gtr=gct;function gct(r,e,t){return c9(r,e,">",t)}Ai.outside=c9;function c9(r,e,t,n){r=new Ao(r,n),e=new Fc(e,n);var i,o,s,a,c;switch(t){case">":i=k1,o=a9,s=_j,a=">",c=">=";break;case"<":i=_j,o=s9,s=k1,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(wj(r,e,n))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],d=null,f=null;if(l.forEach(function(m){m.semver===L1&&(m=new av(">=0.0.0")),d=d||m,f=f||m,i(m.semver,d.semver,n)?d=m:s(m.semver,f.semver,n)&&(f=m)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0}Ai.prerelease=vct;function vct(r,e){var t=RD(r,e);return t&&t.prerelease.length?t.prerelease:null}Ai.intersects=yct;function yct(r,e,t){return r=new Fc(r,t),e=new Fc(e,t),r.intersects(e)}Ai.coerce=_ct;function _ct(r){if(r instanceof Ao)return r;if(typeof r!="string")return null;var e=r.match(ba[TCe]);return e==null?null:RD(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var jCe=E((XBt,qCe)=>{"use strict";var bct=require("path"),wct=zSe(),MCe=lCe(),NCe=dCe(),Sct=vCe(),Cct=LCe(),FCe=process.platform==="win32",Tct=/\.(?:com|exe)$/i,Dct=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i,Ect=wct(()=>Cct.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function Pct(r){r.file=MCe(r);let e=r.file&&Sct(r.file);return e?(r.args.unshift(r.file),r.command=e,MCe(r)):r.file}function Rct(r){if(!FCe)return r;let e=Pct(r),t=!Tct.test(e);if(r.options.forceShell||t){let n=Dct.test(e);r.command=bct.normalize(r.command),r.command=NCe.command(r.command),r.args=r.args.map(o=>NCe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function xct(r){if(Ect)return r;let e=[r.command].concat(r.args).join(" ");return FCe?(r.command=typeof r.options.shell=="string"?r.options.shell:process.env.comspec||"cmd.exe",r.args=["/d","/s","/c",`"${e}"`],r.options.windowsVerbatimArguments=!0):(typeof r.options.shell=="string"?r.command=r.options.shell:process.platform==="android"?r.command="/system/bin/sh":r.command="/bin/sh",r.args=["-c",e]),r}function Oct(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?xct(n):Rct(n)}qCe.exports=Oct});var HCe=E((QBt,UCe)=>{"use strict";var u9=process.platform==="win32";function l9(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Ict(r,e){if(!u9)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=zCe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function zCe(r,e){return u9&&r===1&&!e.file?l9(e.original,"spawn"):null}function kct(r,e){return u9&&r===1&&!e.file?l9(e.original,"spawnSync"):null}UCe.exports={hookChildProcess:Ict,verifyENOENT:zCe,verifyENOENTSync:kct,notFoundError:l9}});var $Ce=E((ZBt,aP)=>{"use strict";var BCe=require("child_process"),d9=jCe(),f9=HCe();function WCe(r,e,t){let n=d9(r,e,t),i=BCe.spawn(n.command,n.args,n.options);return f9.hookChildProcess(i,n),i}function Act(r,e,t){let n=d9(r,e,t),i=BCe.spawnSync(n.command,n.args,n.options);return i.error=i.error||f9.verifyENOENTSync(i.status,n),i}aP.exports=WCe;aP.exports.spawn=WCe;aP.exports.sync=Act;aP.exports._parse=d9;aP.exports._enoent=f9});var cP=E(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});_w.boolean=Yct;_w.string=GCe;_w.number=Jct;_w.error=Xct;_w.func=Qct;_w.array=KCe;_w.stringArray=Zct;function Yct(r){return r===!0||r===!1}function GCe(r){return typeof r=="string"||r instanceof String}function Jct(r){return typeof r=="number"||r instanceof Number}function Xct(r){return r instanceof Error}function Qct(r){return typeof r=="function"}function KCe(r){return Array.isArray(r)}function Zct(r){return KCe(r)&&r.every(e=>GCe(e))}});var j9=E(yn=>{"use strict";var eut=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tut=yn&&yn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rut=yn&&yn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&eut(t,e,n[i]);return tut(t,e),t}}();Object.defineProperty(yn,"__esModule",{value:!0});yn.Message=yn.NotificationType9=yn.NotificationType8=yn.NotificationType7=yn.NotificationType6=yn.NotificationType5=yn.NotificationType4=yn.NotificationType3=yn.NotificationType2=yn.NotificationType1=yn.NotificationType0=yn.NotificationType=yn.RequestType9=yn.RequestType8=yn.RequestType7=yn.RequestType6=yn.RequestType5=yn.RequestType4=yn.RequestType3=yn.RequestType2=yn.RequestType1=yn.RequestType=yn.RequestType0=yn.AbstractMessageSignature=yn.ParameterStructures=yn.ResponseError=yn.ErrorCodes=void 0;var xD=rut(cP()),m9;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(m9||(yn.ErrorCodes=m9={}));var g9=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=xD.number(e)?e:m9.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};yn.ResponseError=g9;var TC=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};yn.ParameterStructures=TC;var Fa=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return TC.auto}};yn.AbstractMessageSignature=Fa;var v9=class extends Fa{_;constructor(e){super(e,0)}};yn.RequestType0=v9;var y9=class extends Fa{_parameterStructures;_;constructor(e,t=TC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType=y9;var _9=class extends Fa{_parameterStructures;_;constructor(e,t=TC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType1=_9;var b9=class extends Fa{_;constructor(e){super(e,2)}};yn.RequestType2=b9;var w9=class extends Fa{_;constructor(e){super(e,3)}};yn.RequestType3=w9;var S9=class extends Fa{_;constructor(e){super(e,4)}};yn.RequestType4=S9;var C9=class extends Fa{_;constructor(e){super(e,5)}};yn.RequestType5=C9;var T9=class extends Fa{_;constructor(e){super(e,6)}};yn.RequestType6=T9;var D9=class extends Fa{_;constructor(e){super(e,7)}};yn.RequestType7=D9;var E9=class extends Fa{_;constructor(e){super(e,8)}};yn.RequestType8=E9;var P9=class extends Fa{_;constructor(e){super(e,9)}};yn.RequestType9=P9;var R9=class extends Fa{_parameterStructures;_;constructor(e,t=TC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType=R9;var x9=class extends Fa{_;constructor(e){super(e,0)}};yn.NotificationType0=x9;var O9=class extends Fa{_parameterStructures;_;constructor(e,t=TC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType1=O9;var I9=class extends Fa{_;constructor(e){super(e,2)}};yn.NotificationType2=I9;var k9=class extends Fa{_;constructor(e){super(e,3)}};yn.NotificationType3=k9;var A9=class extends Fa{_;constructor(e){super(e,4)}};yn.NotificationType4=A9;var L9=class extends Fa{_;constructor(e){super(e,5)}};yn.NotificationType5=L9;var M9=class extends Fa{_;constructor(e){super(e,6)}};yn.NotificationType6=M9;var N9=class extends Fa{_;constructor(e){super(e,7)}};yn.NotificationType7=N9;var F9=class extends Fa{_;constructor(e){super(e,8)}};yn.NotificationType8=F9;var q9=class extends Fa{_;constructor(e){super(e,9)}};yn.NotificationType9=q9;var YCe;(function(r){function e(i){let o=i;return o&&xD.string(o.method)&&(xD.string(o.id)||xD.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&xD.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(xD.string(o.id)||xD.number(o.id)||o.id===null)}r.isResponse=n})(YCe||(yn.Message=YCe={}))});var U9=E(DC=>{"use strict";Object.defineProperty(DC,"__esModule",{value:!0});DC.LRUCache=DC.LinkedMap=DC.Touch=void 0;var Hf;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Hf||(DC.Touch=Hf={}));var Pj=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=Hf.None){let n=this._map.get(e);if(n)return t!==Hf.None&&this.touch(n,t),n.value}set(e,t,n=Hf.None){let i=this._map.get(e);if(i)i.value=t,n!==Hf.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Hf.None:this.addItemLast(i);break;case Hf.First:this.addItemFirst(i);break;case Hf.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Hf.First&&t!==Hf.Last)){if(t===Hf.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Hf.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};DC.LinkedMap=Pj;var z9=class extends Pj{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Hf.AsNew){return super.get(e,t)}peek(e){return super.get(e,Hf.None)}set(e,t){return super.set(e,t,Hf.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};DC.LRUCache=z9});var XCe=E(Rj=>{"use strict";Object.defineProperty(Rj,"__esModule",{value:!0});Rj.Disposable=void 0;var JCe;(function(r){function e(t){return{dispose:t}}r.create=e})(JCe||(Rj.Disposable=JCe={}))});var EC=E(W9=>{"use strict";Object.defineProperty(W9,"__esModule",{value:!0});var H9;function B9(){if(H9===void 0)throw new Error("No runtime abstraction layer installed");return H9}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");H9=t}r.install=e})(B9||(B9={}));W9.default=B9});var uP=E(PC=>{"use strict";var nut=PC&&PC.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(PC,"__esModule",{value:!0});PC.Emitter=PC.Event=void 0;var iut=nut(EC()),QCe;(function(r){let e={dispose(){}};r.None=function(){return e}})(QCe||(PC.Event=QCe={}));var $9=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,iut.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},V9=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new $9),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};PC.Emitter=V9});var Ij=E(Jp=>{"use strict";var out=Jp&&Jp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sut=Jp&&Jp.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),aut=Jp&&Jp.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&out(t,e,n[i]);return sut(t,e),t}}(),cut=Jp&&Jp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.CancellationTokenSource=Jp.CancellationToken=void 0;var uut=cut(EC()),lut=aut(cP()),G9=uP(),xj;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:G9.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:G9.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||lut.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(xj||(Jp.CancellationToken=xj={}));var dut=Object.freeze(function(r,e){let t=(0,uut.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),Oj=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?dut:(this._emitter||(this._emitter=new G9.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},K9=class{_token;get token(){return this._token||(this._token=new Oj),this._token}cancel(){this._token?this._token.cancel():this._token=xj.Cancelled}dispose(){this._token?this._token instanceof Oj&&this._token.dispose():this._token=xj.None}};Jp.CancellationTokenSource=K9});var ZCe=E(lP=>{"use strict";Object.defineProperty(lP,"__esModule",{value:!0});lP.SharedArrayReceiverStrategy=lP.SharedArraySenderStrategy=void 0;var fut=Ij(),M1;(function(r){r.Continue=0,r.Cancelled=1})(M1||(M1={}));var Y9=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=M1.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,M1.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};lP.SharedArraySenderStrategy=Y9;var J9=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===M1.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},X9=class{token;constructor(e){this.token=new J9(e)}cancel(){}dispose(){}},Q9=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new fut.CancellationTokenSource:new X9(t)}};lP.SharedArrayReceiverStrategy=Q9});var e7=E(dP=>{"use strict";var hut=dP&&dP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dP,"__esModule",{value:!0});dP.Semaphore=void 0;var put=hut(EC()),Z9=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,put.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};dP.Semaphore=Z9});var tTe=E(Bf=>{"use strict";var mut=Bf&&Bf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gut=Bf&&Bf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vut=Bf&&Bf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mut(t,e,n[i]);return gut(t,e),t}}(),yut=Bf&&Bf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ReadableStreamMessageReader=Bf.AbstractMessageReader=Bf.MessageReader=void 0;var r7=yut(EC()),fP=vut(cP()),t7=uP(),_ut=e7(),eTe;(function(r){function e(t){let n=t;return n&&fP.func(n.listen)&&fP.func(n.dispose)&&fP.func(n.onError)&&fP.func(n.onClose)&&fP.func(n.onPartialMessage)}r.is=e})(eTe||(Bf.MessageReader=eTe={}));var kj=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new t7.Emitter,this.closeEmitter=new t7.Emitter,this.partialMessageEmitter=new t7.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${fP.string(e.message)?e.message:"unknown"}`)}};Bf.AbstractMessageReader=kj;var n7;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,r7.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(n7||(n7={}));var i7=class extends kj{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=n7.fromOptions(t),this.buffer=(0,r7.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new _ut.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,r7.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Bf.ReadableStreamMessageReader=i7});var sTe=E(Wf=>{"use strict";var but=Wf&&Wf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wut=Wf&&Wf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sut=Wf&&Wf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&but(t,e,n[i]);return wut(t,e),t}}(),Cut=Wf&&Wf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.WriteableStreamMessageWriter=Wf.AbstractMessageWriter=Wf.MessageWriter=void 0;var rTe=Cut(EC()),N1=Sut(cP()),Tut=e7(),nTe=uP(),Dut="Content-Length: ",iTe=`\r
`,oTe;(function(r){function e(t){let n=t;return n&&N1.func(n.dispose)&&N1.func(n.onClose)&&N1.func(n.onError)&&N1.func(n.write)}r.is=e})(oTe||(Wf.MessageWriter=oTe={}));var Aj=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new nTe.Emitter,this.closeEmitter=new nTe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${N1.string(e.message)?e.message:"unknown"}`)}};Wf.AbstractMessageWriter=Aj;var o7;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,rTe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,rTe.default)().applicationJson.encoder}}r.fromOptions=e})(o7||(o7={}));var s7=class extends Aj{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=o7.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Tut.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Dut,n.byteLength.toString(),iTe),i.push(iTe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Wf.WriteableStreamMessageWriter=s7});var aTe=E(Lj=>{"use strict";Object.defineProperty(Lj,"__esModule",{value:!0});Lj.AbstractMessageBuffer=void 0;var Eut=13,Put=10,Rut=`\r
`,a7=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Eut:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Put:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Rut);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),m=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};Lj.AbstractMessageBuffer=a7});var dTe=E(Kn=>{"use strict";var xut=Kn&&Kn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Out=Kn&&Kn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iut=Kn&&Kn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xut(t,e,n[i]);return Out(t,e),t}}(),kut=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ConnectionOptions=Kn.MessageStrategy=Kn.CancellationStrategy=Kn.CancellationSenderStrategy=Kn.CancellationReceiverStrategy=Kn.RequestCancellationReceiverStrategy=Kn.IdCancellationReceiverStrategy=Kn.ConnectionStrategy=Kn.ConnectionError=Kn.ConnectionErrors=Kn.LogTraceNotification=Kn.SetTraceNotification=Kn.TraceFormat=Kn.TraceValues=Kn.TraceValue=Kn.Trace=Kn.NullLogger=Kn.ProgressType=Kn.ProgressToken=void 0;Kn.createMessageConnection=Aut;var cTe=kut(EC()),qc=Iut(cP()),Ni=j9(),uTe=U9(),F1=uP(),c7=Ij(),z1;(function(r){r.type=new Ni.NotificationType("$/cancelRequest")})(z1||(z1={}));var u7;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(u7||(Kn.ProgressToken=u7={}));var q1;(function(r){r.type=new Ni.NotificationType("$/progress")})(q1||(q1={}));var l7=class{__;_pr;constructor(){}};Kn.ProgressType=l7;var d7;(function(r){function e(t){return qc.func(t)}r.is=e})(d7||(d7={}));Kn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var gs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(gs||(Kn.Trace=gs={}));var f7;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(f7||(Kn.TraceValue=f7={}));Kn.TraceValues=f7;(function(r){function e(n){if(!qc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(gs||(Kn.Trace=gs={}));var tg;(function(r){r.Text="text",r.JSON="json"})(tg||(Kn.TraceFormat=tg={}));(function(r){function e(t){return qc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(tg||(Kn.TraceFormat=tg={}));var h7;(function(r){r.type=new Ni.NotificationType("$/setTrace")})(h7||(Kn.SetTraceNotification=h7={}));var Mj;(function(r){r.type=new Ni.NotificationType("$/logTrace")})(Mj||(Kn.LogTraceNotification=Mj={}));var j1;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(j1||(Kn.ConnectionErrors=j1={}));var hP=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Kn.ConnectionError=hP;var p7;(function(r){function e(t){let n=t;return n&&qc.func(n.cancelUndispatched)}r.is=e})(p7||(Kn.ConnectionStrategy=p7={}));var Nj;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&qc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||qc.func(n.dispose))}r.is=e})(Nj||(Kn.IdCancellationReceiverStrategy=Nj={}));var m7;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&qc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||qc.func(n.dispose))}r.is=e})(m7||(Kn.RequestCancellationReceiverStrategy=m7={}));var Fj;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new c7.CancellationTokenSource}});function e(t){return Nj.is(t)||m7.is(t)}r.is=e})(Fj||(Kn.CancellationReceiverStrategy=Fj={}));var qj;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(z1.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&qc.func(n.sendCancellation)&&qc.func(n.cleanup)}r.is=e})(qj||(Kn.CancellationSenderStrategy=qj={}));var jj;(function(r){r.Message=Object.freeze({receiver:Fj.Message,sender:qj.Message});function e(t){let n=t;return n&&Fj.is(n.receiver)&&qj.is(n.sender)}r.is=e})(jj||(Kn.CancellationStrategy=jj={}));var zj;(function(r){function e(t){let n=t;return n&&qc.func(n.handleMessage)}r.is=e})(zj||(Kn.MessageStrategy=zj={}));var lTe;(function(r){function e(t){let n=t;return n&&(jj.is(n.cancellationStrategy)||p7.is(n.connectionStrategy)||zj.is(n.messageStrategy)||qc.number(n.maxParallelism))}r.is=e})(lTe||(Kn.ConnectionOptions=lTe={}));var yy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(yy||(yy={}));function Aut(r,e,t,n){let i=t!==void 0?t:Kn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,m,_=new Map,D=new Map,O,M=new uTe.LinkedMap,A=new Map,U=new Set,ne=new Map,de=gs.Off,ye=tg.Text,V,$=yy.New,ee=new F1.Emitter,De=new F1.Emitter,ae=new F1.Emitter,ce=new F1.Emitter,qe=new F1.Emitter,Ne=n&&n.cancellationStrategy?n.cancellationStrategy:jj.Message;function ue(Q){}function Ce(){return $===yy.Listening}function be(){return $===yy.Closed}function xe(){return $===yy.Disposed}function Me(){($===yy.New||$===yy.Listening)&&($=yy.Closed,De.fire(void 0))}function $e(Q){ee.fire([Q,void 0,void 0])}function Ct(Q){ee.fire(Q)}r.onClose(Me),r.onError($e),e.onClose(Me),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function st(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function at(){return"not-"+(++s).toString()}function tt(Q,_e){Ni.Message.isRequest(_e)?Q.set(ze(_e.id),_e):Ni.Message.isResponse(_e)?u===-1?Q.set(st(_e.id),_e):xt(_e):Q.set(at(),_e)}function fr(){O||M.size===0||u!==-1&&l>=u||(O=(0,cTe.default)().timer.setImmediate(async()=>{if(O=void 0,M.size===0||u!==-1&&l>=u)return;let Q=M.shift(),_e;try{l++;let Je=n?.messageStrategy;zj.is(Je)?_e=Je.handleMessage(Q,Lr):_e=Lr(Q)}catch(Je){i.error(`Processing message queue failed: ${Je.toString()}`)}finally{_e instanceof Promise?_e.then(()=>{l--,fr()}).catch(Je=>{i.error(`Processing message queue failed: ${Je.toString()}`)}):l--,fr()}}))}async function Lr(Q){return Ni.Message.isRequest(Q)?cr(Q):Ni.Message.isNotification(Q)?hr(Q):Ni.Message.isResponse(Q)?xt(Q):Mt(Q)}let zr=Q=>{try{if(Ni.Message.isNotification(Q)&&Q.method===z1.type.method){let _e=Q.params.id,Je=ze(_e),ft=M.get(Je);if(Ni.Message.isRequest(ft)){let rr=n?.connectionStrategy,Jt=rr&&rr.cancelUndispatched?rr.cancelUndispatched(ft,ue):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){M.delete(Je),ne.delete(_e),Jt.id=ft.id,Or(Jt,Q.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Yt=ne.get(_e);if(Yt!==void 0){Yt.cancel(),$r(Q);return}else U.add(_e)}tt(M,Q)}finally{fr()}};async function cr(Q){if(xe())return Promise.resolve();function _e($t,kt,K){let Fe={jsonrpc:c,id:Q.id};return $t instanceof Ni.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,Or(Fe,kt,K),e.write(Fe)}function Je($t,kt,K){let Fe={jsonrpc:c,id:Q.id,error:$t.toJson()};return Or(Fe,kt,K),e.write(Fe)}Hn(Q);let ft=f.get(Q.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||d){let $t=Q.id??String(Date.now()),kt=Nj.is(Ne.receiver)?Ne.receiver.createCancellationTokenSource($t):Ne.receiver.createCancellationTokenSource(Q);Q.id!==null&&U.has(Q.id)&&kt.cancel(),Q.id!==null&&ne.set($t,kt);try{let K;if(rr)if(Q.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Yt.numberOfParams} params but received none.`),Q.method,Jt);K=rr(kt.token)}else if(Array.isArray(Q.params)){if(Yt!==void 0&&Yt.parameterStructures===Ni.ParameterStructures.byName)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Jt);K=rr(...Q.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===Ni.ParameterStructures.byPosition)return Je(new Ni.ResponseError(Ni.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Jt);K=rr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let Fe=await K;await _e(Fe,Q.method,Jt)}catch(K){K instanceof Ni.ResponseError?await _e(K,Q.method,Jt):K&&qc.string(K.message)?await Je(new Ni.ResponseError(Ni.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Jt):await Je(new Ni.ResponseError(Ni.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Jt)}finally{ne.delete($t)}}else await Je(new Ni.ResponseError(Ni.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Jt)}function xt(Q){if(!xe())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _e=Q.id,Je=A.get(_e);if(ln(Q,Je),Je!==void 0){A.delete(_e);try{if(Q.error){let ft=Q.error;Je.reject(new Ni.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Je.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Je.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}async function hr(Q){if(xe())return;let _e,Je;if(Q.method===z1.type.method){let ft=Q.params.id;U.delete(ft),$r(Q);return}else{let ft=_.get(Q.method);ft&&(Je=ft.handler,_e=ft.type)}if(Je||m)try{if($r(Q),Je)if(Q.params===void 0)_e!==void 0&&_e.numberOfParams!==0&&_e.parameterStructures!==Ni.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received none.`),await Je();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===q1.type.method&&ft.length===2&&u7.is(ft[0])?await Je({token:ft[0],value:ft[1]}):(_e!==void 0&&(_e.parameterStructures===Ni.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),_e.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received ${ft.length} arguments`)),await Je(...ft))}else _e!==void 0&&_e.parameterStructures===Ni.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Je(Q.params);else m&&await m(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else ae.fire(Q)}function Mt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let _e=Q;if(qc.string(_e.id)||qc.number(_e.id)){let Je=_e.id,ft=A.get(Je);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function on(Q){if(Q!=null)switch(de){case gs.Verbose:return JSON.stringify(Q,null,4);case gs.Compact:return JSON.stringify(Q);default:return}}function un(Q){if(!(de===gs.Off||!V))if(ye===tg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Sending request '${Q.method} - (${Q.id})'.`,_e)}else ii("send-request",Q)}function On(Q){if(!(de===gs.Off||!V))if(ye===tg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Sending notification '${Q.method}'.`,_e)}else ii("send-notification",Q)}function Or(Q,_e,Je){if(!(de===gs.Off||!V))if(ye===tg.Text){let ft;(de===gs.Verbose||de===gs.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${on(Q.error.data)}

`:Q.result?ft=`Result: ${on(Q.result)}

`:Q.error===void 0&&(ft=`No result returned.

`)),V.log(`Sending response '${_e} - (${Q.id})'. Processing request took ${Date.now()-Je}ms`,ft)}else ii("send-response",Q)}function Hn(Q){if(!(de===gs.Off||!V))if(ye===tg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}

`),V.log(`Received request '${Q.method} - (${Q.id})'.`,_e)}else ii("receive-request",Q)}function $r(Q){if(!(de===gs.Off||!V||Q.method===Mj.type.method))if(ye===tg.Text){let _e;(de===gs.Verbose||de===gs.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}

`:_e=`No parameters provided.

`),V.log(`Received notification '${Q.method}'.`,_e)}else ii("receive-notification",Q)}function ln(Q,_e){if(!(de===gs.Off||!V))if(ye===tg.Text){let Je;if((de===gs.Verbose||de===gs.Compact)&&(Q.error&&Q.error.data?Je=`Error data: ${on(Q.error.data)}

`:Q.result?Je=`Result: ${on(Q.result)}

`:Q.error===void 0&&(Je=`No result returned.

`)),_e){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";V.log(`Received response '${_e.method} - (${Q.id})' in ${Date.now()-_e.timerStart}ms.${ft}`,Je)}else V.log(`Received response ${Q.id} without active response promise.`,Je)}else ii("receive-response",Q)}function ii(Q,_e){if(!V||de===gs.Off)return;let Je={isLSPMessage:!0,type:Q,message:_e,timestamp:Date.now()};V.log(Je)}function Vr(){if(be())throw new hP(j1.Closed,"Connection is closed.");if(xe())throw new hP(j1.Disposed,"Connection is disposed.")}function An(){if(Ce())throw new hP(j1.AlreadyListening,"Connection is already listening")}function Ri(){if(!Ce())throw new Error("Call listen() first.")}function Gr(Q){return Q===void 0?null:Q}function Ji(Q){if(Q!==null)return Q}function oi(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function fn(Q,_e){switch(Q){case Ni.ParameterStructures.auto:return oi(_e)?Ji(_e):[Gr(_e)];case Ni.ParameterStructures.byName:if(!oi(_e))throw new Error("Received parameters by name but param is not an object literal.");return Ji(_e);case Ni.ParameterStructures.byPosition:return[Gr(_e)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Oe(Q,_e){let Je,ft=Q.numberOfParams;switch(ft){case 0:Je=void 0;break;case 1:Je=fn(Q.parameterStructures,_e[0]);break;default:Je=[];for(let Yt=0;Yt<_e.length&&Yt<ft;Yt++)Je.push(Gr(_e[Yt]));if(_e.length<ft)for(let Yt=_e.length;Yt<ft;Yt++)Je.push(null);break}return Je}let oe={sendNotification:(Q,..._e)=>{Vr();let Je,ft;if(qc.string(Q)){Je=Q;let rr=_e[0],Jt=0,$t=Ni.ParameterStructures.auto;Ni.ParameterStructures.is(rr)&&(Jt=1,$t=rr);let kt=_e.length,K=kt-Jt;switch(K){case 0:ft=void 0;break;case 1:ft=fn($t,_e[Jt]);break;default:if($t===Ni.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=_e.slice(Jt,kt).map(Fe=>Gr(Fe));break}}else{let rr=_e;Je=Q.method,ft=Oe(Q,rr)}let Yt={jsonrpc:c,method:Je,params:ft};return On(Yt),e.write(Yt).catch(rr=>{throw i.error("Sending notification failed."),rr})},onNotification:(Q,_e)=>{Vr();let Je;return qc.func(Q)?m=Q:_e&&(qc.string(Q)?(Je=Q,_.set(Q,{type:void 0,handler:_e})):(Je=Q.method,_.set(Q.method,{type:Q,handler:_e}))),{dispose:()=>{Je!==void 0?_.delete(Je):m=void 0}}},onProgress:(Q,_e,Je)=>{if(D.has(_e))throw new Error(`Progress handler for token ${_e} already registered`);return D.set(_e,Je),{dispose:()=>{D.delete(_e)}}},sendProgress:(Q,_e,Je)=>oe.sendNotification(q1.type,{token:_e,value:Je}),onUnhandledProgress:ce.event,sendRequest:(Q,..._e)=>{Vr(),Ri();function Je(Fe,Ht){let Dr=Ne.sender.sendCancellation(Fe,Ht);Dr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Ht}`):Dr.catch(()=>{i.log(`Sending cancellation messages for id ${Ht} failed.`)})}let ft,Yt,rr;if(qc.string(Q)){ft=Q;let Fe=_e[0],Ht=_e[_e.length-1],Dr=0,He=Ni.ParameterStructures.auto;Ni.ParameterStructures.is(Fe)&&(Dr=1,He=Fe);let re=_e.length;c7.CancellationToken.is(Ht)&&(re=re-1,rr=Ht);let Re=re-Dr;switch(Re){case 0:Yt=void 0;break;case 1:Yt=fn(He,_e[Dr]);break;default:if(He===Ni.ParameterStructures.byName)throw new Error(`Received ${Re} parameters for 'by Name' request parameter structure.`);Yt=_e.slice(Dr,re).map(je=>Gr(je));break}}else{let Fe=_e;ft=Q.method,Yt=Oe(Q,Fe);let Ht=Q.numberOfParams;rr=c7.CancellationToken.is(Fe[Ht])?Fe[Ht]:void 0}let Jt=o++,$t,kt=!1;rr!==void 0&&(rr.isCancellationRequested?kt=!0:$t=rr.onCancellationRequested(()=>{Je(oe,Jt)}));let K={jsonrpc:c,id:Jt,method:ft,params:Yt};return un(K),typeof Ne.sender.enableCancellation=="function"&&Ne.sender.enableCancellation(K),new Promise(async(Fe,Ht)=>{let Dr=Re=>{Fe(Re),Ne.sender.cleanup(Jt),$t?.dispose()},He=Re=>{Ht(Re),Ne.sender.cleanup(Jt),$t?.dispose()},re={method:ft,timerStart:Date.now(),resolve:Dr,reject:He};try{A.set(Jt,re),await e.write(K),kt&&Je(oe,Jt)}catch(Re){throw A.delete(Jt),re.reject(new Ni.ResponseError(Ni.ErrorCodes.MessageWriteError,Re.message?Re.message:"Unknown reason")),i.error("Sending request failed."),Re}})},onRequest:(Q,_e)=>{Vr();let Je=null;return d7.is(Q)?(Je=void 0,d=Q):qc.string(Q)?(Je=null,_e!==void 0&&(Je=Q,f.set(Q,{handler:_e,type:void 0}))):_e!==void 0&&(Je=Q.method,f.set(Q.method,{type:Q,handler:_e})),{dispose:()=>{Je!==null&&(Je!==void 0?f.delete(Je):d=void 0)}}},hasPendingResponse:()=>A.size>0,trace:async(Q,_e,Je)=>{let ft=!1,Yt=tg.Text;Je!==void 0&&(qc.boolean(Je)?ft=Je:(ft=Je.sendNotification||!1,Yt=Je.traceFormat||tg.Text)),de=Q,ye=Yt,de===gs.Off?V=void 0:V=_e,ft&&!be()&&!xe()&&await oe.sendNotification(h7.type,{value:gs.toString(Q)})},onError:ee.event,onClose:De.event,onUnhandledNotification:ae.event,onDispose:qe.event,end:()=>{e.end()},dispose:()=>{if(xe())return;$=yy.Disposed,qe.fire(void 0);let Q=new Ni.ResponseError(Ni.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let _e of A.values())_e.reject(Q);A=new Map,ne=new Map,U=new Set,M=new uTe.LinkedMap,qc.func(e.dispose)&&e.dispose(),qc.func(r.dispose)&&r.dispose()},listen:()=>{Vr(),An(),$=yy.Listening,r.listen(zr)},inspect:()=>{(0,cTe.default)().console.log("inspect")}};return oe.onNotification(Mj.type,Q=>{if(de===gs.Off||!V)return;let _e=de===gs.Verbose||de===gs.Compact;V.log(Q.message,_e?Q.verbose:void 0)}),oe.onNotification(q1.type,async Q=>{let _e=D.get(Q.token);_e?await _e(Q.value):ce.fire(Q)}),oe}});var Xu=E(Rt=>{"use strict";var Lut=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ProgressType=Rt.ProgressToken=Rt.createMessageConnection=Rt.NullLogger=Rt.ConnectionOptions=Rt.ConnectionStrategy=Rt.AbstractMessageBuffer=Rt.WriteableStreamMessageWriter=Rt.AbstractMessageWriter=Rt.MessageWriter=Rt.ReadableStreamMessageReader=Rt.AbstractMessageReader=Rt.MessageReader=Rt.SharedArrayReceiverStrategy=Rt.SharedArraySenderStrategy=Rt.CancellationToken=Rt.CancellationTokenSource=Rt.Emitter=Rt.Event=Rt.Disposable=Rt.LRUCache=Rt.Touch=Rt.LinkedMap=Rt.ParameterStructures=Rt.NotificationType9=Rt.NotificationType8=Rt.NotificationType7=Rt.NotificationType6=Rt.NotificationType5=Rt.NotificationType4=Rt.NotificationType3=Rt.NotificationType2=Rt.NotificationType1=Rt.NotificationType0=Rt.NotificationType=Rt.ErrorCodes=Rt.ResponseError=Rt.RequestType9=Rt.RequestType8=Rt.RequestType7=Rt.RequestType6=Rt.RequestType5=Rt.RequestType4=Rt.RequestType3=Rt.RequestType2=Rt.RequestType1=Rt.RequestType0=Rt.RequestType=Rt.Message=Rt.RAL=void 0;Rt.MessageStrategy=Rt.CancellationStrategy=Rt.CancellationSenderStrategy=Rt.RequestCancellationReceiverStrategy=Rt.IdCancellationReceiverStrategy=Rt.CancellationReceiverStrategy=Rt.ConnectionError=Rt.ConnectionErrors=Rt.LogTraceNotification=Rt.SetTraceNotification=Rt.TraceFormat=Rt.TraceValues=Rt.TraceValue=Rt.Trace=void 0;var wa=j9();Object.defineProperty(Rt,"Message",{enumerable:!0,get:function(){return wa.Message}});Object.defineProperty(Rt,"RequestType",{enumerable:!0,get:function(){return wa.RequestType}});Object.defineProperty(Rt,"RequestType0",{enumerable:!0,get:function(){return wa.RequestType0}});Object.defineProperty(Rt,"RequestType1",{enumerable:!0,get:function(){return wa.RequestType1}});Object.defineProperty(Rt,"RequestType2",{enumerable:!0,get:function(){return wa.RequestType2}});Object.defineProperty(Rt,"RequestType3",{enumerable:!0,get:function(){return wa.RequestType3}});Object.defineProperty(Rt,"RequestType4",{enumerable:!0,get:function(){return wa.RequestType4}});Object.defineProperty(Rt,"RequestType5",{enumerable:!0,get:function(){return wa.RequestType5}});Object.defineProperty(Rt,"RequestType6",{enumerable:!0,get:function(){return wa.RequestType6}});Object.defineProperty(Rt,"RequestType7",{enumerable:!0,get:function(){return wa.RequestType7}});Object.defineProperty(Rt,"RequestType8",{enumerable:!0,get:function(){return wa.RequestType8}});Object.defineProperty(Rt,"RequestType9",{enumerable:!0,get:function(){return wa.RequestType9}});Object.defineProperty(Rt,"ResponseError",{enumerable:!0,get:function(){return wa.ResponseError}});Object.defineProperty(Rt,"ErrorCodes",{enumerable:!0,get:function(){return wa.ErrorCodes}});Object.defineProperty(Rt,"NotificationType",{enumerable:!0,get:function(){return wa.NotificationType}});Object.defineProperty(Rt,"NotificationType0",{enumerable:!0,get:function(){return wa.NotificationType0}});Object.defineProperty(Rt,"NotificationType1",{enumerable:!0,get:function(){return wa.NotificationType1}});Object.defineProperty(Rt,"NotificationType2",{enumerable:!0,get:function(){return wa.NotificationType2}});Object.defineProperty(Rt,"NotificationType3",{enumerable:!0,get:function(){return wa.NotificationType3}});Object.defineProperty(Rt,"NotificationType4",{enumerable:!0,get:function(){return wa.NotificationType4}});Object.defineProperty(Rt,"NotificationType5",{enumerable:!0,get:function(){return wa.NotificationType5}});Object.defineProperty(Rt,"NotificationType6",{enumerable:!0,get:function(){return wa.NotificationType6}});Object.defineProperty(Rt,"NotificationType7",{enumerable:!0,get:function(){return wa.NotificationType7}});Object.defineProperty(Rt,"NotificationType8",{enumerable:!0,get:function(){return wa.NotificationType8}});Object.defineProperty(Rt,"NotificationType9",{enumerable:!0,get:function(){return wa.NotificationType9}});Object.defineProperty(Rt,"ParameterStructures",{enumerable:!0,get:function(){return wa.ParameterStructures}});var g7=U9();Object.defineProperty(Rt,"LinkedMap",{enumerable:!0,get:function(){return g7.LinkedMap}});Object.defineProperty(Rt,"LRUCache",{enumerable:!0,get:function(){return g7.LRUCache}});Object.defineProperty(Rt,"Touch",{enumerable:!0,get:function(){return g7.Touch}});var Mut=XCe();Object.defineProperty(Rt,"Disposable",{enumerable:!0,get:function(){return Mut.Disposable}});var fTe=uP();Object.defineProperty(Rt,"Event",{enumerable:!0,get:function(){return fTe.Event}});Object.defineProperty(Rt,"Emitter",{enumerable:!0,get:function(){return fTe.Emitter}});var hTe=Ij();Object.defineProperty(Rt,"CancellationTokenSource",{enumerable:!0,get:function(){return hTe.CancellationTokenSource}});Object.defineProperty(Rt,"CancellationToken",{enumerable:!0,get:function(){return hTe.CancellationToken}});var pTe=ZCe();Object.defineProperty(Rt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return pTe.SharedArraySenderStrategy}});Object.defineProperty(Rt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return pTe.SharedArrayReceiverStrategy}});var v7=tTe();Object.defineProperty(Rt,"MessageReader",{enumerable:!0,get:function(){return v7.MessageReader}});Object.defineProperty(Rt,"AbstractMessageReader",{enumerable:!0,get:function(){return v7.AbstractMessageReader}});Object.defineProperty(Rt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return v7.ReadableStreamMessageReader}});var y7=sTe();Object.defineProperty(Rt,"MessageWriter",{enumerable:!0,get:function(){return y7.MessageWriter}});Object.defineProperty(Rt,"AbstractMessageWriter",{enumerable:!0,get:function(){return y7.AbstractMessageWriter}});Object.defineProperty(Rt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return y7.WriteableStreamMessageWriter}});var Nut=aTe();Object.defineProperty(Rt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Nut.AbstractMessageBuffer}});var Ju=dTe();Object.defineProperty(Rt,"ConnectionStrategy",{enumerable:!0,get:function(){return Ju.ConnectionStrategy}});Object.defineProperty(Rt,"ConnectionOptions",{enumerable:!0,get:function(){return Ju.ConnectionOptions}});Object.defineProperty(Rt,"NullLogger",{enumerable:!0,get:function(){return Ju.NullLogger}});Object.defineProperty(Rt,"createMessageConnection",{enumerable:!0,get:function(){return Ju.createMessageConnection}});Object.defineProperty(Rt,"ProgressToken",{enumerable:!0,get:function(){return Ju.ProgressToken}});Object.defineProperty(Rt,"ProgressType",{enumerable:!0,get:function(){return Ju.ProgressType}});Object.defineProperty(Rt,"Trace",{enumerable:!0,get:function(){return Ju.Trace}});Object.defineProperty(Rt,"TraceValue",{enumerable:!0,get:function(){return Ju.TraceValue}});Object.defineProperty(Rt,"TraceFormat",{enumerable:!0,get:function(){return Ju.TraceFormat}});Object.defineProperty(Rt,"SetTraceNotification",{enumerable:!0,get:function(){return Ju.SetTraceNotification}});Object.defineProperty(Rt,"LogTraceNotification",{enumerable:!0,get:function(){return Ju.LogTraceNotification}});Object.defineProperty(Rt,"ConnectionErrors",{enumerable:!0,get:function(){return Ju.ConnectionErrors}});Object.defineProperty(Rt,"ConnectionError",{enumerable:!0,get:function(){return Ju.ConnectionError}});Object.defineProperty(Rt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.CancellationReceiverStrategy}});Object.defineProperty(Rt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.IdCancellationReceiverStrategy}});Object.defineProperty(Rt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return Ju.RequestCancellationReceiverStrategy}});Object.defineProperty(Rt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ju.CancellationSenderStrategy}});Object.defineProperty(Rt,"CancellationStrategy",{enumerable:!0,get:function(){return Ju.CancellationStrategy}});Object.defineProperty(Rt,"MessageStrategy",{enumerable:!0,get:function(){return Ju.MessageStrategy}});Object.defineProperty(Rt,"TraceValues",{enumerable:!0,get:function(){return Ju.TraceValues}});var Fut=Lut(EC());Rt.RAL=Fut.default});var Xj={};JO(Xj,{AnnotatedTextEdit:()=>bw,ApplyKind:()=>z7,ChangeAnnotation:()=>RC,ChangeAnnotationIdentifier:()=>ud,CodeAction:()=>rY,CodeActionContext:()=>tY,CodeActionKind:()=>eY,CodeActionTag:()=>Gj,CodeActionTriggerKind:()=>G1,CodeDescription:()=>R7,CodeLens:()=>nY,Color:()=>Hj,ColorInformation:()=>S7,ColorPresentation:()=>C7,Command:()=>OD,CompletionItem:()=>H7,CompletionItemKind:()=>M7,CompletionItemLabelDetails:()=>U7,CompletionItemTag:()=>F7,CompletionList:()=>B7,CreateFile:()=>mP,DeleteFile:()=>vP,Diagnostic:()=>B1,DiagnosticRelatedInformation:()=>Bj,DiagnosticSeverity:()=>E7,DiagnosticTag:()=>P7,DocumentHighlight:()=>K7,DocumentHighlightKind:()=>G7,DocumentLink:()=>oY,DocumentSymbol:()=>Z7,DocumentUri:()=>_7,EOL:()=>qut,FoldingRange:()=>D7,FoldingRangeKind:()=>T7,FormattingOptions:()=>iY,Hover:()=>W7,InlayHint:()=>pY,InlayHintKind:()=>Kj,InlayHintLabelPart:()=>Yj,InlineCompletionContext:()=>_Y,InlineCompletionItem:()=>mY,InlineCompletionList:()=>gY,InlineCompletionTriggerKind:()=>vY,InlineValueContext:()=>hY,InlineValueEvaluatableExpression:()=>fY,InlineValueText:()=>lY,InlineValueVariableLookup:()=>dY,InsertReplaceEdit:()=>q7,InsertTextFormat:()=>N7,InsertTextMode:()=>j7,LanguageKind:()=>A7,Location:()=>H1,LocationLink:()=>w7,MarkedString:()=>V1,MarkupContent:()=>yP,MarkupKind:()=>Vj,OptionalVersionedTextDocumentIdentifier:()=>$1,ParameterInformation:()=>$7,Position:()=>cv,Range:()=>jc,RenameFile:()=>gP,SelectedCompletionInfo:()=>yY,SelectionRange:()=>sY,SemanticTokenModifiers:()=>cY,SemanticTokenTypes:()=>aY,SemanticTokens:()=>uY,SignatureInformation:()=>V7,SnippetTextEdit:()=>x7,StringValue:()=>Jj,SymbolInformation:()=>X7,SymbolKind:()=>Y7,SymbolTag:()=>J7,TextDocument:()=>wY,TextDocumentEdit:()=>W1,TextDocumentIdentifier:()=>I7,TextDocumentItem:()=>L7,TextEdit:()=>N_,URI:()=>Uj,VersionedTextDocumentIdentifier:()=>k7,WorkspaceChange:()=>O7,WorkspaceEdit:()=>Wj,WorkspaceFolder:()=>bY,WorkspaceSymbol:()=>Q7,integer:()=>b7,uinteger:()=>U1});var _7,Uj,b7,U1,cv,jc,H1,w7,Hj,S7,C7,T7,D7,Bj,E7,P7,R7,B1,OD,N_,RC,ud,bw,W1,mP,gP,vP,Wj,pP,x7,$j,O7,I7,k7,$1,A7,L7,Vj,yP,M7,N7,F7,q7,j7,z7,U7,H7,B7,V1,W7,$7,V7,G7,K7,Y7,J7,X7,Q7,Z7,eY,G1,tY,Gj,rY,nY,iY,oY,sY,aY,cY,uY,lY,dY,fY,hY,Kj,Yj,pY,Jj,mY,gY,vY,yY,_Y,bY,qut,wY,SY,dt,Qj=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(_7||(_7={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Uj||(Uj={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(b7||(b7={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(U1||(U1={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=U1.MAX_VALUE),i===Number.MAX_VALUE&&(i=U1.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(cv||(cv={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:cv.create(n,i),end:cv.create(o,s)};if(cv.is(n)&&cv.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&cv.is(i.start)&&cv.is(i.end)}r.is=t})(jc||(jc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(H1||(H1={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jc.is(i.targetRange)&&dt.string(i.targetUri)&&jc.is(i.targetSelectionRange)&&(jc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(w7||(w7={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})(Hj||(Hj={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jc.is(i.range)&&Hj.is(i.color)}r.is=t})(S7||(S7={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||N_.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,N_.is))}r.is=t})(C7||(C7={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(T7||(T7={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(D7||(D7={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&H1.is(i.location)&&dt.string(i.message)}r.is=t})(Bj||(Bj={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(E7||(E7={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(P7||(P7={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(R7||(R7={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&jc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,Bj.is))}r.is=t})(B1||(B1={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(OD||(OD={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&jc.is(s.range)}r.is=i})(N_||(N_={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(RC||(RC={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(ud||(ud={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return N_.is(s)&&(RC.is(s.annotationId)||ud.is(s.annotationId))}r.is=i})(bw||(bw={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&$1.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(W1||(W1={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(mP||(mP={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(gP||(gP={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ud.is(i.annotationId))}r.is=t})(vP||(vP={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?mP.is(i)||gP.is(i)||vP.is(i):W1.is(i)))}r.is=e})(Wj||(Wj={}));pP=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=N_.insert(e,t):ud.is(n)?(o=n,i=bw.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=bw.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=N_.replace(e,t):ud.is(n)?(o=n,i=bw.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=bw.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=N_.del(e):ud.is(t)?(i=t,n=bw.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=bw.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&jc.is(n.range)&&Jj.isSnippet(n.snippet)&&(n.annotationId===void 0||RC.is(n.annotationId)||ud.is(n.annotationId))}r.is=e})(x7||(x7={}));$j=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(ud.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},O7=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new $j(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(W1.is(t)){let n=new pP(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new pP(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if($1.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new pP(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new pP(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new $j,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;RC.is(t)||ud.is(t)?i=t:n=t;let o,s;if(i===void 0?o=mP.create(e,n):(s=ud.is(i)?i:this._changeAnnotations.manage(i),o=mP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;RC.is(n)||ud.is(n)?o=n:i=n;let s,a;if(o===void 0?s=gP.create(e,t,i):(a=ud.is(o)?o:this._changeAnnotations.manage(o),s=gP.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;RC.is(t)||ud.is(t)?i=t:n=t;let o,s;if(i===void 0?o=vP.create(e,n):(s=ud.is(i)?i:this._changeAnnotations.manage(i),o=vP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(I7||(I7={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(k7||(k7={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})($1||($1={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(A7||(A7={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(L7||(L7={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(Vj||(Vj={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&Vj.is(n.kind)&&dt.string(n.value)}r.is=e})(yP||(yP={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(M7||(M7={}));(function(r){r.PlainText=1,r.Snippet=2})(N7||(N7={}));(function(r){r.Deprecated=1})(F7||(F7={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&jc.is(i.insert)&&jc.is(i.replace)}r.is=t})(q7||(q7={}));(function(r){r.asIs=1,r.adjustIndentation=2})(j7||(j7={}));(function(r){r.Replace=1,r.Merge=2})(z7||(z7={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})(U7||(U7={}));(function(r){function e(t){return{label:t}}r.create=e})(H7||(H7={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(B7||(B7={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(V1||(V1={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(yP.is(n.contents)||V1.is(n.contents)||dt.typedArray(n.contents,V1.is))&&(t.range===void 0||jc.is(t.range))}r.is=e})(W7||(W7={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})($7||($7={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(V7||(V7={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(G7||(G7={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(K7||(K7={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(Y7||(Y7={}));(function(r){r.Deprecated=1})(J7||(J7={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(X7||(X7={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(Q7||(Q7={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&jc.is(i.range)&&jc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(Z7||(Z7={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(eY||(eY={}));(function(r){r.Invoked=1,r.Automatic=2})(G1||(G1={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,B1.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===G1.Invoked||i.triggerKind===G1.Automatic)}r.is=t})(tY||(tY={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(Gj||(Gj={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):OD.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,B1.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||OD.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||Wj.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,Gj.is))}r.is=t})(rY||(rY={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&jc.is(i.range)&&(dt.undefined(i.command)||OD.is(i.command))}r.is=t})(nY||(nY={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(iY||(iY={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&jc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})(oY||(oY={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&jc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(sY||(sY={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(aY||(aY={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(cY||(cY={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(uY||(uY={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&jc.is(i.range)&&dt.string(i.text)}r.is=t})(lY||(lY={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&jc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(dY||(dY={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&jc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(fY||(fY={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&jc.is(n.stoppedLocation)}r.is=t})(hY||(hY={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Kj||(Kj={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||yP.is(i.tooltip))&&(i.location===void 0||H1.is(i.location))&&(i.command===void 0||OD.is(i.command))}r.is=t})(Yj||(Yj={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&cv.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,Yj.is))&&(i.kind===void 0||Kj.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,N_.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||yP.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(pY||(pY={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(Jj||(Jj={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(mY||(mY={}));(function(r){function e(t){return{items:t}}r.create=e})(gY||(gY={}));(function(r){r.Invoked=1,r.Automatic=2})(vY||(vY={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(yY||(yY={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(_Y||(_Y={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&Uj.is(n.uri)&&dt.string(n.name)}r.is=e})(bY||(bY={}));qut=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new SY(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),m=o.offsetAt(d.range.end);if(m<=u)a=a.substring(0,f)+d.newText+a.substring(m,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(wY||(wY={}));SY=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return cv.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return cv.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(m){return typeof m<"u"}r.defined=t;function n(m){return typeof m>"u"}r.undefined=n;function i(m){return m===!0||m===!1}r.boolean=i;function o(m){return e.call(m)==="[object String]"}r.string=o;function s(m){return e.call(m)==="[object Number]"}r.number=s;function a(m,_,D){return e.call(m)==="[object Number]"&&_<=m&&m<=D}r.numberRange=a;function c(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}r.integer=c;function u(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}r.uinteger=u;function l(m){return e.call(m)==="[object Function]"}r.func=l;function d(m){return m!==null&&typeof m=="object"}r.objectLiteral=d;function f(m,_){return Array.isArray(m)&&m.every(_)}r.typedArray=f})(dt||(dt={}))});var qa=E(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.ProtocolNotificationType=Xp.ProtocolNotificationType0=Xp.ProtocolRequestType=Xp.ProtocolRequestType0=Xp.RegistrationType=Xp.MessageDirection=void 0;var _P=Xu(),mTe;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(mTe||(Xp.MessageDirection=mTe={}));var CY=class{____;method;constructor(e){this.method=e}};Xp.RegistrationType=CY;var TY=class extends _P.RequestType0{__;___;____;_pr;constructor(e){super(e)}};Xp.ProtocolRequestType0=TY;var DY=class extends _P.RequestType{__;___;____;_pr;constructor(e){super(e,_P.ParameterStructures.byName)}};Xp.ProtocolRequestType=DY;var EY=class extends _P.NotificationType0{___;____;constructor(e){super(e)}};Xp.ProtocolNotificationType0=EY;var PY=class extends _P.NotificationType{___;____;constructor(e){super(e,_P.ParameterStructures.byName)}};Xp.ProtocolNotificationType=PY});var Zj=E(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});_y.boolean=jut;_y.string=gTe;_y.number=zut;_y.error=Uut;_y.func=Hut;_y.array=vTe;_y.stringArray=But;_y.typedArray=Wut;_y.objectLiteral=$ut;function jut(r){return r===!0||r===!1}function gTe(r){return typeof r=="string"||r instanceof String}function zut(r){return typeof r=="number"||r instanceof Number}function Uut(r){return r instanceof Error}function Hut(r){return typeof r=="function"}function vTe(r){return Array.isArray(r)}function But(r){return vTe(r)&&r.every(e=>gTe(e))}function Wut(r,e){return Array.isArray(r)&&r.every(e)}function $ut(r){return r!==null&&typeof r=="object"}});var bTe=E(ez=>{"use strict";Object.defineProperty(ez,"__esModule",{value:!0});ez.ImplementationRequest=void 0;var yTe=qa(),_Te;(function(r){r.method="textDocument/implementation",r.messageDirection=yTe.MessageDirection.clientToServer,r.type=new yTe.ProtocolRequestType(r.method)})(_Te||(ez.ImplementationRequest=_Te={}))});var CTe=E(tz=>{"use strict";Object.defineProperty(tz,"__esModule",{value:!0});tz.TypeDefinitionRequest=void 0;var wTe=qa(),STe;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=wTe.MessageDirection.clientToServer,r.type=new wTe.ProtocolRequestType(r.method)})(STe||(tz.TypeDefinitionRequest=STe={}))});var ETe=E(bP=>{"use strict";Object.defineProperty(bP,"__esModule",{value:!0});bP.DidChangeWorkspaceFoldersNotification=bP.WorkspaceFoldersRequest=void 0;var rz=qa(),TTe;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=rz.MessageDirection.serverToClient,r.type=new rz.ProtocolRequestType0(r.method)})(TTe||(bP.WorkspaceFoldersRequest=TTe={}));var DTe;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=rz.MessageDirection.clientToServer,r.type=new rz.ProtocolNotificationType(r.method)})(DTe||(bP.DidChangeWorkspaceFoldersNotification=DTe={}))});var xTe=E(nz=>{"use strict";Object.defineProperty(nz,"__esModule",{value:!0});nz.ConfigurationRequest=void 0;var PTe=qa(),RTe;(function(r){r.method="workspace/configuration",r.messageDirection=PTe.MessageDirection.serverToClient,r.type=new PTe.ProtocolRequestType(r.method)})(RTe||(nz.ConfigurationRequest=RTe={}))});var kTe=E(wP=>{"use strict";Object.defineProperty(wP,"__esModule",{value:!0});wP.ColorPresentationRequest=wP.DocumentColorRequest=void 0;var iz=qa(),OTe;(function(r){r.method="textDocument/documentColor",r.messageDirection=iz.MessageDirection.clientToServer,r.type=new iz.ProtocolRequestType(r.method)})(OTe||(wP.DocumentColorRequest=OTe={}));var ITe;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=iz.MessageDirection.clientToServer,r.type=new iz.ProtocolRequestType(r.method)})(ITe||(wP.ColorPresentationRequest=ITe={}))});var MTe=E(SP=>{"use strict";Object.defineProperty(SP,"__esModule",{value:!0});SP.FoldingRangeRefreshRequest=SP.FoldingRangeRequest=void 0;var oz=qa(),ATe;(function(r){r.method="textDocument/foldingRange",r.messageDirection=oz.MessageDirection.clientToServer,r.type=new oz.ProtocolRequestType(r.method)})(ATe||(SP.FoldingRangeRequest=ATe={}));var LTe;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=oz.MessageDirection.serverToClient,r.type=new oz.ProtocolRequestType0(r.method)})(LTe||(SP.FoldingRangeRefreshRequest=LTe={}))});var qTe=E(sz=>{"use strict";Object.defineProperty(sz,"__esModule",{value:!0});sz.DeclarationRequest=void 0;var NTe=qa(),FTe;(function(r){r.method="textDocument/declaration",r.messageDirection=NTe.MessageDirection.clientToServer,r.type=new NTe.ProtocolRequestType(r.method)})(FTe||(sz.DeclarationRequest=FTe={}))});var UTe=E(az=>{"use strict";Object.defineProperty(az,"__esModule",{value:!0});az.SelectionRangeRequest=void 0;var jTe=qa(),zTe;(function(r){r.method="textDocument/selectionRange",r.messageDirection=jTe.MessageDirection.clientToServer,r.type=new jTe.ProtocolRequestType(r.method)})(zTe||(az.SelectionRangeRequest=zTe={}))});var $Te=E(xC=>{"use strict";Object.defineProperty(xC,"__esModule",{value:!0});xC.WorkDoneProgressCancelNotification=xC.WorkDoneProgressCreateRequest=xC.WorkDoneProgress=void 0;var Vut=Xu(),cz=qa(),HTe;(function(r){r.type=new Vut.ProgressType;function e(t){return t===r.type}r.is=e})(HTe||(xC.WorkDoneProgress=HTe={}));var BTe;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=cz.MessageDirection.serverToClient,r.type=new cz.ProtocolRequestType(r.method)})(BTe||(xC.WorkDoneProgressCreateRequest=BTe={}));var WTe;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=cz.MessageDirection.clientToServer,r.type=new cz.ProtocolNotificationType(r.method)})(WTe||(xC.WorkDoneProgressCancelNotification=WTe={}))});var YTe=E(OC=>{"use strict";Object.defineProperty(OC,"__esModule",{value:!0});OC.CallHierarchyOutgoingCallsRequest=OC.CallHierarchyIncomingCallsRequest=OC.CallHierarchyPrepareRequest=void 0;var CP=qa(),VTe;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=CP.MessageDirection.clientToServer,r.type=new CP.ProtocolRequestType(r.method)})(VTe||(OC.CallHierarchyPrepareRequest=VTe={}));var GTe;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=CP.MessageDirection.clientToServer,r.type=new CP.ProtocolRequestType(r.method)})(GTe||(OC.CallHierarchyIncomingCallsRequest=GTe={}));var KTe;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=CP.MessageDirection.clientToServer,r.type=new CP.ProtocolRequestType(r.method)})(KTe||(OC.CallHierarchyOutgoingCallsRequest=KTe={}))});var tDe=E(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.SemanticTokensRefreshRequest=Qp.SemanticTokensRangeRequest=Qp.SemanticTokensDeltaRequest=Qp.SemanticTokensRequest=Qp.SemanticTokensRegistrationType=Qp.TokenFormat=void 0;var ww=qa(),JTe;(function(r){r.Relative="relative"})(JTe||(Qp.TokenFormat=JTe={}));var K1;(function(r){r.method="textDocument/semanticTokens",r.type=new ww.RegistrationType(r.method)})(K1||(Qp.SemanticTokensRegistrationType=K1={}));var XTe;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=ww.MessageDirection.clientToServer,r.type=new ww.ProtocolRequestType(r.method),r.registrationMethod=K1.method})(XTe||(Qp.SemanticTokensRequest=XTe={}));var QTe;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=ww.MessageDirection.clientToServer,r.type=new ww.ProtocolRequestType(r.method),r.registrationMethod=K1.method})(QTe||(Qp.SemanticTokensDeltaRequest=QTe={}));var ZTe;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=ww.MessageDirection.clientToServer,r.type=new ww.ProtocolRequestType(r.method),r.registrationMethod=K1.method})(ZTe||(Qp.SemanticTokensRangeRequest=ZTe={}));var eDe;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=ww.MessageDirection.serverToClient,r.type=new ww.ProtocolRequestType0(r.method)})(eDe||(Qp.SemanticTokensRefreshRequest=eDe={}))});var iDe=E(uz=>{"use strict";Object.defineProperty(uz,"__esModule",{value:!0});uz.ShowDocumentRequest=void 0;var rDe=qa(),nDe;(function(r){r.method="window/showDocument",r.messageDirection=rDe.MessageDirection.serverToClient,r.type=new rDe.ProtocolRequestType(r.method)})(nDe||(uz.ShowDocumentRequest=nDe={}))});var aDe=E(lz=>{"use strict";Object.defineProperty(lz,"__esModule",{value:!0});lz.LinkedEditingRangeRequest=void 0;var oDe=qa(),sDe;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=oDe.MessageDirection.clientToServer,r.type=new oDe.ProtocolRequestType(r.method)})(sDe||(lz.LinkedEditingRangeRequest=sDe={}))});var mDe=E($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.WillDeleteFilesRequest=$f.DidDeleteFilesNotification=$f.DidRenameFilesNotification=$f.WillRenameFilesRequest=$f.DidCreateFilesNotification=$f.WillCreateFilesRequest=$f.FileOperationPatternKind=void 0;var uv=qa(),cDe;(function(r){r.file="file",r.folder="folder"})(cDe||($f.FileOperationPatternKind=cDe={}));var uDe;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolRequestType(r.method)})(uDe||($f.WillCreateFilesRequest=uDe={}));var lDe;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolNotificationType(r.method)})(lDe||($f.DidCreateFilesNotification=lDe={}));var dDe;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolRequestType(r.method)})(dDe||($f.WillRenameFilesRequest=dDe={}));var fDe;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolNotificationType(r.method)})(fDe||($f.DidRenameFilesNotification=fDe={}));var hDe;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolNotificationType(r.method)})(hDe||($f.DidDeleteFilesNotification=hDe={}));var pDe;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=uv.MessageDirection.clientToServer,r.type=new uv.ProtocolRequestType(r.method)})(pDe||($f.WillDeleteFilesRequest=pDe={}))});var bDe=E(IC=>{"use strict";Object.defineProperty(IC,"__esModule",{value:!0});IC.MonikerRequest=IC.MonikerKind=IC.UniquenessLevel=void 0;var gDe=qa(),vDe;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(vDe||(IC.UniquenessLevel=vDe={}));var yDe;(function(r){r.$import="import",r.$export="export",r.local="local"})(yDe||(IC.MonikerKind=yDe={}));var _De;(function(r){r.method="textDocument/moniker",r.messageDirection=gDe.MessageDirection.clientToServer,r.type=new gDe.ProtocolRequestType(r.method)})(_De||(IC.MonikerRequest=_De={}))});var TDe=E(kC=>{"use strict";Object.defineProperty(kC,"__esModule",{value:!0});kC.TypeHierarchySubtypesRequest=kC.TypeHierarchySupertypesRequest=kC.TypeHierarchyPrepareRequest=void 0;var TP=qa(),wDe;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=TP.MessageDirection.clientToServer,r.type=new TP.ProtocolRequestType(r.method)})(wDe||(kC.TypeHierarchyPrepareRequest=wDe={}));var SDe;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=TP.MessageDirection.clientToServer,r.type=new TP.ProtocolRequestType(r.method)})(SDe||(kC.TypeHierarchySupertypesRequest=SDe={}));var CDe;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=TP.MessageDirection.clientToServer,r.type=new TP.ProtocolRequestType(r.method)})(CDe||(kC.TypeHierarchySubtypesRequest=CDe={}))});var PDe=E(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});DP.InlineValueRefreshRequest=DP.InlineValueRequest=void 0;var dz=qa(),DDe;(function(r){r.method="textDocument/inlineValue",r.messageDirection=dz.MessageDirection.clientToServer,r.type=new dz.ProtocolRequestType(r.method)})(DDe||(DP.InlineValueRequest=DDe={}));var EDe;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=dz.MessageDirection.serverToClient,r.type=new dz.ProtocolRequestType0(r.method)})(EDe||(DP.InlineValueRefreshRequest=EDe={}))});var IDe=E(AC=>{"use strict";Object.defineProperty(AC,"__esModule",{value:!0});AC.InlayHintRefreshRequest=AC.InlayHintResolveRequest=AC.InlayHintRequest=void 0;var EP=qa(),RDe;(function(r){r.method="textDocument/inlayHint",r.messageDirection=EP.MessageDirection.clientToServer,r.type=new EP.ProtocolRequestType(r.method)})(RDe||(AC.InlayHintRequest=RDe={}));var xDe;(function(r){r.method="inlayHint/resolve",r.messageDirection=EP.MessageDirection.clientToServer,r.type=new EP.ProtocolRequestType(r.method)})(xDe||(AC.InlayHintResolveRequest=xDe={}));var ODe;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=EP.MessageDirection.serverToClient,r.type=new EP.ProtocolRequestType0(r.method)})(ODe||(AC.InlayHintRefreshRequest=ODe={}))});var qDe=E(ld=>{"use strict";var Gut=ld&&ld.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kut=ld&&ld.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yut=ld&&ld.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Gut(t,e,n[i]);return Kut(t,e),t}}();Object.defineProperty(ld,"__esModule",{value:!0});ld.DiagnosticRefreshRequest=ld.WorkspaceDiagnosticRequest=ld.DocumentDiagnosticRequest=ld.DocumentDiagnosticReportKind=ld.DiagnosticServerCancellationData=void 0;var FDe=Xu(),Jut=Yut(Zj()),PP=qa(),kDe;(function(r){function e(t){let n=t;return n&&Jut.boolean(n.retriggerRequest)}r.is=e})(kDe||(ld.DiagnosticServerCancellationData=kDe={}));var ADe;(function(r){r.Full="full",r.Unchanged="unchanged"})(ADe||(ld.DocumentDiagnosticReportKind=ADe={}));var LDe;(function(r){r.method="textDocument/diagnostic",r.messageDirection=PP.MessageDirection.clientToServer,r.type=new PP.ProtocolRequestType(r.method),r.partialResult=new FDe.ProgressType})(LDe||(ld.DocumentDiagnosticRequest=LDe={}));var MDe;(function(r){r.method="workspace/diagnostic",r.messageDirection=PP.MessageDirection.clientToServer,r.type=new PP.ProtocolRequestType(r.method),r.partialResult=new FDe.ProgressType})(MDe||(ld.WorkspaceDiagnosticRequest=MDe={}));var NDe;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=PP.MessageDirection.serverToClient,r.type=new PP.ProtocolRequestType0(r.method)})(NDe||(ld.DiagnosticRefreshRequest=NDe={}))});var $De=E(Zs=>{"use strict";var Xut=Zs&&Zs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qut=Zs&&Zs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zut=Zs&&Zs.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Xut(t,e,n[i]);return Qut(t,e),t}}();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.DidCloseNotebookDocumentNotification=Zs.DidSaveNotebookDocumentNotification=Zs.DidChangeNotebookDocumentNotification=Zs.NotebookCellArrayChange=Zs.DidOpenNotebookDocumentNotification=Zs.NotebookDocumentSyncRegistrationType=Zs.NotebookDocument=Zs.NotebookCell=Zs.ExecutionSummary=Zs.NotebookCellKind=void 0;var Y1=(Qj(),WS(Xj)),by=Zut(Zj()),F_=qa(),RY;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(RY||(Zs.NotebookCellKind=RY={}));var xY;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return by.objectLiteral(o)&&Y1.uinteger.is(o.executionOrder)&&(o.success===void 0||by.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(xY||(Zs.ExecutionSummary=xY={}));var fz;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return by.objectLiteral(s)&&RY.is(s.kind)&&Y1.DocumentUri.is(s.document)&&(s.metadata===void 0||by.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!xY.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(by.objectLiteral(o)&&by.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(fz||(Zs.NotebookCell=fz={}));var jDe;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return by.objectLiteral(i)&&by.string(i.uri)&&Y1.integer.is(i.version)&&by.typedArray(i.cells,fz.is)}r.is=t})(jDe||(Zs.NotebookDocument=jDe={}));var RP;(function(r){r.method="notebookDocument/sync",r.messageDirection=F_.MessageDirection.clientToServer,r.type=new F_.RegistrationType(r.method)})(RP||(Zs.NotebookDocumentSyncRegistrationType=RP={}));var zDe;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=F_.MessageDirection.clientToServer,r.type=new F_.ProtocolNotificationType(r.method),r.registrationMethod=RP.method})(zDe||(Zs.DidOpenNotebookDocumentNotification=zDe={}));var UDe;(function(r){function e(n){let i=n;return by.objectLiteral(i)&&Y1.uinteger.is(i.start)&&Y1.uinteger.is(i.deleteCount)&&(i.cells===void 0||by.typedArray(i.cells,fz.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(UDe||(Zs.NotebookCellArrayChange=UDe={}));var HDe;(function(r){r.method="notebookDocument/didChange",r.messageDirection=F_.MessageDirection.clientToServer,r.type=new F_.ProtocolNotificationType(r.method),r.registrationMethod=RP.method})(HDe||(Zs.DidChangeNotebookDocumentNotification=HDe={}));var BDe;(function(r){r.method="notebookDocument/didSave",r.messageDirection=F_.MessageDirection.clientToServer,r.type=new F_.ProtocolNotificationType(r.method),r.registrationMethod=RP.method})(BDe||(Zs.DidSaveNotebookDocumentNotification=BDe={}));var WDe;(function(r){r.method="notebookDocument/didClose",r.messageDirection=F_.MessageDirection.clientToServer,r.type=new F_.ProtocolNotificationType(r.method),r.registrationMethod=RP.method})(WDe||(Zs.DidCloseNotebookDocumentNotification=WDe={}))});var KDe=E(hz=>{"use strict";Object.defineProperty(hz,"__esModule",{value:!0});hz.InlineCompletionRequest=void 0;var VDe=qa(),GDe;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=VDe.MessageDirection.clientToServer,r.type=new VDe.ProtocolRequestType(r.method)})(GDe||(hz.InlineCompletionRequest=GDe={}))});var XDe=E(xP=>{"use strict";Object.defineProperty(xP,"__esModule",{value:!0});xP.TextDocumentContentRefreshRequest=xP.TextDocumentContentRequest=void 0;var pz=qa(),YDe;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=pz.MessageDirection.clientToServer,r.type=new pz.ProtocolRequestType(r.method)})(YDe||(xP.TextDocumentContentRequest=YDe={}));var JDe;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=pz.MessageDirection.serverToClient,r.type=new pz.ProtocolRequestType(r.method)})(JDe||(xP.TextDocumentContentRefreshRequest=JDe={}))});var dEe=E(Pe=>{"use strict";var elt=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tlt=Pe&&Pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rlt=Pe&&Pe.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&elt(t,e,n[i]);return tlt(t,e),t}}();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.CodeActionRequest=Pe.DocumentSymbolRequest=Pe.DocumentHighlightRequest=Pe.ReferencesRequest=Pe.DefinitionRequest=Pe.SignatureHelpRequest=Pe.SignatureHelpTriggerKind=Pe.HoverRequest=Pe.CompletionResolveRequest=Pe.CompletionRequest=Pe.CompletionTriggerKind=Pe.PublishDiagnosticsNotification=Pe.WatchKind=Pe.GlobPattern=Pe.RelativePattern=Pe.FileChangeType=Pe.DidChangeWatchedFilesNotification=Pe.WillSaveTextDocumentWaitUntilRequest=Pe.WillSaveTextDocumentNotification=Pe.TextDocumentSaveReason=Pe.DidSaveTextDocumentNotification=Pe.DidCloseTextDocumentNotification=Pe.DidChangeTextDocumentNotification=Pe.TextDocumentContentChangeEvent=Pe.DidOpenTextDocumentNotification=Pe.TextDocumentSyncKind=Pe.TelemetryEventNotification=Pe.LogMessageNotification=Pe.ShowMessageRequest=Pe.ShowMessageNotification=Pe.MessageType=Pe.DidChangeConfigurationNotification=Pe.ExitNotification=Pe.ShutdownRequest=Pe.InitializedNotification=Pe.InitializeErrorCodes=Pe.InitializeRequest=Pe.WorkDoneProgressOptions=Pe.TextDocumentRegistrationOptions=Pe.StaticRegistrationOptions=Pe.PositionEncodingKind=Pe.RegularExpressionEngineKind=Pe.FailureHandlingKind=Pe.ResourceOperationKind=Pe.UnregistrationRequest=Pe.RegistrationRequest=Pe.DocumentSelector=Pe.NotebookCellTextDocumentFilter=Pe.NotebookDocumentFilter=Pe.TextDocumentFilter=void 0;Pe.UniquenessLevel=Pe.WillDeleteFilesRequest=Pe.DidDeleteFilesNotification=Pe.WillRenameFilesRequest=Pe.DidRenameFilesNotification=Pe.WillCreateFilesRequest=Pe.DidCreateFilesNotification=Pe.FileOperationPatternKind=Pe.LinkedEditingRangeRequest=Pe.ShowDocumentRequest=Pe.SemanticTokensRegistrationType=Pe.SemanticTokensRefreshRequest=Pe.SemanticTokensRangeRequest=Pe.SemanticTokensDeltaRequest=Pe.SemanticTokensRequest=Pe.TokenFormat=Pe.CallHierarchyPrepareRequest=Pe.CallHierarchyOutgoingCallsRequest=Pe.CallHierarchyIncomingCallsRequest=Pe.WorkDoneProgressCancelNotification=Pe.WorkDoneProgressCreateRequest=Pe.WorkDoneProgress=Pe.SelectionRangeRequest=Pe.DeclarationRequest=Pe.FoldingRangeRefreshRequest=Pe.FoldingRangeRequest=Pe.ColorPresentationRequest=Pe.DocumentColorRequest=Pe.ConfigurationRequest=Pe.DidChangeWorkspaceFoldersNotification=Pe.WorkspaceFoldersRequest=Pe.TypeDefinitionRequest=Pe.ImplementationRequest=Pe.ApplyWorkspaceEditRequest=Pe.ExecuteCommandRequest=Pe.PrepareRenameRequest=Pe.RenameRequest=Pe.PrepareSupportDefaultBehavior=Pe.DocumentOnTypeFormattingRequest=Pe.DocumentRangesFormattingRequest=Pe.DocumentRangeFormattingRequest=Pe.DocumentFormattingRequest=Pe.DocumentLinkResolveRequest=Pe.DocumentLinkRequest=Pe.CodeLensRefreshRequest=Pe.CodeLensResolveRequest=Pe.CodeLensRequest=Pe.WorkspaceSymbolResolveRequest=Pe.WorkspaceSymbolRequest=Pe.CodeActionResolveRequest=void 0;Pe.TextDocumentContentRefreshRequest=Pe.TextDocumentContentRequest=Pe.InlineCompletionRequest=Pe.DidCloseNotebookDocumentNotification=Pe.DidSaveNotebookDocumentNotification=Pe.DidChangeNotebookDocumentNotification=Pe.NotebookCellArrayChange=Pe.DidOpenNotebookDocumentNotification=Pe.NotebookDocumentSyncRegistrationType=Pe.NotebookDocument=Pe.NotebookCell=Pe.ExecutionSummary=Pe.NotebookCellKind=Pe.DiagnosticRefreshRequest=Pe.WorkspaceDiagnosticRequest=Pe.DocumentDiagnosticRequest=Pe.DocumentDiagnosticReportKind=Pe.DiagnosticServerCancellationData=Pe.InlayHintRefreshRequest=Pe.InlayHintResolveRequest=Pe.InlayHintRequest=Pe.InlineValueRefreshRequest=Pe.InlineValueRequest=Pe.TypeHierarchySupertypesRequest=Pe.TypeHierarchySubtypesRequest=Pe.TypeHierarchyPrepareRequest=Pe.MonikerRequest=Pe.MonikerKind=void 0;var Cr=qa(),QDe=(Qj(),WS(Xj)),dd=rlt(Zj()),nlt=bTe();Object.defineProperty(Pe,"ImplementationRequest",{enumerable:!0,get:function(){return nlt.ImplementationRequest}});var ilt=CTe();Object.defineProperty(Pe,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ilt.TypeDefinitionRequest}});var sEe=ETe();Object.defineProperty(Pe,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return sEe.WorkspaceFoldersRequest}});Object.defineProperty(Pe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return sEe.DidChangeWorkspaceFoldersNotification}});var olt=xTe();Object.defineProperty(Pe,"ConfigurationRequest",{enumerable:!0,get:function(){return olt.ConfigurationRequest}});var aEe=kTe();Object.defineProperty(Pe,"DocumentColorRequest",{enumerable:!0,get:function(){return aEe.DocumentColorRequest}});Object.defineProperty(Pe,"ColorPresentationRequest",{enumerable:!0,get:function(){return aEe.ColorPresentationRequest}});var cEe=MTe();Object.defineProperty(Pe,"FoldingRangeRequest",{enumerable:!0,get:function(){return cEe.FoldingRangeRequest}});Object.defineProperty(Pe,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return cEe.FoldingRangeRefreshRequest}});var slt=qTe();Object.defineProperty(Pe,"DeclarationRequest",{enumerable:!0,get:function(){return slt.DeclarationRequest}});var alt=UTe();Object.defineProperty(Pe,"SelectionRangeRequest",{enumerable:!0,get:function(){return alt.SelectionRangeRequest}});var NY=$Te();Object.defineProperty(Pe,"WorkDoneProgress",{enumerable:!0,get:function(){return NY.WorkDoneProgress}});Object.defineProperty(Pe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return NY.WorkDoneProgressCreateRequest}});Object.defineProperty(Pe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return NY.WorkDoneProgressCancelNotification}});var FY=YTe();Object.defineProperty(Pe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return FY.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return FY.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Pe,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return FY.CallHierarchyPrepareRequest}});var OP=tDe();Object.defineProperty(Pe,"TokenFormat",{enumerable:!0,get:function(){return OP.TokenFormat}});Object.defineProperty(Pe,"SemanticTokensRequest",{enumerable:!0,get:function(){return OP.SemanticTokensRequest}});Object.defineProperty(Pe,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return OP.SemanticTokensDeltaRequest}});Object.defineProperty(Pe,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return OP.SemanticTokensRangeRequest}});Object.defineProperty(Pe,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return OP.SemanticTokensRefreshRequest}});Object.defineProperty(Pe,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return OP.SemanticTokensRegistrationType}});var clt=iDe();Object.defineProperty(Pe,"ShowDocumentRequest",{enumerable:!0,get:function(){return clt.ShowDocumentRequest}});var ult=aDe();Object.defineProperty(Pe,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ult.LinkedEditingRangeRequest}});var ID=mDe();Object.defineProperty(Pe,"FileOperationPatternKind",{enumerable:!0,get:function(){return ID.FileOperationPatternKind}});Object.defineProperty(Pe,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ID.DidCreateFilesNotification}});Object.defineProperty(Pe,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ID.WillCreateFilesRequest}});Object.defineProperty(Pe,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ID.DidRenameFilesNotification}});Object.defineProperty(Pe,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ID.WillRenameFilesRequest}});Object.defineProperty(Pe,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ID.DidDeleteFilesNotification}});Object.defineProperty(Pe,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ID.WillDeleteFilesRequest}});var qY=bDe();Object.defineProperty(Pe,"UniquenessLevel",{enumerable:!0,get:function(){return qY.UniquenessLevel}});Object.defineProperty(Pe,"MonikerKind",{enumerable:!0,get:function(){return qY.MonikerKind}});Object.defineProperty(Pe,"MonikerRequest",{enumerable:!0,get:function(){return qY.MonikerRequest}});var jY=TDe();Object.defineProperty(Pe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return jY.TypeHierarchyPrepareRequest}});Object.defineProperty(Pe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return jY.TypeHierarchySubtypesRequest}});Object.defineProperty(Pe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return jY.TypeHierarchySupertypesRequest}});var uEe=PDe();Object.defineProperty(Pe,"InlineValueRequest",{enumerable:!0,get:function(){return uEe.InlineValueRequest}});Object.defineProperty(Pe,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return uEe.InlineValueRefreshRequest}});var zY=IDe();Object.defineProperty(Pe,"InlayHintRequest",{enumerable:!0,get:function(){return zY.InlayHintRequest}});Object.defineProperty(Pe,"InlayHintResolveRequest",{enumerable:!0,get:function(){return zY.InlayHintResolveRequest}});Object.defineProperty(Pe,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return zY.InlayHintRefreshRequest}});var J1=qDe();Object.defineProperty(Pe,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return J1.DiagnosticServerCancellationData}});Object.defineProperty(Pe,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return J1.DocumentDiagnosticReportKind}});Object.defineProperty(Pe,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return J1.DocumentDiagnosticRequest}});Object.defineProperty(Pe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return J1.WorkspaceDiagnosticRequest}});Object.defineProperty(Pe,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return J1.DiagnosticRefreshRequest}});var q_=$De();Object.defineProperty(Pe,"NotebookCellKind",{enumerable:!0,get:function(){return q_.NotebookCellKind}});Object.defineProperty(Pe,"ExecutionSummary",{enumerable:!0,get:function(){return q_.ExecutionSummary}});Object.defineProperty(Pe,"NotebookCell",{enumerable:!0,get:function(){return q_.NotebookCell}});Object.defineProperty(Pe,"NotebookDocument",{enumerable:!0,get:function(){return q_.NotebookDocument}});Object.defineProperty(Pe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return q_.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Pe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return q_.DidOpenNotebookDocumentNotification}});Object.defineProperty(Pe,"NotebookCellArrayChange",{enumerable:!0,get:function(){return q_.NotebookCellArrayChange}});Object.defineProperty(Pe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return q_.DidChangeNotebookDocumentNotification}});Object.defineProperty(Pe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return q_.DidSaveNotebookDocumentNotification}});Object.defineProperty(Pe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return q_.DidCloseNotebookDocumentNotification}});var llt=KDe();Object.defineProperty(Pe,"InlineCompletionRequest",{enumerable:!0,get:function(){return llt.InlineCompletionRequest}});var lEe=XDe();Object.defineProperty(Pe,"TextDocumentContentRequest",{enumerable:!0,get:function(){return lEe.TextDocumentContentRequest}});Object.defineProperty(Pe,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return lEe.TextDocumentContentRefreshRequest}});var OY;(function(r){function e(t){let n=t;return dd.string(n)||dd.string(n.language)||dd.string(n.scheme)||MY.is(n.pattern)}r.is=e})(OY||(Pe.TextDocumentFilter=OY={}));var IY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(dd.string(n.notebookType)||dd.string(n.scheme)||dd.string(n.pattern))}r.is=e})(IY||(Pe.NotebookDocumentFilter=IY={}));var kY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(dd.string(n.notebook)||IY.is(n.notebook))&&(n.language===void 0||dd.string(n.language))}r.is=e})(kY||(Pe.NotebookCellTextDocumentFilter=kY={}));var AY;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!dd.string(n)&&!OY.is(n)&&!kY.is(n))return!1;return!0}r.is=e})(AY||(Pe.DocumentSelector=AY={}));var ZDe;(function(r){r.method="client/registerCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(ZDe||(Pe.RegistrationRequest=ZDe={}));var e0e;(function(r){r.method="client/unregisterCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(e0e||(Pe.UnregistrationRequest=e0e={}));var t0e;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(t0e||(Pe.ResourceOperationKind=t0e={}));var r0e;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(r0e||(Pe.FailureHandlingKind=r0e={}));var n0e;(function(r){r.ES2020="ES2020"})(n0e||(Pe.RegularExpressionEngineKind=n0e={}));var i0e;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(i0e||(Pe.PositionEncodingKind=i0e={}));var o0e;(function(r){function e(t){let n=t;return n&&dd.string(n.id)&&n.id.length>0}r.hasId=e})(o0e||(Pe.StaticRegistrationOptions=o0e={}));var s0e;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||AY.is(n.documentSelector))}r.is=e})(s0e||(Pe.TextDocumentRegistrationOptions=s0e={}));var a0e;(function(r){function e(n){let i=n;return dd.objectLiteral(i)&&(i.workDoneProgress===void 0||dd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&dd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(a0e||(Pe.WorkDoneProgressOptions=a0e={}));var c0e;(function(r){r.method="initialize",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(c0e||(Pe.InitializeRequest=c0e={}));var u0e;(function(r){r.unknownProtocolVersion=1})(u0e||(Pe.InitializeErrorCodes=u0e={}));var l0e;(function(r){r.method="initialized",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(l0e||(Pe.InitializedNotification=l0e={}));var d0e;(function(r){r.method="shutdown",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType0(r.method)})(d0e||(Pe.ShutdownRequest=d0e={}));var f0e;(function(r){r.method="exit",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType0(r.method)})(f0e||(Pe.ExitNotification=f0e={}));var h0e;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(h0e||(Pe.DidChangeConfigurationNotification=h0e={}));var p0e;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(p0e||(Pe.MessageType=p0e={}));var m0e;(function(r){r.method="window/showMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(m0e||(Pe.ShowMessageNotification=m0e={}));var g0e;(function(r){r.method="window/showMessageRequest",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(g0e||(Pe.ShowMessageRequest=g0e={}));var v0e;(function(r){r.method="window/logMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(v0e||(Pe.LogMessageNotification=v0e={}));var y0e;(function(r){r.method="telemetry/event",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(y0e||(Pe.TelemetryEventNotification=y0e={}));var _0e;(function(r){r.None=0,r.Full=1,r.Incremental=2})(_0e||(Pe.TextDocumentSyncKind=_0e={}));var b0e;(function(r){r.method="textDocument/didOpen",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(b0e||(Pe.DidOpenTextDocumentNotification=b0e={}));var w0e;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(w0e||(Pe.TextDocumentContentChangeEvent=w0e={}));var S0e;(function(r){r.method="textDocument/didChange",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(S0e||(Pe.DidChangeTextDocumentNotification=S0e={}));var C0e;(function(r){r.method="textDocument/didClose",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(C0e||(Pe.DidCloseTextDocumentNotification=C0e={}));var T0e;(function(r){r.method="textDocument/didSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(T0e||(Pe.DidSaveTextDocumentNotification=T0e={}));var D0e;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(D0e||(Pe.TextDocumentSaveReason=D0e={}));var E0e;(function(r){r.method="textDocument/willSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(E0e||(Pe.WillSaveTextDocumentNotification=E0e={}));var P0e;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(P0e||(Pe.WillSaveTextDocumentWaitUntilRequest=P0e={}));var R0e;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(R0e||(Pe.DidChangeWatchedFilesNotification=R0e={}));var x0e;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(x0e||(Pe.FileChangeType=x0e={}));var LY;(function(r){function e(t){let n=t;return dd.objectLiteral(n)&&(QDe.URI.is(n.baseUri)||QDe.WorkspaceFolder.is(n.baseUri))&&dd.string(n.pattern)}r.is=e})(LY||(Pe.RelativePattern=LY={}));var MY;(function(r){function e(t){let n=t;return dd.string(n)||LY.is(n)}r.is=e})(MY||(Pe.GlobPattern=MY={}));var O0e;(function(r){r.Create=1,r.Change=2,r.Delete=4})(O0e||(Pe.WatchKind=O0e={}));var I0e;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(I0e||(Pe.PublishDiagnosticsNotification=I0e={}));var k0e;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(k0e||(Pe.CompletionTriggerKind=k0e={}));var A0e;(function(r){r.method="textDocument/completion",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(A0e||(Pe.CompletionRequest=A0e={}));var L0e;(function(r){r.method="completionItem/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(L0e||(Pe.CompletionResolveRequest=L0e={}));var M0e;(function(r){r.method="textDocument/hover",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(M0e||(Pe.HoverRequest=M0e={}));var N0e;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(N0e||(Pe.SignatureHelpTriggerKind=N0e={}));var F0e;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(F0e||(Pe.SignatureHelpRequest=F0e={}));var q0e;(function(r){r.method="textDocument/definition",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(q0e||(Pe.DefinitionRequest=q0e={}));var j0e;(function(r){r.method="textDocument/references",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(j0e||(Pe.ReferencesRequest=j0e={}));var z0e;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(z0e||(Pe.DocumentHighlightRequest=z0e={}));var U0e;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(U0e||(Pe.DocumentSymbolRequest=U0e={}));var H0e;(function(r){r.method="textDocument/codeAction",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(H0e||(Pe.CodeActionRequest=H0e={}));var B0e;(function(r){r.method="codeAction/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(B0e||(Pe.CodeActionResolveRequest=B0e={}));var W0e;(function(r){r.method="workspace/symbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(W0e||(Pe.WorkspaceSymbolRequest=W0e={}));var $0e;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})($0e||(Pe.WorkspaceSymbolResolveRequest=$0e={}));var V0e;(function(r){r.method="textDocument/codeLens",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(V0e||(Pe.CodeLensRequest=V0e={}));var G0e;(function(r){r.method="codeLens/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(G0e||(Pe.CodeLensResolveRequest=G0e={}));var K0e;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType0(r.method)})(K0e||(Pe.CodeLensRefreshRequest=K0e={}));var Y0e;(function(r){r.method="textDocument/documentLink",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(Y0e||(Pe.DocumentLinkRequest=Y0e={}));var J0e;(function(r){r.method="documentLink/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(J0e||(Pe.DocumentLinkResolveRequest=J0e={}));var X0e;(function(r){r.method="textDocument/formatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(X0e||(Pe.DocumentFormattingRequest=X0e={}));var Q0e;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(Q0e||(Pe.DocumentRangeFormattingRequest=Q0e={}));var Z0e;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(Z0e||(Pe.DocumentRangesFormattingRequest=Z0e={}));var eEe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(eEe||(Pe.DocumentOnTypeFormattingRequest=eEe={}));var tEe;(function(r){r.Identifier=1})(tEe||(Pe.PrepareSupportDefaultBehavior=tEe={}));var rEe;(function(r){r.method="textDocument/rename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(rEe||(Pe.RenameRequest=rEe={}));var nEe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(nEe||(Pe.PrepareRenameRequest=nEe={}));var iEe;(function(r){r.method="workspace/executeCommand",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(iEe||(Pe.ExecuteCommandRequest=iEe={}));var oEe;(function(r){r.method="workspace/applyEdit",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType("workspace/applyEdit")})(oEe||(Pe.ApplyWorkspaceEditRequest=oEe={}))});var hEe=E(UY=>{"use strict";Object.defineProperty(UY,"__esModule",{value:!0});UY.createProtocolConnection=dlt;var fEe=Xu();function dlt(r,e,t,n){return fEe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,fEe.createMessageConnection)(r,e,t,n)}});var dn=E(Zp=>{"use strict";var flt=Zp&&Zp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mz=Zp&&Zp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&flt(e,r,t)};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.LSPErrorCodes=Zp.createProtocolConnection=void 0;mz(Xu(),Zp);mz((Qj(),WS(Xj)),Zp);mz(qa(),Zp);mz(dEe(),Zp);var hlt=hEe();Object.defineProperty(Zp,"createProtocolConnection",{enumerable:!0,get:function(){return hlt.createProtocolConnection}});var pEe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(pEe||(Zp.LSPErrorCodes=pEe={}))});var dv=E(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.boolean=plt;lv.string=mEe;lv.number=mlt;lv.error=glt;lv.func=gEe;lv.array=vEe;lv.stringArray=vlt;lv.typedArray=ylt;lv.thenable=yEe;lv.asPromise=_lt;function plt(r){return r===!0||r===!1}function mEe(r){return typeof r=="string"||r instanceof String}function mlt(r){return typeof r=="number"||r instanceof Number}function glt(r){return r instanceof Error}function gEe(r){return typeof r=="function"}function vEe(r){return Array.isArray(r)}function vlt(r){return vEe(r)&&r.every(e=>mEe(e))}function ylt(r,e){return Array.isArray(r)&&r.every(e)}function yEe(r){return r&&gEe(r.then)}function _lt(r){return r instanceof Promise?r:yEe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var gz=E(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});wy.Semaphore=wy.Delayer=void 0;wy.setTestMode=blt;wy.clearTestMode=wlt;wy.map=Slt;wy.mapAsync=Clt;wy.forEach=Tlt;var Q1=dn(),HY=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,Q1.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};wy.Delayer=HY;var BY=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Q1.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};wy.Semaphore=BY;var WY=!1;function blt(){WY=!0}function wlt(){WY=!1}var _Ee=15,X1=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=_Ee){this.yieldAfter=WY===!0?Math.max(e,2):Math.max(e,_Ee),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Slt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new X1(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,Q1.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Clt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new X1(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,Q1.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function Tlt(r,e,t,n){if(r.length===0)return;let i=new X1(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,Q1.RAL)().timer.setImmediate(()=>{a(o(s))})})}});var VY=E(Sw=>{"use strict";var Dlt=Sw&&Sw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Elt=Sw&&Sw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Plt=Sw&&Sw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Dlt(t,e,n[i]);return Elt(t,e),t}}();Object.defineProperty(Sw,"__esModule",{value:!0});var Rlt=Plt(require("vscode")),$Y=class extends Rlt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};Sw.default=$Y});var KY=E(Cw=>{"use strict";var xlt=Cw&&Cw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Olt=Cw&&Cw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ilt=Cw&&Cw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xlt(t,e,n[i]);return Olt(t,e),t}}();Object.defineProperty(Cw,"__esModule",{value:!0});var klt=Ilt(require("vscode")),GY=class extends klt.CodeLens{data;constructor(e){super(e)}};Cw.default=GY});var JY=E(Tw=>{"use strict";var Alt=Tw&&Tw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Llt=Tw&&Tw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mlt=Tw&&Tw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Alt(t,e,n[i]);return Llt(t,e),t}}();Object.defineProperty(Tw,"__esModule",{value:!0});var Nlt=Mlt(require("vscode")),YY=class extends Nlt.DocumentLink{data;constructor(e,t){super(e,t)}};Tw.default=YY});var QY=E(Dw=>{"use strict";var Flt=Dw&&Dw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qlt=Dw&&Dw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jlt=Dw&&Dw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Flt(t,e,n[i]);return qlt(t,e),t}}();Object.defineProperty(Dw,"__esModule",{value:!0});var zlt=jlt(require("vscode")),XY=class extends zlt.CodeAction{data;constructor(e,t){super(e),this.data=t}};Dw.default=XY});var tJ=E(fv=>{"use strict";var Ult=fv&&fv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hlt=fv&&fv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wEe=fv&&fv.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Ult(t,e,n[i]);return Hlt(t,e),t}}();Object.defineProperty(fv,"__esModule",{value:!0});fv.ProtocolDiagnostic=fv.DiagnosticCode=void 0;var Blt=wEe(require("vscode")),ZY=wEe(dv()),bEe;(function(r){function e(t){let n=t;return n!=null&&(ZY.number(n.value)||ZY.string(n.value))&&ZY.string(n.target)}r.is=e})(bEe||(fv.DiagnosticCode=bEe={}));var eJ=class extends Blt.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};fv.ProtocolDiagnostic=eJ});var nJ=E(Ew=>{"use strict";var Wlt=Ew&&Ew.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$lt=Ew&&Ew.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vlt=Ew&&Ew.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Wlt(t,e,n[i]);return $lt(t,e),t}}();Object.defineProperty(Ew,"__esModule",{value:!0});var Glt=Vlt(require("vscode")),rJ=class extends Glt.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Ew.default=rJ});var oJ=E(Pw=>{"use strict";var Klt=Pw&&Pw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ylt=Pw&&Pw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jlt=Pw&&Pw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Klt(t,e,n[i]);return Ylt(t,e),t}}();Object.defineProperty(Pw,"__esModule",{value:!0});var Xlt=Jlt(require("vscode")),iJ=class extends Xlt.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Pw.default=iJ});var aJ=E(Rw=>{"use strict";var Qlt=Rw&&Rw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zlt=Rw&&Rw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),edt=Rw&&Rw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qlt(t,e,n[i]);return Zlt(t,e),t}}();Object.defineProperty(Rw,"__esModule",{value:!0});var vz=edt(require("vscode")),sJ=class extends vz.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof vz.Uri);super(e,t,n,s?i:new vz.Location(i,new vz.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};Rw.default=sJ});var uJ=E(xw=>{"use strict";var tdt=xw&&xw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rdt=xw&&xw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ndt=xw&&xw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&tdt(t,e,n[i]);return rdt(t,e),t}}();Object.defineProperty(xw,"__esModule",{value:!0});var idt=ndt(require("vscode")),cJ=class extends idt.InlayHint{data;constructor(e,t,n){super(e,t,n)}};xw.default=cJ});var DEe=E(Sy=>{"use strict";var odt=Sy&&Sy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sdt=Sy&&Sy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yz=Sy&&Sy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&odt(t,e,n[i]);return sdt(t,e),t}}(),LC=Sy&&Sy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.createConverter=pdt;var cu=yz(require("vscode")),Di=yz(dn()),kD=yz(dv()),SEe=yz(gz()),adt=LC(VY()),cdt=LC(KY()),udt=LC(JY()),CEe=LC(QY()),TEe=tJ(),ldt=LC(nJ()),ddt=LC(oJ()),fdt=LC(aJ()),hdt=LC(uJ()),lJ;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(lJ||(lJ={}));function pdt(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let fe=S;return!!fe.document&&!!fe.contentChanges}function u(S){let fe=S;return!!fe.uri&&!!fe.version}function l(S,fe,Ye){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Tr=fe,Wr=Ye;return{textDocument:{uri:t(Tr),version:Wr},contentChanges:S.contentChanges.map(qn=>{let xi=qn.range;return{range:{start:{line:xi.start.line,character:xi.start.character},end:{line:xi.end.line,character:xi.end.character}},rangeLength:qn.rangeLength,text:qn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,fe=!1){let Ye={textDocument:i(S)};return fe&&(Ye.text=S.getText()),Ye}function m(S){switch(S){case cu.TextDocumentSaveReason.Manual:return Di.TextDocumentSaveReason.Manual;case cu.TextDocumentSaveReason.AfterDelay:return Di.TextDocumentSaveReason.AfterDelay;case cu.TextDocumentSaveReason.FocusOut:return Di.TextDocumentSaveReason.FocusOut}return Di.TextDocumentSaveReason.Manual}function _(S){return{textDocument:i(S.document),reason:m(S.reason)}}function D(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function O(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function M(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function A(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function U(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function ne(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function de(S,fe){return{textDocument:i(S),position:ue(fe)}}function ye(S){switch(S){case cu.CompletionTriggerKind.TriggerCharacter:return Di.CompletionTriggerKind.TriggerCharacter;case cu.CompletionTriggerKind.TriggerForIncompleteCompletions:return Di.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Di.CompletionTriggerKind.Invoked}}function V(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{triggerKind:ye(Ye.triggerKind),triggerCharacter:Ye.triggerCharacter}}}function $(S){switch(S){case cu.SignatureHelpTriggerKind.Invoke:return Di.SignatureHelpTriggerKind.Invoked;case cu.SignatureHelpTriggerKind.TriggerCharacter:return Di.SignatureHelpTriggerKind.TriggerCharacter;case cu.SignatureHelpTriggerKind.ContentChange:return Di.SignatureHelpTriggerKind.ContentChange}}function ee(S){return{label:S.label}}function De(S){return S.map(ee)}function ae(S){return{label:S.label,parameters:De(S.parameters)}}function ce(S){return S.map(ae)}function qe(S){return S===void 0?S:{signatures:ce(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function Ne(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{isRetrigger:Ye.isRetrigger,triggerCharacter:Ye.triggerCharacter,triggerKind:$(Ye.triggerKind),activeSignatureHelp:qe(Ye.activeSignatureHelp)}}}function ue(S){return{line:S.line,character:S.character}}function Ce(S){return S==null?S:{line:S.line>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.line,character:S.character>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.character}}function be(S,fe){return SEe.map(S,Ce,fe)}function xe(S){return S.map(Ce)}function Me(S){return S==null?S:{start:Ce(S.start),end:Ce(S.end)}}function $e(S){return S.map(Me)}function Ct(S){return S==null?S:Di.Location.create(n(S.uri),Me(S.range))}function ze(S){switch(S){case cu.DiagnosticSeverity.Error:return Di.DiagnosticSeverity.Error;case cu.DiagnosticSeverity.Warning:return Di.DiagnosticSeverity.Warning;case cu.DiagnosticSeverity.Information:return Di.DiagnosticSeverity.Information;case cu.DiagnosticSeverity.Hint:return Di.DiagnosticSeverity.Hint}}function st(S){if(!S)return;let fe=[];for(let Ye of S){let Tr=at(Ye);Tr!==void 0&&fe.push(Tr)}return fe.length>0?fe:void 0}function at(S){switch(S){case cu.DiagnosticTag.Unnecessary:return Di.DiagnosticTag.Unnecessary;case cu.DiagnosticTag.Deprecated:return Di.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function fr(S){return S.map(tt)}function Lr(S){if(S!=null)return kD.number(S)||kD.string(S)?S:{value:S.value,target:n(S.target)}}function zr(S){let fe=Di.Diagnostic.create(Me(S.range),S.message),Ye=S instanceof TEe.ProtocolDiagnostic?S:void 0;Ye!==void 0&&Ye.data!==void 0&&(fe.data=Ye.data);let Tr=Lr(S.code);return TEe.DiagnosticCode.is(Tr)?Ye!==void 0&&Ye.hasDiagnosticCode?fe.code=Tr:(fe.code=Tr.value,fe.codeDescription={href:Tr.target}):fe.code=Tr,kD.number(S.severity)&&(fe.severity=ze(S.severity)),Array.isArray(S.tags)&&(fe.tags=st(S.tags)),S.relatedInformation&&(fe.relatedInformation=fr(S.relatedInformation)),S.source&&(fe.source=S.source),fe}function cr(S,fe){return S==null?S:SEe.map(S,zr,fe)}function xt(S){return S==null?S:S.map(zr)}function hr(S,fe){switch(S){case"$string":return fe;case Di.MarkupKind.PlainText:return{kind:S,value:fe};case Di.MarkupKind.Markdown:return{kind:S,value:fe.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Mt(S){switch(S){case cu.CompletionItemTag.Deprecated:return Di.CompletionItemTag.Deprecated}}function on(S){if(S===void 0)return S;let fe=[];for(let Ye of S){let Tr=Mt(Ye);Tr!==void 0&&fe.push(Tr)}return fe}function un(S,fe){return fe!==void 0?fe:S+1}function On(S,fe=!1){let Ye,Tr;kD.string(S.label)?Ye=S.label:(Ye=S.label.label,fe&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Tr={detail:S.label.detail,description:S.label.description}));let Wr={label:Ye};Tr!==void 0&&(Wr.labelDetails=Tr);let Xr=S instanceof adt.default?S:void 0;S.detail&&(Wr.detail=S.detail),S.documentation&&(!Xr||Xr.documentationFormat==="$string"?Wr.documentation=S.documentation:Wr.documentation=hr(Xr.documentationFormat,S.documentation)),S.filterText&&(Wr.filterText=S.filterText),Or(Wr,S),kD.number(S.kind)&&(Wr.kind=un(S.kind,Xr&&Xr.originalItemKind)),S.sortText&&(Wr.sortText=S.sortText),S.additionalTextEdits&&(Wr.additionalTextEdits=ln(S.additionalTextEdits)),S.commitCharacters&&(Wr.commitCharacters=S.commitCharacters.slice()),S.command&&(Wr.command=rr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Wr.preselect=S.preselect);let qn=on(S.tags);if(Xr){if(Xr.data!==void 0&&(Wr.data=Xr.data),Xr.deprecated===!0||Xr.deprecated===!1){if(Xr.deprecated===!0&&qn!==void 0&&qn.length>0){let xi=qn.indexOf(cu.CompletionItemTag.Deprecated);xi!==-1&&qn.splice(xi,1)}Wr.deprecated=Xr.deprecated}Xr.insertTextMode!==void 0&&(Wr.insertTextMode=Xr.insertTextMode)}return qn!==void 0&&qn.length>0&&(Wr.tags=qn),Wr.insertTextMode===void 0&&S.keepWhitespace===!0&&(Wr.insertTextMode=Di.InsertTextMode.adjustIndentation),Wr}function Or(S,fe){let Ye=Di.InsertTextFormat.PlainText,Tr,Wr;fe.textEdit?(Tr=fe.textEdit.newText,Wr=fe.textEdit.range):fe.insertText instanceof cu.SnippetString?(Ye=Di.InsertTextFormat.Snippet,Tr=fe.insertText.value):Tr=fe.insertText,fe.range&&(Wr=fe.range),S.insertTextFormat=Ye,fe.fromEdit&&Tr!==void 0&&Wr!==void 0?S.textEdit=Hn(Tr,Wr):S.insertText=Tr}function Hn(S,fe){return lJ.is(fe)?Di.InsertReplaceEdit.create(S,Me(fe.inserting),Me(fe.replacing)):{newText:S,range:Me(fe)}}function $r(S){return{range:Me(S.range),newText:S.newText}}function ln(S){return S==null?S:S.map($r)}function ii(S){return S<=cu.SymbolKind.TypeParameter?S+1:Di.SymbolKind.Property}function Vr(S){return S}function An(S){return S.map(Vr)}function Ri(S,fe,Ye){return{textDocument:i(S),position:ue(fe),context:{includeDeclaration:Ye.includeDeclaration}}}async function Gr(S,fe){let Ye=Di.CodeAction.create(S.title);if(S instanceof CEe.default&&S.data!==void 0&&(Ye.data=S.data),S.kind!==void 0&&(Ye.kind=oe(S.kind)),S.diagnostics!==void 0&&(Ye.diagnostics=await cr(S.diagnostics,fe)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Ye.command=rr(S.command)),S.isPreferred!==void 0&&(Ye.isPreferred=S.isPreferred),S.disabled!==void 0&&(Ye.disabled={reason:S.disabled.reason}),S.isAI&&(Ye.tags??=[],Ye.tags.push(Di.CodeActionTag.LLMGenerated)),Ye}function Ji(S){let fe=Di.CodeAction.create(S.title);if(S instanceof CEe.default&&S.data!==void 0&&(fe.data=S.data),S.kind!==void 0&&(fe.kind=oe(S.kind)),S.diagnostics!==void 0&&(fe.diagnostics=xt(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(fe.command=rr(S.command)),S.isPreferred!==void 0&&(fe.isPreferred=S.isPreferred),S.disabled!==void 0&&(fe.disabled={reason:S.disabled.reason}),S.isAI&&(fe.tags??=[],fe.tags.push(Di.CodeActionTag.LLMGenerated)),fe}async function oi(S,fe){if(S==null)return S;let Ye;return S.only&&kD.string(S.only.value)&&(Ye=[S.only.value]),Di.CodeActionContext.create(await cr(S.diagnostics,fe),Ye,Oe(S.triggerKind))}function fn(S){if(S==null)return S;let fe;return S.only&&kD.string(S.only.value)&&(fe=[S.only.value]),Di.CodeActionContext.create(xt(S.diagnostics),fe,Oe(S.triggerKind))}function Oe(S){switch(S){case cu.CodeActionTriggerKind.Invoke:return Di.CodeActionTriggerKind.Invoked;case cu.CodeActionTriggerKind.Automatic:return Di.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Di.InlineValueContext.create(S.frameId,Me(S.stoppedLocation))}function _e(S,fe,Ye){return{textDocument:i(S),position:Ce(fe),context:Je(Ye)}}function Je(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Yt(S.selectedCompletionInfo)}}function ft(S){switch(S){case cu.InlineCompletionTriggerKind.Invoke:return Di.InlineCompletionTriggerKind.Invoked;case cu.InlineCompletionTriggerKind.Automatic:return Di.InlineCompletionTriggerKind.Automatic}}function Yt(S){if(S!=null)return{range:Me(S.range),text:S.text}}function rr(S){let fe=Di.Command.create(S.title,S.command);return S.tooltip&&(fe.tooltip=S.tooltip),S.arguments&&(fe.arguments=S.arguments),fe}function Jt(S){let fe=Di.CodeLens.create(Me(S.range));return S.command&&(fe.command=rr(S.command)),S instanceof cdt.default&&S.data&&(fe.data=S.data),fe}function $t(S,fe){let Ye={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return fe.trimTrailingWhitespace&&(Ye.trimTrailingWhitespace=!0),fe.trimFinalNewlines&&(Ye.trimFinalNewlines=!0),fe.insertFinalNewline&&(Ye.insertFinalNewline=!0),Ye}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function Fe(S){let fe=Di.DocumentLink.create(Me(S.range));S.target&&(fe.target=n(S.target)),S.tooltip!==void 0&&(fe.tooltip=S.tooltip);let Ye=S instanceof udt.default?S:void 0;return Ye&&Ye.data&&(fe.data=Ye.data),fe}function Ht(S){return{textDocument:i(S)}}function Dr(S){let fe={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Me(S.range),selectionRange:Me(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=An(S.tags)),S instanceof ldt.default&&S.data!==void 0&&(fe.data=S.data),fe}function He(S){let fe={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Me(S.range),selectionRange:Me(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=An(S.tags)),S instanceof ddt.default&&S.data!==void 0&&(fe.data=S.data),fe}function re(S){let fe=S instanceof fdt.default?{name:S.name,kind:ii(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ii(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(fe.tags=An(S.tags)),S.containerName!==""&&(fe.containerName=S.containerName),fe}function Re(S){let fe=typeof S.label=="string"?S.label:S.label.map(je),Ye=Di.InlayHint.create(Ce(S.position),fe);return S.kind!==void 0&&(Ye.kind=S.kind),S.textEdits!==void 0&&(Ye.textEdits=ln(S.textEdits)),S.tooltip!==void 0&&(Ye.tooltip=he(S.tooltip)),S.paddingLeft!==void 0&&(Ye.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Ye.paddingRight=S.paddingRight),S instanceof hdt.default&&S.data!==void 0&&(Ye.data=S.data),Ye}function je(S){let fe=Di.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(fe.location=Ct(S.location)),S.command!==void 0&&(fe.command=rr(S.command)),S.tooltip!==void 0&&(fe.tooltip=he(S.tooltip)),fe}function he(S){return typeof S=="string"?S:{kind:Di.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:O,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:V,asSignatureHelpParams:Ne,asWorkerPosition:ue,asRange:Me,asRanges:$e,asPosition:Ce,asPositions:be,asPositionsSync:xe,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:at,asDiagnostic:zr,asDiagnostics:cr,asDiagnosticsSync:xt,asCompletionItem:On,asTextEdit:$r,asSymbolKind:ii,asSymbolTag:Vr,asSymbolTags:An,asReferenceParams:Ri,asCodeAction:Gr,asCodeActionSync:Ji,asCodeActionContext:oi,asCodeActionContextSync:fn,asInlineValueContext:Q,asCommand:rr,asCodeLens:Jt,asFormattingOptions:$t,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:Fe,asDocumentLinkParams:Ht,asCallHierarchyItem:Dr,asTypeHierarchyItem:He,asInlayHint:Re,asWorkspaceSymbol:re,asInlineCompletionParams:_e,asInlineCompletionContext:Je}}});var wz=E(Cy=>{"use strict";var mdt=Cy&&Cy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gdt=Cy&&Cy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bz=Cy&&Cy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mdt(t,e,n[i]);return gdt(t,e),t}}(),MC=Cy&&Cy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.createConverter=Ddt;var kr=bz(require("vscode")),Un=bz(dn()),rg=bz(dv()),Yo=bz(gz()),vdt=MC(VY()),ydt=MC(KY()),_dt=MC(JY()),bdt=MC(QY()),EEe=tJ(),wdt=MC(nJ()),Sdt=MC(oJ()),Cdt=MC(aJ()),Tdt=MC(uJ()),PEe=dn(),_z;(function(r){function e(t){let n=t;return n&&rg.string(n.language)&&rg.string(n.value)}r.is=e})(_z||(_z={}));function Ddt(r,e,t,n){let o=r||(N=>kr.Uri.parse(N));function s(N){return o(N)}function a(N){let Le=[];for(let rt of N)if(typeof rt=="string")Le.push(rt);else if(PEe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Le.push({notebookType:rt.notebook,language:rt.language});else{let zt=rt.notebook.notebookType??"*";Le.push({notebookType:zt,scheme:rt.notebook.scheme,pattern:Fr(rt.notebook.pattern),language:rt.language})}else PEe.TextDocumentFilter.is(rt)&&Le.push({language:rt.language,scheme:rt.scheme,pattern:Fr(rt.pattern)});return Le}async function c(N,Le){return Yo.map(N,l,Le)}function u(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=l(N[rt]);return Le}function l(N){let Le=new EEe.ProtocolDiagnostic(D(N.range),N.message,M(N.severity),N.data);if(N.code!==void 0){if(typeof N.code=="string"||typeof N.code=="number")Un.CodeDescription.is(N.codeDescription)?Le.code={value:N.code,target:s(N.codeDescription.href)}:Le.code=N.code;else if(EEe.DiagnosticCode.is(N.code)){Le.hasDiagnosticCode=!0;let rt=N.code;Le.code={value:rt.value,target:s(rt.target)}}}return N.source&&(Le.source=N.source),N.relatedInformation&&(Le.relatedInformation=d(N.relatedInformation)),Array.isArray(N.tags)&&(Le.tags=f(N.tags)),Le}function d(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++){let zt=N[rt];Le[rt]=new kr.DiagnosticRelatedInformation(tt(zt.location),zt.message)}return Le}function f(N){if(!N)return;let Le=[];for(let rt of N){let zt=m(rt);zt!==void 0&&Le.push(zt)}return Le.length>0?Le:void 0}function m(N){switch(N){case Un.DiagnosticTag.Unnecessary:return kr.DiagnosticTag.Unnecessary;case Un.DiagnosticTag.Deprecated:return kr.DiagnosticTag.Deprecated;default:return}}function _(N){return N?new kr.Position(N.line,N.character):void 0}function D(N){return N?new kr.Range(N.start.line,N.start.character,N.end.line,N.end.character):void 0}async function O(N,Le){return Yo.map(N,rt=>new kr.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Le)}function M(N){if(N==null)return kr.DiagnosticSeverity.Error;switch(N){case Un.DiagnosticSeverity.Error:return kr.DiagnosticSeverity.Error;case Un.DiagnosticSeverity.Warning:return kr.DiagnosticSeverity.Warning;case Un.DiagnosticSeverity.Information:return kr.DiagnosticSeverity.Information;case Un.DiagnosticSeverity.Hint:return kr.DiagnosticSeverity.Hint}return kr.DiagnosticSeverity.Error}function A(N){if(rg.string(N))return ne(N);if(_z.is(N))return ne().appendCodeblock(N.value,N.language);if(Array.isArray(N)){let Le=[];for(let rt of N){let zt=ne();_z.is(rt)?zt.appendCodeblock(rt.value,rt.language):zt.appendMarkdown(rt),Le.push(zt)}return Le}else return ne(N)}function U(N){if(rg.string(N))return N;switch(N.kind){case Un.MarkupKind.Markdown:return ne(N.value);case Un.MarkupKind.PlainText:return N.value;default:return`Unsupported Markup content received. Kind is: ${N.kind}`}}function ne(N){let Le;if(N===void 0||typeof N=="string")Le=new kr.MarkdownString(N);else switch(N.kind){case Un.MarkupKind.Markdown:Le=new kr.MarkdownString(N.value);break;case Un.MarkupKind.PlainText:Le=new kr.MarkdownString,Le.appendText(N.value);break;default:Le=new kr.MarkdownString,Le.appendText(`Unsupported Markup content received. Kind is: ${N.kind}`);break}return Le.isTrusted=e,Le.supportHtml=t,Le.supportThemeIcons=n,Le}function de(N){if(N)return new kr.Hover(A(N.contents),D(N.range))}async function ye(N,Le,rt){if(!N)return;if(Array.isArray(N))return Yo.map(N,ao=>ae(ao,Le),rt);let zt=N,{defaultRange:Ln,commitCharacters:Cn}=V(zt,Le),Nn=await Yo.map(zt.items,ao=>ae(ao,Cn,zt.applyKind?.commitCharacters,Ln,zt.itemDefaults?.insertTextMode,zt.itemDefaults?.insertTextFormat,zt.itemDefaults?.data,zt.applyKind?.data),rt);return new kr.CompletionList(Nn,zt.isIncomplete)}function V(N,Le){let rt=N.itemDefaults?.editRange,zt=N.itemDefaults?.commitCharacters??Le;return Un.Range.is(rt)?{defaultRange:D(rt),commitCharacters:zt}:rt!==void 0?{defaultRange:{inserting:D(rt.insert),replacing:D(rt.replace)},commitCharacters:zt}:{defaultRange:void 0,commitCharacters:zt}}function $(N){return Un.CompletionItemKind.Text<=N&&N<=Un.CompletionItemKind.TypeParameter?[N-1,void 0]:[kr.CompletionItemKind.Text,N]}function ee(N){switch(N){case Un.CompletionItemTag.Deprecated:return kr.CompletionItemTag.Deprecated}}function De(N){if(N==null)return[];let Le=[];for(let rt of N){let zt=ee(rt);zt!==void 0&&Le.push(zt)}return Le}function ae(N,Le,rt,zt,Ln,Cn,Nn,ao){let ji=De(N.tags),Po=Ne(N),$i=new vdt.default(Po);N.detail&&($i.detail=N.detail),N.documentation&&($i.documentation=U(N.documentation),$i.documentationFormat=rg.string(N.documentation)?"$string":N.documentation.kind),N.filterText&&($i.filterText=N.filterText);let Jn=ue(N,zt,Cn);if(Jn&&($i.insertText=Jn.text,$i.range=Jn.range,$i.fromEdit=Jn.fromEdit),rg.number(N.kind)){let[al,Mi]=$(N.kind);$i.kind=al,Mi&&($i.originalItemKind=Mi)}N.sortText&&($i.sortText=N.sortText),N.additionalTextEdits&&($i.additionalTextEdits=Me(N.additionalTextEdits));let pu=ce(N,Le,rt);pu&&($i.commitCharacters=pu.slice()),N.command&&($i.command=An(N.command)),(N.deprecated===!0||N.deprecated===!1)&&($i.deprecated=N.deprecated,N.deprecated===!0&&ji.push(kr.CompletionItemTag.Deprecated)),(N.preselect===!0||N.preselect===!1)&&($i.preselect=N.preselect);let ts=qe(N,Nn,ao);ts!==void 0&&($i.data=ts),ji.length>0&&($i.tags=ji);let yo=N.insertTextMode??Ln;return yo!==void 0&&($i.insertTextMode=yo,yo===Un.InsertTextMode.asIs&&($i.keepWhitespace=!0)),$i}function ce(N,Le,rt){if(rt===Un.ApplyKind.Merge){if(!Le&&!N.commitCharacters)return;let zt=new Set;if(Le)for(let Ln of Le)zt.add(Ln);if(rg.stringArray(N.commitCharacters))for(let Ln of N.commitCharacters)zt.add(Ln);return Array.from(zt)}return N.commitCharacters!==void 0?rg.stringArray(N.commitCharacters)?N.commitCharacters:void 0:Le}function qe(N,Le,rt){if(rt===Un.ApplyKind.Merge){let zt={...Le};return N.data&&Object.entries(N.data).forEach(([Ln,Cn])=>{Cn!=null&&(zt[Ln]=Cn)}),zt}return N.data??Le}function Ne(N){return Un.CompletionItemLabelDetails.is(N.labelDetails)?{label:N.label,detail:N.labelDetails.detail,description:N.labelDetails.description}:N.label}function ue(N,Le,rt){let zt=N.insertTextFormat??rt;if(N.textEdit!==void 0||Le!==void 0){let[Ln,Cn]=N.textEdit!==void 0?Ce(N.textEdit):[Le,N.textEditText??N.label];return zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(Cn),range:Ln,fromEdit:!0}:{text:Cn,range:Ln,fromEdit:!0}}else return N.insertText?zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(N.insertText),fromEdit:!1}:{text:N.insertText,fromEdit:!1}:void 0}function Ce(N){return Un.InsertReplaceEdit.is(N)?[{inserting:D(N.insert),replacing:D(N.replace)},N.newText]:[D(N.range),N.newText]}function be(N){if(N)return new kr.TextEdit(D(N.range),N.newText)}async function xe(N,Le){if(N)return Yo.map(N,be,Le)}function Me(N){if(!N)return;let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=be(N[rt]);return Le}async function $e(N,Le){if(!N)return;let rt=new kr.SignatureHelp;return rg.number(N.activeSignature)?rt.activeSignature=N.activeSignature:rt.activeSignature=0,rg.number(N.activeParameter)?rt.activeParameter=N.activeParameter:N.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,N.signatures&&(rt.signatures=await Ct(N.signatures,Le)),rt}async function Ct(N,Le){return Yo.mapAsync(N,ze,Le)}async function ze(N,Le){let rt=new kr.SignatureInformation(N.label);return N.documentation!==void 0&&(rt.documentation=U(N.documentation)),N.parameters!==void 0&&(rt.parameters=await st(N.parameters,Le)),N.activeParameter!==void 0&&(rt.activeParameter=N.activeParameter??-1),rt}function st(N,Le){return Yo.map(N,at,Le)}function at(N){let Le=new kr.ParameterInformation(N.label);return N.documentation&&(Le.documentation=U(N.documentation)),Le}function tt(N){return N?new kr.Location(o(N.uri),D(N.range)):void 0}async function fr(N,Le){if(N)return cr(N,Le)}async function Lr(N,Le){if(N)return cr(N,Le)}function zr(N){if(!N)return;let Le={targetUri:o(N.targetUri),targetRange:D(N.targetRange),originSelectionRange:D(N.originSelectionRange),targetSelectionRange:D(N.targetSelectionRange)};if(!Le.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Le}async function cr(N,Le){if(N)if(rg.array(N)){if(N.length===0)return[];if(Un.LocationLink.is(N[0])){let rt=N;return Yo.map(rt,zr,Le)}else{let rt=N;return Yo.map(rt,tt,Le)}}else return Un.LocationLink.is(N)?[zr(N)]:tt(N)}async function xt(N,Le){if(N)return Yo.map(N,tt,Le)}async function hr(N,Le){if(N)return Yo.map(N,Mt,Le)}function Mt(N){let Le=new kr.DocumentHighlight(D(N.range));return rg.number(N.kind)&&(Le.kind=on(N.kind)),Le}function on(N){switch(N){case Un.DocumentHighlightKind.Text:return kr.DocumentHighlightKind.Text;case Un.DocumentHighlightKind.Read:return kr.DocumentHighlightKind.Read;case Un.DocumentHighlightKind.Write:return kr.DocumentHighlightKind.Write}return kr.DocumentHighlightKind.Text}async function un(N,Le){if(N)return Yo.map(N,$r,Le)}function On(N){return N<=Un.SymbolKind.TypeParameter?N-1:kr.SymbolKind.Property}function Or(N){switch(N){case Un.SymbolTag.Deprecated:return kr.SymbolTag.Deprecated;default:return}}function Hn(N){if(N==null)return;let Le=[];for(let rt of N){let zt=Or(rt);zt!==void 0&&Le.push(zt)}return Le.length===0?void 0:Le}function $r(N){let Le=N.data,rt=N.location,zt=rt.range===void 0||Le!==void 0?new Cdt.default(N.name,On(N.kind),N.containerName??"",rt.range===void 0?o(rt.uri):new kr.Location(o(N.location.uri),D(rt.range)),Le):new kr.SymbolInformation(N.name,On(N.kind),N.containerName??"",new kr.Location(o(N.location.uri),D(rt.range)));return Vr(zt,N),zt}async function ln(N,Le){if(N!=null)return Yo.map(N,ii,Le)}function ii(N){let Le=new kr.DocumentSymbol(N.name,N.detail||"",On(N.kind),D(N.range),D(N.selectionRange));if(Vr(Le,N),N.children!==void 0&&N.children.length>0){let rt=[];for(let zt of N.children)rt.push(ii(zt));Le.children=rt}return Le}function Vr(N,Le){N.tags=Hn(Le.tags),Le.deprecated&&(N.tags?N.tags.includes(kr.SymbolTag.Deprecated)||(N.tags=N.tags.concat(kr.SymbolTag.Deprecated)):N.tags=[kr.SymbolTag.Deprecated])}function An(N){let Le={title:N.title,command:N.command};return N.tooltip&&(Le.tooltip=N.tooltip),N.arguments&&(Le.arguments=N.arguments),Le}async function Ri(N,Le){if(N)return Yo.map(N,An,Le)}let Gr=new Map;Gr.set(Un.CodeActionKind.Empty,kr.CodeActionKind.Empty),Gr.set(Un.CodeActionKind.QuickFix,kr.CodeActionKind.QuickFix),Gr.set(Un.CodeActionKind.Refactor,kr.CodeActionKind.Refactor),Gr.set(Un.CodeActionKind.RefactorExtract,kr.CodeActionKind.RefactorExtract),Gr.set(Un.CodeActionKind.RefactorInline,kr.CodeActionKind.RefactorInline),Gr.set(Un.CodeActionKind.RefactorRewrite,kr.CodeActionKind.RefactorRewrite),Gr.set(Un.CodeActionKind.Source,kr.CodeActionKind.Source),Gr.set(Un.CodeActionKind.SourceOrganizeImports,kr.CodeActionKind.SourceOrganizeImports);function Ji(N){if(N==null)return;let Le=Gr.get(N);if(Le)return Le;let rt=N.split(".");Le=kr.CodeActionKind.Empty;for(let zt of rt)Le=Le.append(zt);return Le}function oi(N){if(N!=null)return N.map(Le=>Ji(Le))}function fn(N){if(N!=null)return N.map(Le=>({kind:Ji(Le.kind),command:An(Le.command)}))}async function Oe(N,Le){if(N==null)return;let rt=new bdt.default(N.title,N.data);return N.kind!==void 0&&(rt.kind=Ji(N.kind)),N.diagnostics!==void 0&&(rt.diagnostics=u(N.diagnostics)),N.edit!==void 0&&(rt.edit=await Je(N.edit,Le)),N.command!==void 0&&(rt.command=An(N.command)),N.isPreferred!==void 0&&(rt.isPreferred=N.isPreferred),N.disabled!==void 0&&(rt.disabled={reason:N.disabled.reason}),N.tags?.includes(Un.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(N,Le){return Yo.mapAsync(N,async rt=>Un.Command.is(rt)?An(rt):Oe(rt,Le),Le)}function Q(N){if(!N)return;let Le=new ydt.default(D(N.range));return N.command&&(Le.command=An(N.command)),N.data!==void 0&&N.data!==null&&(Le.data=N.data),Le}async function _e(N,Le){if(N)return Yo.map(N,Q,Le)}async function Je(N,Le){if(!N)return;let rt=new Map;if(N.changeAnnotations!==void 0){let Cn=N.changeAnnotations;await Yo.forEach(Object.keys(Cn),Nn=>{let ao=ft(Cn[Nn]);rt.set(Nn,ao)},Le)}let zt=Cn=>{if(Cn!==void 0)return rt.get(Cn)},Ln=new kr.WorkspaceEdit;if(N.documentChanges){let Cn=N.documentChanges;await Yo.forEach(Cn,Nn=>{if(Un.CreateFile.is(Nn))Ln.createFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.RenameFile.is(Nn))Ln.renameFile(o(Nn.oldUri),o(Nn.newUri),Nn.options,zt(Nn.annotationId));else if(Un.DeleteFile.is(Nn))Ln.deleteFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.TextDocumentEdit.is(Nn)){let ao=o(Nn.textDocument.uri),ji=[];for(let Po of Nn.edits)Un.AnnotatedTextEdit.is(Po)?ji.push([new kr.TextEdit(D(Po.range),Po.newText),zt(Po.annotationId)]):Un.SnippetTextEdit.is(Po)?ji.push([new kr.SnippetTextEdit(D(Po.range),new kr.SnippetString(Po.snippet.value)),zt(Po.annotationId)]):ji.push([new kr.TextEdit(D(Po.range),Po.newText),void 0]);Ln.set(ao,ji)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Nn,void 0,4)}`)},Le)}else if(N.changes){let Cn=N.changes;await Yo.forEach(Object.keys(Cn),Nn=>{Ln.set(o(Nn),Me(Cn[Nn]))},Le)}return Ln}function ft(N){if(N!==void 0)return{label:N.label,needsConfirmation:!!N.needsConfirmation,description:N.description}}function Yt(N){let Le=D(N.range),rt=N.target?s(N.target):void 0,zt=new _dt.default(Le,rt);return N.tooltip!==void 0&&(zt.tooltip=N.tooltip),N.data!==void 0&&N.data!==null&&(zt.data=N.data),zt}async function rr(N,Le){if(N)return Yo.map(N,Yt,Le)}function Jt(N){return new kr.Color(N.red,N.green,N.blue,N.alpha)}function $t(N){return new kr.ColorInformation(D(N.range),Jt(N.color))}async function kt(N,Le){if(N)return Yo.map(N,$t,Le)}function K(N){let Le=new kr.ColorPresentation(N.label);return Le.additionalTextEdits=Me(N.additionalTextEdits),N.textEdit&&(Le.textEdit=be(N.textEdit)),Le}async function Fe(N,Le){if(N)return Yo.map(N,K,Le)}function Ht(N){if(N)switch(N){case Un.FoldingRangeKind.Comment:return kr.FoldingRangeKind.Comment;case Un.FoldingRangeKind.Imports:return kr.FoldingRangeKind.Imports;case Un.FoldingRangeKind.Region:return kr.FoldingRangeKind.Region}}function Dr(N){return new kr.FoldingRange(N.startLine,N.endLine,Ht(N.kind))}async function He(N,Le){if(N)return Yo.map(N,Dr,Le)}function re(N){return new kr.SelectionRange(D(N.range),N.parent?re(N.parent):void 0)}async function Re(N,Le){return Array.isArray(N)?Yo.map(N,re,Le):[]}function je(N){return Un.InlineValueText.is(N)?new kr.InlineValueText(D(N.range),N.text):Un.InlineValueVariableLookup.is(N)?new kr.InlineValueVariableLookup(D(N.range),N.variableName,N.caseSensitiveLookup):new kr.InlineValueEvaluatableExpression(D(N.range),N.expression)}async function he(N,Le){return Array.isArray(N)?Yo.map(N,je,Le):[]}async function S(N,Le){let rt=typeof N.label=="string"?N.label:await Yo.map(N.label,fe,Le),zt=new Tdt.default(_(N.position),rt);return N.kind!==void 0&&(zt.kind=N.kind),N.textEdits!==void 0&&(zt.textEdits=await xe(N.textEdits,Le)),N.tooltip!==void 0&&(zt.tooltip=Ye(N.tooltip)),N.paddingLeft!==void 0&&(zt.paddingLeft=N.paddingLeft),N.paddingRight!==void 0&&(zt.paddingRight=N.paddingRight),N.data!==void 0&&(zt.data=N.data),zt}function fe(N){let Le=new kr.InlayHintLabelPart(N.value);return N.location!==void 0&&(Le.location=tt(N.location)),N.tooltip!==void 0&&(Le.tooltip=Ye(N.tooltip)),N.command!==void 0&&(Le.command=An(N.command)),Le}function Ye(N){return typeof N=="string"?N:ne(N)}async function Tr(N,Le){if(Array.isArray(N))return Yo.mapAsync(N,S,Le)}function Wr(N){if(N===null)return;let Le=new wdt.default(On(N.kind),N.name,N.detail||"",s(N.uri),D(N.range),D(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function Xr(N,Le){if(N!==null)return Yo.map(N,Wr,Le)}async function qn(N,Le){return new kr.CallHierarchyIncomingCall(Wr(N.from),await O(N.fromRanges,Le))}async function xi(N,Le){if(N!==null)return Yo.mapAsync(N,qn,Le)}async function ks(N,Le){return new kr.CallHierarchyOutgoingCall(Wr(N.to),await O(N.fromRanges,Le))}async function Sn(N,Le){if(N!==null)return Yo.mapAsync(N,ks,Le)}async function es(N,Le){if(N!=null)return new kr.SemanticTokens(new Uint32Array(N.data),N.resultId)}function Bs(N){return new kr.SemanticTokensEdit(N.start,N.deleteCount,N.data!==void 0?new Uint32Array(N.data):void 0)}async function ta(N,Le){if(N!=null)return new kr.SemanticTokensEdits(N.edits.map(Bs),N.resultId)}function Fo(N){return N}async function Eo(N,Le){if(N!=null)return new kr.LinkedEditingRanges(await O(N.ranges,Le),H(N.wordPattern))}function H(N){if(N!=null)return new RegExp(N)}function Ue(N){if(N===null)return;let Le=new Sdt.default(On(N.kind),N.name,N.detail||"",s(N.uri),D(N.range),D(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function vt(N,Le){if(N!==null)return Yo.map(N,Ue,Le)}function Fr(N){if(rg.string(N))return N;if(Un.RelativePattern.is(N)){if(Un.URI.is(N.baseUri))return new kr.RelativePattern(s(N.baseUri),N.pattern);if(Un.WorkspaceFolder.is(N.baseUri)){let Le=kr.workspace.getWorkspaceFolder(s(N.baseUri.uri));return Le!==void 0?new kr.RelativePattern(Le,N.pattern):void 0}}}async function so(N,Le){if(!N)return;if(Array.isArray(N))return Yo.map(N,Ln=>Bi(Ln),Le);let rt=N,zt=await Yo.map(rt.items,Ln=>Bi(Ln),Le);return new kr.InlineCompletionList(zt)}function Bi(N){let Le;typeof N.insertText=="string"?Le=N.insertText:Le=new kr.SnippetString(N.insertText.value);let rt;N.command&&(rt=An(N.command));let zt=new kr.InlineCompletionItem(Le,D(N.range),rt);return N.filterText&&(zt.filterText=N.filterText),zt}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:D,asRanges:O,asPosition:_,asDiagnosticSeverity:M,asDiagnosticTag:m,asHover:de,asCompletionResult:ye,asCompletionItem:ae,asTextEdit:be,asTextEdits:xe,asSignatureHelp:$e,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:st,asParameterInformation:at,asDeclarationResult:fr,asDefinitionResult:Lr,asLocation:tt,asReferences:xt,asDocumentHighlights:hr,asDocumentHighlight:Mt,asDocumentHighlightKind:on,asSymbolKind:On,asSymbolTag:Or,asSymbolTags:Hn,asSymbolInformations:un,asSymbolInformation:$r,asDocumentSymbols:ln,asDocumentSymbol:ii,asCommand:An,asCommands:Ri,asCodeAction:Oe,asCodeActionKind:Ji,asCodeActionKinds:oi,asCodeActionDocumentations:fn,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:_e,asWorkspaceEdit:Je,asDocumentLink:Yt,asDocumentLinks:rr,asFoldingRangeKind:Ht,asFoldingRange:Dr,asFoldingRanges:He,asColor:Jt,asColorInformation:$t,asColorInformations:kt,asColorPresentation:K,asColorPresentations:Fe,asSelectionRange:re,asSelectionRanges:Re,asInlineValue:je,asInlineValues:he,asInlayHint:S,asInlayHints:Tr,asSemanticTokensLegend:Fo,asSemanticTokens:es,asSemanticTokensEdit:Bs,asSemanticTokensEdits:ta,asCallHierarchyItem:Wr,asCallHierarchyItems:Xr,asCallHierarchyIncomingCall:qn,asCallHierarchyIncomingCalls:xi,asCallHierarchyOutgoingCall:ks,asCallHierarchyOutgoingCalls:Sn,asLinkedEditingRanges:Eo,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:Fr,asInlineCompletionResult:so,asInlineCompletionItem:Bi}}});var ja=E(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.empty=void 0;NC.v4=REe;NC.isUUID=xEe;NC.parse=Pdt;NC.generateUuid=Rdt;var Z1=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},dJ=class r extends Z1{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};NC.empty=new Z1("00000000-0000-0000-0000-000000000000");function REe(){return new dJ}var Edt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function xEe(r){return Edt.test(r)}function Pdt(r){if(!xEe(r))throw new Error("invalid uuid");return new Z1(r)}function Rdt(){return REe().asHex()}});var hJ=E(j_=>{"use strict";var xdt=j_&&j_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Odt=j_&&j_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Idt=j_&&j_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xdt(t,e,n[i]);return Odt(t,e),t}}();Object.defineProperty(j_,"__esModule",{value:!0});j_.ProgressPart=void 0;var OEe=require("vscode"),IEe=dn(),kEe=Idt(dv()),fJ=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(IEe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&OEe.window.withProgress({location:OEe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(IEe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&kEe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(kEe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};j_.ProgressPart=fJ});var Lo=E(zc=>{"use strict";var kdt=zc&&zc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Adt=zc&&zc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NEe=zc&&zc.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&kdt(t,e,n[i]);return Adt(t,e),t}}();Object.defineProperty(zc,"__esModule",{value:!0});zc.WorkspaceFeature=zc.TextDocumentLanguageFeature=zc.TextDocumentEventFeature=zc.DynamicDocumentFeature=zc.DynamicFeature=zc.StaticFeature=zc.LSPCancellationError=void 0;zc.ensure=Ldt;var FC=require("vscode"),pJ=dn(),Kh=NEe(dv()),AEe=NEe(ja()),mJ=class extends FC.CancellationError{data;constructor(e){super(),this.data=e}};zc.LSPCancellationError=mJ;function Ldt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var LEe;(function(r){function e(t){let n=t;return n!=null&&Kh.func(n.fillClientCapabilities)&&Kh.func(n.initialize)&&Kh.func(n.getState)&&Kh.func(n.clear)&&(n.fillInitializeParams===void 0||Kh.func(n.fillInitializeParams))}r.is=e})(LEe||(zc.StaticFeature=LEe={}));var MEe;(function(r){function e(t){let n=t;return n!=null&&Kh.func(n.fillClientCapabilities)&&Kh.func(n.initialize)&&Kh.func(n.getState)&&Kh.func(n.clear)&&(n.fillInitializeParams===void 0||Kh.func(n.fillInitializeParams))&&Kh.func(n.register)&&Kh.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(MEe||(zc.DynamicFeature=MEe={}));var eA=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of FC.workspace.textDocuments)if(FC.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};zc.DynamicDocumentFeature=eA;var gJ=class extends eA{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(FC.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new FC.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new FC.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(FC.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};zc.TextDocumentEventFeature=gJ;var vJ=class extends eA{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(pJ.TextDocumentRegistrationOptions.is(t)){let n=pJ.StaticRegistrationOptions.hasId(t)?t.id:AEe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Kh.boolean(t)&&t===!0||pJ.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[AEe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Kh.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&FC.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};zc.TextDocumentLanguageFeature=vJ;var yJ=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};zc.WorkspaceFeature=yJ});var WEe=E((a$t,BEe)=>{var FEe=X8();BEe.exports=Fdt;var qEe="\0SLASH"+Math.random()+"\0",jEe="\0OPEN"+Math.random()+"\0",bJ="\0CLOSE"+Math.random()+"\0",zEe="\0COMMA"+Math.random()+"\0",UEe="\0PERIOD"+Math.random()+"\0";function _J(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function Mdt(r){return r.split("\\\\").join(qEe).split("\\{").join(jEe).split("\\}").join(bJ).split("\\,").join(zEe).split("\\.").join(UEe)}function Ndt(r){return r.split(qEe).join("\\").split(jEe).join("{").split(bJ).join("}").split(zEe).join(",").split(UEe).join(".")}function HEe(r){if(!r)return[""];var e=[],t=FEe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=HEe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Fdt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),tA(Mdt(r),!0).map(Ndt)):[]}function qdt(r){return"{"+r+"}"}function jdt(r){return/^-?0\d/.test(r)}function zdt(r,e){return r<=e}function Udt(r,e){return r>=e}function tA(r,e){var t=[],n=FEe("{","}",r);if(!n)return[r];var i=n.pre,o=n.post.length?tA(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+bJ+n.post,tA(r)):[r];var f;if(l)f=n.body.split(/\.\./);else if(f=HEe(n.body),f.length===1&&(f=tA(f[0],!1).map(qdt),f.length===1))return o.map(function(De){return n.pre+f[0]+De});var m;if(l){var _=_J(f[0]),D=_J(f[1]),O=Math.max(f[0].length,f[1].length),M=f.length==3?Math.abs(_J(f[2])):1,A=zdt,U=D<_;U&&(M*=-1,A=Udt);var ne=f.some(jdt);m=[];for(var de=_;A(de,D);de+=M){var ye;if(u)ye=String.fromCharCode(de),ye==="\\"&&(ye="");else if(ye=String(de),ne){var V=O-ye.length;if(V>0){var $=new Array(V+1).join("0");de<0?ye="-"+$+ye.slice(1):ye=$+ye}}m.push(ye)}}else{m=[];for(var ee=0;ee<f.length;ee++)m.push.apply(m,tA(f[ee],!1))}for(var ee=0;ee<m.length;ee++)for(var s=0;s<o.length;s++){var a=i+m[ee]+o[s];(!e||l||a)&&t.push(a)}}return t}});var $Ee=E(Sz=>{"use strict";Object.defineProperty(Sz,"__esModule",{value:!0});Sz.assertValidPattern=void 0;var Hdt=1024*64,Bdt=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Hdt)throw new TypeError("pattern is too long")};Sz.assertValidPattern=Bdt});var GEe=E(Cz=>{"use strict";Object.defineProperty(Cz,"__esModule",{value:!0});Cz.parseClass=void 0;var Wdt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},rA=r=>r.replace(/[[\]\\-]/g,"\\$&"),$dt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),VEe=r=>r.join(""),Vdt=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let D=r.charAt(o);if((D==="!"||D==="^")&&o===t+1){u=!0,o++;continue}if(D==="]"&&s&&!c){l=o+1;break}if(s=!0,D==="\\"&&!c){c=!0,o++;continue}if(D==="["&&!c){for(let[O,[M,A,U]]of Object.entries(Wdt))if(r.startsWith(O,o)){if(d)return["$.",!1,r.length-t,!0];o+=O.length,U?i.push(M):n.push(M),a=a||A;continue e}}if(c=!1,d){D>d?n.push(rA(d)+"-"+rA(D)):D===d&&n.push(rA(D)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(rA(D+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=D,o+=2;continue}n.push(rA(D)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let D=n[0].length===2?n[0].slice(-1):n[0];return[$dt(D),!1,l-t,!1]}let f="["+(u?"^":"")+VEe(n)+"]",m="["+(u?"":"^")+VEe(i)+"]";return[n.length&&i.length?"("+f+"|"+m+")":n.length?f:m,a,l-t,!0]};Cz.parseClass=Vdt});var Dz=E(Tz=>{"use strict";Object.defineProperty(Tz,"__esModule",{value:!0});Tz.unescape=void 0;var Gdt=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Tz.unescape=Gdt});var CJ=E(Rz=>{"use strict";Object.defineProperty(Rz,"__esModule",{value:!0});Rz.AST=void 0;var Kdt=GEe(),Ez=Dz(),Ydt=new Set(["!","?","+","*","@"]),KEe=r=>Ydt.has(r),Jdt="(?!(?:^|/)\\.\\.?(?:$|/))",Pz="(?!\\.)",Xdt=new Set(["[","."]),Qdt=new Set(["..","."]),Zdt=new Set("().*{}+?[]^$\\!"),eft=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),SJ="[^/]",YEe=SJ+"*?",JEe=SJ+"+?",wJ=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let m=n,_="";for(;m<e.length;){let D=e.charAt(m++);if(o||D==="\\"){o=!o,_+=D;continue}if(s){m===a+1?(D==="^"||D==="!")&&(c=!0):D==="]"&&!(m===a+2&&c)&&(s=!1),_+=D;continue}else if(D==="["){s=!0,a=m,c=!1,_+=D;continue}if(!i.noext&&KEe(D)&&e.charAt(m)==="("){t.push(_),_="";let O=new r(D,t);m=r.#l(e,O,m,i),t.push(O);continue}_+=D}return t.push(_),m}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let m=e.charAt(u++);if(o||m==="\\"){o=!o,f+=m;continue}if(s){u===a+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(u===a+2&&c)&&(s=!1),f+=m;continue}else if(m==="["){s=!0,a=u,c=!1,f+=m;continue}if(KEe(m)&&e.charAt(u)==="("){l.push(f),f="";let _=new r(m,l);l.push(_),u=r.#l(e,_,u,i);continue}if(m==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(m===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=m}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#h(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#e.map(m=>{let[_,D,O,M]=typeof m=="string"?r.#p(m,this.#n,c):m.toRegExpSource(e);return this.#n=this.#n||O,this.#o=this.#o||M,_}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&Qdt.has(this.#e[0]))){let _=Xdt,D=t&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),O=!t&&!e&&_.has(u.charAt(0));l=D?Jdt:O?Pz:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,Ez.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,Ez.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!Pz?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?Pz:"")+JEe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?Pz:"")+YEe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,Ez.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=(Zdt.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,Kdt.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){n&&e==="*"?o+=JEe:o+=YEe,t=!0;continue}if(c==="?"){o+=SJ,t=!0;continue}o+=eft(c)}return[o,(0,Ez.unescape)(e),!!t,s]}};Rz.AST=wJ});var TJ=E(xz=>{"use strict";Object.defineProperty(xz,"__esModule",{value:!0});xz.escape=void 0;var tft=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");xz.escape=tft});var DJ=E(_n=>{"use strict";var rft=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_n,"__esModule",{value:!0});_n.unescape=_n.escape=_n.AST=_n.Minimatch=_n.match=_n.makeRe=_n.braceExpand=_n.defaults=_n.filter=_n.GLOBSTAR=_n.sep=_n.minimatch=void 0;var nft=rft(WEe()),Oz=$Ee(),ZEe=CJ(),ift=TJ(),oft=Dz(),sft=(r,e,t={})=>((0,Oz.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new AD(e,t).match(r));_n.minimatch=sft;var aft=/^\*+([^+@!?\*\[\(]*)$/,cft=r=>e=>!e.startsWith(".")&&e.endsWith(r),uft=r=>e=>e.endsWith(r),lft=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),dft=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),fft=/^\*+\.\*+$/,hft=r=>!r.startsWith(".")&&r.includes("."),pft=r=>r!=="."&&r!==".."&&r.includes("."),mft=/^\.\*+$/,gft=r=>r!=="."&&r!==".."&&r.startsWith("."),vft=/^\*+$/,yft=r=>r.length!==0&&!r.startsWith("."),_ft=r=>r.length!==0&&r!=="."&&r!=="..",bft=/^\?+([^+@!?\*\[\(]*)?$/,wft=([r,e=""])=>{let t=ePe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},Sft=([r,e=""])=>{let t=tPe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},Cft=([r,e=""])=>{let t=tPe([r]);return e?n=>t(n)&&n.endsWith(e):t},Tft=([r,e=""])=>{let t=ePe([r]);return e?n=>t(n)&&n.endsWith(e):t},ePe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},tPe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},rPe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",XEe={win32:{sep:"\\"},posix:{sep:"/"}};_n.sep=rPe==="win32"?XEe.win32.sep:XEe.posix.sep;_n.minimatch.sep=_n.sep;_n.GLOBSTAR=Symbol("globstar **");_n.minimatch.GLOBSTAR=_n.GLOBSTAR;var Dft="[^/]",Eft=Dft+"*?",Pft="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Rft="(?:(?!(?:\\/|^)\\.).)*?",xft=(r,e={})=>t=>(0,_n.minimatch)(t,r,e);_n.filter=xft;_n.minimatch.filter=_n.filter;var hv=(r,e={})=>Object.assign({},r,e),Oft=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return _n.minimatch;let e=_n.minimatch;return Object.assign((n,i,o={})=>e(n,i,hv(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,hv(r,o))}static defaults(i){return e.defaults(hv(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,hv(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,hv(r,o))}},unescape:(n,i={})=>e.unescape(n,hv(r,i)),escape:(n,i={})=>e.escape(n,hv(r,i)),filter:(n,i={})=>e.filter(n,hv(r,i)),defaults:n=>e.defaults(hv(r,n)),makeRe:(n,i={})=>e.makeRe(n,hv(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,hv(r,i)),match:(n,i,o={})=>e.match(n,i,hv(r,o)),sep:e.sep,GLOBSTAR:_n.GLOBSTAR})};_n.defaults=Oft;_n.minimatch.defaults=_n.defaults;var Ift=(r,e={})=>((0,Oz.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,nft.default)(r));_n.braceExpand=Ift;_n.minimatch.braceExpand=_n.braceExpand;var kft=(r,e={})=>new AD(r,e).makeRe();_n.makeRe=kft;_n.minimatch.makeRe=_n.makeRe;var Aft=(r,e,t={})=>{let n=new AD(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};_n.match=Aft;_n.minimatch.match=_n.match;var QEe=/[?*]|[+@!]\(.*?\)|\[|\]/,Lft=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),AD=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,Oz.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||rPe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!QEe.test(o[2]))&&!QEe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let D=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),O=!D&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),M=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!M&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),U=O?3:D?0:void 0,ne=A?3:M?0:void 0;if(typeof U=="number"&&typeof ne=="number"){let[de,ye]=[e[U],t[ne]];de.toLowerCase()===ye.toLowerCase()&&(t[ne]=de,ne>U?t=t.slice(ne):U>ne&&(e=e.slice(U)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===_n.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,m=a+1;if(m===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var _=e[f];if(this.debug(`
globstar while`,e,f,t,m,_),this.matchOne(e.slice(f),t.slice(m),n))return this.debug("globstar found match!",f,c,_),!0;if(_==="."||_===".."||!i.dot&&_.charAt(0)==="."){this.debug("dot detected!",e,f,t,m);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,m),f===c))}let D;if(typeof l=="string"?(D=d===l,this.debug("string match",l,d,D)):(D=l.test(d),this.debug("pattern match",l,d,D)),!D)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,_n.braceExpand)(this.pattern,this.options)}parse(e){(0,Oz.assertValidPattern)(e);let t=this.options;if(e==="**")return _n.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(vft))?i=t.dot?_ft:yft:(n=e.match(aft))?i=(t.nocase?t.dot?dft:lft:t.dot?uft:cft)(n[1]):(n=e.match(bft))?i=(t.nocase?t.dot?Sft:wft:t.dot?Cft:Tft)(n):(n=e.match(fft))?i=t.dot?pft:hft:(n=e.match(mft))&&(i=gft);let o=ZEe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?Eft:t.dot?Pft:Rft,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(l=>{if(l instanceof RegExp)for(let d of l.flags.split(""))i.add(d);return typeof l=="string"?Lft(l):l===_n.GLOBSTAR?_n.GLOBSTAR:l._src});return u.forEach((l,d)=>{let f=u[d+1],m=u[d-1];l!==_n.GLOBSTAR||m===_n.GLOBSTAR||(m===void 0?f!==void 0&&f!==_n.GLOBSTAR?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=m+"(?:\\/|"+n+")?":f!==_n.GLOBSTAR&&(u[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=_n.GLOBSTAR))}),u.filter(l=>l!==_n.GLOBSTAR).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return _n.minimatch.defaults(e).Minimatch}};_n.Minimatch=AD;var Mft=CJ();Object.defineProperty(_n,"AST",{enumerable:!0,get:function(){return Mft.AST}});var Nft=TJ();Object.defineProperty(_n,"escape",{enumerable:!0,get:function(){return Nft.escape}});var Fft=Dz();Object.defineProperty(_n,"unescape",{enumerable:!0,get:function(){return Fft.unescape}});_n.minimatch.AST=ZEe.AST;_n.minimatch.Minimatch=AD;_n.minimatch.escape=ift.escape;_n.minimatch.unescape=oft.unescape});var EJ=E(Ow=>{"use strict";var qft=Ow&&Ow.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jft=Ow&&Ow.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zft=Ow&&Ow.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qft(t,e,n[i]);return jft(t,e),t}}();Object.defineProperty(Ow,"__esModule",{value:!0});Ow.matchGlobPattern=Bft;var Uft=zft(DJ()),Hft=require("vscode");function Bft(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=Hft.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new Uft.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var kz=E(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.DiagnosticFeature=qC.DiagnosticPullMode=qC.vsdiag=void 0;var hc=require("vscode"),za=dn(),Wft=ja(),$ft=EJ(),PJ=Lo();function Iz(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var pv;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(pv||(qC.vsdiag=pv={}));var nA;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(nA||(qC.DiagnosticPullMode=nA={}));var Vf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(Vf||(Vf={}));var fd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(fd||(fd={}));var Iw;(function(r){function e(t){return t instanceof hc.Uri?t.toString():t.uri.toString()}r.asKey=e})(Iw||(Iw={}));var RJ=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===fd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof hc.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===fd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof hc.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=Iw.asKey(t);(e===fd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=Iw.asKey(t);return(e===fd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=Iw.asKey(t);return(e===fd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},xJ=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new hc.EventEmitter,this.provider=this.createProvider(),this.diagnostics=hc.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new RJ,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof hc.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof hc.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof hc.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(fd.document,e,t):this.documentStates.track(fd.document,e);if(s===void 0){let c=new hc.CancellationTokenSource;this.openRequests.set(o,{state:Vf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:pv.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof PJ.LSPCancellationError&&za.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:Vf.outDated,document:e}),l===void 0&&d instanceof hc.CancellationError)l={state:Vf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(fd.document,e);return}if(l.state===Vf.outDated)return;u!==void 0&&(u.kind===pv.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===Vf.reschedule&&this.pull(e)}else s.state===Vf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:Vf.reschedule,document:s.document})):s.state===Vf.outDated&&this.openRequests.set(o,{state:Vf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof hc.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:Vf.reschedule,document:e}):this.pull(e,()=>{this.forget(fd.document,e)}):(i!==void 0&&(i.state===Vf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:Vf.outDated,document:e})),this.diagnostics.delete(t),this.forget(fd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,za.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof PJ.LSPCancellationError)&&!za.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,za.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new hc.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===pv.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(fd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(fd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof hc.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:pv.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(za.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:pv.DocumentDiagnosticReportKind.full,items:[]}:d.kind===za.DocumentDiagnosticReportKind.Full?{kind:pv.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:pv.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(za.DocumentDiagnosticRequest.type,u,d,{kind:pv.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===za.DocumentDiagnosticReportKind.Full?{kind:pv.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:pv.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,Wft.generateUuid)(),m=this.client.onProgress(za.WorkspaceDiagnosticRequest.partialResult,f,async D=>{if(D==null){d(null);return}let O={items:[]};for(let M of D.items)try{O.items.push(await o(M))}catch(A){this.client.error("Converting workspace diagnostics failed.",A)}d(O)}),_={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(za.WorkspaceDiagnosticRequest.type,_,l).then(async D=>{if(l.isCancellationRequested)return{items:[]};let O={items:[]};for(let M of D.items)O.items.push(await o(M));return m.dispose(),d(O),{items:[]}},D=>(m.dispose(),this.client.handleFailedRequest(za.DocumentDiagnosticRequest.type,l,D,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Vf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Vf.outDated,document:t.document});this.diagnostics.dispose()}},OJ=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new za.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=Iw.asKey(e);this.documents.has(t)||(this.documents.set(t,e,za.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=Iw.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,za.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=Iw.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,za.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?Iw.asKey(this.lastDocumentToPull):void 0}},IJ=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(A,U)=>!(typeof A=="string"||A.language!==void 0&&A.language!=="*"||A.scheme!==void 0&&A.scheme!=="*"&&A.scheme!==U.scheme||A.pattern!==void 0&&!(0,$ft.matchGlobPattern)(A.pattern,U)),c=A=>{let U=n.documentSelector;if(i.match!==void 0)return i.match(U,A);for(let ne of U)if(za.TextDocumentFilter.is(ne)&&a(ne,A))return!0;return!1},u=A=>A instanceof hc.Uri?c(A):hc.languages.match(o,A)>0&&t.isVisible(A),l=A=>hc.languages.match(o,A.document)>0&&t.isVisible(A.notebook.uri),d=A=>A instanceof hc.Uri?this.activeTextDocument?.uri.toString()===A.toString():this.activeTextDocument===A;this.diagnosticRequestor=new xJ(e,t,n),this.backgroundScheduler=new OJ(e,this.diagnosticRequestor);let f=A=>{!u(A)||!n.interFileDependencies||d(A)||i.onChange===!1||this.backgroundScheduler.add(A)},m=(A,U)=>(i.filter===void 0||!i.filter(A,U))&&this.diagnosticRequestor.knows(fd.document,A);this.activeTextDocument=hc.window.activeTextEditor?.document,s.push(hc.window.onDidChangeActiveTextEditor(A=>{let U=this.activeTextDocument;this.activeTextDocument=A?.document,U!==void 0&&f(U),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&m(this.activeTextDocument,nA.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let _=e.getFeature(za.DidOpenTextDocumentNotification.method);s.push(_.onNotificationSent(A=>{let U=A.textDocument;this.diagnosticRequestor.knows(fd.document,U)||u(U)&&this.diagnosticRequestor.pull(U,()=>{f(U)})}));let D=e.getFeature(za.NotebookDocumentSyncRegistrationType.method);s.push(D.onOpenNotificationSent(A=>{for(let U of A.getCells())l(U)&&this.diagnosticRequestor.pull(U.document,()=>{f(U.document)})})),s.push(t.onOpen(A=>{for(let U of A){if(this.diagnosticRequestor.knows(fd.document,U))continue;let ne=U.toString(),de;for(let ye of hc.workspace.textDocuments)if(ne===ye.uri.toString()){de=ye;break}de!==void 0&&u(de)&&this.diagnosticRequestor.pull(de,()=>{f(de)})}}));let O=new Set;for(let A of hc.workspace.textDocuments)u(A)&&(this.diagnosticRequestor.pull(A,()=>{f(A)}),O.add(A.uri.toString()));for(let A of hc.workspace.notebookDocuments)for(let U of A.getCells())l(U)&&(this.diagnosticRequestor.pull(U.document,()=>{f(U.document)}),O.add(U.document.uri.toString()));if(i.onTabs===!0)for(let A of t.getTabResources())!O.has(A.toString())&&u(A)&&this.diagnosticRequestor.pull(A,()=>{f(A)});if(i.onChange===!0){let A=e.getFeature(za.DidChangeTextDocumentNotification.method);s.push(A.onNotificationSent(async U=>{let ne=U.textDocument;m(ne,nA.onType)&&this.diagnosticRequestor.pull(ne,()=>{this.backgroundScheduler.trigger()})})),s.push(D.onChangeNotificationSent(async U=>{let de=(U.cells?.textContent||[]).map($=>U.notebook.getCells().find(ee=>ee.document.uri.toString()===$.document.uri.toString()));for(let $ of de)$&&l($)&&this.diagnosticRequestor.pull($.document,()=>{this.backgroundScheduler.trigger()});let ye=U.cells?.structure?.didClose||[];for(let $ of ye)this.diagnosticRequestor.forgetDocument($.document);let V=U.cells?.structure?.didOpen||[];for(let $ of V)l($)&&this.diagnosticRequestor.pull($.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let A=e.getFeature(za.DidSaveTextDocumentNotification.method);s.push(A.onNotificationSent(U=>{let ne=U.textDocument;m(ne,nA.onSave)&&this.diagnosticRequestor.pull(U.textDocument)})),s.push(D.onSaveNotificationSent(U=>{for(let ne of U.getCells())l(ne)&&this.diagnosticRequestor.pull(ne.document)}))}let M=e.getFeature(za.DidCloseTextDocumentNotification.method);s.push(M.onNotificationSent(A=>{this.cleanUpDocument(A.textDocument)})),s.push(D.onCloseNotificationSent(A=>{for(let U of A.getCells())this.cleanUpDocument(U.document)})),t.onClose(A=>{for(let U of A)this.cleanUpDocument(U)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let A of hc.workspace.textDocuments)u(A)&&this.diagnosticRequestor.pull(A)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=hc.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(fd.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},kJ=class extends PJ.TextDocumentLanguageFeature{constructor(e){super(e,za.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=Iz(Iz(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[za.DiagnosticTag.Unnecessary,za.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,Iz(Iz(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(za.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new IJ(this._client,this._client.tabsModel,e);return[t.disposable,t]}};qC.DiagnosticFeature=kJ});var MJ=E(z_=>{"use strict";var Vft=z_&&z_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gft=z_&&z_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Nz=z_&&z_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vft(t,e,n[i]);return Gft(t,e),t}}();Object.defineProperty(z_,"__esModule",{value:!0});z_.NotebookDocumentSyncFeature=void 0;var pc=Nz(require("vscode")),kw=Nz(dn()),Kft=Nz(ja()),nPe=Nz(dv()),Yft=EJ();function iPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var IP;(function(r){let e;(function(t){function n(f,m){return{version:f.version,uri:m.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,m,_){let D=kw.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(m,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,m){return f.map(_=>a(_,m))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,m){let _=kw.NotebookCell.create(c(f.kind),m.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&nPe.number(f.executionSummary.executionOrder)&&nPe.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case pc.NotebookCellKind.Markup:return kw.NotebookCellKind.Markup;case pc.NotebookCellKind.Code:return kw.NotebookCellKind.Code}}function u(f,m){if(f.has(m))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(m)){let _=[];for(let D of m)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(m),D=Object.create(null);for(let O of _){let M=m[O];if(M!==null&&typeof M=="object"||Array.isArray(M))D[O]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[O]=M}}return D}}function l(f,m){let _=m.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,m){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),O=f.cells;O.structure&&(D.structure={array:{start:O.structure.array.start,deleteCount:O.structure.array.deleteCount,cells:O.structure.array.cells!==void 0?O.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,m)):void 0},didOpen:O.structure.didOpen!==void 0?O.structure.didOpen.map(M=>m.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:O.structure.didClose!==void 0?O.structure.didClose.map(M=>m.asCloseTextDocumentParams(M.document).textDocument):void 0}),O.data!==void 0&&(D.data=O.data.map(M=>r.c2p.asNotebookCell(M,m))),O.textContent!==void 0&&(D.textContent=O.textContent.map(M=>r.c2p.asTextContentChange(M,m))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(IP||(IP={}));var AJ;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let m=l-1,_=d-1;for(;m>=0&&_>=0&&t(a[m],c[_],u);)m--,_--;let D=m+1-f,O=f===_+1?void 0:c.slice(f,_+1);return O!==void 0?{start:f,deleteCount:D,cells:O}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let m=0;m<d.length;m++){let _=d[m];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(AJ||(AJ={}));var Az;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,Yft.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(Az||(Az={}));var Lz;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(Lz||(Lz={}));var Mz;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(Mz||(Mz={}));var kP=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Lz.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,pc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of pc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);pc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&pc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),pc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of pc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(pc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(pc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(pc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(kw.DidOpenNotebookDocumentNotification.type,{notebookDocument:IP.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Mz.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(kw.DidChangeNotebookDocumentNotification.type,{notebookDocument:IP.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:IP.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Mz.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(kw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(kw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=IP.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=AJ.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],m=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())m.push(_)}o.cells.structure={array:u,didOpen:f,didClose:m}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Az.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||Az.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},LJ=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=kw.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new pc.EventEmitter,this._onOpenNotificationSent=new pc.EventEmitter,this._onCloseNotificationSent=new pc.EventEmitter,this._onSaveNotificationSent=new pc.EventEmitter,pc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof kP&&o.didOpenNotebookCellTextDocument(n,i)}),pc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof kP&&s.didChangeNotebookCellTextDocument(i,o,t)}),pc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof kP&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=iPe(iPe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Lz.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??Kft.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new kP(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new pc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new pc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new pc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new pc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&pc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of pc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};z_.NotebookDocumentSyncFeature=LJ});var aPe=E(ng=>{"use strict";var Jft=ng&&ng.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xft=ng&&ng.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sPe=ng&&ng.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Jft(t,e,n[i]);return Xft(t,e),t}}();Object.defineProperty(ng,"__esModule",{value:!0});ng.SyncConfigurationFeature=ng.ConfigurationFeature=void 0;ng.toJSONObject=LD;var AP=require("vscode"),iA=dn(),Qft=sPe(dv()),Zft=sPe(ja()),oPe=Lo(),NJ=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(iA.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=LD(AP.workspace.getConfiguration(void 0,e).get(t));else{let o=AP.workspace.getConfiguration(t.substr(0,i),e);o&&(n=LD(o.get(t.substr(i+1))))}}else{let i=AP.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=LD(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};ng.ConfigurationFeature=NJ;function LD(r){if(r){if(Array.isArray(r))return r.map(LD);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=LD(r[t]));return e}}return r}var FJ=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return iA.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,oPe.ensure)((0,oPe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Zft.generateUuid(),registerOptions:{section:e}})}register(e){let t=AP.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(Qft.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(iA.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(iA.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${iA.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=AP.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=AP.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=LD(c)}}return i}};ng.SyncConfigurationFeature=FJ});var cPe=E(Qu=>{"use strict";var eht=Qu&&Qu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tht=Qu&&Qu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rht=Qu&&Qu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&eht(t,e,n[i]);return tht(t,e),t}}();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.DidSaveTextDocumentFeature=Qu.WillSaveWaitUntilFeature=Qu.WillSaveFeature=Qu.DidChangeTextDocumentFeature=Qu.DidCloseTextDocumentFeature=Qu.DidOpenTextDocumentFeature=void 0;var em=require("vscode"),fa=dn(),Uc=Lo(),LP=rht(ja()),qJ=class extends Uc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,em.workspace.onDidOpenTextDocument,fa.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Uc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:LP.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return fa.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(em.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&em.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push(em.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(let n of t)e!==void 0&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};Qu.DidOpenTextDocumentFeature=qJ;var jJ=class extends Uc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,em.workspace.onDidCloseTextDocument,fa.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Uc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return fa.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:LP.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(em.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Qu.DidCloseTextDocumentFeature=jJ;var zJ=class extends Uc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new em.EventEmitter,this._onPendingChangeAdded=new em.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=fa.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return fa.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==fa.TextDocumentSyncKind.None&&this.register({id:LP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=em.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(em.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===fa.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(fa.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,fa.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===fa.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${fa.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=fa.TextDocumentSyncKind.None;else{this._syncKind=fa.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===fa.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=fa.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(em.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==fa.TextDocumentSyncKind.Full)switch(e){case fa.TextDocumentSyncKind.Full:this._syncKind=e;break;case fa.TextDocumentSyncKind.Incremental:this._syncKind===fa.TextDocumentSyncKind.None&&(this._syncKind=fa.TextDocumentSyncKind.Incremental);break}}};Qu.DidChangeTextDocumentFeature=zJ;var UJ=class extends Uc.TextDocumentEventFeature{constructor(e){super(e,em.workspace.onWillSaveTextDocument,fa.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Uc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return fa.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:LP.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};Qu.WillSaveFeature=UJ;var HJ=class extends Uc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return fa.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:LP.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=em.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Uc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(fa.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Qu.WillSaveWaitUntilFeature=HJ;var BJ=class extends Uc.TextDocumentEventFeature{_includeText;constructor(e){super(e,em.workspace.onDidSaveTextDocument,fa.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Uc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return fa.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Uc.ensure)((0,Uc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:LP.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Qu.DidSaveTextDocumentFeature=BJ});var uPe=E(U_=>{"use strict";var nht=U_&&U_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iht=U_&&U_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oht=U_&&U_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&nht(t,e,n[i]);return iht(t,e),t}}();Object.defineProperty(U_,"__esModule",{value:!0});U_.CompletionItemFeature=void 0;var sht=require("vscode"),Co=dn(),WJ=Lo(),aht=oht(ja()),cht=[Co.CompletionItemKind.Text,Co.CompletionItemKind.Method,Co.CompletionItemKind.Function,Co.CompletionItemKind.Constructor,Co.CompletionItemKind.Field,Co.CompletionItemKind.Variable,Co.CompletionItemKind.Class,Co.CompletionItemKind.Interface,Co.CompletionItemKind.Module,Co.CompletionItemKind.Property,Co.CompletionItemKind.Unit,Co.CompletionItemKind.Value,Co.CompletionItemKind.Enum,Co.CompletionItemKind.Keyword,Co.CompletionItemKind.Snippet,Co.CompletionItemKind.Color,Co.CompletionItemKind.File,Co.CompletionItemKind.Reference,Co.CompletionItemKind.Folder,Co.CompletionItemKind.EnumMember,Co.CompletionItemKind.Constant,Co.CompletionItemKind.Struct,Co.CompletionItemKind.Event,Co.CompletionItemKind.Operator,Co.CompletionItemKind.TypeParameter],$J=class extends WJ.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,Co.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,WJ.ensure)((0,WJ.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Co.MarkupKind.Markdown,Co.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Co.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Co.InsertTextMode.asIs,Co.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Co.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:cht},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:aht.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,m=(_,D,O,M)=>d.sendRequest(Co.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,O),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(Co.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,m):m(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,m)=>u.sendRequest(Co.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),m).then(_=>m.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(Co.CompletionResolveRequest.type,m,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[sht.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};U_.CompletionItemFeature=$J});var lPe=E(H_=>{"use strict";var uht=H_&&H_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lht=H_&&H_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dht=H_&&H_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&uht(t,e,n[i]);return lht(t,e),t}}();Object.defineProperty(H_,"__esModule",{value:!0});H_.HoverFeature=void 0;var fht=require("vscode"),oA=dn(),VJ=Lo(),hht=dht(ja()),GJ=class extends VJ.TextDocumentLanguageFeature{constructor(e){super(e,oA.HoverRequest.type)}fillClientCapabilities(e){let t=(0,VJ.ensure)((0,VJ.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[oA.MarkupKind.Markdown,oA.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:hht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(oA.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(m),m=>a.handleFailedRequest(oA.HoverRequest.type,f,m,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return fht.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};H_.HoverFeature=GJ});var dPe=E(B_=>{"use strict";var pht=B_&&B_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mht=B_&&B_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ght=B_&&B_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&pht(t,e,n[i]);return mht(t,e),t}}();Object.defineProperty(B_,"__esModule",{value:!0});B_.DefinitionFeature=void 0;var vht=require("vscode"),KJ=dn(),YJ=Lo(),yht=ght(ja()),JJ=class extends YJ.TextDocumentLanguageFeature{constructor(e){super(e,KJ.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,YJ.ensure)((0,YJ.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:yht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(KJ.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(KJ.DefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return vht.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};B_.DefinitionFeature=JJ});var hPe=E(W_=>{"use strict";var _ht=W_&&W_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bht=W_&&W_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wht=W_&&W_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_ht(t,e,n[i]);return bht(t,e),t}}();Object.defineProperty(W_,"__esModule",{value:!0});W_.SignatureHelpFeature=void 0;var fPe=require("vscode"),sA=dn(),XJ=Lo(),Sht=wht(ja()),QJ=class extends XJ.TextDocumentLanguageFeature{constructor(e){super(e,sA.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,XJ.ensure)((0,XJ.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[sA.MarkupKind.Markdown,sA.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:Sht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,m)=>a.sendRequest(sA.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),m).then(_=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,m),_=>a.handleFailedRequest(sA.SignatureHelpRequest.type,m,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return fPe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return fPe.languages.registerSignatureHelpProvider(n,t,i)}}};W_.SignatureHelpFeature=QJ});var pPe=E($_=>{"use strict";var Cht=$_&&$_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tht=$_&&$_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dht=$_&&$_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Cht(t,e,n[i]);return Tht(t,e),t}}();Object.defineProperty($_,"__esModule",{value:!0});$_.DocumentHighlightFeature=void 0;var Eht=require("vscode"),ZJ=dn(),eX=Lo(),Pht=Dht(ja()),tX=class extends eX.TextDocumentLanguageFeature{constructor(e){super(e,ZJ.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,eX.ensure)((0,eX.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:Pht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(ZJ.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(m,f),m=>a.handleFailedRequest(ZJ.DocumentHighlightRequest.type,f,m,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Eht.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};$_.DocumentHighlightFeature=tX});var iX=E(Gf=>{"use strict";var Rht=Gf&&Gf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xht=Gf&&Gf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Oht=Gf&&Gf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Rht(t,e,n[i]);return xht(t,e),t}}();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.DocumentSymbolFeature=Gf.SupportedSymbolTags=Gf.SupportedSymbolKinds=void 0;var Iht=require("vscode"),vs=dn(),rX=Lo(),kht=Oht(ja());Gf.SupportedSymbolKinds=[vs.SymbolKind.File,vs.SymbolKind.Module,vs.SymbolKind.Namespace,vs.SymbolKind.Package,vs.SymbolKind.Class,vs.SymbolKind.Method,vs.SymbolKind.Property,vs.SymbolKind.Field,vs.SymbolKind.Constructor,vs.SymbolKind.Enum,vs.SymbolKind.Interface,vs.SymbolKind.Function,vs.SymbolKind.Variable,vs.SymbolKind.Constant,vs.SymbolKind.String,vs.SymbolKind.Number,vs.SymbolKind.Boolean,vs.SymbolKind.Array,vs.SymbolKind.Object,vs.SymbolKind.Key,vs.SymbolKind.Null,vs.SymbolKind.EnumMember,vs.SymbolKind.Struct,vs.SymbolKind.Event,vs.SymbolKind.Operator,vs.SymbolKind.TypeParameter];Gf.SupportedSymbolTags=[vs.SymbolTag.Deprecated];var nX=class extends rX.TextDocumentLanguageFeature{constructor(e){super(e,vs.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,rX.ensure)((0,rX.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Gf.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Gf.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:kht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(vs.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let m=f[0];return vs.DocumentSymbol.is(m)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(vs.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Iht.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};Gf.DocumentSymbolFeature=nX});var gPe=E(V_=>{"use strict";var Aht=V_&&V_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lht=V_&&V_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mht=V_&&V_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Aht(t,e,n[i]);return Lht(t,e),t}}();Object.defineProperty(V_,"__esModule",{value:!0});V_.WorkspaceSymbolFeature=void 0;var Nht=require("vscode"),aA=dn(),oX=Lo(),mPe=iX(),Fht=Mht(ja()),sX=class extends oX.WorkspaceFeature{constructor(e){super(e,aA.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,oX.ensure)((0,oX.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:mPe.SupportedSymbolKinds},t.tagSupport={valueSet:mPe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Fht.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(aA.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(aA.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(aA.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(aA.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[Nht.languages.registerWorkspaceSymbolProvider(t),t]}};V_.WorkspaceSymbolFeature=sX});var vPe=E(G_=>{"use strict";var qht=G_&&G_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jht=G_&&G_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zht=G_&&G_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qht(t,e,n[i]);return jht(t,e),t}}();Object.defineProperty(G_,"__esModule",{value:!0});G_.ReferencesFeature=void 0;var Uht=require("vscode"),aX=dn(),cX=Lo(),Hht=zht(ja()),uX=class extends cX.TextDocumentLanguageFeature{constructor(e){super(e,aX.ReferencesRequest.type)}fillClientCapabilities(e){(0,cX.ensure)((0,cX.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:Hht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>c.sendRequest(aX.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,m),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(aX.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Uht.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};G_.ReferencesFeature=uX});var yPe=E(Fz=>{"use strict";Object.defineProperty(Fz,"__esModule",{value:!0});Fz.TypeDefinitionFeature=void 0;var Bht=require("vscode"),lX=dn(),cA=Lo(),dX=class extends cA.TextDocumentLanguageFeature{constructor(e){super(e,lX.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,cA.ensure)((0,cA.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,cA.ensure)((0,cA.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(lX.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(lX.TypeDefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Bht.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Fz.TypeDefinitionFeature=dX});var _Pe=E(qz=>{"use strict";Object.defineProperty(qz,"__esModule",{value:!0});qz.ImplementationFeature=void 0;var Wht=require("vscode"),fX=dn(),hX=Lo(),pX=class extends hX.TextDocumentLanguageFeature{constructor(e){super(e,fX.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,hX.ensure)((0,hX.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(fX.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(fX.ImplementationRequest.type,f,m,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Wht.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};qz.ImplementationFeature=pX});var vX=E(jz=>{"use strict";Object.defineProperty(jz,"__esModule",{value:!0});jz.ColorProviderFeature=void 0;var $ht=require("vscode"),uA=dn(),mX=Lo(),gX=class extends mX.TextDocumentLanguageFeature{constructor(e){super(e,uA.DocumentColorRequest.type)}fillClientCapabilities(e){(0,mX.ensure)((0,mX.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(uA.ColorPresentationRequest.type,m,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(uA.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(uA.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(uA.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[$ht.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};jz.ColorProviderFeature=gX});var bPe=E(K_=>{"use strict";var Vht=K_&&K_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ght=K_&&K_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kht=K_&&K_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vht(t,e,n[i]);return Ght(t,e),t}}();Object.defineProperty(K_,"__esModule",{value:!0});K_.CodeActionFeature=void 0;var Yht=require("vscode"),Kf=dn(),Jht=Kht(ja()),yX=Lo(),_X=class extends yX.TextDocumentLanguageFeature{constructor(e){super(e,Kf.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,yX.ensure)((0,yX.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Kf.CodeActionKind.Empty,Kf.CodeActionKind.QuickFix,Kf.CodeActionKind.Refactor,Kf.CodeActionKind.RefactorExtract,Kf.CodeActionKind.RefactorInline,Kf.CodeActionKind.RefactorMove,Kf.CodeActionKind.RefactorRewrite,Kf.CodeActionKind.Source,Kf.CodeActionKind.SourceOrganizeImports,Kf.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[Kf.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:Jht.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(m)};return c.sendRequest(Kf.CodeActionRequest.type,D,_).then(O=>_.isCancellationRequested||O===null||O===void 0?null:c.protocol2CodeConverter.asCodeActionResult(O,_),O=>c.handleFailedRequest(Kf.CodeActionRequest.type,_,O,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Kf.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Kf.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[Yht.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};K_.CodeActionFeature=_X});var SPe=E(Y_=>{"use strict";var Xht=Y_&&Y_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qht=Y_&&Y_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zht=Y_&&Y_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Xht(t,e,n[i]);return Qht(t,e),t}}();Object.defineProperty(Y_,"__esModule",{value:!0});Y_.CodeLensFeature=void 0;var wPe=require("vscode"),MP=dn(),ept=Zht(ja()),lA=Lo(),bX=class extends lA.TextDocumentLanguageFeature{constructor(e){super(e,MP.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,lA.ensure)((0,lA.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,lA.ensure)((0,lA.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(MP.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:ept.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new wPe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(MP.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(MP.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(MP.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(MP.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[wPe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Y_.CodeLensFeature=bX});var CPe=E(tm=>{"use strict";var tpt=tm&&tm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rpt=tm&&tm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),npt=tm&&tm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&tpt(t,e,n[i]);return rpt(t,e),t}}();Object.defineProperty(tm,"__esModule",{value:!0});tm.DocumentOnTypeFormattingFeature=tm.DocumentRangeFormattingFeature=tm.DocumentFormattingFeature=void 0;var zz=require("vscode"),Ty=dn(),TX=npt(ja()),Aw=Lo(),NP;(function(r){function e(t){let n=zz.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(NP||(NP={}));var wX=class extends Aw.TextDocumentLanguageFeature{constructor(e){super(e,Ty.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Aw.ensure)((0,Aw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:TX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,NP.fromConfiguration(l))};return a.sendRequest(Ty.DocumentFormattingRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(Ty.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[zz.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tm.DocumentFormattingFeature=wX;var SX=class extends Aw.TextDocumentLanguageFeature{constructor(e){super(e,Ty.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,Aw.ensure)((0,Aw.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:TX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(m,NP.fromConfiguration(d))};return c.sendRequest(Ty.DocumentRangeFormattingRequest.type,D,_).then(O=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(O,_),O=>c.handleFailedRequest(Ty.DocumentRangeFormattingRequest.type,_,O,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(m,NP.fromConfiguration(d))};return c.sendRequest(Ty.DocumentRangesFormattingRequest.type,D,_).then(O=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(O,_),O=>c.handleFailedRequest(Ty.DocumentRangesFormattingRequest.type,_,O,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[zz.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tm.DocumentRangeFormattingFeature=SX;var CX=class extends Aw.TextDocumentLanguageFeature{constructor(e){super(e,Ty.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Aw.ensure)((0,Aw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:TX.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(m,_,D,O,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(O,NP.fromConfiguration(m))};return l.sendRequest(Ty.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(Ty.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[zz.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};tm.DocumentOnTypeFormattingFeature=CX});var EPe=E(J_=>{"use strict";var ipt=J_&&J_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),opt=J_&&J_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DPe=J_&&J_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ipt(t,e,n[i]);return opt(t,e),t}}();Object.defineProperty(J_,"__esModule",{value:!0});J_.RenameFeature=void 0;var spt=require("vscode"),MD=dn(),apt=DPe(ja()),TPe=DPe(dv()),DX=Lo(),EX=class extends DX.TextDocumentLanguageFeature{constructor(e){super(e,MD.RenameRequest.type)}fillClientCapabilities(e){let t=(0,DX.ensure)((0,DX.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=MD.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(TPe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:apt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:m};return c.sendRequest(MD.RenameRequest.type,D,_).then(O=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(O,_),O=>c.handleFailedRequest(MD.RenameRequest.type,_,O,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(MD.PrepareRenameRequest.type,m,f).then(_=>f.isCancellationRequested?null:MD.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&MD.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return spt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&TPe.boolean(t.defaultBehavior)}};J_.RenameFeature=EX});var xX=E(X_=>{"use strict";var cpt=X_&&X_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),upt=X_&&X_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lpt=X_&&X_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&cpt(t,e,n[i]);return upt(t,e),t}}();Object.defineProperty(X_,"__esModule",{value:!0});X_.DocumentLinkFeature=void 0;var dpt=require("vscode"),dA=dn(),PX=Lo(),fpt=lpt(ja()),RX=class extends PX.TextDocumentLanguageFeature{constructor(e){super(e,dA.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,PX.ensure)((0,PX.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:fpt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(dA.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(dA.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(dA.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(dA.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[dpt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};X_.DocumentLinkFeature=RX});var RPe=E(Q_=>{"use strict";var hpt=Q_&&Q_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ppt=Q_&&Q_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mpt=Q_&&Q_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&hpt(t,e,n[i]);return ppt(t,e),t}}();Object.defineProperty(Q_,"__esModule",{value:!0});Q_.ExecuteCommandFeature=void 0;var gpt=require("vscode"),OX=dn(),vpt=mpt(ja()),PPe=Lo(),IX=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return OX.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,PPe.ensure)((0,PPe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:vpt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(OX.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(OX.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(gpt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Q_.ExecuteCommandFeature=IX});var OPe=E(Uz=>{"use strict";Object.defineProperty(Uz,"__esModule",{value:!0});Uz.FoldingRangeFeature=void 0;var xPe=require("vscode"),ND=dn(),fA=Lo(),kX=class extends fA.TextDocumentLanguageFeature{constructor(e){super(e,ND.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,fA.ensure)((0,fA.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[ND.FoldingRangeKind.Comment,ND.FoldingRangeKind.Imports,ND.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,fA.ensure)((0,fA.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(ND.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new xPe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(ND.FoldingRangeRequest.type,_,m).then(D=>m.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(D,m),D=>c.handleFailedRequest(ND.FoldingRangeRequest.type,m,D,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[xPe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};Uz.FoldingRangeFeature=kX});var NX=E(Hz=>{"use strict";Object.defineProperty(Hz,"__esModule",{value:!0});Hz.DeclarationFeature=void 0;var ypt=require("vscode"),AX=dn(),LX=Lo(),MX=class extends LX.TextDocumentLanguageFeature{constructor(e){super(e,AX.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,LX.ensure)((0,LX.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(AX.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(m,f),m=>a.handleFailedRequest(AX.DeclarationRequest.type,f,m,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return ypt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Hz.DeclarationFeature=MX});var zX=E(Bz=>{"use strict";Object.defineProperty(Bz,"__esModule",{value:!0});Bz.SelectionRangeFeature=void 0;var _pt=require("vscode"),FX=dn(),qX=Lo(),jX=class extends qX.TextDocumentLanguageFeature{constructor(e){super(e,FX.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,qX.ensure)((0,qX.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(FX.SelectionRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(FX.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return _pt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Bz.SelectionRangeFeature=jX});var WX=E(Wz=>{"use strict";Object.defineProperty(Wz,"__esModule",{value:!0});Wz.CallHierarchyFeature=void 0;var bpt=require("vscode"),FD=dn(),UX=Lo(),HX=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(FD.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(FD.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(FD.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(FD.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(FD.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(FD.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},BX=class extends UX.TextDocumentLanguageFeature{constructor(e){super(e,FD.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,UX.ensure)((0,UX.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new HX(t);return[bpt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Wz.CallHierarchyFeature=BX});var kPe=E(Z_=>{"use strict";var wpt=Z_&&Z_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Spt=Z_&&Z_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),IPe=Z_&&Z_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wpt(t,e,n[i]);return Spt(t,e),t}}();Object.defineProperty(Z_,"__esModule",{value:!0});Z_.SemanticTokensFeature=void 0;var $z=IPe(require("vscode")),Fi=dn(),hA=Lo(),Cpt=IPe(dv()),$X=class extends hA.TextDocumentLanguageFeature{constructor(e){super(e,Fi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,hA.ensure)((0,hA.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Fi.SemanticTokenTypes.namespace,Fi.SemanticTokenTypes.type,Fi.SemanticTokenTypes.class,Fi.SemanticTokenTypes.enum,Fi.SemanticTokenTypes.interface,Fi.SemanticTokenTypes.struct,Fi.SemanticTokenTypes.typeParameter,Fi.SemanticTokenTypes.parameter,Fi.SemanticTokenTypes.variable,Fi.SemanticTokenTypes.property,Fi.SemanticTokenTypes.enumMember,Fi.SemanticTokenTypes.event,Fi.SemanticTokenTypes.function,Fi.SemanticTokenTypes.method,Fi.SemanticTokenTypes.macro,Fi.SemanticTokenTypes.keyword,Fi.SemanticTokenTypes.modifier,Fi.SemanticTokenTypes.comment,Fi.SemanticTokenTypes.string,Fi.SemanticTokenTypes.number,Fi.SemanticTokenTypes.regexp,Fi.SemanticTokenTypes.operator,Fi.SemanticTokenTypes.decorator,Fi.SemanticTokenTypes.label],t.tokenModifiers=[Fi.SemanticTokenModifiers.declaration,Fi.SemanticTokenModifiers.definition,Fi.SemanticTokenModifiers.readonly,Fi.SemanticTokenModifiers.static,Fi.SemanticTokenModifiers.deprecated,Fi.SemanticTokenModifiers.abstract,Fi.SemanticTokenModifiers.async,Fi.SemanticTokenModifiers.modification,Fi.SemanticTokenModifiers.documentation,Fi.SemanticTokenModifiers.defaultLibrary],t.formats=[Fi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,hA.ensure)((0,hA.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Fi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=Cpt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new $z.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(m,_)=>{let D=this._client,O=D.middleware,M=(A,U)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(Fi.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(de,U),de=>D.handleFailedRequest(Fi.SemanticTokensRequest.type,U,de,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(m,_,M):M(m,_)},provideDocumentSemanticTokensEdits:i?(m,_,D)=>{let O=this._client,M=O.middleware,A=(U,ne,de)=>{let ye={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return O.sendRequest(Fi.SemanticTokensDeltaRequest.type,ye,de).then(async V=>de.isCancellationRequested?null:Fi.SemanticTokens.is(V)?await O.protocol2CodeConverter.asSemanticTokens(V,de):await O.protocol2CodeConverter.asSemanticTokensEdits(V,de),V=>O.handleFailedRequest(Fi.SemanticTokensDeltaRequest.type,de,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(m,_,D,A):A(m,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(m,_,D)=>{let O=this._client,M=O.middleware,A=(U,ne,de)=>{let ye={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(U),range:O.code2ProtocolConverter.asRange(ne)};return O.sendRequest(Fi.SemanticTokensRangeRequest.type,ye,de).then(V=>de.isCancellationRequested?null:O.protocol2CodeConverter.asSemanticTokens(V,de),V=>O.handleFailedRequest(Fi.SemanticTokensRangeRequest.type,de,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(m,_,D,A):A(m,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push($z.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push($z.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new $z.Disposable(()=>u.forEach(m=>m.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};Z_.SemanticTokensFeature=$X});var LPe=E(eb=>{"use strict";var Tpt=eb&&eb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dpt=eb&&eb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),APe=eb&&eb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Tpt(t,e,n[i]);return Dpt(t,e),t}}();Object.defineProperty(eb,"__esModule",{value:!0});eb.LinkedEditingFeature=void 0;var Ept=APe(require("vscode")),VX=APe(dn()),GX=Lo(),KX=class extends GX.TextDocumentLanguageFeature{constructor(e){super(e,VX.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,GX.ensure)((0,GX.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(VX.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(m,f),m=>a.handleFailedRequest(VX.LinkedEditingRangeRequest.type,f,m,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Ept.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};eb.LinkedEditingFeature=KX});var QX=E(Vz=>{"use strict";Object.defineProperty(Vz,"__esModule",{value:!0});Vz.TypeHierarchyFeature=void 0;var Ppt=require("vscode"),qD=dn(),YX=Lo(),JX=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(qD.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(qD.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(qD.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(qD.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(qD.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(qD.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},XX=class extends YX.TextDocumentLanguageFeature{constructor(e){super(e,qD.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,YX.ensure)((0,YX.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new JX(t);return[Ppt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Vz.TypeHierarchyFeature=XX});var eQ=E(Kz=>{"use strict";Object.defineProperty(Kz,"__esModule",{value:!0});Kz.InlineValueFeature=void 0;var MPe=require("vscode"),Gz=dn(),pA=Lo(),ZX=class extends pA.TextDocumentLanguageFeature{constructor(e){super(e,Gz.InlineValueRequest.type)}fillClientCapabilities(e){(0,pA.ensure)((0,pA.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,pA.ensure)((0,pA.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(Gz.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new MPe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,m,_,D)=>{let O={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(m),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(Gz.InlineValueRequest.type,O,D).then(M=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,D),M=>u.handleFailedRequest(Gz.InlineValueRequest.type,D,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return MPe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Kz.InlineValueFeature=ZX});var FPe=E(Yz=>{"use strict";Object.defineProperty(Yz,"__esModule",{value:!0});Yz.InlayHintsFeature=void 0;var NPe=require("vscode"),FP=dn(),mA=Lo(),tQ=class extends mA.TextDocumentLanguageFeature{constructor(e){super(e,FP.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,mA.ensure)((0,mA.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,mA.ensure)((0,mA.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(FP.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new NPe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(FP.InlayHintRequest.type,_,m);return m.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,m)}catch(D){return c.handleFailedRequest(FP.InlayHintRequest.type,m,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(FP.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let m=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:m}catch(f){return a.handleFailedRequest(FP.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return NPe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Yz.InlayHintsFeature=tQ});var oQ=E(Dy=>{"use strict";var Rpt=Dy&&Dy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xpt=Dy&&Dy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Opt=Dy&&Dy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Rpt(t,e,n[i]);return xpt(t,e),t}}();Object.defineProperty(Dy,"__esModule",{value:!0});Dy.WorkspaceFoldersFeature=void 0;Dy.arrayDiff=nQ;var Ipt=Opt(ja()),Jz=require("vscode"),gA=dn();function rQ(r,e){if(r!=null)return r[e]}function nQ(r,e){return r.filter(t=>e.indexOf(t)<0)}var iQ=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return gA.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=Jz.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(gA.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=Jz.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=rQ(rQ(rQ(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=Ipt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=nQ(this._initialFolders,e),i=nQ(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${gA.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(gA.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=Jz.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${gA.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(Jz.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Dy.WorkspaceFoldersFeature=iQ});var zPe=E(Zu=>{"use strict";var kpt=Zu&&Zu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Apt=Zu&&Zu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zz=Zu&&Zu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&kpt(t,e,n[i]);return Apt(t,e),t}}();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.WillDeleteFilesFeature=Zu.WillRenameFilesFeature=Zu.WillCreateFilesFeature=Zu.DidDeleteFilesFeature=Zu.DidRenameFilesFeature=Zu.DidCreateFilesFeature=void 0;var mv=Zz(require("vscode")),Lpt=Zz(DJ()),Lw=Zz(dn()),Mpt=Zz(ja());function qPe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function Npt(r,e){return r[e]}function jPe(r,e,t){r[e]=t}var vA=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=qPe(qPe(e,"workspace"),"fileOperations");jPe(t,"dynamicRegistration",!0),jPe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?Npt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:Mpt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new Lpt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===mv.FileType.File&&u.kind===Lw.FileOperationPatternKind.file||l===mv.FileType.Directory&&u.kind===Lw.FileOperationPatternKind.folder)return!0}else if(u.kind===Lw.FileOperationPatternKind.folder&&await r.getFileType(s)===mv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await mv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},Xz=class extends vA{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},Qz=class extends Xz{_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await vA.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},sQ=class extends Xz{constructor(e){super(e,mv.workspace.onDidCreateFiles,Lw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Zu.DidCreateFilesFeature=sQ;var aQ=class extends Qz{constructor(e){super(e,mv.workspace.onDidRenameFiles,Lw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=mv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Zu.DidRenameFilesFeature=aQ;var cQ=class extends Qz{constructor(e){super(e,mv.workspace.onDidDeleteFiles,Lw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=mv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Zu.DidDeleteFilesFeature=cQ;var yA=class extends vA{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},uQ=class extends yA{constructor(e){super(e,mv.workspace.onWillCreateFiles,Lw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Zu.WillCreateFilesFeature=uQ;var lQ=class extends yA{constructor(e){super(e,mv.workspace.onWillRenameFiles,Lw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Zu.WillRenameFilesFeature=lQ;var dQ=class extends yA{constructor(e){super(e,mv.workspace.onWillDeleteFiles,Lw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Zu.WillDeleteFilesFeature=dQ});var UPe=E(tb=>{"use strict";var Fpt=tb&&tb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qpt=tb&&tb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jpt=tb&&tb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Fpt(t,e,n[i]);return qpt(t,e),t}}();Object.defineProperty(tb,"__esModule",{value:!0});tb.InlineCompletionItemFeature=void 0;var zpt=require("vscode"),fQ=dn(),hQ=Lo(),Upt=jpt(ja()),pQ=class extends hQ.TextDocumentLanguageFeature{constructor(e){super(e,fQ.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,hQ.ensure)((0,hQ.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:Upt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,m,_)=>c.sendRequest(fQ.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,m),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(D,_),D=>c.handleFailedRequest(fQ.InlineCompletionRequest.type,_,D,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[zpt.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tb.InlineCompletionItemFeature=pQ});var WPe=E(rb=>{"use strict";var Hpt=rb&&rb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bpt=rb&&rb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),BPe=rb&&rb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Hpt(t,e,n[i]);return Bpt(t,e),t}}();Object.defineProperty(rb,"__esModule",{value:!0});rb.TextDocumentContentFeature=void 0;var mQ=BPe(require("vscode")),qP=dn(),HPe=Lo(),Wpt=BPe(ja()),gQ=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:qP.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return qP.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,HPe.ensure)((0,HPe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(qP.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme!==s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=qP.StaticRegistrationOptions.hasId(n)?n.id:Wpt.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:mQ.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new mQ.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(qP.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(qP.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[mQ.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};rb.TextDocumentContentFeature=gQ});var $Pe=E(tU=>{"use strict";Object.defineProperty(tU,"__esModule",{value:!0});tU.FileSystemWatcherFeature=void 0;var $pt=require("vscode"),jD=dn(),eU=Lo(),vQ=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return jD.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,eU.ensure)((0,eU.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,eU.ensure)((0,eU.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&jD.WatchKind.Create)!==0,s=(n.kind&jD.WatchKind.Change)!==0,a=(n.kind&jD.WatchKind.Delete)!==0);let c=$pt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:jD.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:jD.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:jD.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};tU.FileSystemWatcherFeature=vQ});var GPe=E(rU=>{"use strict";Object.defineProperty(rU,"__esModule",{value:!0});rU.ProgressFeature=void 0;var VPe=dn(),Vpt=hJ();function Gpt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var yQ=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:VPe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){Gpt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new Vpt.ProgressPart(this._client,i.token,t))};e.onRequest(VPe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};rU.ProgressFeature=yQ});var PQ=E(ea=>{"use strict";var Kpt=ea&&ea.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ypt=ea&&ea.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oU=ea&&ea.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kpt(t,e,n[i]);return Ypt(t,e),t}}();Object.defineProperty(ea,"__esModule",{value:!0});ea.ProposedFeatures=ea.LanguageClient=ea.BaseLanguageClient=ea.ShutdownMode=ea.MessageTransports=ea.SuspendMode=ea.State=ea.CloseAction=ea.ErrorAction=ea.RevealOutputChannelOn=void 0;var Li=require("vscode"),mr=dn(),Jpt=oU(DEe()),Xpt=oU(wz()),Ey=oU(dv()),nU=gz(),KPe=oU(ja()),Qpt=hJ(),ig=Lo(),Zpt=kz(),bQ=MJ(),YPe=aPe(),jP=cPe(),emt=uPe(),tmt=lPe(),rmt=dPe(),nmt=hPe(),imt=pPe(),omt=iX(),smt=gPe(),amt=vPe(),cmt=yPe(),umt=_Pe(),lmt=vX(),dmt=bPe(),fmt=SPe(),_Q=CPe(),hmt=EPe(),pmt=xX(),mmt=RPe(),gmt=OPe(),vmt=NX(),ymt=zX(),_mt=WX(),bmt=kPe(),wmt=LPe(),Smt=QX(),Cmt=eQ(),Tmt=FPe(),Dmt=oQ(),zP=zPe(),Emt=UPe(),Pmt=WPe(),Rmt=$Pe(),xmt=GPe(),zD;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(zD||(ea.RevealOutputChannelOn=zD={}));var _A;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(_A||(ea.ErrorAction=_A={}));var zC;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(zC||(ea.CloseAction=zC={}));var UP;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(UP||(ea.State=UP={}));var JPe;(function(r){r.off="off",r.on="on"})(JPe||(ea.SuspendMode=JPe={}));var wQ;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&Ey.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(wQ||(wQ={}));var SQ=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:_A.Continue}:{action:_A.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:zC.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:zC.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:zC.Restart})}},no;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(no||(no={}));var XPe;(function(r){function e(t){return t&&mr.MessageReader.is(t.reader)&&mr.MessageWriter.is(t.writer)}r.is=e})(XPe||(ea.MessageTransports=XPe={}));var jC;(function(r){r.Restart="restart",r.Stop="stop"})(jC||(ea.ShutdownMode=jC={}));var CQ=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Li.EventEmitter,this._onClose=new Li.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Li.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Li.Uri.parse(c));this._onOpen.fire(a)}};Li.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Li.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Li.Uri?Li.window.activeTextEditor?.document.uri===e:Li.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Li.Uri?e:e.uri;return t.scheme===bQ.NotebookDocumentSyncFeature.CellScheme?Li.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Li.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Li.TabInputText?a=s.uri:s instanceof Li.TabInputTextDiff?a=s.modified:(s instanceof Li.TabInputCustom||s instanceof Li.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},iU=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=mr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=wQ.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??zD.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=no.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new nU.Semaphore(1),this._pendingChangeDelayer=new nU.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new nU.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new mr.Emitter,this._stateChangeEmitter=new mr.Emitter,this._trace=mr.Trace.Off,this._tracer={log:(o,s)=>{Ey.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=Jpt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Xpt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new CQ),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Li.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case no.Starting:return UP.Starting;case no.Running:return UP.Running;case no.StartFailed:return UP.StartFailed;default:return UP.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?mr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new mr.ResponseError(mr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===mr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===mr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o),n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let a=this._clientOptions.middleware?.sendNotification;return a?a(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===no.StartFailed||this.$state===no.Stopping||this.$state===no.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new SQ(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Ey.string(e.stack)?e.stack:e.message:Ey.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(mr.MessageType.Debug,zD.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(mr.MessageType.Info,zD.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(mr.MessageType.Warning,zD.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(mr.MessageType.Error,zD.Error,"Error",e,t,n)}logOutputMessage(e,t,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i,o)}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===mr.MessageType.Error?Li.window.showErrorMessage:e===mr.MessageType.Warning?Li.window.showWarningMessage:Li.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===no.Initial||this.$state===no.Stopping||this.$state===no.Stopped}needsStop(){return this.$state===no.Starting||this.$state===no.Running}activeConnection(){return this.$state===no.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===no.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===no.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Li.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=no.Starting;try{let i=await this.createConnection();i.onNotification(mr.LogMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:this.error(o.message,void 0,!1);break;case mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case mr.MessageType.Info:this.info(o.message,void 0,!1);break;case mr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(mr.ShowMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:Li.window.showErrorMessage(o.message);break;case mr.MessageType.Warning:Li.window.showWarningMessage(o.message);break;case mr.MessageType.Info:Li.window.showInformationMessage(o.message);break;default:Li.window.showInformationMessage(o.message)}}),i.onRequest(mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case mr.MessageType.Error:s=Li.window.showErrorMessage;break;case mr.MessageType.Warning:s=Li.window.showWarningMessage;break;case mr.MessageType.Info:s=Li.window.showInformationMessage;break;default:s=Li.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(mr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Li.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Li.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=no.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Li.env.appName,version:Li.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Li.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Ey.func(t)?t():t,trace:mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=KPe.generateUuid(),a=new Qpt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=no.Running;let i;Ey.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===mr.TextDocumentSyncKind.None?i={openClose:!1,change:mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof mr.ResponseError&&n.data&&n.data.retry?Li.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Li.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Li.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(jC.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===no.Stopped||this.$state===no.Initial)return;if(this.$state===no.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==no.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=no.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=no.Stopped,e===jC.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===jC.Stop||e===jC.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(mr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(mr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,mr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Li.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Li.env.language}async $start(){if(this.$state===no.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=Omt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===no.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:zC.DoNotRestart};if(this.$state!==no.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===zC.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(jC.Stop),this.$state===no.Starting?this.$state=no.StartFailed:this.$state=no.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===zC.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(jC.Restart),this.$state=no.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===_A.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Li.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Li.workspace.getConfiguration(this._id),i=mr.Trace.Off,o=mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=mr.Trace.fromString(s):(i=mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;Ey.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(mr.DidChangeWatchedFilesNotification.type.method).registerRaw(KPe.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),ig.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof bQ.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new YPe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new jP.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new jP.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new jP.WillSaveFeature(this)),this.registerFeature(new jP.WillSaveWaitUntilFeature(this)),this.registerFeature(new jP.DidSaveTextDocumentFeature(this)),this.registerFeature(new jP.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new Rmt.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new emt.CompletionItemFeature(this)),this.registerFeature(new tmt.HoverFeature(this)),this.registerFeature(new nmt.SignatureHelpFeature(this)),this.registerFeature(new rmt.DefinitionFeature(this)),this.registerFeature(new amt.ReferencesFeature(this)),this.registerFeature(new imt.DocumentHighlightFeature(this)),this.registerFeature(new omt.DocumentSymbolFeature(this)),this.registerFeature(new smt.WorkspaceSymbolFeature(this)),this.registerFeature(new dmt.CodeActionFeature(this)),this.registerFeature(new fmt.CodeLensFeature(this)),this.registerFeature(new _Q.DocumentFormattingFeature(this)),this.registerFeature(new _Q.DocumentRangeFormattingFeature(this)),this.registerFeature(new _Q.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new hmt.RenameFeature(this)),this.registerFeature(new pmt.DocumentLinkFeature(this)),this.registerFeature(new mmt.ExecuteCommandFeature(this)),this.registerFeature(new YPe.SyncConfigurationFeature(this)),this.registerFeature(new cmt.TypeDefinitionFeature(this)),this.registerFeature(new umt.ImplementationFeature(this)),this.registerFeature(new lmt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new Dmt.WorkspaceFoldersFeature(this)),this.registerFeature(new gmt.FoldingRangeFeature(this)),this.registerFeature(new vmt.DeclarationFeature(this)),this.registerFeature(new ymt.SelectionRangeFeature(this)),this.registerFeature(new xmt.ProgressFeature(this)),this.registerFeature(new _mt.CallHierarchyFeature(this)),this.registerFeature(new bmt.SemanticTokensFeature(this)),this.registerFeature(new wmt.LinkedEditingFeature(this)),this.registerFeature(new zP.DidCreateFilesFeature(this)),this.registerFeature(new zP.DidRenameFilesFeature(this)),this.registerFeature(new zP.DidDeleteFilesFeature(this)),this.registerFeature(new zP.WillCreateFilesFeature(this)),this.registerFeature(new zP.WillRenameFilesFeature(this)),this.registerFeature(new zP.WillDeleteFilesFeature(this)),this.registerFeature(new Smt.TypeHierarchyFeature(this)),this.registerFeature(new Cmt.InlineValueFeature(this)),this.registerFeature(new Tmt.InlayHintsFeature(this)),this.registerFeature(new Zpt.DiagnosticFeature(this)),this.registerFeature(new bQ.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(EQ.createAll(this))}fillInitializeParams(e){for(let t of this._features)Ey.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,ig.ensure)(e,"workspace").applyEdit=!0;let t=(0,ig.ensure)((0,ig.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[mr.ResourceOperationKind.Create,mr.ResourceOperationKind.Rename,mr.ResourceOperationKind.Delete],t.failureHandling=mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,ig.ensure)((0,ig.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[mr.DiagnosticTag.Unnecessary,mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,ig.ensure)((0,ig.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,ig.ensure)(e,"window"),s=(0,ig.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,ig.ensure)(o,"showDocument");a.support=!0;let c=(0,ig.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)Ey.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof mr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new nU.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Li.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):Ey.asPromise(Li.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([mr.SemanticTokensRequest.method,mr.SemanticTokensRangeRequest.method,mr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([mr.CompletionResolveRequest.method,mr.CodeLensResolveRequest.method,mr.CodeActionResolveRequest.method,mr.InlayHintResolveRequest.method,mr.DocumentLinkResolveRequest.method,mr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof mr.ResponseError){if(n.code===mr.ErrorCodes.PendingResponseRejected||n.code===mr.ErrorCodes.ConnectionInactive)return i;if(n.code===mr.LSPErrorCodes.RequestCancelled||n.code===mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new ig.LSPCancellationError(n.data):new Li.CancellationError}else if(n.code===mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Li.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};ea.BaseLanguageClient=iU;var TQ=class extends iU{serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};ea.LanguageClient=TQ;var DQ=class{error(e){(0,mr.RAL)().console.error(e)}warn(e){(0,mr.RAL)().console.warn(e)}info(e){(0,mr.RAL)().console.info(e)}log(e){(0,mr.RAL)().console.log(e)}};function Omt(r,e,t,n,i){let o=new DQ,s=(0,mr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:mr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(Ey.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(mr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(mr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(mr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var EQ;(function(r){function e(t){return[new Emt.InlineCompletionItemFeature(t),new Pmt.TextDocumentContentFeature(t)]}r.createAll=e})(EQ||(ea.ProposedFeatures=EQ={}))});var ZPe=E(Mw=>{"use strict";var Imt=Mw&&Mw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kmt=Mw&&Mw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Amt=Mw&&Mw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Imt(t,e,n[i]);return kmt(t,e),t}}();Object.defineProperty(Mw,"__esModule",{value:!0});Mw.terminate=qmt;var QPe=Amt(require("child_process")),Lmt=require("path"),Mmt=process.platform==="win32",Nmt=process.platform==="darwin",Fmt=process.platform==="linux";function qmt(r,e){if(Mmt)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),QPe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(Fmt||Nmt)try{let t=(0,Lmt.join)(__dirname,"terminateProcess.sh");return!QPe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var rRe=E(kQ=>{"use strict";Object.defineProperty(kQ,"__esModule",{value:!0});var eRe=require("util"),Nw=Xu(),RQ=class r extends Nw.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new eRe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},xQ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Nw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Nw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Nw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Nw.Disposable.create(()=>this.stream.off("data",e))}},OQ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Nw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Nw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Nw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},tRe=Object.freeze({messageBuffer:Object.freeze({create:r=>new RQ(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new eRe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new xQ(r),asWritableStream:r=>new OQ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function IQ(){return tRe}(function(r){function e(){Nw.RAL.install(tRe)}r.install=e})(IQ||(IQ={}));kQ.default=IQ});var qQ=E(Mo=>{"use strict";var iRe=Mo&&Mo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jmt=Mo&&Mo.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FQ=Mo&&Mo.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&iRe(t,e,n[i]);return jmt(t,e),t}}(),zmt=Mo&&Mo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iRe(e,r,t)},Umt=Mo&&Mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.StreamMessageWriter=Mo.StreamMessageReader=Mo.SocketMessageWriter=Mo.SocketMessageReader=Mo.PortMessageWriter=Mo.PortMessageReader=Mo.IPCMessageWriter=Mo.IPCMessageReader=void 0;Mo.generateRandomPipeName=Gmt;Mo.createClientPipeTransport=Kmt;Mo.createServerPipeTransport=Ymt;Mo.createClientSocketTransport=Jmt;Mo.createServerSocketTransport=Xmt;Mo.createMessageConnection=egt;var bA=Umt(rRe());bA.default.install();var Hmt=FQ(require("path")),Bmt=FQ(require("os")),Wmt=FQ(require("fs")),nRe=require("crypto"),cU=require("net"),og=Xu();zmt(Xu(),Mo);var AQ=class extends og.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),og.Disposable.create(()=>this.process.off("message",e))}};Mo.IPCMessageReader=AQ;var LQ=class extends og.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.IPCMessageWriter=LQ;var MQ=class extends og.AbstractMessageReader{onData;constructor(e){super(),this.onData=new og.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Mo.PortMessageReader=MQ;var NQ=class extends og.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Mo.PortMessageWriter=NQ;var UD=class extends og.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,bA.default)().stream.asReadableStream(e),t)}};Mo.SocketMessageReader=UD;var HD=class extends og.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,bA.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Mo.SocketMessageWriter=HD;var sU=class extends og.ReadableStreamMessageReader{constructor(e,t){super((0,bA.default)().stream.asReadableStream(e),t)}};Mo.StreamMessageReader=sU;var aU=class extends og.WriteableStreamMessageWriter{constructor(e,t){super((0,bA.default)().stream.asWritableStream(e),t)}};Mo.StreamMessageWriter=aU;var $mt=process.env.XDG_RUNTIME_DIR,Vmt=new Map([["linux",107],["darwin",103]]);function Gmt(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,nRe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=Wmt.realpathSync($mt??Bmt.tmpdir()),n=Vmt.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,nRe.randomBytes)(Math.floor(r/2)).toString("hex");return Hmt.join(t,`lsp-${i}.sock`)}function Kmt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,cU.createServer)(a=>{s.close(),t([new UD(a,e),new HD(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function Ymt(r,e="utf-8"){let t=(0,cU.createConnection)(r);return[new UD(t,e),new HD(t,e)]}function Jmt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,cU.createServer)(a=>{s.close(),t([new UD(a,e),new HD(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function Xmt(r,e="utf-8"){let t=(0,cU.createConnection)(r,"127.0.0.1");return[new UD(t,e),new HD(t,e)]}function Qmt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function Zmt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function egt(r,e,t,n){t||(t=og.NullLogger);let i=Qmt(r)?new sU(r):r,o=Zmt(e)?new aU(e):e;return og.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,og.createMessageConnection)(i,o,t,n)}});var jQ=E(Fw=>{"use strict";var tgt=Fw&&Fw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oRe=Fw&&Fw.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tgt(e,r,t)};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.createProtocolConnection=ngt;var rgt=qQ();oRe(qQ(),Fw);oRe(dn(),Fw);function ngt(r,e,t,n){return(0,rgt.createMessageConnection)(r,e,t,n)}});var wA=E((i3t,sRe)=>{var igt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};sRe.exports=igt});var uU=E((o3t,aRe)=>{var ogt="2.0.0",sgt=Number.MAX_SAFE_INTEGER||9007199254740991,agt=16,cgt=250,ugt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];aRe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:agt,MAX_SAFE_BUILD_LENGTH:cgt,MAX_SAFE_INTEGER:sgt,RELEASE_TYPES:ugt,SEMVER_SPEC_VERSION:ogt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var lU=E((nb,cRe)=>{var{MAX_SAFE_COMPONENT_LENGTH:zQ,MAX_SAFE_BUILD_LENGTH:lgt,MAX_LENGTH:dgt}=uU(),fgt=wA();nb=cRe.exports={};var hgt=nb.re=[],pgt=nb.safeRe=[],en=nb.src=[],mgt=nb.safeSrc=[],tn=nb.t={},ggt=0,UQ="[a-zA-Z0-9-]",vgt=[["\\s",1],["\\d",dgt],[UQ,lgt]],ygt=r=>{for(let[e,t]of vgt)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Ui=(r,e,t)=>{let n=ygt(e),i=ggt++;fgt(r,i,e),tn[r]=i,en[i]=e,mgt[i]=n,hgt[i]=new RegExp(e,t?"g":void 0),pgt[i]=new RegExp(n,t?"g":void 0)};Ui("NUMERICIDENTIFIER","0|[1-9]\\d*");Ui("NUMERICIDENTIFIERLOOSE","\\d+");Ui("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${UQ}*`);Ui("MAINVERSION",`(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})`);Ui("MAINVERSIONLOOSE",`(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})`);Ui("PRERELEASEIDENTIFIER",`(?:${en[tn.NUMERICIDENTIFIER]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASEIDENTIFIERLOOSE",`(?:${en[tn.NUMERICIDENTIFIERLOOSE]}|${en[tn.NONNUMERICIDENTIFIER]})`);Ui("PRERELEASE",`(?:-(${en[tn.PRERELEASEIDENTIFIER]}(?:\\.${en[tn.PRERELEASEIDENTIFIER]})*))`);Ui("PRERELEASELOOSE",`(?:-?(${en[tn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${en[tn.PRERELEASEIDENTIFIERLOOSE]})*))`);Ui("BUILDIDENTIFIER",`${UQ}+`);Ui("BUILD",`(?:\\+(${en[tn.BUILDIDENTIFIER]}(?:\\.${en[tn.BUILDIDENTIFIER]})*))`);Ui("FULLPLAIN",`v?${en[tn.MAINVERSION]}${en[tn.PRERELEASE]}?${en[tn.BUILD]}?`);Ui("FULL",`^${en[tn.FULLPLAIN]}$`);Ui("LOOSEPLAIN",`[v=\\s]*${en[tn.MAINVERSIONLOOSE]}${en[tn.PRERELEASELOOSE]}?${en[tn.BUILD]}?`);Ui("LOOSE",`^${en[tn.LOOSEPLAIN]}$`);Ui("GTLT","((?:<|>)?=?)");Ui("XRANGEIDENTIFIERLOOSE",`${en[tn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ui("XRANGEIDENTIFIER",`${en[tn.NUMERICIDENTIFIER]}|x|X|\\*`);Ui("XRANGEPLAIN",`[v=\\s]*(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:${en[tn.PRERELEASE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGEPLAINLOOSE",`[v=\\s]*(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:${en[tn.PRERELEASELOOSE]})?${en[tn.BUILD]}?)?)?`);Ui("XRANGE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAIN]}$`);Ui("XRANGELOOSE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COERCEPLAIN",`(^|[^\\d])(\\d{1,${zQ}})(?:\\.(\\d{1,${zQ}}))?(?:\\.(\\d{1,${zQ}}))?`);Ui("COERCE",`${en[tn.COERCEPLAIN]}(?:$|[^\\d])`);Ui("COERCEFULL",en[tn.COERCEPLAIN]+`(?:${en[tn.PRERELEASE]})?(?:${en[tn.BUILD]})?(?:$|[^\\d])`);Ui("COERCERTL",en[tn.COERCE],!0);Ui("COERCERTLFULL",en[tn.COERCEFULL],!0);Ui("LONETILDE","(?:~>?)");Ui("TILDETRIM",`(\\s*)${en[tn.LONETILDE]}\\s+`,!0);nb.tildeTrimReplace="$1~";Ui("TILDE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAIN]}$`);Ui("TILDELOOSE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("LONECARET","(?:\\^)");Ui("CARETTRIM",`(\\s*)${en[tn.LONECARET]}\\s+`,!0);nb.caretTrimReplace="$1^";Ui("CARET",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAIN]}$`);Ui("CARETLOOSE",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAINLOOSE]}$`);Ui("COMPARATORLOOSE",`^${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]})$|^$`);Ui("COMPARATOR",`^${en[tn.GTLT]}\\s*(${en[tn.FULLPLAIN]})$|^$`);Ui("COMPARATORTRIM",`(\\s*)${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]}|${en[tn.XRANGEPLAIN]})`,!0);nb.comparatorTrimReplace="$1$2$3";Ui("HYPHENRANGE",`^\\s*(${en[tn.XRANGEPLAIN]})\\s+-\\s+(${en[tn.XRANGEPLAIN]})\\s*$`);Ui("HYPHENRANGELOOSE",`^\\s*(${en[tn.XRANGEPLAINLOOSE]})\\s+-\\s+(${en[tn.XRANGEPLAINLOOSE]})\\s*$`);Ui("STAR","(<|>)?=?\\s*\\*");Ui("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ui("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var dU=E((s3t,uRe)=>{var _gt=Object.freeze({loose:!0}),bgt=Object.freeze({}),wgt=r=>r?typeof r!="object"?_gt:r:bgt;uRe.exports=wgt});var hRe=E((a3t,fRe)=>{var lRe=/^[0-9]+$/,dRe=(r,e)=>{let t=lRe.test(r),n=lRe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Sgt=(r,e)=>dRe(e,r);fRe.exports={compareIdentifiers:dRe,rcompareIdentifiers:Sgt}});var SA=E((c3t,vRe)=>{var fU=wA(),{MAX_LENGTH:pRe,MAX_SAFE_INTEGER:hU}=uU(),{safeRe:mRe,safeSrc:gRe,t:pU}=lU(),Cgt=dU(),{compareIdentifiers:HP}=hRe(),HQ=class r{constructor(e,t){if(t=Cgt(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>pRe)throw new TypeError(`version is longer than ${pRe} characters`);fU("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?mRe[pU.LOOSE]:mRe[pU.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>hU||this.major<0)throw new TypeError("Invalid major version");if(this.minor>hU||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>hU||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<hU)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(fU("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),HP(this.major,e.major)||HP(this.minor,e.minor)||HP(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(fU("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return HP(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(fU("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return HP(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?gRe[pU.PRERELEASELOOSE]:gRe[pU.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),HP(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};vRe.exports=HQ});var bRe=E((u3t,_Re)=>{var yRe=SA(),Tgt=(r,e,t=!1)=>{if(r instanceof yRe)return r;try{return new yRe(r,e)}catch(n){if(!t)return null;throw n}};_Re.exports=Tgt});var SRe=E((l3t,wRe)=>{var BQ=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};wRe.exports=BQ});var BD=E((d3t,TRe)=>{var CRe=SA(),Dgt=(r,e,t)=>new CRe(r,t).compare(new CRe(e,t));TRe.exports=Dgt});var ERe=E((f3t,DRe)=>{var Egt=BD(),Pgt=(r,e,t)=>Egt(r,e,t)===0;DRe.exports=Pgt});var RRe=E((h3t,PRe)=>{var Rgt=BD(),xgt=(r,e,t)=>Rgt(r,e,t)!==0;PRe.exports=xgt});var ORe=E((p3t,xRe)=>{var Ogt=BD(),Igt=(r,e,t)=>Ogt(r,e,t)>0;xRe.exports=Igt});var kRe=E((m3t,IRe)=>{var kgt=BD(),Agt=(r,e,t)=>kgt(r,e,t)>=0;IRe.exports=Agt});var LRe=E((g3t,ARe)=>{var Lgt=BD(),Mgt=(r,e,t)=>Lgt(r,e,t)<0;ARe.exports=Mgt});var NRe=E((v3t,MRe)=>{var Ngt=BD(),Fgt=(r,e,t)=>Ngt(r,e,t)<=0;MRe.exports=Fgt});var qRe=E((y3t,FRe)=>{var qgt=ERe(),jgt=RRe(),zgt=ORe(),Ugt=kRe(),Hgt=LRe(),Bgt=NRe(),Wgt=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return qgt(r,t,n);case"!=":return jgt(r,t,n);case">":return zgt(r,t,n);case">=":return Ugt(r,t,n);case"<":return Hgt(r,t,n);case"<=":return Bgt(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};FRe.exports=Wgt});var $Re=E((_3t,WRe)=>{var CA=Symbol("SemVer ANY"),VQ=class r{static get ANY(){return CA}constructor(e,t){if(t=jRe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),$Q("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===CA?this.value="":this.value=this.operator+this.semver.version,$Q("comp",this)}parse(e){let t=this.options.loose?zRe[URe.COMPARATORLOOSE]:zRe[URe.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new HRe(n[2],this.options.loose):this.semver=CA}toString(){return this.value}test(e){if($Q("Comparator.test",e,this.options.loose),this.semver===CA||e===CA)return!0;if(typeof e=="string")try{e=new HRe(e,this.options)}catch{return!1}return WQ(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new BRe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new BRe(this.value,t).test(e.semver):(t=jRe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||WQ(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||WQ(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};WRe.exports=VQ;var jRe=dU(),{safeRe:zRe,t:URe}=lU(),WQ=qRe(),$Q=wA(),HRe=SA(),BRe=GQ()});var GQ=E((b3t,YRe)=>{var $gt=/\s+/g,KQ=class r{constructor(e,t){if(t=Ggt(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof YQ)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace($gt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!GRe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&evt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Qgt)|(this.options.loose&&Zgt))+":"+e,i=VRe.get(n);if(i)return i;let o=this.options.loose,s=o?rm[Yh.HYPHENRANGELOOSE]:rm[Yh.HYPHENRANGE];e=e.replace(s,lvt(this.options.includePrerelease)),Ua("hyphen replace",e),e=e.replace(rm[Yh.COMPARATORTRIM],Ygt),Ua("comparator trim",e),e=e.replace(rm[Yh.TILDETRIM],Jgt),Ua("tilde trim",e),e=e.replace(rm[Yh.CARETTRIM],Xgt),Ua("caret trim",e);let a=e.split(" ").map(d=>tvt(d,this.options)).join(" ").split(/\s+/).map(d=>uvt(d,this.options));o&&(a=a.filter(d=>(Ua("loose invalid filter",d,this.options),!!d.match(rm[Yh.COMPARATORLOOSE])))),Ua("range list",a);let c=new Map,u=a.map(d=>new YQ(d,this.options));for(let d of u){if(GRe(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return VRe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>KRe(n,t)&&e.set.some(i=>KRe(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Kgt(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(dvt(this.set[t],e,this.options))return!0;return!1}};YRe.exports=KQ;var Vgt=SRe(),VRe=new Vgt,Ggt=dU(),YQ=$Re(),Ua=wA(),Kgt=SA(),{safeRe:rm,t:Yh,comparatorTrimReplace:Ygt,tildeTrimReplace:Jgt,caretTrimReplace:Xgt}=lU(),{FLAG_INCLUDE_PRERELEASE:Qgt,FLAG_LOOSE:Zgt}=uU(),GRe=r=>r.value==="<0.0.0-0",evt=r=>r.value==="",KRe=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},tvt=(r,e)=>(Ua("comp",r,e),r=ivt(r,e),Ua("caret",r),r=rvt(r,e),Ua("tildes",r),r=svt(r,e),Ua("xrange",r),r=cvt(r,e),Ua("stars",r),r),Jh=r=>!r||r.toLowerCase()==="x"||r==="*",rvt=(r,e)=>r.trim().split(/\s+/).map(t=>nvt(t,e)).join(" "),nvt=(r,e)=>{let t=e.loose?rm[Yh.TILDELOOSE]:rm[Yh.TILDE];return r.replace(t,(n,i,o,s,a)=>{Ua("tilde",r,n,i,o,s,a);let c;return Jh(i)?c="":Jh(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Jh(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Ua("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ua("tilde return",c),c})},ivt=(r,e)=>r.trim().split(/\s+/).map(t=>ovt(t,e)).join(" "),ovt=(r,e)=>{Ua("caret",r,e);let t=e.loose?rm[Yh.CARETLOOSE]:rm[Yh.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Ua("caret",r,i,o,s,a,c);let u;return Jh(o)?u="":Jh(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Jh(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Ua("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Ua("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Ua("caret return",u),u})},svt=(r,e)=>(Ua("replaceXRanges",r,e),r.split(/\s+/).map(t=>avt(t,e)).join(" ")),avt=(r,e)=>{r=r.trim();let t=e.loose?rm[Yh.XRANGELOOSE]:rm[Yh.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Ua("xRange",r,n,i,o,s,a,c);let u=Jh(o),l=u||Jh(s),d=l||Jh(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Ua("xRange return",n),n})},cvt=(r,e)=>(Ua("replaceStars",r,e),r.trim().replace(rm[Yh.STAR],"")),uvt=(r,e)=>(Ua("replaceGTE0",r,e),r.trim().replace(rm[e.includePrerelease?Yh.GTE0PRE:Yh.GTE0],"")),lvt=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>(Jh(n)?t="":Jh(i)?t=`>=${n}.0.0${r?"-0":""}`:Jh(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Jh(u)?c="":Jh(l)?c=`<${+u+1}.0.0-0`:Jh(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),dvt=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ua(r[n].semver),r[n].semver!==YQ.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var XRe=E((w3t,JRe)=>{var fvt=GQ(),hvt=(r,e,t)=>{try{e=new fvt(e,t)}catch{return!1}return e.test(r)};JRe.exports=hvt});var mU=E(sg=>{"use strict";var pvt=sg&&sg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JQ=sg&&sg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&pvt(e,r,t)};Object.defineProperty(sg,"__esModule",{value:!0});sg.DiagnosticPullMode=sg.vsdiag=void 0;JQ(dn(),sg);JQ(Lo(),sg);var QRe=kz();Object.defineProperty(sg,"vsdiag",{enumerable:!0,get:function(){return QRe.vsdiag}});Object.defineProperty(sg,"DiagnosticPullMode",{enumerable:!0,get:function(){return QRe.DiagnosticPullMode}});JQ(PQ(),sg)});var jw=E(hd=>{"use strict";var txe=hd&&hd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mvt=hd&&hd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gU=hd&&hd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&txe(t,e,n[i]);return mvt(t,e),t}}(),rxe=hd&&hd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&txe(e,r,t)};Object.defineProperty(hd,"__esModule",{value:!0});hd.SettingMonitor=hd.LanguageClient=hd.TransportKind=void 0;var qw=gU(require("child_process")),XQ=gU(require("fs")),QQ=gU(require("path")),HC=require("vscode"),mc=gU(dv()),ZRe=PQ(),gvt=ZPe(),Hc=jQ(),vvt=bRe(),yvt=XRe();rxe(jQ(),hd);rxe(mU(),hd);var exe="^1.91.0",Bc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Bc||(hd.TransportKind=Bc={}));var UC;(function(r){function e(t){let n=t;return n&&n.kind===Bc.socket&&mc.number(n.port)}r.isSocket=e})(UC||(UC={}));var ZQ;(function(r){function e(t){return mc.string(t.command)}r.is=e})(ZQ||(ZQ={}));var eZ;(function(r){function e(t){return mc.string(t.module)}r.is=e})(eZ||(eZ={}));var tZ;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(tZ||(tZ={}));var rZ;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(rZ||(rZ={}));var nZ=class extends ZRe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;mc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw mc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=vvt(HC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${HC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!yvt(e,exe))throw new Error(`The language client requires VS Code version ${exe} but received version ${HC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,gvt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(m=>f[m]=process.env[m]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(m=>f[m]=l[m]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(mc.func(a))return a().then(l=>{if(ZRe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(tZ.is(l))return this._isDetached=!!l.detached,{reader:new Hc.StreamMessageReader(l.reader),writer:new Hc.StreamMessageWriter(l.writer)};{let d;return rZ.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(mc.string(f)?f:f.toString(e))),{reader:new Hc.StreamMessageReader(d.stdout),writer:new Hc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(eZ.is(c)&&c.module){let d=c,f=d.transport||Bc.stdio;if(d.runtime){let m=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>m.push(A)),m.push(d.module),d.args&&d.args.forEach(A=>m.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let O=this._getRuntimePath(d.runtime,l),M;if(f===Bc.ipc?(D.stdio=[null,null,null,"ipc"],m.push("--node-ipc")):f===Bc.stdio?m.push("--stdio"):f===Bc.pipe?(M=(0,Hc.generateRandomPipeName)(),m.push(`--pipe=${M}`)):UC.isSocket(f)&&m.push(`--socket=${f.port}`),m.push(`--clientProcessId=${process.pid.toString()}`),f===Bc.ipc||f===Bc.stdio){let A=qw.spawn(O,m,D);return!A||!A.pid?BP(A,`Launching server using runtime ${O} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(mc.string(U)?U:U.toString(e))),f===Bc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(mc.string(U)?U:U.toString(e))),Promise.resolve({reader:new Hc.IPCMessageReader(A),writer:new Hc.IPCMessageWriter(A)})):Promise.resolve({reader:new Hc.StreamMessageReader(A.stdout),writer:new Hc.StreamMessageWriter(A.stdin)}))}else{if(f===Bc.pipe)return(0,Hc.createClientPipeTransport)(M).then(A=>{let U=qw.spawn(O,m,D);return!U||!U.pid?BP(U,`Launching server using runtime ${O} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(UC.isSocket(f))return(0,Hc.createClientSocketTransport)(f.port).then(A=>{let U=qw.spawn(O,m,D);return!U||!U.pid?BP(U,`Launching server using runtime ${O} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let m;return new Promise((_,D)=>{let O=(d.args&&d.args.slice())??[];f===Bc.ipc?O.push("--node-ipc"):f===Bc.stdio?O.push("--stdio"):f===Bc.pipe?(m=(0,Hc.generateRandomPipeName)(),O.push(`--pipe=${m}`)):UC.isSocket(f)&&O.push(`--socket=${f.port}`),O.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===Bc.ipc||f===Bc.stdio){let A=qw.fork(d.module,O||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(mc.string(U)?U:U.toString(e))),f===Bc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(mc.string(U)?U:U.toString(e))),_({reader:new Hc.IPCMessageReader(this._serverProcess),writer:new Hc.IPCMessageWriter(this._serverProcess)})):_({reader:new Hc.StreamMessageReader(A.stdout),writer:new Hc.StreamMessageWriter(A.stdin)})}else f===Bc.pipe?(0,Hc.createClientPipeTransport)(m).then(A=>{let U=qw.fork(d.module,O||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D):UC.isSocket(f)&&(0,Hc.createClientSocketTransport)(f.port).then(A=>{let U=qw.fork(d.module,O||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(mc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D)})}}else if(ZQ.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],m,_=c.transport;if(_===Bc.stdio)f.push("--stdio");else if(_===Bc.pipe)m=(0,Hc.generateRandomPipeName)(),f.push(`--pipe=${m}`);else if(UC.isSocket(_))f.push(`--socket=${_.port}`);else if(_===Bc.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===Bc.stdio){let O=qw.spawn(d.command,f,D);return!O||!O.pid?BP(O,`Launching server using command ${d.command} failed.`):(O.stderr.on("data",M=>this.outputChannel.append(mc.string(M)?M:M.toString(e))),this._serverProcess=O,this._isDetached=!!D.detached,Promise.resolve({reader:new Hc.StreamMessageReader(O.stdout),writer:new Hc.StreamMessageWriter(O.stdin)}))}else{if(_===Bc.pipe)return(0,Hc.createClientPipeTransport)(m).then(O=>{let M=qw.spawn(d.command,f,D);return!M||!M.pid?BP(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(mc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(mc.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(UC.isSocket(_))return(0,Hc.createClientSocketTransport)(_.port).then(O=>{let M=qw.spawn(d.command,f,D);return!M||!M.pid?BP(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(mc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(mc.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,d)=>{l===0?this.info("Server process exited successfully",void 0,!1):l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,t){if(QQ.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=QQ.join(n,e);if(XQ.existsSync(i))return i}if(t!==void 0){let i=QQ.join(t,e);if(XQ.existsSync(i))return i}return e}_mainGetRootPath(){let e=HC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{XQ.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};hd.LanguageClient=nZ;var iZ=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return HC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new HC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?HC.workspace.getConfiguration(t).get(n,!1):HC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};hd.SettingMonitor=iZ;function BP(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var Cxe=E((wxe,Sxe)=>{wxe=Sxe.exports=function(r){for(var e=0;e<r.length;){if(r[e]==9||r[e]==10||r[e]==13||32<=r[e]&&r[e]<=126){e+=1;continue}if(194<=r[e]&&r[e]<=223&&128<=r[e+1]&&r[e+1]<=191){e+=2;continue}if(r[e]==224&&160<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||(225<=r[e]&&r[e]<=236||r[e]==238||r[e]==239)&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||r[e]==237&&128<=r[e+1]&&r[e+1]<=159&&128<=r[e+2]&&r[e+2]<=191){e+=3;continue}if(r[e]==240&&144<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||241<=r[e]&&r[e]<=243&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||r[e]==244&&128<=r[e+1]&&r[e+1]<=143&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191){e+=4;continue}return!1}return!0}});var Dxe=E((M3t,Txe)=>{"use strict";var Svt=Cxe();Txe.exports=r=>{if(!Buffer.isBuffer(r))throw new TypeError(`Expected a Buffer, got ${typeof r}`);return r[0]===239&&r[1]===187&&r[2]===191&&Svt(r)?r.slice(3):r}});var bOe=E((rL,AZ)=>{(function(r,e){typeof rL=="object"&&typeof AZ=="object"?AZ.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof rL=="object"?rL["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(rL,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,m){var _,D,O,M=d&l.F,A=d&l.G,U=d&l.S,ne=d&l.P,de=d&l.B,ye=d&l.W,V=A?s:s[f]||(s[f]={}),$=V[u],ee=A?o:U?o[f]:(o[f]||{})[u];A&&(m=f);for(_ in m)D=!M&&ee&&ee[_]!==void 0,D&&_ in V||(O=D?ee[_]:m[_],V[_]=A&&typeof ee[_]!="function"?m[_]:de&&D?a(O,o):ye&&ee[_]==O?function(De){var ae=function(ce,qe,Ne){if(this instanceof De){switch(arguments.length){case 0:return new De;case 1:return new De(ce);case 2:return new De(ce,qe)}return new De(ce,qe,Ne)}return De.apply(this,arguments)};return ae[u]=De[u],ae}(O):ne&&typeof O=="function"?a(Function.call,O):O,ne&&((V.virtual||(V.virtual={}))[_]=O,d&l.R&&$&&!$[_]&&c($,_,O)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),m=i(52),_=i(1)("iterator"),D=!([].keys&&"next"in[].keys()),O="@@iterator",M="keys",A="values",U=function(){return this};t.exports=function(ne,de,ye,V,$,ee,De){d(ye,de,V);var ae,ce,qe,Ne=function(st){if(!D&&st in xe)return xe[st];switch(st){case M:return function(){return new ye(this,st)};case A:return function(){return new ye(this,st)}}return function(){return new ye(this,st)}},ue=de+" Iterator",Ce=$==A,be=!1,xe=ne.prototype,Me=xe[_]||xe[O]||$&&xe[$],$e=Me||Ne($),Ct=$?Ce?Ne("entries"):$e:void 0,ze=de=="Array"&&xe.entries||Me;if(ze&&(qe=m(ze.call(new ne)),qe!==Object.prototype&&(f(qe,ue,!0),o||u(qe,_)||c(qe,_,U))),Ce&&Me&&Me.name!==A&&(be=!0,$e=function(){return Me.call(this)}),o&&!De||!D&&!be&&xe[_]||c(xe,_,$e),l[de]=$e,l[ue]=U,$)if(ae={values:Ce?$e:Ne(A),keys:ee?$e:Ne(M),entries:Ct},De)for(ce in ae)ce in xe||a(xe,ce,ae[ce]);else s(s.P+s.F*(D||be),de,ae);return ae}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),m=f.process,_=f.setImmediate,D=f.clearImmediate,O=f.MessageChannel,M=0,A={},U="onreadystatechange",ne=function(){var ye=+this;if(A.hasOwnProperty(ye)){var V=A[ye];delete A[ye],V()}},de=function(ye){ne.call(ye.data)};_&&D||(_=function(ye){for(var V=[],$=1;arguments.length>$;)V.push(arguments[$++]);return A[++M]=function(){u(typeof ye=="function"?ye:Function(ye),V)},o(M),M},D=function(ye){delete A[ye]},i(11)(m)=="process"?o=function(ye){m.nextTick(c(ne,ye,1))}:O?(s=new O,a=s.port2,s.port1.onmessage=de,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(ye){f.postMessage(ye+"","*")},f.addEventListener("message",de,!1)):o=U in d("script")?function(ye){l.appendChild(d("script"))[U]=function(){l.removeChild(this),ne.call(ye)}}:function(ye){setTimeout(c(ne,ye,1),0)}),t.exports={set:_,clear:D}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(U){return U&&U.__esModule?U:{default:U}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(U){return(0,_.createHash)("sha256").update(U).digest("hex")}function c(U){switch(O){case"darwin":return U.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return U.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(U){var ne=c((0,m.execSync)(A[O]).toString());return U?ne:a(ne)}function l(U){return new f.default(function(ne,de){return(0,m.exec)(A[O],{},function(ye,V,$){if(ye)return de(new Error("Error while obtaining machine id: "+ye.stack));var ee=c(V.toString());return ne(U?ee:a(ee))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var m=i(70),_=i(71),D=process,O=D.platform,M={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},A={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:M[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,m=o(u),_=s(m.length),D=a(d,_);if(c&&l!=l){for(;_>D;)if(f=m[D++],f!=f)return!0}else for(;_>D;D++)if((c||D in m)&&m[D]===l)return c||D||0;return!c&&-1}}},function(t,m,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},m=t.exports=function(_,D,O,M,A){var U,ne,de,ye,V=A?function(){return _}:l(_),$=o(O,M,D?2:1),ee=0;if(typeof V!="function")throw TypeError(_+" is not iterable!");if(a(V)){for(U=u(_.length);U>ee;ee++)if(ye=D?$(c(ne=_[ee])[0],ne[1]):$(_[ee]),ye===d||ye===f)return ye}else for(de=V.call(_);!(ne=de.next()).done;)if(ye=s(de,$,ne.value,D),ye===d||ye===f)return ye};m.BREAK=d,m.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,m,_=function(){var A,U;for(l&&(A=c.domain)&&A.exit();d;){U=d.fn,d=d.next;try{U()}catch(ne){throw d?m():f=void 0,ne}}f=void 0,A&&A.enter()};if(l)m=function(){c.nextTick(_)};else if(a){var D=!0,O=document.createTextNode("");new a(_).observe(O,{characterData:!0}),m=function(){O.data=D=!D}}else if(u&&u.resolve){var M=u.resolve();m=function(){M.then(_)}}else m=function(){s.call(o,_)};return function(A){var U={fn:A,next:void 0};f&&(f.next=U),d||(d=U,m()),f=U}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,m=i(16)("iframe"),_=a.length,D=">";for(m.style.display="none",i(25).appendChild(m),m.src="javascript:",f=m.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+D),f.close(),d=f.F;_--;)delete d[l][a[_]];return d()};t.exports=Object.create||function(f,m){var _;return f!==null?(u[l]=o(f),_=new u,u[l]=null,_[c]=f):_=d(),m===void 0?_:s(_,m)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,m=0;f>m;)o.f(c,l=d[m++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,m){if(f=a(f),m=c(m,!0),l)try{return d(f,m)}catch{}if(u(f,m))return s(!o.f.call(f,m),f[m])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),m=0,_=[];for(d in f)d!=c&&o(f,d)&&_.push(d);for(;l.length>m;)o(f,d=l[m++])&&(~a(_,d)||_.push(d));return _}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),m=o(u),_=f.length;return m<0||m>=_?a?"":void 0:(l=f.charCodeAt(m),l<55296||l>56319||m+1===_||(d=f.charCodeAt(m+1))<56320||d>57343?a?f.charAt(m):l:a?f.slice(m,m+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),m=i(9),_=(i(3),i(14)),D=i(38),O=i(40),M=(i(58).set,i(60)),A=i(30).set,U=i(48)(),ne="Promise",de=u.TypeError,V=u.process,ye=u[ne],V=u.process,$=d(V)=="process",ee=function(){},De=!!function(){try{var ze=ye.resolve(1),st=(ze.constructor={})[i(1)("species")]=function(at){at(ee,ee)};return($||typeof PromiseRejectionEvent=="function")&&ze.then(ee)instanceof st}catch{}}(),ae=function(ze,st){return ze===st||ze===ye&&st===a},ce=function(ze){var st;return!(!m(ze)||typeof(st=ze.then)!="function")&&st},qe=function(ze){return ae(ye,ze)?new Ne(ze):new s(ze)},Ne=s=function(ze){var st,at;this.promise=new ze(function(tt,fr){if(st!==void 0||at!==void 0)throw de("Bad Promise constructor");st=tt,at=fr}),this.resolve=_(st),this.reject=_(at)},ue=function(ze){try{ze()}catch(st){return{error:st}}},Ce=function(ze,st){if(!ze._n){ze._n=!0;var at=ze._c;U(function(){for(var tt=ze._v,fr=ze._s==1,Lr=0,zr=function(cr){var xt,hr,Mt=fr?cr.ok:cr.fail,on=cr.resolve,un=cr.reject,On=cr.domain;try{Mt?(fr||(ze._h==2&&Me(ze),ze._h=1),Mt===!0?xt=tt:(On&&On.enter(),xt=Mt(tt),On&&On.exit()),xt===cr.promise?un(de("Promise-chain cycle")):(hr=ce(xt))?hr.call(xt,on,un):on(xt)):un(tt)}catch(Or){un(Or)}};at.length>Lr;)zr(at[Lr++]);ze._c=[],ze._n=!1,st&&!ze._h&&be(ze)})}},be=function(ze){A.call(u,function(){var st,at,tt,fr=ze._v;if(xe(ze)&&(st=ue(function(){$?V.emit("unhandledRejection",fr,ze):(at=u.onunhandledrejection)?at({promise:ze,reason:fr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",fr)}),ze._h=$||xe(ze)?2:1),ze._a=void 0,st)throw st.error})},xe=function(ze){if(ze._h==1)return!1;for(var st,at=ze._a||ze._c,tt=0;at.length>tt;)if(st=at[tt++],st.fail||!xe(st.promise))return!1;return!0},Me=function(ze){A.call(u,function(){var st;$?V.emit("rejectionHandled",ze):(st=u.onrejectionhandled)&&st({promise:ze,reason:ze._v})})},$e=function(ze){var st=this;st._d||(st._d=!0,st=st._w||st,st._v=ze,st._s=2,st._a||(st._a=st._c.slice()),Ce(st,!0))},Ct=function(ze){var st,at=this;if(!at._d){at._d=!0,at=at._w||at;try{if(at===ze)throw de("Promise can't be resolved itself");(st=ce(ze))?U(function(){var tt={_w:at,_d:!1};try{st.call(ze,l(Ct,tt,1),l($e,tt,1))}catch(fr){$e.call(tt,fr)}}):(at._v=ze,at._s=1,Ce(at,!1))}catch(tt){$e.call({_w:at,_d:!1},tt)}}};De||(ye=function(ze){D(this,ye,ne,"_h"),_(ze),o.call(this);try{ze(l(Ct,this,1),l($e,this,1))}catch(st){$e.call(this,st)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(ye.prototype,{then:function(ze,st){var at=qe(M(this,ye));return at.ok=typeof ze!="function"||ze,at.fail=typeof st=="function"&&st,at.domain=$?V.domain:void 0,this._c.push(at),this._a&&this._a.push(at),this._s&&Ce(this,!1),at.promise},catch:function(ze){return this.then(void 0,ze)}}),Ne=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l($e,ze,1)}),f(f.G+f.W+f.F*!De,{Promise:ye}),i(18)(ye,ne),i(59)(ne),a=i(6)[ne],f(f.S+f.F*!De,ne,{reject:function(ze){var st=qe(this),at=st.reject;return at(ze),st.promise}}),f(f.S+f.F*(c||!De),ne,{resolve:function(ze){if(ze instanceof ye&&ae(ze.constructor,this))return ze;var st=qe(this),at=st.resolve;return at(ze),st.promise}}),f(f.S+f.F*!(De&&i(46)(function(ze){ye.all(ze).catch(ee)})),ne,{all:function(ze){var st=this,at=qe(st),tt=at.resolve,fr=at.reject,Lr=ue(function(){var zr=[],cr=0,xt=1;O(ze,!1,function(hr){var Mt=cr++,on=!1;zr.push(void 0),xt++,st.resolve(hr).then(function(un){on||(on=!0,zr[Mt]=un,--xt||tt(zr))},fr)}),--xt||tt(zr)});return Lr&&fr(Lr.error),at.promise},race:function(ze){var st=this,at=qe(st),tt=at.reject,fr=ue(function(){O(ze,!1,function(Lr){st.resolve(Lr).then(at.resolve,tt)})});return fr&&tt(fr.error),at.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],m=f&&f.prototype;m&&!m[c]&&s(m,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var LZ=E(oR=>{"use strict";Object.defineProperty(oR,"__esModule",{value:!0});oR.JS_DEBUG_NAME=oR.SERVER_APP_NAME=void 0;oR.SERVER_APP_NAME=".NET Application Server";oR.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var NZ=E((T8t,ROe)=>{"use strict";var Pyt=require("util"),DOe=require("path"),EOe=require("child_process"),MZ=1e3*1e3*10,POe=Pyt.promisify(EOe.execFile),Ryt=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=DOe.join(__dirname,"vendor",r),{stdout:t}=await POe(e,{maxBuffer:MZ,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},xyt=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await POe("ps",[e,`pid,${n}`],{maxBuffer:MZ});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:DOe.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},TOe="ps output parsing failed",Oyt="pid,ppid,uid,%cpu,%mem,comm,args",Iyt=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,kyt=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=EOe.execFile("ps",[e,Oyt],{maxBuffer:MZ},(m,_)=>{m===null?l([f.pid,_]):d(m)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=Iyt.exec(l);if(f===null)throw new Error(TOe);let{pid:m,ppid:_,uid:D,cpu:O,memory:M}=f.groups,A={pid:Number.parseInt(m,10),ppid:Number.parseInt(_,10),uid:Number.parseInt(D,10),cpu:Number.parseFloat(O),memory:Number.parseFloat(M),name:void 0,cmd:void 0};return A.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),A});if(o===void 0||s===-1||a===-1)throw new Error(TOe);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},Ayt=async(r={})=>{try{return await kyt(r)}catch{return xyt(r)}};ROe.exports=process.platform==="win32"?Ryt:Ayt});var kOe=E(sb=>{"use strict";var OOe=sb&&sb.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sb,"__esModule",{value:!0});sb.onDidTerminateDebugSession=sb.isValidEvent=void 0;var Lyt=NZ(),xOe=LZ(),Myt=r=>r===xOe.JS_DEBUG_NAME||r===xOe.SERVER_APP_NAME;sb.isValidEvent=Myt;var IOe=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function Nyt(r,e,t){return OOe(this,void 0,void 0,function*(){t&&(typeof t=="number"?Fyt(r,e,t):yield qyt(r,e,t))})}sb.onDidTerminateDebugSession=Nyt;function Fyt(r,e,t){(0,sb.isValidEvent)(r.name)&&IOe(t,e)}function qyt(r,e,t){return OOe(this,void 0,void 0,function*(){if(!(0,sb.isValidEvent)(r.name))return;let n=[];try{n=yield Lyt()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&IOe(i.pid,e)})}});var LOe=E(sR=>{"use strict";var nL=sR&&sR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sR,"__esModule",{value:!0});sR.BlazorDebugConfigurationProvider=void 0;var jyt=require("fs"),zyt=require("path"),AOe=require("url"),FZ=LZ(),Uyt=kOe(),qZ=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return nL(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,AOe.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,AOe.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,jyt.readFileSync)((0,zyt.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return nL(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:FZ.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>nL(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,Uyt.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return nL(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:FZ.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[FZ.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>nL(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};sR.BlazorDebugConfigurationProvider=qZ});var MOe=E(aR=>{"use strict";Object.defineProperty(aR,"__esModule",{value:!0});aR.convertPositionFromSerializable=aR.convertPositionToSerializable=void 0;var Hyt=require("vscode");function Byt(r){return{line:r.line,character:r.character}}aR.convertPositionToSerializable=Byt;function Wyt(r){return new Hyt.Position(r.line,r.character)}aR.convertPositionFromSerializable=Wyt});var uR=E(cR=>{"use strict";Object.defineProperty(cR,"__esModule",{value:!0});cR.convertRangeFromSerializable=cR.convertRangeToSerializable=void 0;var $yt=require("vscode"),ZU=MOe();function Vyt(r){return{start:(0,ZU.convertPositionToSerializable)(r.start),end:(0,ZU.convertPositionToSerializable)(r.end)}}cR.convertRangeToSerializable=Vyt;function Gyt(r){return new $yt.Range((0,ZU.convertPositionFromSerializable)(r.start),(0,ZU.convertPositionFromSerializable)(r.end))}cR.convertRangeFromSerializable=Gyt});var iL=E(lR=>{"use strict";Object.defineProperty(lR,"__esModule",{value:!0});lR.convertTextEditFromSerializable=lR.convertTextEditToSerializable=void 0;var Kyt=require("vscode"),NOe=uR();function Yyt(r){return{range:(0,NOe.convertRangeToSerializable)(r.range),newText:r.newText}}lR.convertTextEditToSerializable=Yyt;function Jyt(r){return new Kyt.TextEdit((0,NOe.convertRangeFromSerializable)(r.range),r.newText)}lR.convertTextEditFromSerializable=Jyt});var qOe=E(eH=>{"use strict";Object.defineProperty(eH,"__esModule",{value:!0});eH.convertWorkspaceEditFromSerializable=void 0;var VD=require("vscode"),FOe=iL();function Xyt(r){let e=new VD.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(VD.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(VD.Uri.parse(t.oldUri),VD.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(VD.Uri.parse(t.uri),t.options);else{let n=t.edits.map(FOe.convertTextEditFromSerializable);e.set(VD.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(FOe.convertTextEditFromSerializable);e.set(VD.Uri.parse(t),n)}return e}eH.convertWorkspaceEditFromSerializable=Xyt});var zOe=E(dR=>{"use strict";var Qyt=dR&&dR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(dR,"__esModule",{value:!0});dR.RazorCodeActionRunner=void 0;var jZ=require("vscode"),jOe=qOe(),oL=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return jZ.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return Qyt(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,jOe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,jOe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return jZ.workspace.applyEdit(i).then(()=>jZ.workspace.applyEdit(n))})}};dR.RazorCodeActionRunner=oL;oL.codeActionResolveEndpoint="textDocument/codeActionResolve";oL.razorCodeActionRunnerCommand="razor/runCodeAction"});var Hw=E(sL=>{"use strict";Object.defineProperty(sL,"__esModule",{value:!0});sL.RazorDocumentChangeKind=void 0;var Zyt;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})(Zyt=sL.RazorDocumentChangeKind||(sL.RazorDocumentChangeKind={}))});var gv=E(aL=>{"use strict";Object.defineProperty(aL,"__esModule",{value:!0});aL.LanguageKind=void 0;var e_t;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(e_t=aL.LanguageKind||(aL.LanguageKind={}))});var cg=E(tH=>{"use strict";Object.defineProperty(tH,"__esModule",{value:!0});tH.getUriPath=void 0;function t_t(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}tH.getUriPath=t_t});var Py=E(fR=>{"use strict";var r_t=fR&&fR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(fR,"__esModule",{value:!0});fR.RazorLanguageFeatureBase=void 0;var zZ=gv(),n_t=cg(),UZ=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return r_t(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case zZ.LanguageKind.CSharp:case zZ.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===zZ.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,n_t.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};fR.RazorLanguageFeatureBase=UZ});var UOe=E(rH=>{"use strict";Object.defineProperty(rH,"__esModule",{value:!0});rH.RazorCodeLens=void 0;var i_t=require("vscode"),HZ=class extends i_t.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};rH.RazorCodeLens=HZ});var WOe=E(hR=>{"use strict";var nH=hR&&hR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(hR,"__esModule",{value:!0});hR.RazorCodeLensProvider=void 0;var iH=require("vscode"),o_t=Hw(),s_t=Py(),HOe=gv(),BOe=UOe(),BZ=class extends s_t.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new iH.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>nH(this,void 0,void 0,function*(){if(s.kind!==o_t.RazorDocumentChangeKind.added)return;iH.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return nH(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield iH.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(HOe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new BOe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return nH(this,void 0,void 0,function*(){if(e instanceof BOe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return nH(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==HOe.LanguageKind.CSharp)return e;let o=yield iH.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};hR.RazorCodeLensProvider=BZ});var vv=E(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.asPromise=uu.thenable=uu.typedArray=uu.stringArray=uu.array=uu.func=uu.error=uu.number=uu.string=uu.boolean=void 0;function a_t(r){return r===!0||r===!1}uu.boolean=a_t;function $Oe(r){return typeof r=="string"||r instanceof String}uu.string=$Oe;function c_t(r){return typeof r=="number"||r instanceof Number}uu.number=c_t;function u_t(r){return r instanceof Error}uu.error=u_t;function VOe(r){return typeof r=="function"}uu.func=VOe;function GOe(r){return Array.isArray(r)}uu.array=GOe;function l_t(r){return GOe(r)&&r.every(e=>$Oe(e))}uu.stringArray=l_t;function d_t(r,e){return Array.isArray(r)&&r.every(e)}uu.typedArray=d_t;function KOe(r){return r&&VOe(r.then)}uu.thenable=KOe;function f_t(r){return r instanceof Promise?r:KOe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}uu.asPromise=f_t});var Bw=E(VZ=>{"use strict";Object.defineProperty(VZ,"__esModule",{value:!0});var WZ;function $Z(){if(WZ===void 0)throw new Error("No runtime abstraction layer installed");return WZ}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");WZ=t}r.install=e})($Z||($Z={}));VZ.default=$Z});var GZ=E(cL=>{"use strict";Object.defineProperty(cL,"__esModule",{value:!0});cL.Disposable=void 0;var h_t;(function(r){function e(t){return{dispose:t}}r.create=e})(h_t=cL.Disposable||(cL.Disposable={}))});var YOe=E(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0});oH.AbstractMessageBuffer=void 0;var p_t=13,m_t=10,g_t=`\r
`,KZ=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case p_t:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case m_t:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(g_t);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};oH.AbstractMessageBuffer=KZ});var QOe=E(QZ=>{"use strict";Object.defineProperty(QZ,"__esModule",{value:!0});var v_t=Bw(),JOe=require("util"),GD=GZ(),y_t=YOe(),sH=class r extends y_t.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new JOe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};sH.emptyBuffer=Buffer.allocUnsafe(0);var YZ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),GD.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),GD.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),GD.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),GD.Disposable.create(()=>this.stream.off("data",e))}},JZ=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),GD.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),GD.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),GD.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},XOe=Object.freeze({messageBuffer:Object.freeze({create:r=>new sH(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new JOe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new YZ(r),asWritableStream:r=>new JZ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function XZ(){return XOe}(function(r){function e(){v_t.default.install(XOe)}r.install=e})(XZ||(XZ={}));QZ.default=XZ});var pR=E(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.stringArray=Xf.array=Xf.func=Xf.error=Xf.number=Xf.string=Xf.boolean=void 0;function __t(r){return r===!0||r===!1}Xf.boolean=__t;function ZOe(r){return typeof r=="string"||r instanceof String}Xf.string=ZOe;function b_t(r){return typeof r=="number"||r instanceof Number}Xf.number=b_t;function w_t(r){return r instanceof Error}Xf.error=w_t;function S_t(r){return typeof r=="function"}Xf.func=S_t;function eIe(r){return Array.isArray(r)}Xf.array=eIe;function C_t(r){return eIe(r)&&r.every(e=>ZOe(e))}Xf.stringArray=C_t});var See=E(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Message=Rn.NotificationType9=Rn.NotificationType8=Rn.NotificationType7=Rn.NotificationType6=Rn.NotificationType5=Rn.NotificationType4=Rn.NotificationType3=Rn.NotificationType2=Rn.NotificationType1=Rn.NotificationType0=Rn.NotificationType=Rn.RequestType9=Rn.RequestType8=Rn.RequestType7=Rn.RequestType6=Rn.RequestType5=Rn.RequestType4=Rn.RequestType3=Rn.RequestType2=Rn.RequestType1=Rn.RequestType=Rn.RequestType0=Rn.AbstractMessageSignature=Rn.ParameterStructures=Rn.ResponseError=Rn.ErrorCodes=void 0;var KD=pR(),tIe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(tIe=Rn.ErrorCodes||(Rn.ErrorCodes={}));var ZZ=class r extends Error{constructor(e,t,n){super(t),this.code=KD.number(e)?e:tIe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Rn.ResponseError=ZZ;var om=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Rn.ParameterStructures=om;om.auto=new om("auto");om.byPosition=new om("byPosition");om.byName=new om("byName");var $a=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return om.auto}};Rn.AbstractMessageSignature=$a;var eee=class extends $a{constructor(e){super(e,0)}};Rn.RequestType0=eee;var tee=class extends $a{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType=tee;var ree=class extends $a{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType1=ree;var nee=class extends $a{constructor(e){super(e,2)}};Rn.RequestType2=nee;var iee=class extends $a{constructor(e){super(e,3)}};Rn.RequestType3=iee;var oee=class extends $a{constructor(e){super(e,4)}};Rn.RequestType4=oee;var see=class extends $a{constructor(e){super(e,5)}};Rn.RequestType5=see;var aee=class extends $a{constructor(e){super(e,6)}};Rn.RequestType6=aee;var cee=class extends $a{constructor(e){super(e,7)}};Rn.RequestType7=cee;var uee=class extends $a{constructor(e){super(e,8)}};Rn.RequestType8=uee;var lee=class extends $a{constructor(e){super(e,9)}};Rn.RequestType9=lee;var dee=class extends $a{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType=dee;var fee=class extends $a{constructor(e){super(e,0)}};Rn.NotificationType0=fee;var hee=class extends $a{constructor(e,t=om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType1=hee;var pee=class extends $a{constructor(e){super(e,2)}};Rn.NotificationType2=pee;var mee=class extends $a{constructor(e){super(e,3)}};Rn.NotificationType3=mee;var gee=class extends $a{constructor(e){super(e,4)}};Rn.NotificationType4=gee;var vee=class extends $a{constructor(e){super(e,5)}};Rn.NotificationType5=vee;var yee=class extends $a{constructor(e){super(e,6)}};Rn.NotificationType6=yee;var _ee=class extends $a{constructor(e){super(e,7)}};Rn.NotificationType7=_ee;var bee=class extends $a{constructor(e){super(e,8)}};Rn.NotificationType8=bee;var wee=class extends $a{constructor(e){super(e,9)}};Rn.NotificationType9=wee;var T_t;(function(r){function e(i){let o=i;return o&&KD.string(o.method)&&(KD.string(o.id)||KD.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&KD.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(KD.string(o.id)||KD.number(o.id)||o.id===null)}r.isResponse=n})(T_t=Rn.Message||(Rn.Message={}))});var Tee=E(Ww=>{"use strict";var rIe;Object.defineProperty(Ww,"__esModule",{value:!0});Ww.LRUCache=Ww.LinkedMap=Ww.Touch=void 0;var Qh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Qh=Ww.Touch||(Ww.Touch={}));var aH=class{constructor(){this[rIe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Qh.None){let n=this._map.get(e);if(n)return t!==Qh.None&&this.touch(n,t),n.value}set(e,t,n=Qh.None){let i=this._map.get(e);if(i)i.value=t,n!==Qh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Qh.None:this.addItemLast(i);break;case Qh.First:this.addItemFirst(i);break;case Qh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(rIe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Qh.First&&t!==Qh.Last)){if(t===Qh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Qh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};Ww.LinkedMap=aH;var Cee=class extends aH{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Qh.AsNew){return super.get(e,t)}peek(e){return super.get(e,Qh.None)}set(e,t){return super.set(e,t,Qh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ww.LRUCache=Cee});var mR=E(YD=>{"use strict";Object.defineProperty(YD,"__esModule",{value:!0});YD.Emitter=YD.Event=void 0;var D_t=Bw(),E_t;(function(r){let e={dispose(){}};r.None=function(){return e}})(E_t=YD.Event||(YD.Event={}));var Dee=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,D_t.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},cH=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Dee),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};YD.Emitter=cH;cH._noop=function(){}});var xee=E(JD=>{"use strict";Object.defineProperty(JD,"__esModule",{value:!0});JD.CancellationTokenSource=JD.CancellationToken=void 0;var P_t=Bw(),R_t=pR(),Eee=mR(),Pee;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Eee.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Eee.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||R_t.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Pee=JD.CancellationToken||(JD.CancellationToken={}));var x_t=Object.freeze(function(r,e){let t=(0,P_t.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),uH=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?x_t:(this._emitter||(this._emitter=new Eee.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Ree=class{get token(){return this._token||(this._token=new uH),this._token}cancel(){this._token?this._token.cancel():this._token=Pee.Cancelled}dispose(){this._token?this._token instanceof uH&&this._token.dispose():this._token=Pee.None}};JD.CancellationTokenSource=Ree});var nIe=E($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.ReadableStreamMessageReader=$w.AbstractMessageReader=$w.MessageReader=void 0;var Iee=Bw(),gR=pR(),Oee=mR(),O_t;(function(r){function e(t){let n=t;return n&&gR.func(n.listen)&&gR.func(n.dispose)&&gR.func(n.onError)&&gR.func(n.onClose)&&gR.func(n.onPartialMessage)}r.is=e})(O_t=$w.MessageReader||($w.MessageReader={}));var lH=class{constructor(){this.errorEmitter=new Oee.Emitter,this.closeEmitter=new Oee.Emitter,this.partialMessageEmitter=new Oee.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${gR.string(e.message)?e.message:"unknown"}`)}};$w.AbstractMessageReader=lH;var kee;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Iee.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(kee||(kee={}));var Aee=class extends lH{constructor(e,t){super(),this.readable=e,this.options=kee.fromOptions(t),this.buffer=(0,Iee.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Iee.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};$w.ReadableStreamMessageReader=Aee});var iIe=E(dH=>{"use strict";Object.defineProperty(dH,"__esModule",{value:!0});dH.Semaphore=void 0;var I_t=Bw(),Lee=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,I_t.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};dH.Semaphore=Lee});var cIe=E(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.WriteableStreamMessageWriter=Vw.AbstractMessageWriter=Vw.MessageWriter=void 0;var oIe=Bw(),uL=pR(),k_t=iIe(),sIe=mR(),A_t="Content-Length: ",aIe=`\r
`,L_t;(function(r){function e(t){let n=t;return n&&uL.func(n.dispose)&&uL.func(n.onClose)&&uL.func(n.onError)&&uL.func(n.write)}r.is=e})(L_t=Vw.MessageWriter||(Vw.MessageWriter={}));var fH=class{constructor(){this.errorEmitter=new sIe.Emitter,this.closeEmitter=new sIe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${uL.string(e.message)?e.message:"unknown"}`)}};Vw.AbstractMessageWriter=fH;var Mee;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,oIe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,oIe.default)().applicationJson.encoder}}r.fromOptions=e})(Mee||(Mee={}));var Nee=class extends fH{constructor(e,t){super(),this.writable=e,this.options=Mee.fromOptions(t),this.errorCount=0,this.writeSemaphore=new k_t.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(A_t,n.byteLength.toString(),aIe),i.push(aIe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Vw.WriteableStreamMessageWriter=Nee});var pIe=E(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.createMessageConnection=ni.ConnectionOptions=ni.CancellationStrategy=ni.CancellationSenderStrategy=ni.CancellationReceiverStrategy=ni.ConnectionStrategy=ni.ConnectionError=ni.ConnectionErrors=ni.LogTraceNotification=ni.SetTraceNotification=ni.TraceFormat=ni.TraceValues=ni.Trace=ni.NullLogger=ni.ProgressType=ni.ProgressToken=void 0;var uIe=Bw(),Rl=pR(),vi=See(),lIe=Tee(),lL=mR(),Fee=xee(),fL;(function(r){r.type=new vi.NotificationType("$/cancelRequest")})(fL||(fL={}));var dIe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(dIe=ni.ProgressToken||(ni.ProgressToken={}));var dL;(function(r){r.type=new vi.NotificationType("$/progress")})(dL||(dL={}));var qee=class{constructor(){}};ni.ProgressType=qee;var jee;(function(r){function e(t){return Rl.func(t)}r.is=e})(jee||(jee={}));ni.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var js;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(js=ni.Trace||(ni.Trace={}));var M_t;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(M_t=ni.TraceValues||(ni.TraceValues={}));(function(r){function e(n){if(!Rl.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(js=ni.Trace||(ni.Trace={}));var Ry;(function(r){r.Text="text",r.JSON="json"})(Ry=ni.TraceFormat||(ni.TraceFormat={}));(function(r){function e(t){return Rl.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(Ry=ni.TraceFormat||(ni.TraceFormat={}));var fIe;(function(r){r.type=new vi.NotificationType("$/setTrace")})(fIe=ni.SetTraceNotification||(ni.SetTraceNotification={}));var zee;(function(r){r.type=new vi.NotificationType("$/logTrace")})(zee=ni.LogTraceNotification||(ni.LogTraceNotification={}));var hH;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(hH=ni.ConnectionErrors||(ni.ConnectionErrors={}));var vR=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ni.ConnectionError=vR;var hIe;(function(r){function e(t){let n=t;return n&&Rl.func(n.cancelUndispatched)}r.is=e})(hIe=ni.ConnectionStrategy||(ni.ConnectionStrategy={}));var Uee;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Fee.CancellationTokenSource}});function e(t){let n=t;return n&&Rl.func(n.createCancellationTokenSource)}r.is=e})(Uee=ni.CancellationReceiverStrategy||(ni.CancellationReceiverStrategy={}));var Hee;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(fL.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Rl.func(n.sendCancellation)&&Rl.func(n.cleanup)}r.is=e})(Hee=ni.CancellationSenderStrategy||(ni.CancellationSenderStrategy={}));var Bee;(function(r){r.Message=Object.freeze({receiver:Uee.Message,sender:Hee.Message});function e(t){let n=t;return n&&Uee.is(n.receiver)&&Hee.is(n.sender)}r.is=e})(Bee=ni.CancellationStrategy||(ni.CancellationStrategy={}));var N_t;(function(r){function e(t){let n=t;return n&&(Bee.is(n.cancellationStrategy)||hIe.is(n.connectionStrategy))}r.is=e})(N_t=ni.ConnectionOptions||(ni.ConnectionOptions={}));var xy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(xy||(xy={}));function F_t(r,e,t,n){let i=t!==void 0?t:ni.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,m=new Map,_,D=new lIe.LinkedMap,O=new Map,M=new Set,A=new Map,U=js.Off,ne=Ry.Text,de,ye=xy.New,V=new lL.Emitter,$=new lL.Emitter,ee=new lL.Emitter,De=new lL.Emitter,ae=new lL.Emitter,ce=n&&n.cancellationStrategy?n.cancellationStrategy:Bee.Message;function qe(Oe){if(Oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Oe.toString()}function Ne(Oe){return Oe===null?"res-unknown-"+(++a).toString():"res-"+Oe.toString()}function ue(){return"not-"+(++s).toString()}function Ce(Oe,oe){vi.Message.isRequest(oe)?Oe.set(qe(oe.id),oe):vi.Message.isResponse(oe)?Oe.set(Ne(oe.id),oe):Oe.set(ue(),oe)}function be(Oe){}function xe(){return ye===xy.Listening}function Me(){return ye===xy.Closed}function $e(){return ye===xy.Disposed}function Ct(){(ye===xy.New||ye===xy.Listening)&&(ye=xy.Closed,$.fire(void 0))}function ze(Oe){V.fire([Oe,void 0,void 0])}function st(Oe){V.fire(Oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,uIe.default)().timer.setImmediate(()=>{_=void 0,tt()}))}function tt(){if(D.size===0)return;let Oe=D.shift();try{vi.Message.isRequest(Oe)?Lr(Oe):vi.Message.isNotification(Oe)?cr(Oe):vi.Message.isResponse(Oe)?zr(Oe):xt(Oe)}finally{at()}}let fr=Oe=>{try{if(vi.Message.isNotification(Oe)&&Oe.method===fL.type.method){let oe=Oe.params.id,Q=qe(oe),_e=D.get(Q);if(vi.Message.isRequest(_e)){let ft=n?.connectionStrategy,Yt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(_e,be):void 0;if(Yt&&(Yt.error!==void 0||Yt.result!==void 0)){D.delete(Q),A.delete(oe),Yt.id=_e.id,un(Yt,Oe.method,Date.now()),e.write(Yt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Je=A.get(oe);if(Je!==void 0){Je.cancel(),Or(Oe);return}else M.add(oe)}Ce(D,Oe)}finally{at()}};function Lr(Oe){if($e())return;function oe(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id};Jt instanceof vi.ResponseError?K.error=Jt.toJson():K.result=Jt===void 0?null:Jt,un(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id,error:Jt.toJson()};un(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function _e(Jt,$t,kt){Jt===void 0&&(Jt=null);let K={jsonrpc:c,id:Oe.id,result:Jt};un(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}On(Oe);let Je=l.get(Oe.method),ft,Yt;Je&&(ft=Je.type,Yt=Je.handler);let rr=Date.now();if(Yt||u){let Jt=Oe.id??String(Date.now()),$t=ce.receiver.createCancellationTokenSource(Jt);Oe.id!==null&&M.has(Oe.id)&&$t.cancel(),Oe.id!==null&&A.set(Jt,$t);try{let kt;if(Yt)if(Oe.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines ${ft.numberOfParams} params but received none.`),Oe.method,rr);return}kt=Yt($t.token)}else if(Array.isArray(Oe.params)){if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byName){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by name but received parameters by position`),Oe.method,rr);return}kt=Yt(...Oe.params,$t.token)}else{if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byPosition){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by position but received parameters by name`),Oe.method,rr);return}kt=Yt(Oe.params,$t.token)}else u&&(kt=u(Oe.method,Oe.params,$t.token));let K=kt;kt?K.then?K.then(Fe=>{A.delete(Jt),oe(Fe,Oe.method,rr)},Fe=>{A.delete(Jt),Fe instanceof vi.ResponseError?Q(Fe,Oe.method,rr):Fe&&Rl.string(Fe.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${Fe.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}):(A.delete(Jt),oe(kt,Oe.method,rr)):(A.delete(Jt),_e(kt,Oe.method,rr))}catch(kt){A.delete(Jt),kt instanceof vi.ResponseError?oe(kt,Oe.method,rr):kt&&Rl.string(kt.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${kt.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}}else Q(new vi.ResponseError(vi.ErrorCodes.MethodNotFound,`Unhandled method ${Oe.method}`),Oe.method,rr)}function zr(Oe){if(!$e())if(Oe.id===null)Oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Oe.id,Q=O.get(oe);if(Hn(Oe,Q),Q!==void 0){O.delete(oe);try{if(Oe.error){let _e=Oe.error;Q.reject(new vi.ResponseError(_e.code,_e.message,_e.data))}else if(Oe.result!==void 0)Q.resolve(Oe.result);else throw new Error("Should never happen.")}catch(_e){_e.message?i.error(`Response handler '${Q.method}' failed with message: ${_e.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function cr(Oe){if($e())return;let oe,Q;if(Oe.method===fL.type.method){let _e=Oe.params.id;M.delete(_e),Or(Oe);return}else{let _e=f.get(Oe.method);_e&&(Q=_e.handler,oe=_e.type)}if(Q||d)try{if(Or(Oe),Q)if(Oe.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Oe.params)){let _e=Oe.params;Oe.method===dL.type.method&&_e.length===2&&dIe.is(_e[0])?Q({token:_e[0],value:_e[1]}):(oe!==void 0&&(oe.parameterStructures===vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Oe.params.length&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received ${_e.length} arguments`)),Q(..._e))}else oe!==void 0&&oe.parameterStructures===vi.ParameterStructures.byPosition&&i.error(`Notification ${Oe.method} defines parameters by position but received parameters by name`),Q(Oe.params);else d&&d(Oe.method,Oe.params)}catch(_e){_e.message?i.error(`Notification handler '${Oe.method}' failed with message: ${_e.message}`):i.error(`Notification handler '${Oe.method}' failed unexpectedly.`)}else ee.fire(Oe)}function xt(Oe){if(!Oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Oe,null,4)}`);let oe=Oe;if(Rl.string(oe.id)||Rl.number(oe.id)){let Q=oe.id,_e=O.get(Q);_e&&_e.reject(new Error("The received response has neither a result nor an error property."))}}function hr(Oe){if(Oe!=null)switch(U){case js.Verbose:return JSON.stringify(Oe,null,4);case js.Compact:return JSON.stringify(Oe);default:return}}function Mt(Oe){if(!(U===js.Off||!de))if(ne===Ry.Text){let oe;(U===js.Verbose||U===js.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Sending request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("send-request",Oe)}function on(Oe){if(!(U===js.Off||!de))if(ne===Ry.Text){let oe;(U===js.Verbose||U===js.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Sending notification '${Oe.method}'.`,oe)}else $r("send-notification",Oe)}function un(Oe,oe,Q){if(!(U===js.Off||!de))if(ne===Ry.Text){let _e;(U===js.Verbose||U===js.Compact)&&(Oe.error&&Oe.error.data?_e=`Error data: ${hr(Oe.error.data)}

`:Oe.result?_e=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(_e=`No result returned.

`)),de.log(`Sending response '${oe} - (${Oe.id})'. Processing request took ${Date.now()-Q}ms`,_e)}else $r("send-response",Oe)}function On(Oe){if(!(U===js.Off||!de))if(ne===Ry.Text){let oe;(U===js.Verbose||U===js.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Received request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("receive-request",Oe)}function Or(Oe){if(!(U===js.Off||!de||Oe.method===zee.type.method))if(ne===Ry.Text){let oe;(U===js.Verbose||U===js.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Received notification '${Oe.method}'.`,oe)}else $r("receive-notification",Oe)}function Hn(Oe,oe){if(!(U===js.Off||!de))if(ne===Ry.Text){let Q;if((U===js.Verbose||U===js.Compact)&&(Oe.error&&Oe.error.data?Q=`Error data: ${hr(Oe.error.data)}

`:Oe.result?Q=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(Q=`No result returned.

`)),oe){let _e=Oe.error?` Request failed: ${Oe.error.message} (${Oe.error.code}).`:"";de.log(`Received response '${oe.method} - (${Oe.id})' in ${Date.now()-oe.timerStart}ms.${_e}`,Q)}else de.log(`Received response ${Oe.id} without active response promise.`,Q)}else $r("receive-response",Oe)}function $r(Oe,oe){if(!de||U===js.Off)return;let Q={isLSPMessage:!0,type:Oe,message:oe,timestamp:Date.now()};de.log(Q)}function ln(){if(Me())throw new vR(hH.Closed,"Connection is closed.");if($e())throw new vR(hH.Disposed,"Connection is disposed.")}function ii(){if(xe())throw new vR(hH.AlreadyListening,"Connection is already listening")}function Vr(){if(!xe())throw new Error("Call listen() first.")}function An(Oe){return Oe===void 0?null:Oe}function Ri(Oe){if(Oe!==null)return Oe}function Gr(Oe){return Oe!=null&&!Array.isArray(Oe)&&typeof Oe=="object"}function Ji(Oe,oe){switch(Oe){case vi.ParameterStructures.auto:return Gr(oe)?Ri(oe):[An(oe)];case vi.ParameterStructures.byName:if(!Gr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Ri(oe);case vi.ParameterStructures.byPosition:return[An(oe)];default:throw new Error(`Unknown parameter structure ${Oe.toString()}`)}}function oi(Oe,oe){let Q,_e=Oe.numberOfParams;switch(_e){case 0:Q=void 0;break;case 1:Q=Ji(Oe.parameterStructures,oe[0]);break;default:Q=[];for(let Je=0;Je<oe.length&&Je<_e;Je++)Q.push(An(oe[Je]));if(oe.length<_e)for(let Je=oe.length;Je<_e;Je++)Q.push(null);break}return Q}let fn={sendNotification:(Oe,...oe)=>{ln();let Q,_e;if(Rl.string(Oe)){Q=Oe;let ft=oe[0],Yt=0,rr=vi.ParameterStructures.auto;vi.ParameterStructures.is(ft)&&(Yt=1,rr=ft);let Jt=oe.length,$t=Jt-Yt;switch($t){case 0:_e=void 0;break;case 1:_e=Ji(rr,oe[Yt]);break;default:if(rr===vi.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' notification parameter structure.`);_e=oe.slice(Yt,Jt).map(kt=>An(kt));break}}else{let ft=oe;Q=Oe.method,_e=oi(Oe,ft)}let Je={jsonrpc:c,method:Q,params:_e};return on(Je),e.write(Je).catch(()=>i.error("Sending notification failed."))},onNotification:(Oe,oe)=>{ln();let Q;return Rl.func(Oe)?d=Oe:oe&&(Rl.string(Oe)?(Q=Oe,f.set(Oe,{type:void 0,handler:oe})):(Q=Oe.method,f.set(Oe.method,{type:Oe,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Oe,oe,Q)=>{if(m.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return m.set(oe,Q),{dispose:()=>{m.delete(oe)}}},sendProgress:(Oe,oe,Q)=>fn.sendNotification(dL.type,{token:oe,value:Q}),onUnhandledProgress:De.event,sendRequest:(Oe,...oe)=>{ln(),Vr();let Q,_e,Je;if(Rl.string(Oe)){Q=Oe;let Jt=oe[0],$t=oe[oe.length-1],kt=0,K=vi.ParameterStructures.auto;vi.ParameterStructures.is(Jt)&&(kt=1,K=Jt);let Fe=oe.length;Fee.CancellationToken.is($t)&&(Fe=Fe-1,Je=$t);let Ht=Fe-kt;switch(Ht){case 0:_e=void 0;break;case 1:_e=Ji(K,oe[kt]);break;default:if(K===vi.ParameterStructures.byName)throw new Error(`Received ${Ht} parameters for 'by Name' request parameter structure.`);_e=oe.slice(kt,Fe).map(Dr=>An(Dr));break}}else{let Jt=oe;Q=Oe.method,_e=oi(Oe,Jt);let $t=Oe.numberOfParams;Je=Fee.CancellationToken.is(Jt[$t])?Jt[$t]:void 0}let ft=o++,Yt;return Je&&(Yt=Je.onCancellationRequested(()=>{let Jt=ce.sender.sendCancellation(fn,ft);return Jt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Jt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Jt,$t)=>{let kt={jsonrpc:c,id:ft,method:Q,params:_e},K=Dr=>{Jt(Dr),ce.sender.cleanup(ft),Yt?.dispose()},Fe=Dr=>{$t(Dr),ce.sender.cleanup(ft),Yt?.dispose()},Ht={method:Q,timerStart:Date.now(),resolve:K,reject:Fe};Mt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Dr){Ht.reject(new vi.ResponseError(vi.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Ht=null}Ht&&O.set(ft,Ht)})},onRequest:(Oe,oe)=>{ln();let Q=null;return jee.is(Oe)?(Q=void 0,u=Oe):Rl.string(Oe)?(Q=null,oe!==void 0&&(Q=Oe,l.set(Oe,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Oe.method,l.set(Oe.method,{type:Oe,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>O.size>0,trace:async(Oe,oe,Q)=>{let _e=!1,Je=Ry.Text;Q!==void 0&&(Rl.boolean(Q)?_e=Q:(_e=Q.sendNotification||!1,Je=Q.traceFormat||Ry.Text)),U=Oe,ne=Je,U===js.Off?de=void 0:de=oe,_e&&!Me()&&!$e()&&await fn.sendNotification(fIe.type,{value:js.toString(Oe)})},onError:V.event,onClose:$.event,onUnhandledNotification:ee.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;ye=xy.Disposed,ae.fire(void 0);let Oe=new vi.ResponseError(vi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of O.values())oe.reject(Oe);O=new Map,A=new Map,M=new Set,D=new lIe.LinkedMap,Rl.func(e.dispose)&&e.dispose(),Rl.func(r.dispose)&&r.dispose()},listen:()=>{ln(),ii(),ye=xy.Listening,r.listen(fr)},inspect:()=>{(0,uIe.default)().console.log("inspect")}};return fn.onNotification(zee.type,Oe=>{if(U===js.Off||!de)return;let oe=U===js.Verbose||U===js.Compact;de.log(Oe.message,oe?Oe.verbose:void 0)}),fn.onNotification(dL.type,Oe=>{let oe=m.get(Oe.token);oe?oe(Oe.value):De.fire(Oe)}),fn}ni.createMessageConnection=F_t});var Gee=E(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.TraceFormat=Gt.TraceValues=Gt.Trace=Gt.ProgressType=Gt.ProgressToken=Gt.createMessageConnection=Gt.NullLogger=Gt.ConnectionOptions=Gt.ConnectionStrategy=Gt.WriteableStreamMessageWriter=Gt.AbstractMessageWriter=Gt.MessageWriter=Gt.ReadableStreamMessageReader=Gt.AbstractMessageReader=Gt.MessageReader=Gt.CancellationToken=Gt.CancellationTokenSource=Gt.Emitter=Gt.Event=Gt.Disposable=Gt.LRUCache=Gt.Touch=Gt.LinkedMap=Gt.ParameterStructures=Gt.NotificationType9=Gt.NotificationType8=Gt.NotificationType7=Gt.NotificationType6=Gt.NotificationType5=Gt.NotificationType4=Gt.NotificationType3=Gt.NotificationType2=Gt.NotificationType1=Gt.NotificationType0=Gt.NotificationType=Gt.ErrorCodes=Gt.ResponseError=Gt.RequestType9=Gt.RequestType8=Gt.RequestType7=Gt.RequestType6=Gt.RequestType5=Gt.RequestType4=Gt.RequestType3=Gt.RequestType2=Gt.RequestType1=Gt.RequestType0=Gt.RequestType=Gt.Message=Gt.RAL=void 0;Gt.CancellationStrategy=Gt.CancellationSenderStrategy=Gt.CancellationReceiverStrategy=Gt.ConnectionError=Gt.ConnectionErrors=Gt.LogTraceNotification=Gt.SetTraceNotification=void 0;var Sa=See();Object.defineProperty(Gt,"Message",{enumerable:!0,get:function(){return Sa.Message}});Object.defineProperty(Gt,"RequestType",{enumerable:!0,get:function(){return Sa.RequestType}});Object.defineProperty(Gt,"RequestType0",{enumerable:!0,get:function(){return Sa.RequestType0}});Object.defineProperty(Gt,"RequestType1",{enumerable:!0,get:function(){return Sa.RequestType1}});Object.defineProperty(Gt,"RequestType2",{enumerable:!0,get:function(){return Sa.RequestType2}});Object.defineProperty(Gt,"RequestType3",{enumerable:!0,get:function(){return Sa.RequestType3}});Object.defineProperty(Gt,"RequestType4",{enumerable:!0,get:function(){return Sa.RequestType4}});Object.defineProperty(Gt,"RequestType5",{enumerable:!0,get:function(){return Sa.RequestType5}});Object.defineProperty(Gt,"RequestType6",{enumerable:!0,get:function(){return Sa.RequestType6}});Object.defineProperty(Gt,"RequestType7",{enumerable:!0,get:function(){return Sa.RequestType7}});Object.defineProperty(Gt,"RequestType8",{enumerable:!0,get:function(){return Sa.RequestType8}});Object.defineProperty(Gt,"RequestType9",{enumerable:!0,get:function(){return Sa.RequestType9}});Object.defineProperty(Gt,"ResponseError",{enumerable:!0,get:function(){return Sa.ResponseError}});Object.defineProperty(Gt,"ErrorCodes",{enumerable:!0,get:function(){return Sa.ErrorCodes}});Object.defineProperty(Gt,"NotificationType",{enumerable:!0,get:function(){return Sa.NotificationType}});Object.defineProperty(Gt,"NotificationType0",{enumerable:!0,get:function(){return Sa.NotificationType0}});Object.defineProperty(Gt,"NotificationType1",{enumerable:!0,get:function(){return Sa.NotificationType1}});Object.defineProperty(Gt,"NotificationType2",{enumerable:!0,get:function(){return Sa.NotificationType2}});Object.defineProperty(Gt,"NotificationType3",{enumerable:!0,get:function(){return Sa.NotificationType3}});Object.defineProperty(Gt,"NotificationType4",{enumerable:!0,get:function(){return Sa.NotificationType4}});Object.defineProperty(Gt,"NotificationType5",{enumerable:!0,get:function(){return Sa.NotificationType5}});Object.defineProperty(Gt,"NotificationType6",{enumerable:!0,get:function(){return Sa.NotificationType6}});Object.defineProperty(Gt,"NotificationType7",{enumerable:!0,get:function(){return Sa.NotificationType7}});Object.defineProperty(Gt,"NotificationType8",{enumerable:!0,get:function(){return Sa.NotificationType8}});Object.defineProperty(Gt,"NotificationType9",{enumerable:!0,get:function(){return Sa.NotificationType9}});Object.defineProperty(Gt,"ParameterStructures",{enumerable:!0,get:function(){return Sa.ParameterStructures}});var Wee=Tee();Object.defineProperty(Gt,"LinkedMap",{enumerable:!0,get:function(){return Wee.LinkedMap}});Object.defineProperty(Gt,"LRUCache",{enumerable:!0,get:function(){return Wee.LRUCache}});Object.defineProperty(Gt,"Touch",{enumerable:!0,get:function(){return Wee.Touch}});var q_t=GZ();Object.defineProperty(Gt,"Disposable",{enumerable:!0,get:function(){return q_t.Disposable}});var mIe=mR();Object.defineProperty(Gt,"Event",{enumerable:!0,get:function(){return mIe.Event}});Object.defineProperty(Gt,"Emitter",{enumerable:!0,get:function(){return mIe.Emitter}});var gIe=xee();Object.defineProperty(Gt,"CancellationTokenSource",{enumerable:!0,get:function(){return gIe.CancellationTokenSource}});Object.defineProperty(Gt,"CancellationToken",{enumerable:!0,get:function(){return gIe.CancellationToken}});var $ee=nIe();Object.defineProperty(Gt,"MessageReader",{enumerable:!0,get:function(){return $ee.MessageReader}});Object.defineProperty(Gt,"AbstractMessageReader",{enumerable:!0,get:function(){return $ee.AbstractMessageReader}});Object.defineProperty(Gt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return $ee.ReadableStreamMessageReader}});var Vee=cIe();Object.defineProperty(Gt,"MessageWriter",{enumerable:!0,get:function(){return Vee.MessageWriter}});Object.defineProperty(Gt,"AbstractMessageWriter",{enumerable:!0,get:function(){return Vee.AbstractMessageWriter}});Object.defineProperty(Gt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Vee.WriteableStreamMessageWriter}});var Qf=pIe();Object.defineProperty(Gt,"ConnectionStrategy",{enumerable:!0,get:function(){return Qf.ConnectionStrategy}});Object.defineProperty(Gt,"ConnectionOptions",{enumerable:!0,get:function(){return Qf.ConnectionOptions}});Object.defineProperty(Gt,"NullLogger",{enumerable:!0,get:function(){return Qf.NullLogger}});Object.defineProperty(Gt,"createMessageConnection",{enumerable:!0,get:function(){return Qf.createMessageConnection}});Object.defineProperty(Gt,"ProgressToken",{enumerable:!0,get:function(){return Qf.ProgressToken}});Object.defineProperty(Gt,"ProgressType",{enumerable:!0,get:function(){return Qf.ProgressType}});Object.defineProperty(Gt,"Trace",{enumerable:!0,get:function(){return Qf.Trace}});Object.defineProperty(Gt,"TraceValues",{enumerable:!0,get:function(){return Qf.TraceValues}});Object.defineProperty(Gt,"TraceFormat",{enumerable:!0,get:function(){return Qf.TraceFormat}});Object.defineProperty(Gt,"SetTraceNotification",{enumerable:!0,get:function(){return Qf.SetTraceNotification}});Object.defineProperty(Gt,"LogTraceNotification",{enumerable:!0,get:function(){return Qf.LogTraceNotification}});Object.defineProperty(Gt,"ConnectionErrors",{enumerable:!0,get:function(){return Qf.ConnectionErrors}});Object.defineProperty(Gt,"ConnectionError",{enumerable:!0,get:function(){return Qf.ConnectionError}});Object.defineProperty(Gt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qf.CancellationReceiverStrategy}});Object.defineProperty(Gt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qf.CancellationSenderStrategy}});Object.defineProperty(Gt,"CancellationStrategy",{enumerable:!0,get:function(){return Qf.CancellationStrategy}});var j_t=Bw();Gt.RAL=j_t.default});var ZD=E(_s=>{"use strict";var z_t=_s&&_s.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),U_t=_s&&_s.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&z_t(e,r,t)};Object.defineProperty(_s,"__esModule",{value:!0});_s.createMessageConnection=_s.createServerSocketTransport=_s.createClientSocketTransport=_s.createServerPipeTransport=_s.createClientPipeTransport=_s.generateRandomPipeName=_s.StreamMessageWriter=_s.StreamMessageReader=_s.SocketMessageWriter=_s.SocketMessageReader=_s.IPCMessageWriter=_s.IPCMessageReader=void 0;var yR=QOe();yR.default.install();var ab=Gee(),vIe=require("path"),H_t=require("os"),B_t=require("crypto"),gH=require("net");U_t(Gee(),_s);var Kee=class extends ab.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ab.Disposable.create(()=>this.process.off("message",e))}};_s.IPCMessageReader=Kee;var Yee=class extends ab.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};_s.IPCMessageWriter=Yee;var XD=class extends ab.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,yR.default)().stream.asReadableStream(e),t)}};_s.SocketMessageReader=XD;var QD=class extends ab.WriteableStreamMessageWriter{constructor(e,t){super((0,yR.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};_s.SocketMessageWriter=QD;var pH=class extends ab.ReadableStreamMessageReader{constructor(e,t){super((0,yR.default)().stream.asReadableStream(e),t)}};_s.StreamMessageReader=pH;var mH=class extends ab.WriteableStreamMessageWriter{constructor(e,t){super((0,yR.default)().stream.asWritableStream(e),t)}};_s.StreamMessageWriter=mH;var yIe=process.env.XDG_RUNTIME_DIR,W_t=new Map([["linux",107],["darwin",103]]);function $_t(){let r=(0,B_t.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;yIe?e=vIe.join(yIe,`vscode-ipc-${r}.sock`):e=vIe.join(H_t.tmpdir(),`vscode-${r}.sock`);let t=W_t.get(process.platform);return t!==void 0&&e.length>=t&&(0,yR.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}_s.generateRandomPipeName=$_t;function V_t(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,gH.createServer)(a=>{s.close(),t([new XD(a,e),new QD(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}_s.createClientPipeTransport=V_t;function G_t(r,e="utf-8"){let t=(0,gH.createConnection)(r);return[new XD(t,e),new QD(t,e)]}_s.createServerPipeTransport=G_t;function K_t(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,gH.createServer)(a=>{s.close(),t([new XD(a,e),new QD(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}_s.createClientSocketTransport=K_t;function Y_t(r,e="utf-8"){let t=(0,gH.createConnection)(r,"127.0.0.1");return[new XD(t,e),new QD(t,e)]}_s.createServerSocketTransport=Y_t;function J_t(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function X_t(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function Q_t(r,e,t,n){t||(t=ab.NullLogger);let i=J_t(r)?new pH(r):r,o=X_t(e)?new mH(e):e;return ab.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,ab.createMessageConnection)(i,o,t,n)}_s.createMessageConnection=Q_t});var Jee=E((eKt,_Ie)=>{"use strict";_Ie.exports=ZD()});var yH=E((bIe,vH)=>{(function(r){if(typeof vH=="object"&&typeof vH.exports=="object"){var e=r(require,bIe);e!==void 0&&(vH.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(re){function Re(je){return typeof je=="string"}re.is=Re})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(re){function Re(je){return typeof je=="string"}re.is=Re})(n=e.URI||(e.URI={}));var i;(function(re){re.MIN_VALUE=-2147483648,re.MAX_VALUE=2147483647;function Re(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Re})(i=e.integer||(e.integer={}));var o;(function(re){re.MIN_VALUE=0,re.MAX_VALUE=2147483647;function Re(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Re})(o=e.uinteger||(e.uinteger={}));var s;(function(re){function Re(he,S){return he===Number.MAX_VALUE&&(he=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:he,character:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}re.is=je})(s=e.Position||(e.Position={}));var a;(function(re){function Re(he,S,fe,Ye){if(He.uinteger(he)&&He.uinteger(S)&&He.uinteger(fe)&&He.uinteger(Ye))return{start:s.create(he,S),end:s.create(fe,Ye)};if(s.is(he)&&s.is(S))return{start:he,end:S};throw new Error("Range#create called with invalid arguments[".concat(he,", ").concat(S,", ").concat(fe,", ").concat(Ye,"]"))}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}re.is=je})(a=e.Range||(e.Range={}));var c;(function(re){function Re(he,S){return{uri:he,range:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}re.is=je})(c=e.Location||(e.Location={}));var u;(function(re){function Re(he,S,fe,Ye){return{targetUri:he,targetRange:S,targetSelectionRange:fe,originSelectionRange:Ye}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}re.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(re){function Re(he,S,fe,Ye){return{red:he,green:S,blue:fe,alpha:Ye}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}re.is=je})(l=e.Color||(e.Color={}));var d;(function(re){function Re(he,S){return{range:he,color:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}re.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(re){function Re(he,S,fe){return{label:he,textEdit:S,additionalTextEdits:fe}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||de.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,de.is))}re.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(re){re.Comment="comment",re.Imports="imports",re.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var _;(function(re){function Re(he,S,fe,Ye,Tr,Wr){var Xr={startLine:he,endLine:S};return He.defined(fe)&&(Xr.startCharacter=fe),He.defined(Ye)&&(Xr.endCharacter=Ye),He.defined(Tr)&&(Xr.kind=Tr),He.defined(Wr)&&(Xr.collapsedText=Wr),Xr}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}re.is=je})(_=e.FoldingRange||(e.FoldingRange={}));var D;(function(re){function Re(he,S){return{location:he,message:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}re.is=je})(D=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var O;(function(re){re.Error=1,re.Warning=2,re.Information=3,re.Hint=4})(O=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var M;(function(re){re.Unnecessary=1,re.Deprecated=2})(M=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&He.string(he.href)}re.is=Re})(A=e.CodeDescription||(e.CodeDescription={}));var U;(function(re){function Re(he,S,fe,Ye,Tr,Wr){var Xr={range:he,message:S};return He.defined(fe)&&(Xr.severity=fe),He.defined(Ye)&&(Xr.code=Ye),He.defined(Tr)&&(Xr.source=Tr),He.defined(Wr)&&(Xr.relatedInformation=Wr),Xr}re.create=Re;function je(he){var S,fe=he;return He.defined(fe)&&a.is(fe.range)&&He.string(fe.message)&&(He.number(fe.severity)||He.undefined(fe.severity))&&(He.integer(fe.code)||He.string(fe.code)||He.undefined(fe.code))&&(He.undefined(fe.codeDescription)||He.string((S=fe.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(fe.source)||He.undefined(fe.source))&&(He.undefined(fe.relatedInformation)||He.typedArray(fe.relatedInformation,D.is))}re.is=je})(U=e.Diagnostic||(e.Diagnostic={}));var ne;(function(re){function Re(he,S){for(var fe=[],Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];var Tr={title:he,command:S};return He.defined(fe)&&fe.length>0&&(Tr.arguments=fe),Tr}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}re.is=je})(ne=e.Command||(e.Command={}));var de;(function(re){function Re(fe,Ye){return{range:fe,newText:Ye}}re.replace=Re;function je(fe,Ye){return{range:{start:fe,end:fe},newText:Ye}}re.insert=je;function he(fe){return{range:fe,newText:""}}re.del=he;function S(fe){var Ye=fe;return He.objectLiteral(Ye)&&He.string(Ye.newText)&&a.is(Ye.range)}re.is=S})(de=e.TextEdit||(e.TextEdit={}));var ye;(function(re){function Re(he,S,fe){var Ye={label:he};return S!==void 0&&(Ye.needsConfirmation=S),fe!==void 0&&(Ye.description=fe),Ye}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}re.is=je})(ye=e.ChangeAnnotation||(e.ChangeAnnotation={}));var V;(function(re){function Re(je){var he=je;return He.string(he)}re.is=Re})(V=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var $;(function(re){function Re(fe,Ye,Tr){return{range:fe,newText:Ye,annotationId:Tr}}re.replace=Re;function je(fe,Ye,Tr){return{range:{start:fe,end:fe},newText:Ye,annotationId:Tr}}re.insert=je;function he(fe,Ye){return{range:fe,newText:"",annotationId:Ye}}re.del=he;function S(fe){var Ye=fe;return de.is(Ye)&&(ye.is(Ye.annotationId)||V.is(Ye.annotationId))}re.is=S})($=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ee;(function(re){function Re(he,S){return{textDocument:he,edits:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&Me.is(S.textDocument)&&Array.isArray(S.edits)}re.is=je})(ee=e.TextDocumentEdit||(e.TextDocumentEdit={}));var De;(function(re){function Re(he,S,fe){var Ye={kind:"create",uri:he};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Ye.options=S),fe!==void 0&&(Ye.annotationId=fe),Ye}re.create=Re;function je(he){var S=he;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(De=e.CreateFile||(e.CreateFile={}));var ae;(function(re){function Re(he,S,fe,Ye){var Tr={kind:"rename",oldUri:he,newUri:S};return fe!==void 0&&(fe.overwrite!==void 0||fe.ignoreIfExists!==void 0)&&(Tr.options=fe),Ye!==void 0&&(Tr.annotationId=Ye),Tr}re.create=Re;function je(he){var S=he;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(ae=e.RenameFile||(e.RenameFile={}));var ce;(function(re){function Re(he,S,fe){var Ye={kind:"delete",uri:he};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Ye.options=S),fe!==void 0&&(Ye.annotationId=fe),Ye}re.create=Re;function je(he){var S=he;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(ce=e.DeleteFile||(e.DeleteFile={}));var qe;(function(re){function Re(je){var he=je;return he&&(he.changes!==void 0||he.documentChanges!==void 0)&&(he.documentChanges===void 0||he.documentChanges.every(function(S){return He.string(S.kind)?De.is(S)||ae.is(S)||ce.is(S):ee.is(S)}))}re.is=Re})(qe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ne=function(){function re(Re,je){this.edits=Re,this.changeAnnotations=je}return re.prototype.insert=function(Re,je,he){var S,fe;if(he===void 0?S=de.insert(Re,je):V.is(he)?(fe=he,S=$.insert(Re,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=$.insert(Re,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.replace=function(Re,je,he){var S,fe;if(he===void 0?S=de.replace(Re,je):V.is(he)?(fe=he,S=$.replace(Re,je,he)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(he),S=$.replace(Re,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.delete=function(Re,je){var he,S;if(je===void 0?he=de.del(Re):V.is(je)?(S=je,he=$.del(Re,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),he=$.del(Re,S)),this.edits.push(he),S!==void 0)return S},re.prototype.add=function(Re){this.edits.push(Re)},re.prototype.all=function(){return this.edits},re.prototype.clear=function(){this.edits.splice(0,this.edits.length)},re.prototype.assertChangeAnnotations=function(Re){if(Re===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},re}(),ue=function(){function re(Re){this._annotations=Re===void 0?Object.create(null):Re,this._counter=0,this._size=0}return re.prototype.all=function(){return this._annotations},Object.defineProperty(re.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),re.prototype.manage=function(Re,je){var he;if(V.is(Re)?he=Re:(he=this.nextId(),je=Re),this._annotations[he]!==void 0)throw new Error("Id ".concat(he," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(he));return this._annotations[he]=je,this._size++,he},re.prototype.nextId=function(){return this._counter++,this._counter.toString()},re}(),Ce=function(){function re(Re){var je=this;this._textEditChanges=Object.create(null),Re!==void 0?(this._workspaceEdit=Re,Re.documentChanges?(this._changeAnnotations=new ue(Re.changeAnnotations),Re.changeAnnotations=this._changeAnnotations.all(),Re.documentChanges.forEach(function(he){if(ee.is(he)){var S=new Ne(he.edits,je._changeAnnotations);je._textEditChanges[he.textDocument.uri]=S}})):Re.changes&&Object.keys(Re.changes).forEach(function(he){var S=new Ne(Re.changes[he]);je._textEditChanges[he]=S})):this._workspaceEdit={}}return Object.defineProperty(re.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),re.prototype.getTextEditChange=function(Re){if(Me.is(Re)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:Re.uri,version:Re.version},he=this._textEditChanges[je.uri];if(!he){var S=[],fe={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(fe),he=new Ne(S,this._changeAnnotations),this._textEditChanges[je.uri]=he}return he}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var he=this._textEditChanges[Re];if(!he){var S=[];this._workspaceEdit.changes[Re]=S,he=new Ne(S),this._textEditChanges[Re]=he}return he}},re.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ue,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},re.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},re.prototype.createFile=function(Re,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ye.is(je)||V.is(je)?S=je:he=je;var fe,Ye;if(S===void 0?fe=De.create(Re,he):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),fe=De.create(Re,he,Ye)),this._workspaceEdit.documentChanges.push(fe),Ye!==void 0)return Ye},re.prototype.renameFile=function(Re,je,he,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe;ye.is(he)||V.is(he)?fe=he:S=he;var Ye,Tr;if(fe===void 0?Ye=ae.create(Re,je,S):(Tr=V.is(fe)?fe:this._changeAnnotations.manage(fe),Ye=ae.create(Re,je,S,Tr)),this._workspaceEdit.documentChanges.push(Ye),Tr!==void 0)return Tr},re.prototype.deleteFile=function(Re,je,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ye.is(je)||V.is(je)?S=je:he=je;var fe,Ye;if(S===void 0?fe=ce.create(Re,he):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),fe=ce.create(Re,he,Ye)),this._workspaceEdit.documentChanges.push(fe),Ye!==void 0)return Ye},re}();e.WorkspaceChange=Ce;var be;(function(re){function Re(he){return{uri:he}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)}re.is=je})(be=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xe;(function(re){function Re(he,S){return{uri:he,version:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}re.is=je})(xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Me;(function(re){function Re(he,S){return{uri:he,version:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}re.is=je})(Me=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var $e;(function(re){function Re(he,S,fe,Ye){return{uri:he,languageId:S,version:fe,text:Ye}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}re.is=je})($e=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(re){re.PlainText="plaintext",re.Markdown="markdown";function Re(je){var he=je;return he===re.PlainText||he===re.Markdown}re.is=Re})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(re){function Re(je){var he=je;return He.objectLiteral(je)&&Ct.is(he.kind)&&He.string(he.value)}re.is=Re})(ze=e.MarkupContent||(e.MarkupContent={}));var st;(function(re){re.Text=1,re.Method=2,re.Function=3,re.Constructor=4,re.Field=5,re.Variable=6,re.Class=7,re.Interface=8,re.Module=9,re.Property=10,re.Unit=11,re.Value=12,re.Enum=13,re.Keyword=14,re.Snippet=15,re.Color=16,re.File=17,re.Reference=18,re.Folder=19,re.EnumMember=20,re.Constant=21,re.Struct=22,re.Event=23,re.Operator=24,re.TypeParameter=25})(st=e.CompletionItemKind||(e.CompletionItemKind={}));var at;(function(re){re.PlainText=1,re.Snippet=2})(at=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(re){re.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var fr;(function(re){function Re(he,S,fe){return{newText:he,insert:S,replace:fe}}re.create=Re;function je(he){var S=he;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}re.is=je})(fr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Lr;(function(re){re.asIs=1,re.adjustIndentation=2})(Lr=e.InsertTextMode||(e.InsertTextMode={}));var zr;(function(re){function Re(je){var he=je;return he&&(He.string(he.detail)||he.detail===void 0)&&(He.string(he.description)||he.description===void 0)}re.is=Re})(zr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var cr;(function(re){function Re(je){return{label:je}}re.create=Re})(cr=e.CompletionItem||(e.CompletionItem={}));var xt;(function(re){function Re(je,he){return{items:je||[],isIncomplete:!!he}}re.create=Re})(xt=e.CompletionList||(e.CompletionList={}));var hr;(function(re){function Re(he){return he.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}re.fromPlainText=Re;function je(he){var S=he;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}re.is=je})(hr=e.MarkedString||(e.MarkedString={}));var Mt;(function(re){function Re(je){var he=je;return!!he&&He.objectLiteral(he)&&(ze.is(he.contents)||hr.is(he.contents)||He.typedArray(he.contents,hr.is))&&(je.range===void 0||a.is(je.range))}re.is=Re})(Mt=e.Hover||(e.Hover={}));var on;(function(re){function Re(je,he){return he?{label:je,documentation:he}:{label:je}}re.create=Re})(on=e.ParameterInformation||(e.ParameterInformation={}));var un;(function(re){function Re(je,he){for(var S=[],fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];var Ye={label:je};return He.defined(he)&&(Ye.documentation=he),He.defined(S)?Ye.parameters=S:Ye.parameters=[],Ye}re.create=Re})(un=e.SignatureInformation||(e.SignatureInformation={}));var On;(function(re){re.Text=1,re.Read=2,re.Write=3})(On=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Or;(function(re){function Re(je,he){var S={range:je};return He.number(he)&&(S.kind=he),S}re.create=Re})(Or=e.DocumentHighlight||(e.DocumentHighlight={}));var Hn;(function(re){re.File=1,re.Module=2,re.Namespace=3,re.Package=4,re.Class=5,re.Method=6,re.Property=7,re.Field=8,re.Constructor=9,re.Enum=10,re.Interface=11,re.Function=12,re.Variable=13,re.Constant=14,re.String=15,re.Number=16,re.Boolean=17,re.Array=18,re.Object=19,re.Key=20,re.Null=21,re.EnumMember=22,re.Struct=23,re.Event=24,re.Operator=25,re.TypeParameter=26})(Hn=e.SymbolKind||(e.SymbolKind={}));var $r;(function(re){re.Deprecated=1})($r=e.SymbolTag||(e.SymbolTag={}));var ln;(function(re){function Re(je,he,S,fe,Ye){var Tr={name:je,kind:he,location:{uri:fe,range:S}};return Ye&&(Tr.containerName=Ye),Tr}re.create=Re})(ln=e.SymbolInformation||(e.SymbolInformation={}));var ii;(function(re){function Re(je,he,S,fe){return fe!==void 0?{name:je,kind:he,location:{uri:S,range:fe}}:{name:je,kind:he,location:{uri:S}}}re.create=Re})(ii=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var Vr;(function(re){function Re(he,S,fe,Ye,Tr,Wr){var Xr={name:he,detail:S,kind:fe,range:Ye,selectionRange:Tr};return Wr!==void 0&&(Xr.children=Wr),Xr}re.create=Re;function je(he){var S=he;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}re.is=je})(Vr=e.DocumentSymbol||(e.DocumentSymbol={}));var An;(function(re){re.Empty="",re.QuickFix="quickfix",re.Refactor="refactor",re.RefactorExtract="refactor.extract",re.RefactorInline="refactor.inline",re.RefactorRewrite="refactor.rewrite",re.Source="source",re.SourceOrganizeImports="source.organizeImports",re.SourceFixAll="source.fixAll"})(An=e.CodeActionKind||(e.CodeActionKind={}));var Ri;(function(re){re.Invoked=1,re.Automatic=2})(Ri=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Gr;(function(re){function Re(he,S,fe){var Ye={diagnostics:he};return S!=null&&(Ye.only=S),fe!=null&&(Ye.triggerKind=fe),Ye}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.typedArray(S.diagnostics,U.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===Ri.Invoked||S.triggerKind===Ri.Automatic)}re.is=je})(Gr=e.CodeActionContext||(e.CodeActionContext={}));var Ji;(function(re){function Re(he,S,fe){var Ye={title:he},Tr=!0;return typeof S=="string"?(Tr=!1,Ye.kind=S):ne.is(S)?Ye.command=S:Ye.edit=S,Tr&&fe!==void 0&&(Ye.kind=fe),Ye}re.create=Re;function je(he){var S=he;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,U.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||ne.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||qe.is(S.edit))}re.is=je})(Ji=e.CodeAction||(e.CodeAction={}));var oi;(function(re){function Re(he,S){var fe={range:he};return He.defined(S)&&(fe.data=S),fe}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||ne.is(S.command))}re.is=je})(oi=e.CodeLens||(e.CodeLens={}));var fn;(function(re){function Re(he,S){return{tabSize:he,insertSpaces:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}re.is=je})(fn=e.FormattingOptions||(e.FormattingOptions={}));var Oe;(function(re){function Re(he,S,fe){return{range:he,target:S,data:fe}}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}re.is=je})(Oe=e.DocumentLink||(e.DocumentLink={}));var oe;(function(re){function Re(he,S){return{range:he,parent:S}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||re.is(S.parent))}re.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(re){re.namespace="namespace",re.type="type",re.class="class",re.enum="enum",re.interface="interface",re.struct="struct",re.typeParameter="typeParameter",re.parameter="parameter",re.variable="variable",re.property="property",re.enumMember="enumMember",re.event="event",re.function="function",re.method="method",re.macro="macro",re.keyword="keyword",re.modifier="modifier",re.comment="comment",re.string="string",re.number="number",re.regexp="regexp",re.operator="operator",re.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var _e;(function(re){re.declaration="declaration",re.definition="definition",re.readonly="readonly",re.static="static",re.deprecated="deprecated",re.abstract="abstract",re.async="async",re.modification="modification",re.documentation="documentation",re.defaultLibrary="defaultLibrary"})(_e=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Je;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&(he.resultId===void 0||typeof he.resultId=="string")&&Array.isArray(he.data)&&(he.data.length===0||typeof he.data[0]=="number")}re.is=Re})(Je=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(re){function Re(he,S){return{range:he,text:S}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.string(S.text)}re.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Yt;(function(re){function Re(he,S,fe){return{range:he,variableName:S,caseSensitiveLookup:fe}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}re.is=je})(Yt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var rr;(function(re){function Re(he,S){return{range:he,expression:S}}re.create=Re;function je(he){var S=he;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}re.is=je})(rr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Jt;(function(re){function Re(he,S){return{frameId:he,stoppedLocation:S}}re.create=Re;function je(he){var S=he;return He.defined(S)&&a.is(he.stoppedLocation)}re.is=je})(Jt=e.InlineValueContext||(e.InlineValueContext={}));var $t;(function(re){re.Type=1,re.Parameter=2;function Re(je){return je===1||je===2}re.is=Re})($t=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(re){function Re(he){return{value:he}}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||ne.is(S.command))}re.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(re){function Re(he,S,fe){var Ye={position:he,label:S};return fe!==void 0&&(Ye.kind=fe),Ye}re.create=Re;function je(he){var S=he;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||$t.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,de.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}re.is=je})(K=e.InlayHint||(e.InlayHint={}));var Fe;(function(re){function Re(je){var he=je;return He.objectLiteral(he)&&n.is(he.uri)&&He.string(he.name)}re.is=Re})(Fe=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Ht;(function(re){function Re(fe,Ye,Tr,Wr){return new Dr(fe,Ye,Tr,Wr)}re.create=Re;function je(fe){var Ye=fe;return!!(He.defined(Ye)&&He.string(Ye.uri)&&(He.undefined(Ye.languageId)||He.string(Ye.languageId))&&He.uinteger(Ye.lineCount)&&He.func(Ye.getText)&&He.func(Ye.positionAt)&&He.func(Ye.offsetAt))}re.is=je;function he(fe,Ye){for(var Tr=fe.getText(),Wr=S(Ye,function(es,Bs){var ta=es.range.start.line-Bs.range.start.line;return ta===0?es.range.start.character-Bs.range.start.character:ta}),Xr=Tr.length,qn=Wr.length-1;qn>=0;qn--){var xi=Wr[qn],ks=fe.offsetAt(xi.range.start),Sn=fe.offsetAt(xi.range.end);if(Sn<=Xr)Tr=Tr.substring(0,ks)+xi.newText+Tr.substring(Sn,Tr.length);else throw new Error("Overlapping edit");Xr=ks}return Tr}re.applyEdits=he;function S(fe,Ye){if(fe.length<=1)return fe;var Tr=fe.length/2|0,Wr=fe.slice(0,Tr),Xr=fe.slice(Tr);S(Wr,Ye),S(Xr,Ye);for(var qn=0,xi=0,ks=0;qn<Wr.length&&xi<Xr.length;){var Sn=Ye(Wr[qn],Xr[xi]);Sn<=0?fe[ks++]=Wr[qn++]:fe[ks++]=Xr[xi++]}for(;qn<Wr.length;)fe[ks++]=Wr[qn++];for(;xi<Xr.length;)fe[ks++]=Xr[xi++];return fe}})(Ht=e.TextDocument||(e.TextDocument={}));var Dr=function(){function re(Re,je,he,S){this._uri=Re,this._languageId=je,this._version=he,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(re.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),re.prototype.getText=function(Re){if(Re){var je=this.offsetAt(Re.start),he=this.offsetAt(Re.end);return this._content.substring(je,he)}return this._content},re.prototype.update=function(Re,je){this._content=Re.text,this._version=je,this._lineOffsets=void 0},re.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Re=[],je=this._content,he=!0,S=0;S<je.length;S++){he&&(Re.push(S),he=!1);var fe=je.charAt(S);he=fe==="\r"||fe===`
`,fe==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}he&&je.length>0&&Re.push(je.length),this._lineOffsets=Re}return this._lineOffsets},re.prototype.positionAt=function(Re){Re=Math.max(Math.min(Re,this._content.length),0);var je=this.getLineOffsets(),he=0,S=je.length;if(S===0)return s.create(0,Re);for(;he<S;){var fe=Math.floor((he+S)/2);je[fe]>Re?S=fe:he=fe+1}var Ye=he-1;return s.create(Ye,Re-je[Ye])},re.prototype.offsetAt=function(Re){var je=this.getLineOffsets();if(Re.line>=je.length)return this._content.length;if(Re.line<0)return 0;var he=je[Re.line],S=Re.line+1<je.length?je[Re.line+1]:this._content.length;return Math.max(Math.min(he+Re.character,S),he)},Object.defineProperty(re.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),re}(),He;(function(re){var Re=Object.prototype.toString;function je(Sn){return typeof Sn<"u"}re.defined=je;function he(Sn){return typeof Sn>"u"}re.undefined=he;function S(Sn){return Sn===!0||Sn===!1}re.boolean=S;function fe(Sn){return Re.call(Sn)==="[object String]"}re.string=fe;function Ye(Sn){return Re.call(Sn)==="[object Number]"}re.number=Ye;function Tr(Sn,es,Bs){return Re.call(Sn)==="[object Number]"&&es<=Sn&&Sn<=Bs}re.numberRange=Tr;function Wr(Sn){return Re.call(Sn)==="[object Number]"&&-2147483648<=Sn&&Sn<=2147483647}re.integer=Wr;function Xr(Sn){return Re.call(Sn)==="[object Number]"&&0<=Sn&&Sn<=2147483647}re.uinteger=Xr;function qn(Sn){return Re.call(Sn)==="[object Function]"}re.func=qn;function xi(Sn){return Sn!==null&&typeof Sn=="object"}re.objectLiteral=xi;function ks(Sn,es){return Array.isArray(Sn)&&Sn.every(es)}re.typedArray=ks})(He||(He={}))})});var $c=E(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.ProtocolNotificationType=Zh.ProtocolNotificationType0=Zh.ProtocolRequestType=Zh.ProtocolRequestType0=Zh.RegistrationType=Zh.MessageDirection=void 0;var _R=ZD(),Z_t;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(Z_t=Zh.MessageDirection||(Zh.MessageDirection={}));var Xee=class{constructor(e){this.method=e}};Zh.RegistrationType=Xee;var Qee=class extends _R.RequestType0{constructor(e){super(e)}};Zh.ProtocolRequestType0=Qee;var Zee=class extends _R.RequestType{constructor(e){super(e,_R.ParameterStructures.byName)}};Zh.ProtocolRequestType=Zee;var ete=class extends _R.NotificationType0{constructor(e){super(e)}};Zh.ProtocolNotificationType0=ete;var tte=class extends _R.NotificationType{constructor(e){super(e,_R.ParameterStructures.byName)}};Zh.ProtocolNotificationType=tte});var _H=E(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.objectLiteral=tl.typedArray=tl.stringArray=tl.array=tl.func=tl.error=tl.number=tl.string=tl.boolean=void 0;function ebt(r){return r===!0||r===!1}tl.boolean=ebt;function wIe(r){return typeof r=="string"||r instanceof String}tl.string=wIe;function tbt(r){return typeof r=="number"||r instanceof Number}tl.number=tbt;function rbt(r){return r instanceof Error}tl.error=rbt;function nbt(r){return typeof r=="function"}tl.func=nbt;function SIe(r){return Array.isArray(r)}tl.array=SIe;function ibt(r){return SIe(r)&&r.every(e=>wIe(e))}tl.stringArray=ibt;function obt(r,e){return Array.isArray(r)&&r.every(e)}tl.typedArray=obt;function sbt(r){return r!==null&&typeof r=="object"}tl.objectLiteral=sbt});var TIe=E(hL=>{"use strict";Object.defineProperty(hL,"__esModule",{value:!0});hL.ImplementationRequest=void 0;var CIe=$c(),abt;(function(r){r.method="textDocument/implementation",r.messageDirection=CIe.MessageDirection.clientToServer,r.type=new CIe.ProtocolRequestType(r.method)})(abt=hL.ImplementationRequest||(hL.ImplementationRequest={}))});var EIe=E(pL=>{"use strict";Object.defineProperty(pL,"__esModule",{value:!0});pL.TypeDefinitionRequest=void 0;var DIe=$c(),cbt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=DIe.MessageDirection.clientToServer,r.type=new DIe.ProtocolRequestType(r.method)})(cbt=pL.TypeDefinitionRequest||(pL.TypeDefinitionRequest={}))});var PIe=E(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});YC.DidChangeWorkspaceFoldersNotification=YC.WorkspaceFoldersRequest=void 0;var bH=$c(),ubt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=bH.MessageDirection.serverToClient,r.type=new bH.ProtocolRequestType0(r.method)})(ubt=YC.WorkspaceFoldersRequest||(YC.WorkspaceFoldersRequest={}));var lbt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=bH.MessageDirection.clientToServer,r.type=new bH.ProtocolNotificationType(r.method)})(lbt=YC.DidChangeWorkspaceFoldersNotification||(YC.DidChangeWorkspaceFoldersNotification={}))});var xIe=E(mL=>{"use strict";Object.defineProperty(mL,"__esModule",{value:!0});mL.ConfigurationRequest=void 0;var RIe=$c(),dbt;(function(r){r.method="workspace/configuration",r.messageDirection=RIe.MessageDirection.serverToClient,r.type=new RIe.ProtocolRequestType(r.method)})(dbt=mL.ConfigurationRequest||(mL.ConfigurationRequest={}))});var OIe=E(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});JC.ColorPresentationRequest=JC.DocumentColorRequest=void 0;var wH=$c(),fbt;(function(r){r.method="textDocument/documentColor",r.messageDirection=wH.MessageDirection.clientToServer,r.type=new wH.ProtocolRequestType(r.method)})(fbt=JC.DocumentColorRequest||(JC.DocumentColorRequest={}));var hbt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=wH.MessageDirection.clientToServer,r.type=new wH.ProtocolRequestType(r.method)})(hbt=JC.ColorPresentationRequest||(JC.ColorPresentationRequest={}))});var kIe=E(gL=>{"use strict";Object.defineProperty(gL,"__esModule",{value:!0});gL.FoldingRangeRequest=void 0;var IIe=$c(),pbt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=IIe.MessageDirection.clientToServer,r.type=new IIe.ProtocolRequestType(r.method)})(pbt=gL.FoldingRangeRequest||(gL.FoldingRangeRequest={}))});var LIe=E(vL=>{"use strict";Object.defineProperty(vL,"__esModule",{value:!0});vL.DeclarationRequest=void 0;var AIe=$c(),mbt;(function(r){r.method="textDocument/declaration",r.messageDirection=AIe.MessageDirection.clientToServer,r.type=new AIe.ProtocolRequestType(r.method)})(mbt=vL.DeclarationRequest||(vL.DeclarationRequest={}))});var NIe=E(yL=>{"use strict";Object.defineProperty(yL,"__esModule",{value:!0});yL.SelectionRangeRequest=void 0;var MIe=$c(),gbt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=MIe.MessageDirection.clientToServer,r.type=new MIe.ProtocolRequestType(r.method)})(gbt=yL.SelectionRangeRequest||(yL.SelectionRangeRequest={}))});var FIe=E(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.WorkDoneProgressCancelNotification=Oy.WorkDoneProgressCreateRequest=Oy.WorkDoneProgress=void 0;var vbt=ZD(),SH=$c(),ybt;(function(r){r.type=new vbt.ProgressType;function e(t){return t===r.type}r.is=e})(ybt=Oy.WorkDoneProgress||(Oy.WorkDoneProgress={}));var _bt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=SH.MessageDirection.serverToClient,r.type=new SH.ProtocolRequestType(r.method)})(_bt=Oy.WorkDoneProgressCreateRequest||(Oy.WorkDoneProgressCreateRequest={}));var bbt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=SH.MessageDirection.clientToServer,r.type=new SH.ProtocolNotificationType(r.method)})(bbt=Oy.WorkDoneProgressCancelNotification||(Oy.WorkDoneProgressCancelNotification={}))});var qIe=E(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.CallHierarchyOutgoingCallsRequest=Iy.CallHierarchyIncomingCallsRequest=Iy.CallHierarchyPrepareRequest=void 0;var bR=$c(),wbt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=bR.MessageDirection.clientToServer,r.type=new bR.ProtocolRequestType(r.method)})(wbt=Iy.CallHierarchyPrepareRequest||(Iy.CallHierarchyPrepareRequest={}));var Sbt;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=bR.MessageDirection.clientToServer,r.type=new bR.ProtocolRequestType(r.method)})(Sbt=Iy.CallHierarchyIncomingCallsRequest||(Iy.CallHierarchyIncomingCallsRequest={}));var Cbt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=bR.MessageDirection.clientToServer,r.type=new bR.ProtocolRequestType(r.method)})(Cbt=Iy.CallHierarchyOutgoingCallsRequest||(Iy.CallHierarchyOutgoingCallsRequest={}))});var jIe=E(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.SemanticTokensRefreshRequest=rl.SemanticTokensRangeRequest=rl.SemanticTokensDeltaRequest=rl.SemanticTokensRequest=rl.SemanticTokensRegistrationType=rl.TokenFormat=void 0;var Gw=$c(),Tbt;(function(r){r.Relative="relative"})(Tbt=rl.TokenFormat||(rl.TokenFormat={}));var CH;(function(r){r.method="textDocument/semanticTokens",r.type=new Gw.RegistrationType(r.method)})(CH=rl.SemanticTokensRegistrationType||(rl.SemanticTokensRegistrationType={}));var Dbt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Gw.MessageDirection.clientToServer,r.type=new Gw.ProtocolRequestType(r.method),r.registrationMethod=CH.method})(Dbt=rl.SemanticTokensRequest||(rl.SemanticTokensRequest={}));var Ebt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Gw.MessageDirection.clientToServer,r.type=new Gw.ProtocolRequestType(r.method),r.registrationMethod=CH.method})(Ebt=rl.SemanticTokensDeltaRequest||(rl.SemanticTokensDeltaRequest={}));var Pbt;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Gw.MessageDirection.clientToServer,r.type=new Gw.ProtocolRequestType(r.method),r.registrationMethod=CH.method})(Pbt=rl.SemanticTokensRangeRequest||(rl.SemanticTokensRangeRequest={}));var Rbt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Gw.MessageDirection.clientToServer,r.type=new Gw.ProtocolRequestType0(r.method)})(Rbt=rl.SemanticTokensRefreshRequest||(rl.SemanticTokensRefreshRequest={}))});var UIe=E(_L=>{"use strict";Object.defineProperty(_L,"__esModule",{value:!0});_L.ShowDocumentRequest=void 0;var zIe=$c(),xbt;(function(r){r.method="window/showDocument",r.messageDirection=zIe.MessageDirection.serverToClient,r.type=new zIe.ProtocolRequestType(r.method)})(xbt=_L.ShowDocumentRequest||(_L.ShowDocumentRequest={}))});var BIe=E(bL=>{"use strict";Object.defineProperty(bL,"__esModule",{value:!0});bL.LinkedEditingRangeRequest=void 0;var HIe=$c(),Obt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=HIe.MessageDirection.clientToServer,r.type=new HIe.ProtocolRequestType(r.method)})(Obt=bL.LinkedEditingRangeRequest||(bL.LinkedEditingRangeRequest={}))});var WIe=E(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.WillDeleteFilesRequest=Vc.DidDeleteFilesNotification=Vc.DidRenameFilesNotification=Vc.WillRenameFilesRequest=Vc.DidCreateFilesNotification=Vc.WillCreateFilesRequest=Vc.FileOperationPatternKind=void 0;var yv=$c(),Ibt;(function(r){r.file="file",r.folder="folder"})(Ibt=Vc.FileOperationPatternKind||(Vc.FileOperationPatternKind={}));var kbt;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolRequestType(r.method)})(kbt=Vc.WillCreateFilesRequest||(Vc.WillCreateFilesRequest={}));var Abt;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolNotificationType(r.method)})(Abt=Vc.DidCreateFilesNotification||(Vc.DidCreateFilesNotification={}));var Lbt;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolRequestType(r.method)})(Lbt=Vc.WillRenameFilesRequest||(Vc.WillRenameFilesRequest={}));var Mbt;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolNotificationType(r.method)})(Mbt=Vc.DidRenameFilesNotification||(Vc.DidRenameFilesNotification={}));var Nbt;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolNotificationType(r.method)})(Nbt=Vc.DidDeleteFilesNotification||(Vc.DidDeleteFilesNotification={}));var Fbt;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=yv.MessageDirection.clientToServer,r.type=new yv.ProtocolRequestType(r.method)})(Fbt=Vc.WillDeleteFilesRequest||(Vc.WillDeleteFilesRequest={}))});var VIe=E(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});ky.MonikerRequest=ky.MonikerKind=ky.UniquenessLevel=void 0;var $Ie=$c(),qbt;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(qbt=ky.UniquenessLevel||(ky.UniquenessLevel={}));var jbt;(function(r){r.$import="import",r.$export="export",r.local="local"})(jbt=ky.MonikerKind||(ky.MonikerKind={}));var zbt;(function(r){r.method="textDocument/moniker",r.messageDirection=$Ie.MessageDirection.clientToServer,r.type=new $Ie.ProtocolRequestType(r.method)})(zbt=ky.MonikerRequest||(ky.MonikerRequest={}))});var GIe=E(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.TypeHierarchySubtypesRequest=Ay.TypeHierarchySupertypesRequest=Ay.TypeHierarchyPrepareRequest=void 0;var wR=$c(),Ubt;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=wR.MessageDirection.clientToServer,r.type=new wR.ProtocolRequestType(r.method)})(Ubt=Ay.TypeHierarchyPrepareRequest||(Ay.TypeHierarchyPrepareRequest={}));var Hbt;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=wR.MessageDirection.clientToServer,r.type=new wR.ProtocolRequestType(r.method)})(Hbt=Ay.TypeHierarchySupertypesRequest||(Ay.TypeHierarchySupertypesRequest={}));var Bbt;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=wR.MessageDirection.clientToServer,r.type=new wR.ProtocolRequestType(r.method)})(Bbt=Ay.TypeHierarchySubtypesRequest||(Ay.TypeHierarchySubtypesRequest={}))});var KIe=E(XC=>{"use strict";Object.defineProperty(XC,"__esModule",{value:!0});XC.InlineValueRefreshRequest=XC.InlineValueRequest=void 0;var TH=$c(),Wbt;(function(r){r.method="textDocument/inlineValue",r.messageDirection=TH.MessageDirection.clientToServer,r.type=new TH.ProtocolRequestType(r.method)})(Wbt=XC.InlineValueRequest||(XC.InlineValueRequest={}));var $bt;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=TH.MessageDirection.clientToServer,r.type=new TH.ProtocolRequestType0(r.method)})($bt=XC.InlineValueRefreshRequest||(XC.InlineValueRefreshRequest={}))});var YIe=E(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.InlayHintRefreshRequest=Ly.InlayHintResolveRequest=Ly.InlayHintRequest=void 0;var SR=$c(),Vbt;(function(r){r.method="textDocument/inlayHint",r.messageDirection=SR.MessageDirection.clientToServer,r.type=new SR.ProtocolRequestType(r.method)})(Vbt=Ly.InlayHintRequest||(Ly.InlayHintRequest={}));var Gbt;(function(r){r.method="inlayHint/resolve",r.messageDirection=SR.MessageDirection.clientToServer,r.type=new SR.ProtocolRequestType(r.method)})(Gbt=Ly.InlayHintResolveRequest||(Ly.InlayHintResolveRequest={}));var Kbt;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=SR.MessageDirection.clientToServer,r.type=new SR.ProtocolRequestType0(r.method)})(Kbt=Ly.InlayHintRefreshRequest||(Ly.InlayHintRefreshRequest={}))});var XIe=E(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.DiagnosticRefreshRequest=Zd.WorkspaceDiagnosticRequest=Zd.DocumentDiagnosticRequest=Zd.DocumentDiagnosticReportKind=Zd.DiagnosticServerCancellationData=void 0;var JIe=ZD(),Ybt=_H(),CR=$c(),Jbt;(function(r){function e(t){let n=t;return n&&Ybt.boolean(n.retriggerRequest)}r.is=e})(Jbt=Zd.DiagnosticServerCancellationData||(Zd.DiagnosticServerCancellationData={}));var Xbt;(function(r){r.Full="full",r.Unchanged="unchanged"})(Xbt=Zd.DocumentDiagnosticReportKind||(Zd.DocumentDiagnosticReportKind={}));var Qbt;(function(r){r.method="textDocument/diagnostic",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType(r.method),r.partialResult=new JIe.ProgressType})(Qbt=Zd.DocumentDiagnosticRequest||(Zd.DocumentDiagnosticRequest={}));var Zbt;(function(r){r.method="workspace/diagnostic",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType(r.method),r.partialResult=new JIe.ProgressType})(Zbt=Zd.WorkspaceDiagnosticRequest||(Zd.WorkspaceDiagnosticRequest={}));var ewt;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=CR.MessageDirection.clientToServer,r.type=new CR.ProtocolRequestType0(r.method)})(ewt=Zd.DiagnosticRefreshRequest||(Zd.DiagnosticRefreshRequest={}))});var eke=E(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.DidCloseNotebookDocumentNotification=ls.DidSaveNotebookDocumentNotification=ls.DidChangeNotebookDocumentNotification=ls.NotebookCellArrayChange=ls.DidOpenNotebookDocumentNotification=ls.NotebookDocumentSyncRegistrationType=ls.NotebookDocument=ls.NotebookCell=ls.ExecutionSummary=ls.NotebookCellKind=void 0;var wL=yH(),My=_H(),cb=$c(),QIe;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(QIe=ls.NotebookCellKind||(ls.NotebookCellKind={}));var ZIe;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return My.objectLiteral(o)&&wL.uinteger.is(o.executionOrder)&&(o.success===void 0||My.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(ZIe=ls.ExecutionSummary||(ls.ExecutionSummary={}));var rte;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return My.objectLiteral(s)&&QIe.is(s.kind)&&wL.DocumentUri.is(s.document)&&(s.metadata===void 0||My.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!ZIe.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(My.objectLiteral(o)&&My.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(rte=ls.NotebookCell||(ls.NotebookCell={}));var twt;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return My.objectLiteral(i)&&My.string(i.uri)&&wL.integer.is(i.version)&&My.typedArray(i.cells,rte.is)}r.is=t})(twt=ls.NotebookDocument||(ls.NotebookDocument={}));var SL;(function(r){r.method="notebookDocument/sync",r.messageDirection=cb.MessageDirection.clientToServer,r.type=new cb.RegistrationType(r.method)})(SL=ls.NotebookDocumentSyncRegistrationType||(ls.NotebookDocumentSyncRegistrationType={}));var rwt;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=cb.MessageDirection.clientToServer,r.type=new cb.ProtocolNotificationType(r.method),r.registrationMethod=SL.method})(rwt=ls.DidOpenNotebookDocumentNotification||(ls.DidOpenNotebookDocumentNotification={}));var nwt;(function(r){function e(n){let i=n;return My.objectLiteral(i)&&wL.uinteger.is(i.start)&&wL.uinteger.is(i.deleteCount)&&(i.cells===void 0||My.typedArray(i.cells,rte.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(nwt=ls.NotebookCellArrayChange||(ls.NotebookCellArrayChange={}));var iwt;(function(r){r.method="notebookDocument/didChange",r.messageDirection=cb.MessageDirection.clientToServer,r.type=new cb.ProtocolNotificationType(r.method),r.registrationMethod=SL.method})(iwt=ls.DidChangeNotebookDocumentNotification||(ls.DidChangeNotebookDocumentNotification={}));var owt;(function(r){r.method="notebookDocument/didSave",r.messageDirection=cb.MessageDirection.clientToServer,r.type=new cb.ProtocolNotificationType(r.method),r.registrationMethod=SL.method})(owt=ls.DidSaveNotebookDocumentNotification||(ls.DidSaveNotebookDocumentNotification={}));var swt;(function(r){r.method="notebookDocument/didClose",r.messageDirection=cb.MessageDirection.clientToServer,r.type=new cb.ProtocolNotificationType(r.method),r.registrationMethod=SL.method})(swt=ls.DidCloseNotebookDocumentNotification||(ls.DidCloseNotebookDocumentNotification={}))});var uke=E(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Er=$c(),tke=yH(),ef=_H(),awt=TIe();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return awt.ImplementationRequest}});var cwt=EIe();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return cwt.TypeDefinitionRequest}});var rke=PIe();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return rke.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return rke.DidChangeWorkspaceFoldersNotification}});var uwt=xIe();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return uwt.ConfigurationRequest}});var nke=OIe();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return nke.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return nke.ColorPresentationRequest}});var lwt=kIe();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return lwt.FoldingRangeRequest}});var dwt=LIe();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return dwt.DeclarationRequest}});var fwt=NIe();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return fwt.SelectionRangeRequest}});var nte=FIe();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return nte.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return nte.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return nte.WorkDoneProgressCancelNotification}});var ite=qIe();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ite.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ite.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ite.CallHierarchyPrepareRequest}});var TR=jIe();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return TR.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return TR.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return TR.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return TR.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return TR.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return TR.SemanticTokensRegistrationType}});var hwt=UIe();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return hwt.ShowDocumentRequest}});var pwt=BIe();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return pwt.LinkedEditingRangeRequest}});var e0=WIe();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return e0.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return e0.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return e0.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return e0.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return e0.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return e0.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return e0.WillDeleteFilesRequest}});var ote=VIe();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return ote.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return ote.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return ote.MonikerRequest}});var ste=GIe();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return ste.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return ste.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return ste.TypeHierarchySupertypesRequest}});var ike=KIe();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return ike.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ike.InlineValueRefreshRequest}});var ate=YIe();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return ate.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ate.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ate.InlayHintRefreshRequest}});var CL=XIe();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return CL.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return CL.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return CL.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return CL.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return CL.DiagnosticRefreshRequest}});var ub=eke();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return ub.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return ub.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return ub.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return ub.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ub.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ub.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ub.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ub.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ub.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ub.DidCloseNotebookDocumentNotification}});var oke;(function(r){function e(t){let n=t;return ef.string(n.language)||ef.string(n.scheme)||ef.string(n.pattern)}r.is=e})(oke=me.TextDocumentFilter||(me.TextDocumentFilter={}));var ske;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(ef.string(n.notebookType)||ef.string(n.scheme)||ef.string(n.pattern))}r.is=e})(ske=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var ake;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(ef.string(n.notebook)||ske.is(n.notebook))&&(n.language===void 0||ef.string(n.language))}r.is=e})(ake=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var cke;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!ef.string(n)&&!oke.is(n)&&!ake.is(n))return!1;return!0}r.is=e})(cke=me.DocumentSelector||(me.DocumentSelector={}));var mwt;(function(r){r.method="client/registerCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(mwt=me.RegistrationRequest||(me.RegistrationRequest={}));var gwt;(function(r){r.method="client/unregisterCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(gwt=me.UnregistrationRequest||(me.UnregistrationRequest={}));var vwt;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(vwt=me.ResourceOperationKind||(me.ResourceOperationKind={}));var ywt;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(ywt=me.FailureHandlingKind||(me.FailureHandlingKind={}));var _wt;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(_wt=me.PositionEncodingKind||(me.PositionEncodingKind={}));var bwt;(function(r){function e(t){let n=t;return n&&ef.string(n.id)&&n.id.length>0}r.hasId=e})(bwt=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var wwt;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||cke.is(n.documentSelector))}r.is=e})(wwt=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var Swt;(function(r){function e(n){let i=n;return ef.objectLiteral(i)&&(i.workDoneProgress===void 0||ef.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&ef.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(Swt=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var Cwt;(function(r){r.method="initialize",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Cwt=me.InitializeRequest||(me.InitializeRequest={}));var Twt;(function(r){r.unknownProtocolVersion=1})(Twt=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var Dwt;(function(r){r.method="initialized",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Dwt=me.InitializedNotification||(me.InitializedNotification={}));var Ewt;(function(r){r.method="shutdown",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType0(r.method)})(Ewt=me.ShutdownRequest||(me.ShutdownRequest={}));var Pwt;(function(r){r.method="exit",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType0(r.method)})(Pwt=me.ExitNotification||(me.ExitNotification={}));var Rwt;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Rwt=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var xwt;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(xwt=me.MessageType||(me.MessageType={}));var Owt;(function(r){r.method="window/showMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Owt=me.ShowMessageNotification||(me.ShowMessageNotification={}));var Iwt;(function(r){r.method="window/showMessageRequest",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(Iwt=me.ShowMessageRequest||(me.ShowMessageRequest={}));var kwt;(function(r){r.method="window/logMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(kwt=me.LogMessageNotification||(me.LogMessageNotification={}));var Awt;(function(r){r.method="telemetry/event",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Awt=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var Lwt;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Lwt=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var Mwt;(function(r){r.method="textDocument/didOpen",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Mwt=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var Nwt;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(Nwt=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var Fwt;(function(r){r.method="textDocument/didChange",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Fwt=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var qwt;(function(r){r.method="textDocument/didClose",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(qwt=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var jwt;(function(r){r.method="textDocument/didSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(jwt=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var zwt;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(zwt=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var Uwt;(function(r){r.method="textDocument/willSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Uwt=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var Hwt;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Hwt=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var Bwt;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Bwt=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var Wwt;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(Wwt=me.FileChangeType||(me.FileChangeType={}));var $wt;(function(r){function e(t){let n=t;return ef.objectLiteral(n)&&(tke.URI.is(n.baseUri)||tke.WorkspaceFolder.is(n.baseUri))&&ef.string(n.pattern)}r.is=e})($wt=me.RelativePattern||(me.RelativePattern={}));var Vwt;(function(r){r.Create=1,r.Change=2,r.Delete=4})(Vwt=me.WatchKind||(me.WatchKind={}));var Gwt;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Gwt=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var Kwt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(Kwt=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var Ywt;(function(r){r.method="textDocument/completion",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ywt=me.CompletionRequest||(me.CompletionRequest={}));var Jwt;(function(r){r.method="completionItem/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Jwt=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var Xwt;(function(r){r.method="textDocument/hover",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Xwt=me.HoverRequest||(me.HoverRequest={}));var Qwt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(Qwt=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var Zwt;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Zwt=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var eSt;(function(r){r.method="textDocument/definition",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(eSt=me.DefinitionRequest||(me.DefinitionRequest={}));var tSt;(function(r){r.method="textDocument/references",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(tSt=me.ReferencesRequest||(me.ReferencesRequest={}));var rSt;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(rSt=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var nSt;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(nSt=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var iSt;(function(r){r.method="textDocument/codeAction",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(iSt=me.CodeActionRequest||(me.CodeActionRequest={}));var oSt;(function(r){r.method="codeAction/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(oSt=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var sSt;(function(r){r.method="workspace/symbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(sSt=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var aSt;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(aSt=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var cSt;(function(r){r.method="textDocument/codeLens",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(cSt=me.CodeLensRequest||(me.CodeLensRequest={}));var uSt;(function(r){r.method="codeLens/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(uSt=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var lSt;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType0(r.method)})(lSt=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var dSt;(function(r){r.method="textDocument/documentLink",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(dSt=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var fSt;(function(r){r.method="documentLink/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(fSt=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var hSt;(function(r){r.method="textDocument/formatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(hSt=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var pSt;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(pSt=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var mSt;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(mSt=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var gSt;(function(r){r.Identifier=1})(gSt=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var vSt;(function(r){r.method="textDocument/rename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(vSt=me.RenameRequest||(me.RenameRequest={}));var ySt;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(ySt=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var _St;(function(r){r.method="workspace/executeCommand",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(_St=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var bSt;(function(r){r.method="workspace/applyEdit",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType("workspace/applyEdit")})(bSt=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var dke=E(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});DH.createProtocolConnection=void 0;var lke=ZD();function wSt(r,e,t,n){return lke.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,lke.createMessageConnection)(r,e,t,n)}DH.createProtocolConnection=wSt});var fke=E(ep=>{"use strict";var SSt=ep&&ep.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),EH=ep&&ep.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&SSt(e,r,t)};Object.defineProperty(ep,"__esModule",{value:!0});ep.LSPErrorCodes=ep.createProtocolConnection=void 0;EH(ZD(),ep);EH(yH(),ep);EH($c(),ep);EH(uke(),ep);var CSt=dke();Object.defineProperty(ep,"createProtocolConnection",{enumerable:!0,get:function(){return CSt.createProtocolConnection}});var TSt;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(TSt=ep.LSPErrorCodes||(ep.LSPErrorCodes={}))});var qi=E(lb=>{"use strict";var DSt=lb&&lb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hke=lb&&lb.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DSt(e,r,t)};Object.defineProperty(lb,"__esModule",{value:!0});lb.createProtocolConnection=void 0;var ESt=Jee();hke(Jee(),lb);hke(fke(),lb);function PSt(r,e,t,n){return(0,ESt.createMessageConnection)(r,e,t,n)}lb.createProtocolConnection=PSt});var EL=E(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.forEach=Zf.mapAsync=Zf.map=Zf.clearTestMode=Zf.setTestMode=Zf.Semaphore=Zf.Delayer=void 0;var DL=qi(),cte=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,DL.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Zf.Delayer=cte;var ute=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,DL.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Zf.Semaphore=ute;var lte=!1;function RSt(){lte=!0}Zf.setTestMode=RSt;function xSt(){lte=!1}Zf.clearTestMode=xSt;var pke=15,TL=class{constructor(e=pke){this.yieldAfter=lte===!0?Math.max(e,2):Math.max(e,pke),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function OSt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new TL(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,DL.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Zf.map=OSt;async function ISt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new TL(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,DL.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Zf.mapAsync=ISt;async function kSt(r,e,t,n){if(r.length===0)return;let i=new TL(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,DL.RAL)().timer.setImmediate(()=>{a(o(s))})})}Zf.forEach=kSt});var hte=E(fte=>{"use strict";Object.defineProperty(fte,"__esModule",{value:!0});var ASt=require("vscode"),dte=class extends ASt.CompletionItem{constructor(e){super(e)}};fte.default=dte});var gte=E(mte=>{"use strict";Object.defineProperty(mte,"__esModule",{value:!0});var LSt=require("vscode"),pte=class extends LSt.CodeLens{constructor(e){super(e)}};mte.default=pte});var _te=E(yte=>{"use strict";Object.defineProperty(yte,"__esModule",{value:!0});var MSt=require("vscode"),vte=class extends MSt.DocumentLink{constructor(e,t){super(e,t)}};yte.default=vte});var Ste=E(wte=>{"use strict";Object.defineProperty(wte,"__esModule",{value:!0});var NSt=require("vscode"),bte=class extends NSt.CodeAction{constructor(e,t){super(e),this.data=t}};wte.default=bte});var Dte=E(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.ProtocolDiagnostic=t0.DiagnosticCode=void 0;var FSt=require("vscode"),Cte=vv(),qSt;(function(r){function e(t){let n=t;return n!=null&&(Cte.number(n.value)||Cte.string(n.value))&&Cte.string(n.target)}r.is=e})(qSt=t0.DiagnosticCode||(t0.DiagnosticCode={}));var Tte=class extends FSt.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};t0.ProtocolDiagnostic=Tte});var Rte=E(Pte=>{"use strict";Object.defineProperty(Pte,"__esModule",{value:!0});var jSt=require("vscode"),Ete=class extends jSt.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Pte.default=Ete});var Ite=E(Ote=>{"use strict";Object.defineProperty(Ote,"__esModule",{value:!0});var zSt=require("vscode"),xte=class extends zSt.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Ote.default=xte});var Lte=E(Ate=>{"use strict";Object.defineProperty(Ate,"__esModule",{value:!0});var PH=require("vscode"),kte=class extends PH.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof PH.Uri);super(e,t,n,s?i:new PH.Location(i,new PH.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};Ate.default=kte});var Fte=E(Nte=>{"use strict";Object.defineProperty(Nte,"__esModule",{value:!0});var USt=require("vscode"),Mte=class extends USt.InlayHint{constructor(e,t,n){super(e,t,n)}};Nte.default=Mte});var vke=E(RH=>{"use strict";Object.defineProperty(RH,"__esModule",{value:!0});RH.createConverter=void 0;var nl=require("vscode"),Yi=qi(),DR=vv(),mke=EL(),HSt=hte(),BSt=gte(),WSt=_te(),$St=Ste(),gke=Dte(),VSt=Rte(),GSt=Ite(),KSt=Lte(),YSt=Fte(),qte;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(qte||(qte={}));function JSt(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let Fe=K;return!!Fe.document&&!!Fe.contentChanges}function u(K){let Fe=K;return!!Fe.uri&&!!Fe.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let Fe=K.document;return{textDocument:{uri:t(Fe.uri),version:Fe.version},contentChanges:K.contentChanges.map(Dr=>{let He=Dr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Dr.rangeLength,text:Dr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,Fe=!1){let Ht={textDocument:i(K)};return Fe&&(Ht.text=K.getText()),Ht}function m(K){switch(K){case nl.TextDocumentSaveReason.Manual:return Yi.TextDocumentSaveReason.Manual;case nl.TextDocumentSaveReason.AfterDelay:return Yi.TextDocumentSaveReason.AfterDelay;case nl.TextDocumentSaveReason.FocusOut:return Yi.TextDocumentSaveReason.FocusOut}return Yi.TextDocumentSaveReason.Manual}function _(K){return{textDocument:i(K.document),reason:m(K.reason)}}function D(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function O(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function M(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function A(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function U(K){return{files:K.files.map(Fe=>({oldUri:t(Fe.oldUri),newUri:t(Fe.newUri)}))}}function ne(K){return{files:K.files.map(Fe=>({uri:t(Fe)}))}}function de(K,Fe){return{textDocument:i(K),position:ue(Fe)}}function ye(K){switch(K){case nl.CompletionTriggerKind.TriggerCharacter:return Yi.CompletionTriggerKind.TriggerCharacter;case nl.CompletionTriggerKind.TriggerForIncompleteCompletions:return Yi.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Yi.CompletionTriggerKind.Invoked}}function V(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{triggerKind:ye(Ht.triggerKind),triggerCharacter:Ht.triggerCharacter}}}function $(K){switch(K){case nl.SignatureHelpTriggerKind.Invoke:return Yi.SignatureHelpTriggerKind.Invoked;case nl.SignatureHelpTriggerKind.TriggerCharacter:return Yi.SignatureHelpTriggerKind.TriggerCharacter;case nl.SignatureHelpTriggerKind.ContentChange:return Yi.SignatureHelpTriggerKind.ContentChange}}function ee(K){return{label:K.label}}function De(K){return K.map(ee)}function ae(K){return{label:K.label,parameters:De(K.parameters)}}function ce(K){return K.map(ae)}function qe(K){return K===void 0?K:{signatures:ce(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function Ne(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{isRetrigger:Ht.isRetrigger,triggerCharacter:Ht.triggerCharacter,triggerKind:$(Ht.triggerKind),activeSignatureHelp:qe(Ht.activeSignatureHelp)}}}function ue(K){return{line:K.line,character:K.character}}function Ce(K){return K==null?K:{line:K.line>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.line,character:K.character>Yi.uinteger.MAX_VALUE?Yi.uinteger.MAX_VALUE:K.character}}function be(K,Fe){return mke.map(K,Ce,Fe)}function xe(K){return K==null?K:{start:Ce(K.start),end:Ce(K.end)}}function Me(K){return K==null?K:Yi.Location.create(n(K.uri),xe(K.range))}function $e(K){switch(K){case nl.DiagnosticSeverity.Error:return Yi.DiagnosticSeverity.Error;case nl.DiagnosticSeverity.Warning:return Yi.DiagnosticSeverity.Warning;case nl.DiagnosticSeverity.Information:return Yi.DiagnosticSeverity.Information;case nl.DiagnosticSeverity.Hint:return Yi.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let Fe=[];for(let Ht of K){let Dr=ze(Ht);Dr!==void 0&&Fe.push(Dr)}return Fe.length>0?Fe:void 0}function ze(K){switch(K){case nl.DiagnosticTag.Unnecessary:return Yi.DiagnosticTag.Unnecessary;case nl.DiagnosticTag.Deprecated:return Yi.DiagnosticTag.Deprecated;default:return}}function st(K){return{message:K.message,location:Me(K.location)}}function at(K){return K.map(st)}function tt(K){if(K!=null)return DR.number(K)||DR.string(K)?K:{value:K.value,target:n(K.target)}}function fr(K){let Fe=Yi.Diagnostic.create(xe(K.range),K.message),Ht=K instanceof gke.ProtocolDiagnostic?K:void 0;Ht!==void 0&&Ht.data!==void 0&&(Fe.data=Ht.data);let Dr=tt(K.code);return gke.DiagnosticCode.is(Dr)?Ht!==void 0&&Ht.hasDiagnosticCode?Fe.code=Dr:(Fe.code=Dr.value,Fe.codeDescription={href:Dr.target}):Fe.code=Dr,DR.number(K.severity)&&(Fe.severity=$e(K.severity)),Array.isArray(K.tags)&&(Fe.tags=Ct(K.tags)),K.relatedInformation&&(Fe.relatedInformation=at(K.relatedInformation)),K.source&&(Fe.source=K.source),Fe}function Lr(K,Fe){return K==null?K:mke.map(K,fr,Fe)}function zr(K,Fe){switch(K){case"$string":return Fe;case Yi.MarkupKind.PlainText:return{kind:K,value:Fe};case Yi.MarkupKind.Markdown:return{kind:K,value:Fe.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function cr(K){switch(K){case nl.CompletionItemTag.Deprecated:return Yi.CompletionItemTag.Deprecated}}function xt(K){if(K===void 0)return K;let Fe=[];for(let Ht of K){let Dr=cr(Ht);Dr!==void 0&&Fe.push(Dr)}return Fe}function hr(K,Fe){return Fe!==void 0?Fe:K+1}function Mt(K,Fe=!1){let Ht,Dr;DR.string(K.label)?Ht=K.label:(Ht=K.label.label,Fe&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Dr={detail:K.label.detail,description:K.label.description}));let He={label:Ht};Dr!==void 0&&(He.labelDetails=Dr);let re=K instanceof HSt.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!re||re.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=zr(re.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),on(He,K),DR.number(K.kind)&&(He.kind=hr(K.kind,re&&re.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Or(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=oi(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let Re=xt(K.tags);if(re){if(re.data!==void 0&&(He.data=re.data),re.deprecated===!0||re.deprecated===!1){if(re.deprecated===!0&&Re!==void 0&&Re.length>0){let je=Re.indexOf(nl.CompletionItemTag.Deprecated);je!==-1&&Re.splice(je,1)}He.deprecated=re.deprecated}re.insertTextMode!==void 0&&(He.insertTextMode=re.insertTextMode)}return Re!==void 0&&Re.length>0&&(He.tags=Re),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=Yi.InsertTextMode.adjustIndentation),He}function on(K,Fe){let Ht=Yi.InsertTextFormat.PlainText,Dr,He;Fe.textEdit?(Dr=Fe.textEdit.newText,He=Fe.textEdit.range):Fe.insertText instanceof nl.SnippetString?(Ht=Yi.InsertTextFormat.Snippet,Dr=Fe.insertText.value):Dr=Fe.insertText,Fe.range&&(He=Fe.range),K.insertTextFormat=Ht,Fe.fromEdit&&Dr!==void 0&&He!==void 0?K.textEdit=un(Dr,He):K.insertText=Dr}function un(K,Fe){return qte.is(Fe)?Yi.InsertReplaceEdit.create(K,xe(Fe.inserting),xe(Fe.replacing)):{newText:K,range:xe(Fe)}}function On(K){return{range:xe(K.range),newText:K.newText}}function Or(K){return K==null?K:K.map(On)}function Hn(K){return K<=nl.SymbolKind.TypeParameter?K+1:Yi.SymbolKind.Property}function $r(K){return K}function ln(K){return K.map($r)}function ii(K,Fe,Ht){return{textDocument:i(K),position:ue(Fe),context:{includeDeclaration:Ht.includeDeclaration}}}async function Vr(K,Fe){let Ht=Yi.CodeAction.create(K.title);if(K instanceof $St.default&&K.data!==void 0&&(Ht.data=K.data),K.kind!==void 0&&(Ht.kind=Gr(K.kind)),K.diagnostics!==void 0&&(Ht.diagnostics=await Lr(K.diagnostics,Fe)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Ht.command=oi(K.command)),K.isPreferred!==void 0&&(Ht.isPreferred=K.isPreferred),K.disabled!==void 0&&(Ht.disabled={reason:K.disabled.reason}),Ht}async function An(K,Fe){if(K==null)return K;let Ht;return K.only&&DR.string(K.only.value)&&(Ht=[K.only.value]),Yi.CodeActionContext.create(await Lr(K.diagnostics,Fe),Ht,Ri(K.triggerKind))}function Ri(K){switch(K){case nl.CodeActionTriggerKind.Invoke:return Yi.CodeActionTriggerKind.Invoked;case nl.CodeActionTriggerKind.Automatic:return Yi.CodeActionTriggerKind.Automatic;default:return}}function Gr(K){if(K!=null)return K.value}function Ji(K){return K==null?K:Yi.InlineValueContext.create(K.frameId,xe(K.stoppedLocation))}function oi(K){let Fe=Yi.Command.create(K.title,K.command);return K.arguments&&(Fe.arguments=K.arguments),Fe}function fn(K){let Fe=Yi.CodeLens.create(xe(K.range));return K.command&&(Fe.command=oi(K.command)),K instanceof BSt.default&&K.data&&(Fe.data=K.data),Fe}function Oe(K,Fe){let Ht={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return Fe.trimTrailingWhitespace&&(Ht.trimTrailingWhitespace=!0),Fe.trimFinalNewlines&&(Ht.trimFinalNewlines=!0),Fe.insertFinalNewline&&(Ht.insertFinalNewline=!0),Ht}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function _e(K){let Fe=Yi.DocumentLink.create(xe(K.range));K.target&&(Fe.target=n(K.target)),K.tooltip!==void 0&&(Fe.tooltip=K.tooltip);let Ht=K instanceof WSt.default?K:void 0;return Ht&&Ht.data&&(Fe.data=Ht.data),Fe}function Je(K){return{textDocument:i(K)}}function ft(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=ln(K.tags)),K instanceof VSt.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function Yt(K){let Fe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(Fe.detail=K.detail),K.tags!==void 0&&(Fe.tags=ln(K.tags)),K instanceof GSt.default&&K.data!==void 0&&(Fe.data=K.data),Fe}function rr(K){let Fe=K instanceof KSt.default?{name:K.name,kind:Hn(K.kind),location:K.hasRange?Me(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Hn(K.kind),location:Me(K.location)};return K.tags!==void 0&&(Fe.tags=ln(K.tags)),K.containerName!==""&&(Fe.containerName=K.containerName),Fe}function Jt(K){let Fe=typeof K.label=="string"?K.label:K.label.map($t),Ht=Yi.InlayHint.create(Ce(K.position),Fe);return K.kind!==void 0&&(Ht.kind=K.kind),K.textEdits!==void 0&&(Ht.textEdits=Or(K.textEdits)),K.tooltip!==void 0&&(Ht.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Ht.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Ht.paddingRight=K.paddingRight),K instanceof YSt.default&&K.data!==void 0&&(Ht.data=K.data),Ht}function $t(K){let Fe=Yi.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(Fe.location=Me(K.location)),K.command!==void 0&&(Fe.command=oi(K.command)),K.tooltip!==void 0&&(Fe.tooltip=kt(K.tooltip)),Fe}function kt(K){return typeof K=="string"?K:{kind:Yi.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:O,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:V,asSignatureHelpParams:Ne,asWorkerPosition:ue,asRange:xe,asPosition:Ce,asPositions:be,asLocation:Me,asDiagnosticSeverity:$e,asDiagnosticTag:ze,asDiagnostic:fr,asDiagnostics:Lr,asCompletionItem:Mt,asTextEdit:On,asSymbolKind:Hn,asSymbolTag:$r,asSymbolTags:ln,asReferenceParams:ii,asCodeAction:Vr,asCodeActionContext:An,asInlineValueContext:Ji,asCommand:oi,asCodeLens:fn,asFormattingOptions:Oe,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:_e,asDocumentLinkParams:Je,asCallHierarchyItem:ft,asTypeHierarchyItem:Yt,asInlayHint:Jt,asWorkspaceSymbol:rr}}RH.createConverter=JSt});var bke=E(OH=>{"use strict";Object.defineProperty(OH,"__esModule",{value:!0});OH.createConverter=void 0;var Br=require("vscode"),yi=qi(),_v=vv(),bs=EL(),XSt=hte(),QSt=gte(),ZSt=_te(),eCt=Ste(),yke=Dte(),tCt=Rte(),rCt=Ite(),nCt=Lte(),iCt=Fte(),_ke=qi(),xH;(function(r){function e(t){let n=t;return n&&_v.string(n.language)&&_v.string(n.value)}r.is=e})(xH||(xH={}));function oCt(r,e,t){let i=r||(H=>Br.Uri.parse(H));function o(H){return i(H)}function s(H){let Ue=[];for(let vt of H)if(typeof vt=="string")Ue.push(vt);else if(_ke.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let Fr=vt.notebook.notebookType??"*";Ue.push({notebookType:Fr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else _ke.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(H,Ue){return bs.map(H,u,Ue)}function c(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=u(H[vt]);return Ue}function u(H){let Ue=new yke.ProtocolDiagnostic(_(H.range),H.message,O(H.severity),H.data);if(H.code!==void 0){if(typeof H.code=="string"||typeof H.code=="number")yi.CodeDescription.is(H.codeDescription)?Ue.code={value:H.code,target:o(H.codeDescription.href)}:Ue.code=H.code;else if(yke.DiagnosticCode.is(H.code)){Ue.hasDiagnosticCode=!0;let vt=H.code;Ue.code={value:vt.value,target:o(vt.target)}}}return H.source&&(Ue.source=H.source),H.relatedInformation&&(Ue.relatedInformation=l(H.relatedInformation)),Array.isArray(H.tags)&&(Ue.tags=d(H.tags)),Ue}function l(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++){let Fr=H[vt];Ue[vt]=new Br.DiagnosticRelatedInformation(ze(Fr.location),Fr.message)}return Ue}function d(H){if(!H)return;let Ue=[];for(let vt of H){let Fr=f(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length>0?Ue:void 0}function f(H){switch(H){case yi.DiagnosticTag.Unnecessary:return Br.DiagnosticTag.Unnecessary;case yi.DiagnosticTag.Deprecated:return Br.DiagnosticTag.Deprecated;default:return}}function m(H){return H?new Br.Position(H.line,H.character):void 0}function _(H){return H?new Br.Range(H.start.line,H.start.character,H.end.line,H.end.character):void 0}async function D(H,Ue){return bs.map(H,vt=>new Br.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function O(H){if(H==null)return Br.DiagnosticSeverity.Error;switch(H){case yi.DiagnosticSeverity.Error:return Br.DiagnosticSeverity.Error;case yi.DiagnosticSeverity.Warning:return Br.DiagnosticSeverity.Warning;case yi.DiagnosticSeverity.Information:return Br.DiagnosticSeverity.Information;case yi.DiagnosticSeverity.Hint:return Br.DiagnosticSeverity.Hint}return Br.DiagnosticSeverity.Error}function M(H){if(_v.string(H))return U(H);if(xH.is(H))return U().appendCodeblock(H.value,H.language);if(Array.isArray(H)){let Ue=[];for(let vt of H){let Fr=U();xH.is(vt)?Fr.appendCodeblock(vt.value,vt.language):Fr.appendMarkdown(vt),Ue.push(Fr)}return Ue}else return U(H)}function A(H){if(_v.string(H))return H;switch(H.kind){case yi.MarkupKind.Markdown:return U(H.value);case yi.MarkupKind.PlainText:return H.value;default:return`Unsupported Markup content received. Kind is: ${H.kind}`}}function U(H){let Ue;if(H===void 0||typeof H=="string")Ue=new Br.MarkdownString(H);else switch(H.kind){case yi.MarkupKind.Markdown:Ue=new Br.MarkdownString(H.value);break;case yi.MarkupKind.PlainText:Ue=new Br.MarkdownString,Ue.appendText(H.value);break;default:Ue=new Br.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${H.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function ne(H){if(H)return new Br.Hover(M(H.contents),_(H.range))}async function de(H,Ue,vt){if(!H)return;if(Array.isArray(H))return bs.map(H,Le=>De(Le,Ue),vt);let Fr=H,{defaultRange:so,commitCharacters:Bi}=ye(Fr,Ue),N=await bs.map(Fr.items,Le=>De(Le,Bi,so,Fr.itemDefaults?.insertTextMode,Fr.itemDefaults?.insertTextFormat,Fr.itemDefaults?.data),vt);return new Br.CompletionList(N,Fr.isIncomplete)}function ye(H,Ue){let vt=H.itemDefaults?.editRange,Fr=H.itemDefaults?.commitCharacters??Ue;return yi.Range.is(vt)?{defaultRange:_(vt),commitCharacters:Fr}:vt!==void 0?{defaultRange:{inserting:_(vt.insert),replacing:_(vt.replace)},commitCharacters:Fr}:{defaultRange:void 0,commitCharacters:Fr}}function V(H){return yi.CompletionItemKind.Text<=H&&H<=yi.CompletionItemKind.TypeParameter?[H-1,void 0]:[Br.CompletionItemKind.Text,H]}function $(H){switch(H){case yi.CompletionItemTag.Deprecated:return Br.CompletionItemTag.Deprecated}}function ee(H){if(H==null)return[];let Ue=[];for(let vt of H){let Fr=$(vt);Fr!==void 0&&Ue.push(Fr)}return Ue}function De(H,Ue,vt,Fr,so,Bi){let N=ee(H.tags),Le=ae(H),rt=new XSt.default(Le);H.detail&&(rt.detail=H.detail),H.documentation&&(rt.documentation=A(H.documentation),rt.documentationFormat=_v.string(H.documentation)?"$string":H.documentation.kind),H.filterText&&(rt.filterText=H.filterText);let zt=ce(H,vt,so);if(zt&&(rt.insertText=zt.text,rt.range=zt.range,rt.fromEdit=zt.fromEdit),_v.number(H.kind)){let[ao,ji]=V(H.kind);rt.kind=ao,ji&&(rt.originalItemKind=ji)}H.sortText&&(rt.sortText=H.sortText),H.additionalTextEdits&&(rt.additionalTextEdits=Ce(H.additionalTextEdits));let Ln=H.commitCharacters!==void 0?_v.stringArray(H.commitCharacters)?H.commitCharacters:void 0:Ue;Ln&&(rt.commitCharacters=Ln.slice()),H.command&&(rt.command=ln(H.command)),(H.deprecated===!0||H.deprecated===!1)&&(rt.deprecated=H.deprecated,H.deprecated===!0&&N.push(Br.CompletionItemTag.Deprecated)),(H.preselect===!0||H.preselect===!1)&&(rt.preselect=H.preselect);let Cn=H.data??Bi;Cn!==void 0&&(rt.data=Cn),N.length>0&&(rt.tags=N);let Nn=H.insertTextMode??Fr;return Nn!==void 0&&(rt.insertTextMode=Nn,Nn===yi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function ae(H){return yi.CompletionItemLabelDetails.is(H.labelDetails)?{label:H.label,detail:H.labelDetails.detail,description:H.labelDetails.description}:H.label}function ce(H,Ue,vt){let Fr=H.insertTextFormat??vt;if(H.textEdit!==void 0||Ue!==void 0){let[so,Bi]=H.textEdit!==void 0?qe(H.textEdit):[Ue,H.textEditText??H.label];return Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(Bi),range:so,fromEdit:!0}:{text:Bi,range:so,fromEdit:!0}}else return H.insertText?Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(H.insertText),fromEdit:!1}:{text:H.insertText,fromEdit:!1}:void 0}function qe(H){return yi.InsertReplaceEdit.is(H)?[{inserting:_(H.insert),replacing:_(H.replace)},H.newText]:[_(H.range),H.newText]}function Ne(H){if(H)return new Br.TextEdit(_(H.range),H.newText)}async function ue(H,Ue){if(H)return bs.map(H,Ne,Ue)}function Ce(H){if(!H)return;let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=Ne(H[vt]);return Ue}async function be(H,Ue){if(!H)return;let vt=new Br.SignatureHelp;return _v.number(H.activeSignature)?vt.activeSignature=H.activeSignature:vt.activeSignature=0,_v.number(H.activeParameter)?vt.activeParameter=H.activeParameter:vt.activeParameter=0,H.signatures&&(vt.signatures=await xe(H.signatures,Ue)),vt}async function xe(H,Ue){return bs.mapAsync(H,Me,Ue)}async function Me(H,Ue){let vt=new Br.SignatureInformation(H.label);return H.documentation!==void 0&&(vt.documentation=A(H.documentation)),H.parameters!==void 0&&(vt.parameters=await $e(H.parameters,Ue)),H.activeParameter!==void 0&&(vt.activeParameter=H.activeParameter),vt}function $e(H,Ue){return bs.map(H,Ct,Ue)}function Ct(H){let Ue=new Br.ParameterInformation(H.label);return H.documentation&&(Ue.documentation=A(H.documentation)),Ue}function ze(H){return H?new Br.Location(i(H.uri),_(H.range)):void 0}async function st(H,Ue){if(H)return fr(H,Ue)}async function at(H,Ue){if(H)return fr(H,Ue)}function tt(H){if(!H)return;let Ue={targetUri:i(H.targetUri),targetRange:_(H.targetRange),originSelectionRange:_(H.originSelectionRange),targetSelectionRange:_(H.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function fr(H,Ue){if(H)if(_v.array(H)){if(H.length===0)return[];if(yi.LocationLink.is(H[0])){let vt=H;return bs.map(vt,tt,Ue)}else{let vt=H;return bs.map(vt,ze,Ue)}}else return yi.LocationLink.is(H)?[tt(H)]:ze(H)}async function Lr(H,Ue){if(H)return bs.map(H,ze,Ue)}async function zr(H,Ue){if(H)return bs.map(H,cr,Ue)}function cr(H){let Ue=new Br.DocumentHighlight(_(H.range));return _v.number(H.kind)&&(Ue.kind=xt(H.kind)),Ue}function xt(H){switch(H){case yi.DocumentHighlightKind.Text:return Br.DocumentHighlightKind.Text;case yi.DocumentHighlightKind.Read:return Br.DocumentHighlightKind.Read;case yi.DocumentHighlightKind.Write:return Br.DocumentHighlightKind.Write}return Br.DocumentHighlightKind.Text}async function hr(H,Ue){if(H)return bs.map(H,On,Ue)}function Mt(H){return H<=yi.SymbolKind.TypeParameter?H-1:Br.SymbolKind.Property}function on(H){switch(H){case yi.SymbolTag.Deprecated:return Br.SymbolTag.Deprecated;default:return}}function un(H){if(H==null)return;let Ue=[];for(let vt of H){let Fr=on(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length===0?void 0:Ue}function On(H){let Ue=H.data,vt=H.location,Fr=vt.range===void 0||Ue!==void 0?new nCt.default(H.name,Mt(H.kind),H.containerName??"",vt.range===void 0?i(vt.uri):new Br.Location(i(H.location.uri),_(vt.range)),Ue):new Br.SymbolInformation(H.name,Mt(H.kind),H.containerName??"",new Br.Location(i(H.location.uri),_(vt.range)));return $r(Fr,H),Fr}async function Or(H,Ue){if(H!=null)return bs.map(H,Hn,Ue)}function Hn(H){let Ue=new Br.DocumentSymbol(H.name,H.detail||"",Mt(H.kind),_(H.range),_(H.selectionRange));if($r(Ue,H),H.children!==void 0&&H.children.length>0){let vt=[];for(let Fr of H.children)vt.push(Hn(Fr));Ue.children=vt}return Ue}function $r(H,Ue){H.tags=un(Ue.tags),Ue.deprecated&&(H.tags?H.tags.includes(Br.SymbolTag.Deprecated)||(H.tags=H.tags.concat(Br.SymbolTag.Deprecated)):H.tags=[Br.SymbolTag.Deprecated])}function ln(H){let Ue={title:H.title,command:H.command};return H.arguments&&(Ue.arguments=H.arguments),Ue}async function ii(H,Ue){if(H)return bs.map(H,ln,Ue)}let Vr=new Map;Vr.set(yi.CodeActionKind.Empty,Br.CodeActionKind.Empty),Vr.set(yi.CodeActionKind.QuickFix,Br.CodeActionKind.QuickFix),Vr.set(yi.CodeActionKind.Refactor,Br.CodeActionKind.Refactor),Vr.set(yi.CodeActionKind.RefactorExtract,Br.CodeActionKind.RefactorExtract),Vr.set(yi.CodeActionKind.RefactorInline,Br.CodeActionKind.RefactorInline),Vr.set(yi.CodeActionKind.RefactorRewrite,Br.CodeActionKind.RefactorRewrite),Vr.set(yi.CodeActionKind.Source,Br.CodeActionKind.Source),Vr.set(yi.CodeActionKind.SourceOrganizeImports,Br.CodeActionKind.SourceOrganizeImports);function An(H){if(H==null)return;let Ue=Vr.get(H);if(Ue)return Ue;let vt=H.split(".");Ue=Br.CodeActionKind.Empty;for(let Fr of vt)Ue=Ue.append(Fr);return Ue}function Ri(H){if(H!=null)return H.map(Ue=>An(Ue))}async function Gr(H,Ue){if(H==null)return;let vt=new eCt.default(H.title,H.data);return H.kind!==void 0&&(vt.kind=An(H.kind)),H.diagnostics!==void 0&&(vt.diagnostics=c(H.diagnostics)),H.edit!==void 0&&(vt.edit=await Oe(H.edit,Ue)),H.command!==void 0&&(vt.command=ln(H.command)),H.isPreferred!==void 0&&(vt.isPreferred=H.isPreferred),H.disabled!==void 0&&(vt.disabled={reason:H.disabled.reason}),vt}function Ji(H,Ue){return bs.mapAsync(H,async vt=>yi.Command.is(vt)?ln(vt):Gr(vt,Ue),Ue)}function oi(H){if(!H)return;let Ue=new QSt.default(_(H.range));return H.command&&(Ue.command=ln(H.command)),H.data!==void 0&&H.data!==null&&(Ue.data=H.data),Ue}async function fn(H,Ue){if(H)return bs.map(H,oi,Ue)}async function Oe(H,Ue){if(!H)return;let vt=new Map;if(H.changeAnnotations!==void 0){let Bi=H.changeAnnotations;await bs.forEach(Object.keys(Bi),N=>{let Le=oe(Bi[N]);vt.set(N,Le)},Ue)}let Fr=Bi=>{if(Bi!==void 0)return vt.get(Bi)},so=new Br.WorkspaceEdit;if(H.documentChanges){let Bi=H.documentChanges;await bs.forEach(Bi,N=>{if(yi.CreateFile.is(N))so.createFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.RenameFile.is(N))so.renameFile(i(N.oldUri),i(N.newUri),N.options,Fr(N.annotationId));else if(yi.DeleteFile.is(N))so.deleteFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.TextDocumentEdit.is(N)){let Le=i(N.textDocument.uri);for(let rt of N.edits)yi.AnnotatedTextEdit.is(rt)?so.replace(Le,_(rt.range),rt.newText,Fr(rt.annotationId)):so.replace(Le,_(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(N,void 0,4)}`)},Ue)}else if(H.changes){let Bi=H.changes;await bs.forEach(Object.keys(Bi),N=>{so.set(i(N),Ce(Bi[N]))},Ue)}return so}function oe(H){if(H!==void 0)return{label:H.label,needsConfirmation:!!H.needsConfirmation,description:H.description}}function Q(H){let Ue=_(H.range),vt=H.target?o(H.target):void 0,Fr=new ZSt.default(Ue,vt);return H.tooltip!==void 0&&(Fr.tooltip=H.tooltip),H.data!==void 0&&H.data!==null&&(Fr.data=H.data),Fr}async function _e(H,Ue){if(H)return bs.map(H,Q,Ue)}function Je(H){return new Br.Color(H.red,H.green,H.blue,H.alpha)}function ft(H){return new Br.ColorInformation(_(H.range),Je(H.color))}async function Yt(H,Ue){if(H)return bs.map(H,ft,Ue)}function rr(H){let Ue=new Br.ColorPresentation(H.label);return Ue.additionalTextEdits=Ce(H.additionalTextEdits),H.textEdit&&(Ue.textEdit=Ne(H.textEdit)),Ue}async function Jt(H,Ue){if(H)return bs.map(H,rr,Ue)}function $t(H){if(H)switch(H){case yi.FoldingRangeKind.Comment:return Br.FoldingRangeKind.Comment;case yi.FoldingRangeKind.Imports:return Br.FoldingRangeKind.Imports;case yi.FoldingRangeKind.Region:return Br.FoldingRangeKind.Region}}function kt(H){return new Br.FoldingRange(H.startLine,H.endLine,$t(H.kind))}async function K(H,Ue){if(H)return bs.map(H,kt,Ue)}function Fe(H){return new Br.SelectionRange(_(H.range),H.parent?Fe(H.parent):void 0)}async function Ht(H,Ue){return Array.isArray(H)?bs.map(H,Fe,Ue):[]}function Dr(H){return yi.InlineValueText.is(H)?new Br.InlineValueText(_(H.range),H.text):yi.InlineValueVariableLookup.is(H)?new Br.InlineValueVariableLookup(_(H.range),H.variableName,H.caseSensitiveLookup):new Br.InlineValueEvaluatableExpression(_(H.range),H.expression)}async function He(H,Ue){return Array.isArray(H)?bs.map(H,Dr,Ue):[]}async function re(H,Ue){let vt=typeof H.label=="string"?H.label:await bs.map(H.label,Re,Ue),Fr=new iCt.default(m(H.position),vt);return H.kind!==void 0&&(Fr.kind=H.kind),H.textEdits!==void 0&&(Fr.textEdits=await ue(H.textEdits,Ue)),H.tooltip!==void 0&&(Fr.tooltip=je(H.tooltip)),H.paddingLeft!==void 0&&(Fr.paddingLeft=H.paddingLeft),H.paddingRight!==void 0&&(Fr.paddingRight=H.paddingRight),H.data!==void 0&&(Fr.data=H.data),Fr}function Re(H){let Ue=new Br.InlayHintLabelPart(H.value);return H.location!==void 0&&(Ue.location=ze(H.location)),H.tooltip!==void 0&&(Ue.tooltip=je(H.tooltip)),H.command!==void 0&&(Ue.command=ln(H.command)),Ue}function je(H){return typeof H=="string"?H:U(H)}async function he(H,Ue){if(Array.isArray(H))return bs.mapAsync(H,re,Ue)}function S(H){if(H===null)return;let Ue=new tCt.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=un(H.tags)),Ue}async function fe(H,Ue){if(H!==null)return bs.map(H,S,Ue)}async function Ye(H,Ue){return new Br.CallHierarchyIncomingCall(S(H.from),await D(H.fromRanges,Ue))}async function Tr(H,Ue){if(H!==null)return bs.mapAsync(H,Ye,Ue)}async function Wr(H,Ue){return new Br.CallHierarchyOutgoingCall(S(H.to),await D(H.fromRanges,Ue))}async function Xr(H,Ue){if(H!==null)return bs.mapAsync(H,Wr,Ue)}async function qn(H,Ue){if(H!=null)return new Br.SemanticTokens(new Uint32Array(H.data),H.resultId)}function xi(H){return new Br.SemanticTokensEdit(H.start,H.deleteCount,H.data!==void 0?new Uint32Array(H.data):void 0)}async function ks(H,Ue){if(H!=null)return new Br.SemanticTokensEdits(H.edits.map(xi),H.resultId)}function Sn(H){return H}async function es(H,Ue){if(H!=null)return new Br.LinkedEditingRanges(await D(H.ranges,Ue),Bs(H.wordPattern))}function Bs(H){if(H!=null)return new RegExp(H)}function ta(H){if(H===null)return;let Ue=new rCt.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=un(H.tags)),Ue}async function Fo(H,Ue){if(H!==null)return bs.map(H,ta,Ue)}function Eo(H){if(_v.string(H))return H;if(yi.RelativePattern.is(H)){if(yi.URI.is(H.baseUri))return new Br.RelativePattern(o(H.baseUri),H.pattern);if(yi.WorkspaceFolder.is(H.baseUri)){let Ue=Br.workspace.getWorkspaceFolder(o(H.baseUri.uri));return Ue!==void 0?new Br.RelativePattern(Ue,H.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:_,asRanges:D,asPosition:m,asDiagnosticSeverity:O,asDiagnosticTag:f,asHover:ne,asCompletionResult:de,asCompletionItem:De,asTextEdit:Ne,asTextEdits:ue,asSignatureHelp:be,asSignatureInformations:xe,asSignatureInformation:Me,asParameterInformations:$e,asParameterInformation:Ct,asDeclarationResult:st,asDefinitionResult:at,asLocation:ze,asReferences:Lr,asDocumentHighlights:zr,asDocumentHighlight:cr,asDocumentHighlightKind:xt,asSymbolKind:Mt,asSymbolTag:on,asSymbolTags:un,asSymbolInformations:hr,asSymbolInformation:On,asDocumentSymbols:Or,asDocumentSymbol:Hn,asCommand:ln,asCommands:ii,asCodeAction:Gr,asCodeActionKind:An,asCodeActionKinds:Ri,asCodeActionResult:Ji,asCodeLens:oi,asCodeLenses:fn,asWorkspaceEdit:Oe,asDocumentLink:Q,asDocumentLinks:_e,asFoldingRangeKind:$t,asFoldingRange:kt,asFoldingRanges:K,asColor:Je,asColorInformation:ft,asColorInformations:Yt,asColorPresentation:rr,asColorPresentations:Jt,asSelectionRange:Fe,asSelectionRanges:Ht,asInlineValue:Dr,asInlineValues:He,asInlayHint:re,asInlayHints:he,asSemanticTokensLegend:Sn,asSemanticTokens:qn,asSemanticTokensEdit:xi,asSemanticTokensEdits:ks,asCallHierarchyItem:S,asCallHierarchyItems:fe,asCallHierarchyIncomingCall:Ye,asCallHierarchyIncomingCalls:Tr,asCallHierarchyOutgoingCall:Wr,asCallHierarchyOutgoingCalls:Xr,asLinkedEditingRanges:es,asTypeHierarchyItem:ta,asTypeHierarchyItems:Fo,asGlobPattern:Eo}}OH.createConverter=oCt});var Gc=E(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.generateUuid=bv.parse=bv.isUUID=bv.v4=bv.empty=void 0;var PL=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},RL=class r extends PL{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};RL._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];RL._timeHighBits=["8","9","a","b"];bv.empty=new PL("00000000-0000-0000-0000-000000000000");function wke(){return new RL}bv.v4=wke;var sCt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ske(r){return sCt.test(r)}bv.isUUID=Ske;function aCt(r){if(!Ske(r))throw new Error("invalid uuid");return new PL(r)}bv.parse=aCt;function cCt(){return wke().asHex()}bv.generateUuid=cCt});var zte=E(IH=>{"use strict";Object.defineProperty(IH,"__esModule",{value:!0});IH.ProgressPart=void 0;var Cke=require("vscode"),Tke=qi(),Dke=vv(),jte=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Tke.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&Cke.window.withProgress({location:Cke.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Tke.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&Dke.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Dke.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};IH.ProgressPart=jte});var Qo=E(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.WorkspaceFeature=il.TextDocumentLanguageFeature=il.TextDocumentEventFeature=il.DynamicDocumentFeature=il.DynamicFeature=il.StaticFeature=il.ensure=il.LSPCancellationError=void 0;var r0=require("vscode"),Ute=qi(),tp=vv(),Eke=Gc(),Hte=class extends r0.CancellationError{constructor(e){super(),this.data=e}};il.LSPCancellationError=Hte;function uCt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}il.ensure=uCt;var lCt;(function(r){function e(t){let n=t;return n!=null&&tp.func(n.fillClientCapabilities)&&tp.func(n.initialize)&&tp.func(n.getState)&&tp.func(n.dispose)&&(n.fillInitializeParams===void 0||tp.func(n.fillInitializeParams))}r.is=e})(lCt=il.StaticFeature||(il.StaticFeature={}));var dCt;(function(r){function e(t){let n=t;return n!=null&&tp.func(n.fillClientCapabilities)&&tp.func(n.initialize)&&tp.func(n.getState)&&tp.func(n.dispose)&&(n.fillInitializeParams===void 0||tp.func(n.fillInitializeParams))&&tp.func(n.register)&&tp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(dCt=il.DynamicFeature||(il.DynamicFeature={}));var xL=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of r0.workspace.textDocuments)if(r0.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};il.DynamicDocumentFeature=xL;var Bte=class extends xL{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new r0.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(r0.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(r0.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};il.TextDocumentEventFeature=Bte;var Wte=class extends xL{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(Ute.TextDocumentRegistrationOptions.is(t)){let n=Ute.StaticRegistrationOptions.hasId(t)?t.id:Eke.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(tp.boolean(t)&&t===!0||Ute.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=tp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[Eke.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return tp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&r0.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};il.TextDocumentLanguageFeature=Wte;var $te=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};il.WorkspaceFeature=$te});var ere=E(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.DiagnosticFeature=db.DiagnosticPullMode=db.vsdiag=void 0;var fCt=bD(),go=require("vscode"),lu=qi(),hCt=Gc(),Vte=Qo();function kH(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ny;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(Ny=db.vsdiag||(db.vsdiag={}));var Gte;(function(r){r.onType="onType",r.onSave="onSave"})(Gte=db.DiagnosticPullMode||(db.DiagnosticPullMode={}));var eh;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(eh||(eh={}));var Kte=class r{constructor(){this.open=new Set,this._onOpen=new go.EventEmitter,this._onClose=new go.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(go.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(go.Uri.parse(c));this._onOpen.fire(a)}};go.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=go.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof go.Uri?go.window.activeTextEditor?.document.uri===e:go.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof go.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of go.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof go.TabInputText?a=s.uri:s instanceof go.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},pd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(pd||(pd={}));var Yte=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===pd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof go.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===pd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof go.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();(e===pd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===pd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof go.Uri?t.toString():t.uri.toString();return(e===pd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},Jte=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new go.EventEmitter,this.provider=this.createProvider(),this.diagnostics=go.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Yte,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof go.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(pd.document,e,t):this.documentStates.track(pd.document,e);if(s===void 0){let c=new go.CancellationTokenSource;this.openRequests.set(o,{state:eh.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Ny.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof Vte.LSPCancellationError&&lu.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:eh.outDated,document:e}),l===void 0&&d instanceof go.CancellationError)l={state:eh.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(pd.document,e);return}if(l.state===eh.outDated)return;u!==void 0&&(u.kind===Ny.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===eh.reschedule&&this.pull(e)}else s.state===eh.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:eh.reschedule,document:s.document})):s.state===eh.outDated&&this.openRequests.set(o,{state:eh.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof go.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:eh.reschedule,document:e}):this.pull(e,()=>{this.forget(pd.document,e)}):(i!==void 0&&(i.state===eh.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:eh.outDated,document:e})),this.diagnostics.delete(t),this.forget(pd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,lu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Vte.LSPCancellationError)&&!lu.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,lu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new go.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===Ny.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(pd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(pd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof go.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Ny.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(lu.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:Ny.DocumentDiagnosticReportKind.full,items:[]}:d.kind===lu.DocumentDiagnosticReportKind.Full?{kind:Ny.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:Ny.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(lu.DocumentDiagnosticRequest.type,u,d,{kind:Ny.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===lu.DocumentDiagnosticReportKind.Full?{kind:Ny.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:Ny.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,hCt.generateUuid)(),f=this.client.onProgress(lu.WorkspaceDiagnosticRequest.partialResult,d,async _=>{if(_==null){i(null);return}let D={items:[]};for(let O of _.items)try{D.items.push(await o(O))}catch(M){this.client.error("Converting workspace diagnostics failed.",M)}i(D)}),m={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(lu.WorkspaceDiagnosticRequest.type,m,l).then(async _=>{if(l.isCancellationRequested)return{items:[]};let D={items:[]};for(let O of _.items)D.items.push(await o(O));return f.dispose(),i(D),{items:[]}},_=>(f.dispose(),this.client.handleFailedRequest(lu.DocumentDiagnosticRequest.type,l,_,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===eh.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:eh.outDated,document:t.document});this.diagnostics.dispose()}},Xte=class{constructor(e){this.diagnosticRequestor=e,this.documents=new lu.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,lu.Touch.Last),this.trigger())}remove(e){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,lu.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof go.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,lu.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},Qte=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=_=>{let D=n.documentSelector;if(i.match!==void 0)return i.match(D,_);for(let O of D)if(lu.TextDocumentFilter.is(O)){if(typeof O=="string"||O.language!==void 0&&O.language!=="*"||O.scheme!==void 0&&O.scheme!=="*"&&O.scheme!==_.scheme)return!1;if(O.pattern!==void 0){let M=new fCt.Minimatch(O.pattern,{noext:!0});if(!M.makeRe()||!M.match(_.fsPath))return!1}}return!0},c=_=>_ instanceof go.Uri?a(_):go.languages.match(o,_)>0&&t.isVisible(_),u=_=>_ instanceof go.Uri?this.activeTextDocument?.uri.toString()===_.toString():this.activeTextDocument===_;this.diagnosticRequestor=new Jte(e,t,n),this.backgroundScheduler=new Xte(this.diagnosticRequestor);let l=_=>{!c(_)||!n.interFileDependencies||u(_)||this.backgroundScheduler.add(_)};this.activeTextDocument=go.window.activeTextEditor?.document,go.window.onDidChangeActiveTextEditor(_=>{let D=this.activeTextDocument;this.activeTextDocument=_?.document,D!==void 0&&l(D),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(lu.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(_=>{let D=_.original;c(D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}));let f=new Set;for(let _ of go.workspace.textDocuments)c(_)&&(this.diagnosticRequestor.pull(_,()=>{l(_)}),f.add(_.uri.toString()));if(i.onTabs===!0)for(let _ of t.getTabResources())!f.has(_.toString())&&c(_)&&this.diagnosticRequestor.pull(_,()=>{l(_)});if(t.onOpen(_=>{for(let D of _)c(D)&&!this.diagnosticRequestor.knows(pd.document,D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}),i.onChange===!0){let _=e.getFeature(lu.DidChangeTextDocumentNotification.method);s.push(_.onNotificationSent(async D=>{let O=D.original.document;(i.filter===void 0||!i.filter(O,Gte.onType))&&this.diagnosticRequestor.knows(pd.document,O)&&D.original.contentChanges.length>0&&this.diagnosticRequestor.pull(O,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let _=e.getFeature(lu.DidSaveTextDocumentNotification.method);s.push(_.onNotificationSent(D=>{let O=D.original;(i.filter===void 0||!i.filter(O,Gte.onSave))&&this.diagnosticRequestor.knows(pd.document,O)&&this.diagnosticRequestor.pull(D.original,()=>{this.backgroundScheduler.trigger()})}))}let m=e.getFeature(lu.DidCloseTextDocumentNotification.method);s.push(m.onNotificationSent(_=>{this.cleanUpDocument(_.original)})),t.onClose(_=>{for(let D of _)this.cleanUpDocument(D)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let _ of go.workspace.textDocuments)c(_)&&this.diagnosticRequestor.pull(_)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=go.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(pd.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Zte=class extends Vte.TextDocumentLanguageFeature{constructor(e){super(e,lu.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=kH(kH(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,kH(kH(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(lu.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Kte);let t=new Qte(this._client,this.tabs,e);return[t.disposable,t]}};db.DiagnosticFeature=Zte});var xke=E(NH=>{"use strict";Object.defineProperty(NH,"__esModule",{value:!0});NH.NotebookDocumentSyncFeature=void 0;var th=require("vscode"),pCt=bD(),Kw=qi(),mCt=Gc(),Pke=vv();function Rke(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var ER;(function(r){let e;(function(t){function n(f,m){return{version:f.version,uri:m.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,m,_){let D=Kw.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(m,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,m){return f.map(_=>a(_,m))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,m){let _=Kw.NotebookCell.create(c(f.kind),m.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&Pke.number(f.executionSummary.executionOrder)&&Pke.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case th.NotebookCellKind.Markup:return Kw.NotebookCellKind.Markup;case th.NotebookCellKind.Code:return Kw.NotebookCellKind.Code}}function u(f,m){if(f.has(m))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(m)){let _=[];for(let D of m)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(m),D=Object.create(null);for(let O of _){let M=m[O];if(M!==null&&typeof M=="object"||Array.isArray(M))D[O]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[O]=M}}return D}}function l(f,m){let _=m.asChangeTextDocumentParams(f);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,m){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),O=f.cells;O.structure&&(D.structure={array:{start:O.structure.array.start,deleteCount:O.structure.array.deleteCount,cells:O.structure.array.cells!==void 0?O.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,m)):void 0},didOpen:O.structure.didOpen!==void 0?O.structure.didOpen.map(M=>m.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:O.structure.didClose!==void 0?O.structure.didClose.map(M=>m.asCloseTextDocumentParams(M.document).textDocument):void 0}),O.data!==void 0&&(D.data=O.data.map(M=>r.c2p.asNotebookCell(M,m))),O.textContent!==void 0&&(D.textContent=O.textContent.map(M=>r.c2p.asTextContentChange(M,m))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(ER||(ER={}));var tre;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let m=l-1,_=d-1;for(;m>=0&&_>=0&&t(a[m],c[_],u);)m--,_--;let D=m+1-f,O=f===_+1?void 0:c.slice(f,_+1);return O!==void 0?{start:f,deleteCount:D,cells:O}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let m=0;m<d.length;m++){let _=d[m];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(tre||(tre={}));var rre;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new pCt.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(rre||(rre={}));var AH;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(AH||(AH={}));var LH;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(LH||(LH={}));var PR=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(AH.asDocumentSelector(t)),th.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of th.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);th.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&th.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),th.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of th.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return th.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(th.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){th.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=ER.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Kw.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),LH.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(Kw.DidChangeNotebookDocumentNotification.type,{notebookDocument:ER.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:ER.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),LH.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Kw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(Kw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=ER.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=tre.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],m=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())m.push(_)}o.cells.structure={array:u,didOpen:f,didClose:m}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||rre.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},MH=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Kw.NotebookDocumentSyncRegistrationType.type,th.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof PR&&o.didOpenNotebookCellTextDocument(n,i)}),th.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof PR&&o.didChangeNotebookCellTextDocument(i,t)}),th.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof PR&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=Rke(Rke(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(AH.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??mCt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new PR(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&th.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of th.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};NH.NotebookDocumentSyncFeature=MH;MH.CellScheme="vscode-notebook-cell"});var Ike=E(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});QC.SyncConfigurationFeature=QC.toJSONObject=QC.ConfigurationFeature=void 0;var RR=require("vscode"),OL=qi(),gCt=vv(),vCt=Gc(),Oke=Qo(),nre=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(OL.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=n0(RR.workspace.getConfiguration(void 0,e).get(t));else{let o=RR.workspace.getConfiguration(t.substr(0,i),e);o&&(n=n0(o.get(t.substr(i+1))))}}else{let i=RR.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=n0(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};QC.ConfigurationFeature=nre;function n0(r){if(r){if(Array.isArray(r))return r.map(n0);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=n0(r[t]));return e}}return r}QC.toJSONObject=n0;var ire=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return OL.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Oke.ensure)((0,Oke.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:vCt.generateUuid(),registerOptions:{section:e}})}register(e){let t=RR.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(gCt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(OL.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(OL.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${OL.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=RR.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=RR.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=n0(c)}}return i}};QC.SyncConfigurationFeature=ire});var kke=E(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.DidSaveTextDocumentFeature=sm.WillSaveWaitUntilFeature=sm.WillSaveFeature=sm.DidChangeTextDocumentFeature=sm.DidCloseTextDocumentFeature=sm.DidOpenTextDocumentFeature=void 0;var wv=require("vscode"),xl=qi(),Kc=Qo(),yCt=EL(),xR=Gc(),ore=class extends Kc.TextDocumentEventFeature{constructor(e,t){super(e,wv.workspace.onDidOpenTextDocument,xl.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Kc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:xR.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return xl.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);wv.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&wv.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};sm.DidOpenTextDocumentFeature=ore;var sre=class extends Kc.TextDocumentEventFeature{constructor(e,t){super(e,wv.workspace.onDidCloseTextDocument,xl.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,Kc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return xl.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:xR.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(wv.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};sm.DidCloseTextDocumentFeature=sre;var are=class extends Kc.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new wv.EventEmitter}get registrationType(){return xl.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==xl.TextDocumentSyncKind.None&&this.register({id:xR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=wv.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(wv.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===xl.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(xl.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,xl.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===xl.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(xl.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,xl.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new yCt.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${xl.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(wv.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};sm.DidChangeTextDocumentFeature=are;var cre=class extends Kc.TextDocumentEventFeature{constructor(e){super(e,wv.workspace.onWillSaveTextDocument,xl.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Kc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return xl.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:xR.generateUuid(),registerOptions:{documentSelector:t}})}};sm.WillSaveFeature=cre;var ure=class extends Kc.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return xl.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:xR.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=wv.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Kc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(xl.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};sm.WillSaveWaitUntilFeature=ure;var lre=class extends Kc.TextDocumentEventFeature{constructor(e){super(e,wv.workspace.onDidSaveTextDocument,xl.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Kc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return xl.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:xR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};sm.DidSaveTextDocumentFeature=lre});var Ake=E(FH=>{"use strict";Object.defineProperty(FH,"__esModule",{value:!0});FH.CompletionItemFeature=void 0;var _Ct=require("vscode"),To=qi(),dre=Qo(),bCt=Gc(),wCt=[To.CompletionItemKind.Text,To.CompletionItemKind.Method,To.CompletionItemKind.Function,To.CompletionItemKind.Constructor,To.CompletionItemKind.Field,To.CompletionItemKind.Variable,To.CompletionItemKind.Class,To.CompletionItemKind.Interface,To.CompletionItemKind.Module,To.CompletionItemKind.Property,To.CompletionItemKind.Unit,To.CompletionItemKind.Value,To.CompletionItemKind.Enum,To.CompletionItemKind.Keyword,To.CompletionItemKind.Snippet,To.CompletionItemKind.Color,To.CompletionItemKind.File,To.CompletionItemKind.Reference,To.CompletionItemKind.Folder,To.CompletionItemKind.EnumMember,To.CompletionItemKind.Constant,To.CompletionItemKind.Struct,To.CompletionItemKind.Event,To.CompletionItemKind.Operator,To.CompletionItemKind.TypeParameter],fre=class extends dre.TextDocumentLanguageFeature{constructor(e){super(e,To.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,dre.ensure)((0,dre.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[To.MarkupKind.Markdown,To.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[To.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[To.InsertTextMode.asIs,To.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=To.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:wCt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:bCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,m=(_,D,O,M)=>d.sendRequest(To.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,O),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(To.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,m):m(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,m)=>u.sendRequest(To.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),m).then(_=>m.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(To.CompletionResolveRequest.type,m,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[_Ct.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};FH.CompletionItemFeature=fre});var Lke=E(qH=>{"use strict";Object.defineProperty(qH,"__esModule",{value:!0});qH.HoverFeature=void 0;var SCt=require("vscode"),IL=qi(),hre=Qo(),CCt=Gc(),pre=class extends hre.TextDocumentLanguageFeature{constructor(e){super(e,IL.HoverRequest.type)}fillClientCapabilities(e){let t=(0,hre.ensure)((0,hre.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[IL.MarkupKind.Markdown,IL.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:CCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(IL.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(m),m=>a.handleFailedRequest(IL.HoverRequest.type,f,m,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return SCt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};qH.HoverFeature=pre});var Mke=E(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});jH.DefinitionFeature=void 0;var TCt=require("vscode"),mre=qi(),gre=Qo(),DCt=Gc(),vre=class extends gre.TextDocumentLanguageFeature{constructor(e){super(e,mre.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,gre.ensure)((0,gre.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:DCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(mre.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(mre.DefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return TCt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};jH.DefinitionFeature=vre});var Fke=E(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});zH.SignatureHelpFeature=void 0;var Nke=require("vscode"),kL=qi(),yre=Qo(),ECt=Gc(),_re=class extends yre.TextDocumentLanguageFeature{constructor(e){super(e,kL.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,yre.ensure)((0,yre.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[kL.MarkupKind.Markdown,kL.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:ECt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,m)=>a.sendRequest(kL.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),m).then(_=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,m),_=>a.handleFailedRequest(kL.SignatureHelpRequest.type,m,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return Nke.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return Nke.languages.registerSignatureHelpProvider(n,t,i)}}};zH.SignatureHelpFeature=_re});var qke=E(UH=>{"use strict";Object.defineProperty(UH,"__esModule",{value:!0});UH.DocumentHighlightFeature=void 0;var PCt=require("vscode"),bre=qi(),wre=Qo(),RCt=Gc(),Sre=class extends wre.TextDocumentLanguageFeature{constructor(e){super(e,bre.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,wre.ensure)((0,wre.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:RCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(bre.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(m,f),m=>a.handleFailedRequest(bre.DocumentHighlightRequest.type,f,m,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[PCt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};UH.DocumentHighlightFeature=Sre});var Dre=E(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.DocumentSymbolFeature=fb.SupportedSymbolTags=fb.SupportedSymbolKinds=void 0;var xCt=require("vscode"),ws=qi(),Cre=Qo(),OCt=Gc();fb.SupportedSymbolKinds=[ws.SymbolKind.File,ws.SymbolKind.Module,ws.SymbolKind.Namespace,ws.SymbolKind.Package,ws.SymbolKind.Class,ws.SymbolKind.Method,ws.SymbolKind.Property,ws.SymbolKind.Field,ws.SymbolKind.Constructor,ws.SymbolKind.Enum,ws.SymbolKind.Interface,ws.SymbolKind.Function,ws.SymbolKind.Variable,ws.SymbolKind.Constant,ws.SymbolKind.String,ws.SymbolKind.Number,ws.SymbolKind.Boolean,ws.SymbolKind.Array,ws.SymbolKind.Object,ws.SymbolKind.Key,ws.SymbolKind.Null,ws.SymbolKind.EnumMember,ws.SymbolKind.Struct,ws.SymbolKind.Event,ws.SymbolKind.Operator,ws.SymbolKind.TypeParameter];fb.SupportedSymbolTags=[ws.SymbolTag.Deprecated];var Tre=class extends Cre.TextDocumentLanguageFeature{constructor(e){super(e,ws.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Cre.ensure)((0,Cre.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:fb.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:fb.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:OCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ws.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let m=f[0];return ws.DocumentSymbol.is(m)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(ws.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[xCt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};fb.DocumentSymbolFeature=Tre});var zke=E(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.WorkspaceSymbolFeature=void 0;var ICt=require("vscode"),AL=qi(),Ere=Qo(),jke=Dre(),kCt=Gc(),Pre=class extends Ere.WorkspaceFeature{constructor(e){super(e,AL.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Ere.ensure)((0,Ere.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:jke.SupportedSymbolKinds},t.tagSupport={valueSet:jke.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:kCt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(AL.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(AL.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(AL.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(AL.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[ICt.languages.registerWorkspaceSymbolProvider(t),t]}};HH.WorkspaceSymbolFeature=Pre});var Uke=E(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.ReferencesFeature=void 0;var ACt=require("vscode"),Rre=qi(),xre=Qo(),LCt=Gc(),Ore=class extends xre.TextDocumentLanguageFeature{constructor(e){super(e,Rre.ReferencesRequest.type)}fillClientCapabilities(e){(0,xre.ensure)((0,xre.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:LCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>c.sendRequest(Rre.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,m),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(Rre.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return ACt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};BH.ReferencesFeature=Ore});var Hke=E(WH=>{"use strict";Object.defineProperty(WH,"__esModule",{value:!0});WH.CodeActionFeature=void 0;var MCt=require("vscode"),ug=qi(),NCt=Gc(),Ire=Qo(),kre=class extends Ire.TextDocumentLanguageFeature{constructor(e){super(e,ug.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,Ire.ensure)((0,Ire.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[ug.CodeActionKind.Empty,ug.CodeActionKind.QuickFix,ug.CodeActionKind.Refactor,ug.CodeActionKind.RefactorExtract,ug.CodeActionKind.RefactorInline,ug.CodeActionKind.RefactorRewrite,ug.CodeActionKind.Source,ug.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:NCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(m,_)};return c.sendRequest(ug.CodeActionRequest.type,D,_).then(O=>_.isCancellationRequested||O===null||O===void 0?null:c.protocol2CodeConverter.asCodeActionResult(O,_),O=>c.handleFailedRequest(ug.CodeActionRequest.type,_,O,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(ug.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(ug.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[MCt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};WH.CodeActionFeature=kre});var Wke=E($H=>{"use strict";Object.defineProperty($H,"__esModule",{value:!0});$H.CodeLensFeature=void 0;var Bke=require("vscode"),OR=qi(),FCt=Gc(),LL=Qo(),Are=class extends LL.TextDocumentLanguageFeature{constructor(e){super(e,OR.CodeLensRequest.type)}fillClientCapabilities(e){(0,LL.ensure)((0,LL.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,LL.ensure)((0,LL.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(OR.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:FCt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Bke.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(OR.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(OR.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(OR.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(OR.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[Bke.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};$H.CodeLensFeature=Are});var $ke=E(ZC=>{"use strict";Object.defineProperty(ZC,"__esModule",{value:!0});ZC.DocumentOnTypeFormattingFeature=ZC.DocumentRangeFormattingFeature=ZC.DocumentFormattingFeature=void 0;var VH=require("vscode"),Yw=qi(),Fre=Gc(),Jw=Qo(),ML;(function(r){function e(t){let n=VH.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(ML||(ML={}));var Lre=class extends Jw.TextDocumentLanguageFeature{constructor(e){super(e,Yw.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Jw.ensure)((0,Jw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:Fre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,ML.fromConfiguration(l))};return a.sendRequest(Yw.DocumentFormattingRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(Yw.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[VH.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};ZC.DocumentFormattingFeature=Lre;var Mre=class extends Jw.TextDocumentLanguageFeature{constructor(e){super(e,Yw.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,Jw.ensure)((0,Jw.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:Fre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(m,ML.fromConfiguration(d))};return c.sendRequest(Yw.DocumentRangeFormattingRequest.type,D,_).then(O=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(O,_),O=>c.handleFailedRequest(Yw.DocumentRangeFormattingRequest.type,_,O,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[VH.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};ZC.DocumentRangeFormattingFeature=Mre;var Nre=class extends Jw.TextDocumentLanguageFeature{constructor(e){super(e,Yw.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Jw.ensure)((0,Jw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:Fre.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(m,_,D,O,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(O,ML.fromConfiguration(m))};return l.sendRequest(Yw.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(Yw.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[VH.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};ZC.DocumentOnTypeFormattingFeature=Nre});var Gke=E(GH=>{"use strict";Object.defineProperty(GH,"__esModule",{value:!0});GH.RenameFeature=void 0;var qCt=require("vscode"),i0=qi(),jCt=Gc(),Vke=vv(),qre=Qo(),jre=class extends qre.TextDocumentLanguageFeature{constructor(e){super(e,i0.RenameRequest.type)}fillClientCapabilities(e){let t=(0,qre.ensure)((0,qre.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=i0.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(Vke.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:jCt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,m,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:m};return c.sendRequest(i0.RenameRequest.type,D,_).then(O=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(O,_),O=>c.handleFailedRequest(i0.RenameRequest.type,_,O,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(i0.PrepareRenameRequest.type,m,f).then(_=>f.isCancellationRequested?null:i0.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&i0.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return qCt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Vke.boolean(t.defaultBehavior)}};GH.RenameFeature=jre});var Kke=E(KH=>{"use strict";Object.defineProperty(KH,"__esModule",{value:!0});KH.DocumentLinkFeature=void 0;var zCt=require("vscode"),NL=qi(),zre=Qo(),UCt=Gc(),Ure=class extends zre.TextDocumentLanguageFeature{constructor(e){super(e,NL.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,zre.ensure)((0,zre.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:UCt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(NL.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(NL.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(NL.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(NL.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[zCt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};KH.DocumentLinkFeature=Ure});var Jke=E(YH=>{"use strict";Object.defineProperty(YH,"__esModule",{value:!0});YH.ExecuteCommandFeature=void 0;var HCt=require("vscode"),Hre=qi(),BCt=Gc(),Yke=Qo(),Bre=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Hre.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,Yke.ensure)((0,Yke.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:BCt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(Hre.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(Hre.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(HCt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};YH.ExecuteCommandFeature=Bre});var Xke=E(XH=>{"use strict";Object.defineProperty(XH,"__esModule",{value:!0});XH.FileSystemWatcherFeature=void 0;var WCt=require("vscode"),o0=qi(),JH=Qo(),Wre=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return o0.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,JH.ensure)((0,JH.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,JH.ensure)((0,JH.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&o0.WatchKind.Create)!==0,s=(n.kind&o0.WatchKind.Change)!==0,a=(n.kind&o0.WatchKind.Delete)!==0);let c=WCt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:o0.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:o0.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:o0.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};XH.FileSystemWatcherFeature=Wre});var Qke=E(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.ColorProviderFeature=void 0;var $Ct=require("vscode"),FL=qi(),$re=Qo(),Vre=class extends $re.TextDocumentLanguageFeature{constructor(e){super(e,FL.DocumentColorRequest.type)}fillClientCapabilities(e){(0,$re.ensure)((0,$re.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(FL.ColorPresentationRequest.type,m,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(FL.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(FL.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(FL.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[$Ct.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};QH.ColorProviderFeature=Vre});var Zke=E(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.ImplementationFeature=void 0;var VCt=require("vscode"),Gre=qi(),Kre=Qo(),Yre=class extends Kre.TextDocumentLanguageFeature{constructor(e){super(e,Gre.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Kre.ensure)((0,Kre.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Gre.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(Gre.ImplementationRequest.type,f,m,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return VCt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ZH.ImplementationFeature=Yre});var e1e=E(eB=>{"use strict";Object.defineProperty(eB,"__esModule",{value:!0});eB.TypeDefinitionFeature=void 0;var GCt=require("vscode"),Jre=qi(),qL=Qo(),Xre=class extends qL.TextDocumentLanguageFeature{constructor(e){super(e,Jre.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,qL.ensure)((0,qL.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,qL.ensure)((0,qL.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Jre.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,f),m=>a.handleFailedRequest(Jre.TypeDefinitionRequest.type,f,m,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return GCt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};eB.TypeDefinitionFeature=Xre});var t1e=E(IR=>{"use strict";Object.defineProperty(IR,"__esModule",{value:!0});IR.WorkspaceFoldersFeature=IR.arrayDiff=void 0;var KCt=Gc(),tB=require("vscode"),jL=qi();function Qre(r,e){if(r!==void 0)return r[e]}function Zre(r,e){return r.filter(t=>e.indexOf(t)<0)}IR.arrayDiff=Zre;var ene=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return jL.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=tB.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(jL.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=tB.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Qre(Qre(Qre(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=KCt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=Zre(this._initialFolders,e),i=Zre(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${jL.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(jL.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=tB.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${jL.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(tB.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};IR.WorkspaceFoldersFeature=ene});var r1e=E(rB=>{"use strict";Object.defineProperty(rB,"__esModule",{value:!0});rB.FoldingRangeFeature=void 0;var YCt=require("vscode"),kR=qi(),tne=Qo(),rne=class extends tne.TextDocumentLanguageFeature{constructor(e){super(e,kR.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,tne.ensure)((0,tne.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[kR.FoldingRangeKind.Comment,kR.FoldingRangeKind.Imports,kR.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest(kR.FoldingRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(_,f),_=>a.handleFailedRequest(kR.FoldingRangeRequest.type,f,_,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[YCt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};rB.FoldingRangeFeature=rne});var n1e=E(nB=>{"use strict";Object.defineProperty(nB,"__esModule",{value:!0});nB.DeclarationFeature=void 0;var JCt=require("vscode"),nne=qi(),ine=Qo(),one=class extends ine.TextDocumentLanguageFeature{constructor(e){super(e,nne.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,ine.ensure)((0,ine.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(nne.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(m,f),m=>a.handleFailedRequest(nne.DeclarationRequest.type,f,m,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return JCt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};nB.DeclarationFeature=one});var i1e=E(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});iB.SelectionRangeFeature=void 0;var XCt=require("vscode"),sne=qi(),ane=Qo(),cne=class extends ane.TextDocumentLanguageFeature{constructor(e){super(e,sne.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,ane.ensure)((0,ane.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(sne.SelectionRangeRequest.type,m,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(sne.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return XCt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};iB.SelectionRangeFeature=cne});var s1e=E(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});oB.ProgressFeature=void 0;var o1e=qi(),QCt=zte();function ZCt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var une=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:o1e.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){ZCt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new QCt.ProgressPart(this._client,i.token,t))};e.onRequest(o1e.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};oB.ProgressFeature=une});var a1e=E(sB=>{"use strict";Object.defineProperty(sB,"__esModule",{value:!0});sB.CallHierarchyFeature=void 0;var eTt=require("vscode"),s0=qi(),lne=Qo(),dne=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(s0.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(s0.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(s0.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(s0.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(s0.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(s0.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},fne=class extends lne.TextDocumentLanguageFeature{constructor(e){super(e,s0.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,lne.ensure)((0,lne.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new dne(t);return[eTt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};sB.CallHierarchyFeature=fne});var c1e=E(cB=>{"use strict";Object.defineProperty(cB,"__esModule",{value:!0});cB.SemanticTokensFeature=void 0;var aB=require("vscode"),Hi=qi(),zL=Qo(),tTt=vv(),hne=class extends zL.TextDocumentLanguageFeature{constructor(e){super(e,Hi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,zL.ensure)((0,zL.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Hi.SemanticTokenTypes.namespace,Hi.SemanticTokenTypes.type,Hi.SemanticTokenTypes.class,Hi.SemanticTokenTypes.enum,Hi.SemanticTokenTypes.interface,Hi.SemanticTokenTypes.struct,Hi.SemanticTokenTypes.typeParameter,Hi.SemanticTokenTypes.parameter,Hi.SemanticTokenTypes.variable,Hi.SemanticTokenTypes.property,Hi.SemanticTokenTypes.enumMember,Hi.SemanticTokenTypes.event,Hi.SemanticTokenTypes.function,Hi.SemanticTokenTypes.method,Hi.SemanticTokenTypes.macro,Hi.SemanticTokenTypes.keyword,Hi.SemanticTokenTypes.modifier,Hi.SemanticTokenTypes.comment,Hi.SemanticTokenTypes.string,Hi.SemanticTokenTypes.number,Hi.SemanticTokenTypes.regexp,Hi.SemanticTokenTypes.operator,Hi.SemanticTokenTypes.decorator],t.tokenModifiers=[Hi.SemanticTokenModifiers.declaration,Hi.SemanticTokenModifiers.definition,Hi.SemanticTokenModifiers.readonly,Hi.SemanticTokenModifiers.static,Hi.SemanticTokenModifiers.deprecated,Hi.SemanticTokenModifiers.abstract,Hi.SemanticTokenModifiers.async,Hi.SemanticTokenModifiers.modification,Hi.SemanticTokenModifiers.documentation,Hi.SemanticTokenModifiers.defaultLibrary],t.formats=[Hi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,zL.ensure)((0,zL.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Hi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=tTt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new aB.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(m,_)=>{let D=this._client,O=D.middleware,M=(A,U)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(Hi.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(de,U),de=>D.handleFailedRequest(Hi.SemanticTokensRequest.type,U,de,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(m,_,M):M(m,_)},provideDocumentSemanticTokensEdits:i?(m,_,D)=>{let O=this._client,M=O.middleware,A=(U,ne,de)=>{let ye={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return O.sendRequest(Hi.SemanticTokensDeltaRequest.type,ye,de).then(async V=>de.isCancellationRequested?null:Hi.SemanticTokens.is(V)?await O.protocol2CodeConverter.asSemanticTokens(V,de):await O.protocol2CodeConverter.asSemanticTokensEdits(V,de),V=>O.handleFailedRequest(Hi.SemanticTokensDeltaRequest.type,de,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(m,_,D,A):A(m,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(m,_,D)=>{let O=this._client,M=O.middleware,A=(U,ne,de)=>{let ye={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(U),range:O.code2ProtocolConverter.asRange(ne)};return O.sendRequest(Hi.SemanticTokensRangeRequest.type,ye,de).then(V=>de.isCancellationRequested?null:O.protocol2CodeConverter.asSemanticTokens(V,de),V=>O.handleFailedRequest(Hi.SemanticTokensRangeRequest.type,de,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(m,_,D,A):A(m,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(aB.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(aB.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new aB.Disposable(()=>u.forEach(m=>m.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};cB.SemanticTokensFeature=hne});var d1e=E(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.WillDeleteFilesFeature=am.WillRenameFilesFeature=am.WillCreateFilesFeature=am.DidDeleteFilesFeature=am.DidRenameFilesFeature=am.DidCreateFilesFeature=void 0;var Sv=require("vscode"),rTt=bD(),Xw=qi(),nTt=Gc();function u1e(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function iTt(r,e){return r[e]}function l1e(r,e,t){r[e]=t}var UL=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=u1e(u1e(e,"workspace"),"fileOperations");l1e(t,"dynamicRegistration",!0),l1e(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?iTt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:nTt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new rTt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===Sv.FileType.File&&u.kind===Xw.FileOperationPatternKind.file||l===Sv.FileType.Directory&&u.kind===Xw.FileOperationPatternKind.folder)return!0}else if(u.kind===Xw.FileOperationPatternKind.folder&&await r.getFileType(s)===Sv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Sv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},uB=class extends UL{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},lB=class extends uB{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await UL.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},pne=class extends uB{constructor(e){super(e,Sv.workspace.onDidCreateFiles,Xw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};am.DidCreateFilesFeature=pne;var mne=class extends lB{constructor(e){super(e,Sv.workspace.onDidRenameFiles,Xw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Sv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};am.DidRenameFilesFeature=mne;var gne=class extends lB{constructor(e){super(e,Sv.workspace.onDidDeleteFiles,Xw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Sv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};am.DidDeleteFilesFeature=gne;var HL=class extends UL{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},vne=class extends HL{constructor(e){super(e,Sv.workspace.onWillCreateFiles,Xw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};am.WillCreateFilesFeature=vne;var yne=class extends HL{constructor(e){super(e,Sv.workspace.onWillRenameFiles,Xw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};am.WillRenameFilesFeature=yne;var _ne=class extends HL{constructor(e){super(e,Sv.workspace.onWillDeleteFiles,Xw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};am.WillDeleteFilesFeature=_ne});var f1e=E(dB=>{"use strict";Object.defineProperty(dB,"__esModule",{value:!0});dB.LinkedEditingFeature=void 0;var oTt=require("vscode"),bne=qi(),wne=Qo(),Sne=class extends wne.TextDocumentLanguageFeature{constructor(e){super(e,bne.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,wne.ensure)((0,wne.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(bne.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(m,f),m=>a.handleFailedRequest(bne.LinkedEditingRangeRequest.type,f,m,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return oTt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};dB.LinkedEditingFeature=Sne});var h1e=E(fB=>{"use strict";Object.defineProperty(fB,"__esModule",{value:!0});fB.TypeHierarchyFeature=void 0;var sTt=require("vscode"),a0=qi(),Cne=Qo(),Tne=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(a0.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(a0.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(a0.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(a0.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(a0.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(a0.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Dne=class extends Cne.TextDocumentLanguageFeature{constructor(e){super(e,a0.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Cne.ensure)((0,Cne.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Tne(t);return[sTt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};fB.TypeHierarchyFeature=Dne});var m1e=E(pB=>{"use strict";Object.defineProperty(pB,"__esModule",{value:!0});pB.InlineValueFeature=void 0;var p1e=require("vscode"),hB=qi(),BL=Qo(),Ene=class extends BL.TextDocumentLanguageFeature{constructor(e){super(e,hB.InlineValueRequest.type)}fillClientCapabilities(e){(0,BL.ensure)((0,BL.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,BL.ensure)((0,BL.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(hB.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new p1e.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,m,_,D)=>{let O={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(m),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(hB.InlineValueRequest.type,O,D).then(M=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,D),M=>u.handleFailedRequest(hB.InlineValueRequest.type,D,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return p1e.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};pB.InlineValueFeature=Ene});var v1e=E(mB=>{"use strict";Object.defineProperty(mB,"__esModule",{value:!0});mB.InlayHintsFeature=void 0;var g1e=require("vscode"),AR=qi(),WL=Qo(),Pne=class extends WL.TextDocumentLanguageFeature{constructor(e){super(e,AR.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,WL.ensure)((0,WL.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,WL.ensure)((0,WL.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(AR.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new g1e.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,m)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(AR.InlayHintRequest.type,_,m);return m.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,m)}catch(D){return c.handleFailedRequest(AR.InlayHintRequest.type,m,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(AR.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let m=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:m}catch(f){return a.handleFailedRequest(AR.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return g1e.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};mB.InlayHintsFeature=Pne});var Ine=E(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.ProposedFeatures=Va.BaseLanguageClient=Va.MessageTransports=Va.SuspendMode=Va.State=Va.CloseAction=Va.ErrorAction=Va.RevealOutputChannelOn=void 0;var zs=require("vscode"),Mr=qi(),aTt=vke(),cTt=bke(),Cv=vv(),y1e=EL(),_1e=Gc(),uTt=zte(),Fy=Qo(),lTt=ere(),b1e=xke(),w1e=Ike(),LR=kke(),dTt=Ake(),fTt=Lke(),hTt=Mke(),pTt=Fke(),mTt=qke(),gTt=Dre(),vTt=zke(),yTt=Uke(),_Tt=Hke(),bTt=Wke(),Rne=$ke(),wTt=Gke(),STt=Kke(),CTt=Jke(),TTt=Xke(),DTt=Qke(),ETt=Zke(),PTt=e1e(),RTt=t1e(),xTt=r1e(),OTt=n1e(),ITt=i1e(),kTt=s1e(),ATt=a1e(),LTt=c1e(),MR=d1e(),MTt=f1e(),NTt=h1e(),FTt=m1e(),qTt=v1e(),$L;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})($L=Va.RevealOutputChannelOn||(Va.RevealOutputChannelOn={}));var vB;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(vB=Va.ErrorAction||(Va.ErrorAction={}));var c0;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(c0=Va.CloseAction||(Va.CloseAction={}));var gB;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(gB=Va.State||(Va.State={}));var jTt;(function(r){r.off="off",r.on="on"})(jTt=Va.SuspendMode||(Va.SuspendMode={}));var xne=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:vB.Continue}:{action:vB.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:c0.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:c0.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:c0.Restart})}},vo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(vo||(vo={}));var zTt;(function(r){function e(t){return t&&Mr.MessageReader.is(t.reader)&&Mr.MessageWriter.is(t.writer)}r.is=e})(zTt=Va.MessageTransports||(Va.MessageTransports={}));var yB=class r{constructor(e,t,n){this._traceFormat=Mr.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new y1e.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??$L.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=vo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new y1e.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Mr.Emitter,this._stateChangeEmitter=new Mr.Emitter,this._trace=Mr.Trace.Off,this._tracer={log:(o,s)=>{Cv.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=aTt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=cTt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=zs.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case vo.Starting:return gB.Starting;case vo.Running:return gB.Running;default:return gB.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${Cv.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${Cv.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===vo.StartFailed||this.$state===vo.Stopping||this.$state===vo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new xne(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Cv.string(e.stack)?e.stack:e.message:Cv.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=$L.Info&&this.showNotificationMessage(Mr.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=$L.Warn&&this.showNotificationMessage(Mr.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=$L.Error)&&this.showNotificationMessage(Mr.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Mr.MessageType.Error?zs.window.showErrorMessage:e===Mr.MessageType.Warning?zs.window.showWarningMessage:zs.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===vo.Initial||this.$state===vo.Stopping||this.$state===vo.Stopped}needsStop(){return this.$state===vo.Starting||this.$state===vo.Running}activeConnection(){return this.$state===vo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===vo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===vo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?zs.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):zs.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=vo.Starting;try{let i=await this.createConnection();i.onNotification(Mr.LogMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:this.error(o.message,void 0,!1);break;case Mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Mr.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Mr.ShowMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:zs.window.showErrorMessage(o.message);break;case Mr.MessageType.Warning:zs.window.showWarningMessage(o.message);break;case Mr.MessageType.Info:zs.window.showInformationMessage(o.message);break;default:zs.window.showInformationMessage(o.message)}}),i.onRequest(Mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case Mr.MessageType.Error:s=zs.window.showErrorMessage;break;case Mr.MessageType.Warning:s=zs.window.showWarningMessage;break;case Mr.MessageType.Info:s=zs.window.showInformationMessage;break;default:s=zs.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Mr.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await zs.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await zs.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=vo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:zs.env.appName,version:zs.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(zs.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Cv.func(t)?t():t,trace:Mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=_1e.generateUuid(),a=new uTt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=vo.Running;let i;Cv.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Mr.TextDocumentSyncKind.None?i={openClose:!1,change:Mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Mr.ResponseError&&n.data&&n.data.retry?zs.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&zs.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=zs.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===vo.Stopped||this.$state===vo.Initial)return;if(this.$state===vo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==vo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=vo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=vo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Mr.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Mr.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new zs.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===vo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=UTt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===vo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:c0.DoNotRestart};if(this.$state!==vo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===c0.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===vo.Starting?this.$state=vo.StartFailed:this.$state=vo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===c0.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=vo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===vB.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(zs.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=zs.workspace.getConfiguration(this._id),i=Mr.Trace.Off,o=Mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Mr.Trace.fromString(s):(i=Mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=Mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;Cv.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Mr.DidChangeWatchedFilesNotification.type.method).registerRaw(_1e.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Fy.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof b1e.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new w1e.ConfigurationFeature(this)),this.registerFeature(new LR.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new LR.DidChangeTextDocumentFeature(this)),this.registerFeature(new LR.WillSaveFeature(this)),this.registerFeature(new LR.WillSaveWaitUntilFeature(this)),this.registerFeature(new LR.DidSaveTextDocumentFeature(this)),this.registerFeature(new LR.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new TTt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new dTt.CompletionItemFeature(this)),this.registerFeature(new fTt.HoverFeature(this)),this.registerFeature(new pTt.SignatureHelpFeature(this)),this.registerFeature(new hTt.DefinitionFeature(this)),this.registerFeature(new yTt.ReferencesFeature(this)),this.registerFeature(new mTt.DocumentHighlightFeature(this)),this.registerFeature(new gTt.DocumentSymbolFeature(this)),this.registerFeature(new vTt.WorkspaceSymbolFeature(this)),this.registerFeature(new _Tt.CodeActionFeature(this)),this.registerFeature(new bTt.CodeLensFeature(this)),this.registerFeature(new Rne.DocumentFormattingFeature(this)),this.registerFeature(new Rne.DocumentRangeFormattingFeature(this)),this.registerFeature(new Rne.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new wTt.RenameFeature(this)),this.registerFeature(new STt.DocumentLinkFeature(this)),this.registerFeature(new CTt.ExecuteCommandFeature(this)),this.registerFeature(new w1e.SyncConfigurationFeature(this)),this.registerFeature(new PTt.TypeDefinitionFeature(this)),this.registerFeature(new ETt.ImplementationFeature(this)),this.registerFeature(new DTt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new RTt.WorkspaceFoldersFeature(this)),this.registerFeature(new xTt.FoldingRangeFeature(this)),this.registerFeature(new OTt.DeclarationFeature(this)),this.registerFeature(new ITt.SelectionRangeFeature(this)),this.registerFeature(new kTt.ProgressFeature(this)),this.registerFeature(new ATt.CallHierarchyFeature(this)),this.registerFeature(new LTt.SemanticTokensFeature(this)),this.registerFeature(new MTt.LinkedEditingFeature(this)),this.registerFeature(new MR.DidCreateFilesFeature(this)),this.registerFeature(new MR.DidRenameFilesFeature(this)),this.registerFeature(new MR.DidDeleteFilesFeature(this)),this.registerFeature(new MR.WillCreateFilesFeature(this)),this.registerFeature(new MR.WillRenameFilesFeature(this)),this.registerFeature(new MR.WillDeleteFilesFeature(this)),this.registerFeature(new NTt.TypeHierarchyFeature(this)),this.registerFeature(new FTt.InlineValueFeature(this)),this.registerFeature(new qTt.InlayHintsFeature(this)),this.registerFeature(new lTt.DiagnosticFeature(this)),this.registerFeature(new b1e.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(S1e.createAll(this))}fillInitializeParams(e){for(let t of this._features)Cv.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Fy.ensure)(e,"workspace").applyEdit=!0;let t=(0,Fy.ensure)((0,Fy.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Mr.ResourceOperationKind.Create,Mr.ResourceOperationKind.Rename,Mr.ResourceOperationKind.Delete],t.failureHandling=Mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,Fy.ensure)((0,Fy.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Mr.DiagnosticTag.Unnecessary,Mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Fy.ensure)(e,"window"),o=(0,Fy.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,Fy.ensure)(i,"showDocument");s.support=!0;let a=(0,Fy.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)Cv.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;zs.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):Cv.asPromise(zs.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Mr.ResponseError){if(n.code===Mr.ErrorCodes.PendingResponseRejected||n.code===Mr.ErrorCodes.ConnectionInactive)return i;if(n.code===Mr.LSPErrorCodes.RequestCancelled||n.code===Mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new Fy.LSPCancellationError(n.data):new zs.CancellationError}else if(n.code===Mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new zs.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Va.BaseLanguageClient=yB;yB.RequestsToCancelOnContentModified=new Set([Mr.SemanticTokensRequest.method,Mr.SemanticTokensRangeRequest.method,Mr.SemanticTokensDeltaRequest.method]);var One=class{error(e){(0,Mr.RAL)().console.error(e)}warn(e){(0,Mr.RAL)().console.warn(e)}info(e){(0,Mr.RAL)().console.info(e)}log(e){(0,Mr.RAL)().console.log(e)}};function UTt(r,e,t,n,i){let o=-1,s=new One,a=(0,Mr.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Mr.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(Cv.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Mr.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Mr.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Mr.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var S1e;(function(r){function e(t){return[]}r.createAll=e})(S1e=Va.ProposedFeatures||(Va.ProposedFeatures={}))});var T1e=E(_B=>{"use strict";Object.defineProperty(_B,"__esModule",{value:!0});_B.terminate=void 0;var C1e=require("child_process"),HTt=require("path"),BTt=process.platform==="win32",WTt=process.platform==="darwin",$Tt=process.platform==="linux";function VTt(r,e){if(BTt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),C1e.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if($Tt||WTt)try{var t=(0,HTt.join)(__dirname,"terminateProcess.sh"),n=C1e.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}_B.terminate=VTt});var kne=E((T9t,D1e)=>{"use strict";D1e.exports=qi()});var P1e=E(lg=>{"use strict";var GTt=lg&&lg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ane=lg&&lg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&GTt(e,r,t)};Object.defineProperty(lg,"__esModule",{value:!0});lg.DiagnosticPullMode=lg.vsdiag=void 0;Ane(qi(),lg);Ane(Qo(),lg);var E1e=ere();Object.defineProperty(lg,"vsdiag",{enumerable:!0,get:function(){return E1e.vsdiag}});Object.defineProperty(lg,"DiagnosticPullMode",{enumerable:!0,get:function(){return E1e.DiagnosticPullMode}});Ane(Ine(),lg)});var hb=E(rp=>{"use strict";var KTt=rp&&rp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),O1e=rp&&rp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&KTt(e,r,t)};Object.defineProperty(rp,"__esModule",{value:!0});rp.SettingMonitor=rp.LanguageClient=rp.TransportKind=void 0;var Qw=require("child_process"),Lne=require("fs"),Mne=require("path"),tT=require("vscode"),vc=vv(),R1e=Ine(),YTt=T1e(),Yc=kne(),JTt=GS(),XTt=eE();O1e(kne(),rp);O1e(P1e(),rp);var x1e="^1.67.0",du;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(du=rp.TransportKind||(rp.TransportKind={}));var eT;(function(r){function e(t){let n=t;return n&&n.kind===du.socket&&vc.number(n.port)}r.isSocket=e})(eT||(eT={}));var Nne;(function(r){function e(t){return vc.string(t.command)}r.is=e})(Nne||(Nne={}));var Fne;(function(r){function e(t){return vc.string(t.module)}r.is=e})(Fne||(Fne={}));var qne;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(qne||(qne={}));var jne;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(jne||(jne={}));var zne=class extends R1e.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;vc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw vc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=JTt(tT.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${tT.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!XTt(e,x1e))throw new Error(`The language client requires VS Code version ${x1e} but received version ${tT.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,YTt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(m=>f[m]=process.env[m]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(m=>f[m]=l[m]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(vc.func(a))return a().then(l=>{if(R1e.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(qne.is(l))return this._isDetached=!!l.detached,{reader:new Yc.StreamMessageReader(l.reader),writer:new Yc.StreamMessageWriter(l.writer)};{let d;return jne.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(vc.string(f)?f:f.toString(e))),{reader:new Yc.StreamMessageReader(d.stdout),writer:new Yc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(Fne.is(c)&&c.module){let d=c,f=d.transport||du.stdio;if(d.runtime){let m=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>m.push(A)),m.push(d.module),d.args&&d.args.forEach(A=>m.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let O=this._getRuntimePath(d.runtime,l),M;if(f===du.ipc?(D.stdio=[null,null,null,"ipc"],m.push("--node-ipc")):f===du.stdio?m.push("--stdio"):f===du.pipe?(M=(0,Yc.generateRandomPipeName)(),m.push(`--pipe=${M}`)):eT.isSocket(f)&&m.push(`--socket=${f.port}`),m.push(`--clientProcessId=${process.pid.toString()}`),f===du.ipc||f===du.stdio){let A=Qw.spawn(O,m,D);return!A||!A.pid?NR(A,`Launching server using runtime ${O} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(vc.string(U)?U:U.toString(e))),f===du.ipc?(A.stdout.on("data",U=>this.outputChannel.append(vc.string(U)?U:U.toString(e))),Promise.resolve({reader:new Yc.IPCMessageReader(A),writer:new Yc.IPCMessageWriter(A)})):Promise.resolve({reader:new Yc.StreamMessageReader(A.stdout),writer:new Yc.StreamMessageWriter(A.stdin)}))}else{if(f===du.pipe)return(0,Yc.createClientPipeTransport)(M).then(A=>{let U=Qw.spawn(O,m,D);return!U||!U.pid?NR(U,`Launching server using runtime ${O} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(eT.isSocket(f))return(0,Yc.createClientSocketTransport)(f.port).then(A=>{let U=Qw.spawn(O,m,D);return!U||!U.pid?NR(U,`Launching server using runtime ${O} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let m;return new Promise((_,D)=>{let O=(d.args&&d.args.slice())??[];f===du.ipc?O.push("--node-ipc"):f===du.stdio?O.push("--stdio"):f===du.pipe?(m=(0,Yc.generateRandomPipeName)(),O.push(`--pipe=${m}`)):eT.isSocket(f)&&O.push(`--socket=${f.port}`),O.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===du.ipc||f===du.stdio){let A=Qw.fork(d.module,O||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(vc.string(U)?U:U.toString(e))),f===du.ipc?(A.stdout.on("data",U=>this.outputChannel.append(vc.string(U)?U:U.toString(e))),_({reader:new Yc.IPCMessageReader(this._serverProcess),writer:new Yc.IPCMessageWriter(this._serverProcess)})):_({reader:new Yc.StreamMessageReader(A.stdout),writer:new Yc.StreamMessageWriter(A.stdin)})}else f===du.pipe?(0,Yc.createClientPipeTransport)(m).then(A=>{let U=Qw.fork(d.module,O||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D):eT.isSocket(f)&&(0,Yc.createClientSocketTransport)(f.port).then(A=>{let U=Qw.fork(d.module,O||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(vc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D)})}}else if(Nne.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],m,_=c.transport;if(_===du.stdio)f.push("--stdio");else if(_===du.pipe)m=(0,Yc.generateRandomPipeName)(),f.push(`--pipe=${m}`);else if(eT.isSocket(_))f.push(`--socket=${_.port}`);else if(_===du.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===du.stdio){let O=Qw.spawn(d.command,f,D);return!O||!O.pid?NR(O,`Launching server using command ${d.command} failed.`):(O.stderr.on("data",M=>this.outputChannel.append(vc.string(M)?M:M.toString(e))),this._serverProcess=O,this._isDetached=!!D.detached,Promise.resolve({reader:new Yc.StreamMessageReader(O.stdout),writer:new Yc.StreamMessageWriter(O.stdin)}))}else{if(_===du.pipe)return(0,Yc.createClientPipeTransport)(m).then(O=>{let M=Qw.spawn(d.command,f,D);return!M||!M.pid?NR(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(vc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(vc.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(eT.isSocket(_))return(0,Yc.createClientSocketTransport)(_.port).then(O=>{let M=Qw.spawn(d.command,f,D);return!M||!M.pid?NR(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(vc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(vc.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(Mne.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Mne.join(n,e);if(Lne.existsSync(i))return i}if(t!==void 0){let i=Mne.join(t,e);if(Lne.existsSync(i))return i}return e}_mainGetRootPath(){let e=tT.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{Lne.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};rp.LanguageClient=zne;var Une=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return tT.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new tT.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?tT.workspace.getConfiguration(t).get(n,!1):tT.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};rp.SettingMonitor=Une;function NR(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var I1e=E(bB=>{"use strict";Object.defineProperty(bB,"__esModule",{value:!0});bB.ColorPresentationContext=void 0;var Hne=class{constructor(e,t){this.uri=e,this.range=t}};bB.ColorPresentationContext=Hne});var k1e=E(wB=>{"use strict";Object.defineProperty(wB,"__esModule",{value:!0});wB.SerializableColorPresentation=void 0;var Bne=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};wB.SerializableColorPresentation=Bne});var M1e=E(FR=>{"use strict";var A1e=FR&&FR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(FR,"__esModule",{value:!0});FR.ColorPresentationHandler=void 0;var Wne=require("vscode"),QTt=hb(),L1e=iL(),ZTt=I1e(),eDt=k1e(),SB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new QTt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>A1e(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return A1e(this,void 0,void 0,function*(){try{let n=Wne.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new Wne.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield Wne.commands.executeCommand("vscode.executeColorPresentationProvider",o,new ZTt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,L1e.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,L1e.convertTextEditToSerializable)(a);o.push(c)}let s=new eDt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};FR.ColorPresentationHandler=SB;SB.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var rT=E(CB=>{"use strict";var N1e;Object.defineProperty(CB,"__esModule",{value:!0});CB.RazorLanguage=void 0;var pb=class{};CB.RazorLanguage=pb;N1e=pb;pb.id="aspnetcorerazor";pb.fileExtensions=["cshtml","razor"];pb.globbingPattern=`**/*.{${pb.fileExtensions.join(",")}}`;pb.documentSelector={language:N1e.id,pattern:pb.globbingPattern}});var Vne=E(qR=>{"use strict";var F1e=qR&&qR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(qR,"__esModule",{value:!0});qR.RazorCompletionItemProvider=void 0;var nT=require("vscode"),tDt=Py(),rDt=cg(),$ne=class r extends tDt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return F1e(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield nT.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new nT.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,m=f.inserting;if(m){let D=this.offsetColumn(c,t.line,m.start),O=this.offsetColumn(c,t.line,m.end);f.inserting=new nT.Range(D,O)}let _=f.replacing;if(_){let D=this.offsetColumn(c,t.line,_.start),O=this.offsetColumn(c,t.line,_.end);f.replacing=new nT.Range(D,O)}if(f instanceof nT.Range&&f.start&&f.end){let D=this.offsetColumn(c,t.line,f.start),O=this.offsetColumn(c,t.line,f.end);l.range=new nT.Range(D,O)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new nT.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new nT.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return F1e(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,rDt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};qR.RazorCompletionItemProvider=$ne});var j1e=E(jR=>{"use strict";var TB=jR&&jR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(jR,"__esModule",{value:!0});jR.ProvisionalCompletionOrchestrator=void 0;var Zw=require("vscode"),nDt=rT(),q1e=gv(),iDt=Vne(),Gne=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){Zw.window.activeTextEditor&&(this.currentActiveDocument=Zw.window.activeTextEditor.document);let e=Zw.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=Zw.workspace.onDidChangeTextDocument(i=>TB(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=Zw.window.onDidChangeActiveTextEditor(i=>TB(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return Zw.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return TB(this,void 0,void 0,function*(){if(t.languageKind!==q1e.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new Zw.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==q1e.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield Zw.workspace.openTextDocument(c.uri)).save();let d=new Zw.Position(s.position.line,s.position.character+1),f=yield iDt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return TB(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==nDt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};jR.ProvisionalCompletionOrchestrator=Gne});var U1e=E(zR=>{"use strict";var oDt=zR&&zR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(zR,"__esModule",{value:!0});zR.listenToConfigurationChanges=void 0;var z1e=require("vscode");function sDt(r){return z1e.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&aDt(r)})}zR.listenToConfigurationChanges=sDt;function aDt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";z1e.window.showInformationMessage(e,t).then(n=>oDt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var B1e=E(HR=>{"use strict";var VL=HR&&HR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HR,"__esModule",{value:!0});HR.CSharpPreviewPanel=void 0;var UR=require("vscode"),Kne=Hw(),H1e=cg(),DB=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return VL(this,void 0,void 0,function*(){this.panel?this.panel.reveal(UR.ViewColumn.Two):(this.panel=UR.window.createWebviewPanel(r.viewType,"Razor C# Preview",UR.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return VL(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return VL(this,void 0,void 0,function*(){this.panel&&(e.kind===Kne.RazorDocumentChangeKind.csharpChanged||e.kind===Kne.RazorDocumentChangeKind.opened||e.kind===Kne.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){UR.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>VL(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield UR.env.clipboard.writeText(this.csharpContent),UR.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return VL(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,H1e.getUriPath)(e.uri),n=(0,H1e.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};HR.CSharpPreviewPanel=DB;DB.viewType="razorCSharpPreview"});var PB=E(BR=>{"use strict";var cDt=BR&&BR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(BR,"__esModule",{value:!0});BR.CSharpProjectedDocumentContentProvider=void 0;var Yne=Hw(),W1e=cg(),EB=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return cDt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,W1e.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===Yne.RazorDocumentChangeKind.csharpChanged||e.kind===Yne.RazorDocumentChangeKind.opened||e.kind===Yne.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,W1e.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};BR.CSharpProjectedDocumentContentProvider=EB;EB.scheme="virtualCSharp-razor"});var G1e=E(WR=>{"use strict";var uDt=WR&&WR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(WR,"__esModule",{value:!0});WR.RazorCSharpFeature=void 0;var GL=require("vscode"),$1e=B1e(),V1e=PB(),Jne=class{constructor(e,t,n){this.projectionProvider=new V1e.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new $1e.CSharpPreviewPanel(e)}register(){let e=[GL.workspace.registerTextDocumentContentProvider(V1e.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),GL.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return GL.window.registerWebviewPanelSerializer&&e.push(GL.window.registerWebviewPanelSerializer($1e.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>uDt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),GL.Disposable.from(...e)}};WR.RazorCSharpFeature=Jne});var KL=E(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.getRazorDocumentUri=ol.isRazorHtmlFile=ol.isRazorCSharpFile=ol.backgroundVirtualCSharpSuffix=ol.virtualCSharpSuffix=ol.virtualHtmlSuffix=void 0;var lDt=require("vscode"),Xne=cg();ol.virtualHtmlSuffix="__virtual.html";ol.virtualCSharpSuffix="__virtual.cs";ol.backgroundVirtualCSharpSuffix=`__bg${ol.virtualCSharpSuffix}`;function dDt(r){return(0,Xne.getUriPath)(r).endsWith(ol.virtualCSharpSuffix)}ol.isRazorCSharpFile=dDt;function fDt(r){return(0,Xne.getUriPath)(r).endsWith(ol.virtualHtmlSuffix)}ol.isRazorHtmlFile=fDt;function hDt(r){let t=(0,Xne.getUriPath)(r).replace(ol.backgroundVirtualCSharpSuffix,"");return t=t.replace(ol.virtualCSharpSuffix,""),t=t.replace(ol.virtualHtmlSuffix,""),lDt.Uri.file(t)}ol.getRazorDocumentUri=hDt});var X1e=E($R=>{"use strict";var pDt=$R&&$R.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($R,"__esModule",{value:!0});$R.RazorDefinitionProvider=void 0;var K1e=require("vscode"),Y1e=KL(),mDt=Py(),J1e=gv(),Qne=class extends mDt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return pDt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===J1e.LanguageKind.Razor)return;let o=yield K1e.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===J1e.LanguageKind.Html&&(0,Y1e.isRazorHtmlFile)(a.uri)){let c=(0,Y1e.getRazorDocumentUri)(a.uri);s.push(new K1e.Location(c,a.range))}else s.push(a);return s})}};$R.RazorDefinitionProvider=Qne});var Q1e=E(RB=>{"use strict";Object.defineProperty(RB,"__esModule",{value:!0});RB.razorExtensionId=void 0;RB.razorExtensionId="ms-dotnettools.csharp"});var Z1e=E(VR=>{"use strict";var xB=VR&&VR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(VR,"__esModule",{value:!0});VR.ReportIssueCreator=void 0;var gDt=require("child_process"),Zne=require("os"),vDt=Q1e(),eie=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return xB(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let m=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(m),i=yield this.getProjectedHtml(m)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(m){s=`A valid dotnet installation could not be found: ${m}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return xB(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return xB(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return xB(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(vDt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${Zne.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(Zne.EOL);return`
${t}${Zne.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{gDt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};VR.ReportIssueCreator=eie});var eAe=E(OB=>{"use strict";Object.defineProperty(OB,"__esModule",{value:!0});OB.ReportIssueDataCollector=void 0;var yDt=require("os"),tie=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(yDt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};OB.ReportIssueDataCollector=tie});var tAe=E(IB=>{"use strict";Object.defineProperty(IB,"__esModule",{value:!0});IB.ReportIssueDataCollectorFactory=void 0;var rie=require("vscode"),_Dt=rT(),bDt=eAe(),nie=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new rie.EventEmitter,this.onRazorDocumentFocusedEmitter=new rie.EventEmitter}register(){return rie.window.onDidChangeActiveTextEditor(e=>{e&&_Dt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new bDt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};IB.ReportIssueDataCollectorFactory=nie});var JL=E(YL=>{"use strict";Object.defineProperty(YL,"__esModule",{value:!0});YL.Trace=void 0;var wDt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(wDt=YL.Trace||(YL.Trace={}))});var rAe=E(GR=>{"use strict";var XL=GR&&GR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(GR,"__esModule",{value:!0});GR.ReportIssuePanel=void 0;var mb=require("vscode"),kB=JL(),AB=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return XL(this,void 0,void 0,function*(){this.panel?this.panel.reveal(mb.ViewColumn.Two):(this.panel=mb.window.createWebviewPanel(r.viewType,"Report Razor Issue",mb.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return XL(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){mb.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>XL(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){mb.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield mb.env.clipboard.writeText(this.issueContent),mb.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),mb.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){mb.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),mb.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>XL(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return XL(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===kB.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${kB.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${kB.Trace[kB.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};GR.ReportIssuePanel=AB;AB.viewType="razorReportIssue"});var iAe=E(KR=>{"use strict";var SDt=KR&&KR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(KR,"__esModule",{value:!0});KR.ReportIssueCommand=void 0;var CDt=Z1e(),TDt=tAe(),nAe=rAe(),iie=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new TDt.ReportIssueDataCollectorFactory(n),this.issueCreator=new CDt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new nAe.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(nAe.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>SDt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};KR.ReportIssueCommand=iie});var oAe=E(LB=>{"use strict";Object.defineProperty(LB,"__esModule",{value:!0});LB.CSharpProjectedDocument=void 0;var DDt=cg(),oie=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,DDt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};LB.CSharpProjectedDocument=oie});var sAe=E(MB=>{"use strict";Object.defineProperty(MB,"__esModule",{value:!0});MB.HtmlProjectedDocument=void 0;var EDt=cg(),sie=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,EDt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};MB.HtmlProjectedDocument=sie});var qB=E(FB=>{"use strict";Object.defineProperty(FB,"__esModule",{value:!0});FB.HtmlProjectedDocumentContentProvider=void 0;var aie=Hw(),aAe=cg(),NB=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,aAe.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===aie.RazorDocumentChangeKind.htmlChanged||e.kind===aie.RazorDocumentChangeKind.opened||e.kind===aie.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,aAe.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};FB.HtmlProjectedDocumentContentProvider=NB;NB.scheme="razor-html"});var lAe=E(jB=>{"use strict";Object.defineProperty(jB,"__esModule",{value:!0});jB.createDocument=void 0;var cAe=require("vscode"),PDt=oAe(),RDt=PB(),xDt=sAe(),ODt=qB(),uAe=KL(),cie=cg();function IDt(r){let e=ADt(r),t=kDt(r),n=(0,cie.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}jB.createDocument=IDt;function kDt(r){let t=`${(0,cie.getUriPath)(r)}${uAe.virtualHtmlSuffix}`,n=cAe.Uri.file(t);return n=n.with({scheme:ODt.HtmlProjectedDocumentContentProvider.scheme}),new xDt.HtmlProjectedDocument(n)}function ADt(r){let t=`${(0,cie.getUriPath)(r)}${uAe.virtualCSharpSuffix}`,n=cAe.Uri.file(t);return n=n.with({scheme:RDt.CSharpProjectedDocumentContentProvider.scheme}),new PDt.CSharpProjectedDocument(n)}});var dAe=E(JR=>{"use strict";var gb=JR&&JR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(JR,"__esModule",{value:!0});JR.RazorDocumentManager=void 0;var np=require("vscode"),YR=rT(),uie=cg(),u0=Hw(),LDt=lAe(),lie=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new np.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return gb(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return gb(this,void 0,void 0,function*(){return!np.window.activeTextEditor||np.window.activeTextEditor.document.languageId!==YR.RazorLanguage.id?null:yield this.getDocument(np.window.activeTextEditor.document.uri)})}initialize(){return gb(this,void 0,void 0,function*(){let e=yield np.workspace.findFiles(YR.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of np.workspace.textDocuments)t.languageId===YR.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=np.workspace.createFileSystemWatcher(YR.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>gb(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>gb(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=np.workspace.onDidOpenTextDocument(s=>{s.languageId===YR.RazorLanguage.id&&this.openDocument(s.uri)}),o=np.workspace.onDidCloseTextDocument(s=>{s.languageId===YR.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>gb(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>gb(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),np.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,uie.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,u0.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),np.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,u0.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,uie.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,LDt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,u0.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,u0.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return gb(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=np.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,u0.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return gb(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=np.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,u0.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,uie.getUriPath)(e.uri)}' changed '${u0.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return gb(this,void 0,void 0,function*(){yield np.workspace.openTextDocument(e.csharpDocument.uri),yield np.workspace.openTextDocument(e.htmlDocument.uri)})}};JR.RazorDocumentManager=lie});var hAe=E(XR=>{"use strict";var MDt=XR&&XR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(XR,"__esModule",{value:!0});XR.RazorDocumentSynchronizer=void 0;var die=require("vscode"),NDt=PB(),FDt=qB(),zB=cg(),fAe=Hw(),fie=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=die.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return die.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return MDt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,zB.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield die.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,zB.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(`Token cancellation requested: ${_}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:_=>{for(let D of s)D(_)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},m=this.synchronizations[e];return m||(m=[],this.synchronizations[e]=m),m.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==NDt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==FDt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,zB.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===fAe.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===fAe.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,zB.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};XR.RazorDocumentSynchronizer=fie});var pAe=E(UB=>{"use strict";Object.defineProperty(UB,"__esModule",{value:!0});UB.SerializableColorInformation=void 0;var hie=class{constructor(e,t){this.range=e,this.color=t}};UB.SerializableColorInformation=hie});var vAe=E(QR=>{"use strict";var mAe=QR&&QR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(QR,"__esModule",{value:!0});QR.DocumentColorHandler=void 0;var gAe=require("vscode"),qDt=hb(),jDt=uR(),zDt=pAe(),HB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new qDt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>mAe(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return mAe(this,void 0,void 0,function*(){try{let n=gAe.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield gAe.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,jDt.convertRangeToSerializable)(c.range),l=new zDt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};QR.DocumentColorHandler=HB;HB.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var _Ae=E(ZR=>{"use strict";var UDt=ZR&&ZR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ZR,"__esModule",{value:!0});ZR.RazorDocumentHighlightProvider=void 0;var yAe=require("vscode"),HDt=Py(),BDt=gv(),pie=class extends HDt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return UDt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===BDt.LanguageKind.Razor)return;let o=yield yAe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new yAe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};ZR.RazorDocumentHighlightProvider=pie});var bAe=E(BB=>{"use strict";Object.defineProperty(BB,"__esModule",{value:!0});BB.reportTelemetryForDocuments=void 0;var WDt=Hw();function $Dt(r,e){r.onChange(t=>{switch(t.kind){case WDt.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}BB.reportTelemetryForDocuments=$Dt});var wAe=E(WB=>{"use strict";Object.defineProperty(WB,"__esModule",{value:!0});WB.SerializableFoldingRangeResponse=void 0;var mie=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};WB.SerializableFoldingRangeResponse=mie});var TAe=E(tx=>{"use strict";var SAe=tx&&tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tx,"__esModule",{value:!0});tx.FoldingRangeHandler=void 0;var ex=require("vscode"),$B=hb(),CAe=wAe(),VB=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new $B.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new CAe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>SAe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return SAe(this,void 0,void 0,function*(){try{let n=ex.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield ex.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield ex.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new CAe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===ex.FoldingRangeKind.Comment)return $B.FoldingRangeKind.Comment;if(e===ex.FoldingRangeKind.Imports)return $B.FoldingRangeKind.Imports;if(e===ex.FoldingRangeKind.Region)return $B.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};tx.FoldingRangeHandler=VB;VB.provideFoldingRange="razor/foldingRange"});var DAe=E(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});GB.SerializableFormattingResponse=void 0;var gie=class{constructor(e){this.edits=e}};GB.SerializableFormattingResponse=gie});var RAe=E(rx=>{"use strict";var EAe=rx&&rx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(rx,"__esModule",{value:!0});rx.FormattingHandler=void 0;var QL=require("vscode"),VDt=hb(),GDt=iL(),PAe=DAe(),KB=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new VDt.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new PAe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>EAe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return EAe(this,void 0,void 0,function*(){try{let n=QL.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield QL.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),m=new QL.Position(c,f),_=new QL.Range(l.range.start,m);l=new QL.TextEdit(_,l.newText)}let d=(0,GDt.convertTextEditToSerializable)(l);u.push(d)}return new PAe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};rx.FormattingHandler=KB;KB.provideFormattingEndpoint="textDocument/formatting"});var xAe=E(YB=>{"use strict";Object.defineProperty(YB,"__esModule",{value:!0});YB.RazorFormatOnTypeProvider=void 0;var vie=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};YB.RazorFormatOnTypeProvider=vie});var OAe=E(JB=>{"use strict";Object.defineProperty(JB,"__esModule",{value:!0});JB.RazorDocumentRangeFormattingResponse=void 0;var yie=class{constructor(e){this.edits=e}};JB.RazorDocumentRangeFormattingResponse=yie});var MAe=E(nx=>{"use strict";var IAe=nx&&nx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(nx,"__esModule",{value:!0});nx.RazorFormattingFeature=void 0;var kAe=require("vscode"),KDt=hb(),AAe=gv(),YDt=uR(),JDt=iL(),LAe=OAe(),_ie=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new KDt.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new LAe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>IAe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return IAe(this,void 0,void 0,function*(){if(e.kind===AAe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=kAe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===AAe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield kAe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,YDt.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,JDt.convertTextEditToSerializable)(c));return new LAe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};nx.RazorFormattingFeature=_ie});var NAe=E(ix=>{"use strict";var XDt=ix&&ix.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ix,"__esModule",{value:!0});ix.RazorHoverProvider=void 0;var ZL=require("vscode"),QDt=Py(),bie=class extends QDt.RazorLanguageFeatureBase{provideHover(e,t,n){return XDt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield ZL.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new ZL.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new ZL.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new ZL.MarkdownString(d);c.push(f)}return new ZL.Hover(c,a.ranges[0])})}};ix.RazorHoverProvider=bie});var qAe=E(sx=>{"use strict";var eM=sx&&sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sx,"__esModule",{value:!0});sx.HtmlPreviewPanel=void 0;var ox=require("vscode"),wie=Hw(),FAe=cg(),XB=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return eM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(ox.ViewColumn.Two):(this.panel=ox.window.createWebviewPanel(r.viewType,"Razor HTML Preview",ox.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return eM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return eM(this,void 0,void 0,function*(){this.panel&&(e.kind===wie.RazorDocumentChangeKind.htmlChanged||e.kind===wie.RazorDocumentChangeKind.opened||e.kind===wie.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){ox.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>eM(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield ox.env.clipboard.writeText(this.htmlContent),ox.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return eM(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,FAe.getUriPath)(e.uri),n=(0,FAe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};sx.HtmlPreviewPanel=XB;XB.viewType="razorHtmlPreview"});var ZB=E((d7t,HAe)=>{"use strict";var Sie=Object.defineProperty,ZDt=Object.getOwnPropertyDescriptor,e0t=Object.getOwnPropertyNames,t0t=Object.prototype.hasOwnProperty,r0t=(r,e)=>{for(var t in e)Sie(r,t,{get:e[t],enumerable:!0})},n0t=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of e0t(e))!t0t.call(r,i)&&i!==t&&Sie(r,i,{get:()=>e[i],enumerable:!(n=ZDt(e,i))||n.enumerable});return r},i0t=r=>n0t(Sie({},"__esModule",{value:!0}),r),zAe={};r0t(zAe,{config:()=>u0t,t:()=>UAe});HAe.exports=i0t(zAe);var o0t=require("fs"),s0t=require("fs/promises");async function a0t(r){if(r.protocol==="file:")return await(0,s0t.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function c0t(r){return(0,o0t.readFileSync)(r,"utf8")}var tM;function u0t(r){if("contents"in r){typeof r.contents=="string"?tM=JSON.parse(r.contents):tM=r.contents;return}if("fsPath"in r){let e=c0t(r.fsPath),t=JSON.parse(e);tM=jAe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{a0t(e).then(i=>{try{let o=JSON.parse(i);tM=jAe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function UAe(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return UAe(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=tM?.[t];return o?typeof o=="string"?QB(o,i):o.comment?QB(o.message,i):QB(n,i):QB(n,i)}var l0t=/{([^}]+)}/g;function QB(r,e){return Object.keys(e).length===0?r:r.replace(l0t,(t,n)=>e[n]??t)}function jAe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var eW,Cie,BAe,tW,Ga,Pi,ax,WAe,rM,rW,nW,l0,iW,Tie,$Ae,VAe,GAe,cx,iT,fu,Die,ux,KAe,Eie,Pie,Rie,xie,nM,YAe,JAe,Oie,XAe,dg,d0,md,cm,oW,sW,aW,QAe,cW,uW,lx,lW,ZAe,eLe,f0,dW,dx,tLe,fx,rLe,hx,nLe,fW,iLe,oLe,sLe,hW,pW,h0,aLe,cLe,uLe,lLe,dLe,fLe,hLe,Iie,kie,pLe,mLe,gLe,vLe,yLe,_Le,bLe,wLe,SLe,Aie,pt,CLe=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(eW||(eW={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Cie||(Cie={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(BAe||(BAe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(tW||(tW={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=tW.MAX_VALUE),i===Number.MAX_VALUE&&(i=tW.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.line)&&pt.uinteger(i.character)}r.is=t})(Ga||(Ga={}));(function(r){function e(n,i,o,s){if(pt.uinteger(n)&&pt.uinteger(i)&&pt.uinteger(o)&&pt.uinteger(s))return{start:Ga.create(n,i),end:Ga.create(o,s)};if(Ga.is(n)&&Ga.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ga.is(i.start)&&Ga.is(i.end)}r.is=t})(Pi||(Pi={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(pt.string(i.uri)||pt.undefined(i.uri))}r.is=t})(ax||(ax={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.targetRange)&&pt.string(i.targetUri)&&Pi.is(i.targetSelectionRange)&&(Pi.is(i.originSelectionRange)||pt.undefined(i.originSelectionRange))}r.is=t})(WAe||(WAe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.numberRange(i.red,0,1)&&pt.numberRange(i.green,0,1)&&pt.numberRange(i.blue,0,1)&&pt.numberRange(i.alpha,0,1)}r.is=t})(rM||(rM={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&rM.is(i.color)}r.is=t})(rW||(rW={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.undefined(i.textEdit)||fu.is(i))&&(pt.undefined(i.additionalTextEdits)||pt.typedArray(i.additionalTextEdits,fu.is))}r.is=t})(nW||(nW={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(l0||(l0={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return pt.defined(o)&&(u.startCharacter=o),pt.defined(s)&&(u.endCharacter=s),pt.defined(a)&&(u.kind=a),pt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.startLine)&&pt.uinteger(i.startLine)&&(pt.undefined(i.startCharacter)||pt.uinteger(i.startCharacter))&&(pt.undefined(i.endCharacter)||pt.uinteger(i.endCharacter))&&(pt.undefined(i.kind)||pt.string(i.kind))}r.is=t})(iW||(iW={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&ax.is(i.location)&&pt.string(i.message)}r.is=t})(Tie||(Tie={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})($Ae||($Ae={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(VAe||(VAe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&pt.string(n.href)}r.is=e})(GAe||(GAe={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return pt.defined(o)&&(u.severity=o),pt.defined(s)&&(u.code=s),pt.defined(a)&&(u.source=a),pt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return pt.defined(o)&&Pi.is(o.range)&&pt.string(o.message)&&(pt.number(o.severity)||pt.undefined(o.severity))&&(pt.integer(o.code)||pt.string(o.code)||pt.undefined(o.code))&&(pt.undefined(o.codeDescription)||pt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(pt.string(o.source)||pt.undefined(o.source))&&(pt.undefined(o.relatedInformation)||pt.typedArray(o.relatedInformation,Tie.is))}r.is=t})(cx||(cx={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return pt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.title)&&pt.string(i.command)}r.is=t})(iT||(iT={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return pt.objectLiteral(s)&&pt.string(s.newText)&&Pi.is(s.range)}r.is=i})(fu||(fu={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pt.string(i.description)||i.description===void 0)}r.is=t})(Die||(Die={}));(function(r){function e(t){let n=t;return pt.string(n)}r.is=e})(ux||(ux={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return fu.is(s)&&(Die.is(s.annotationId)||ux.is(s.annotationId))}r.is=i})(KAe||(KAe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Oie.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(Eie||(Eie={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&pt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ux.is(i.annotationId))}r.is=t})(Pie||(Pie={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&pt.string(i.oldUri)&&pt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ux.is(i.annotationId))}r.is=t})(Rie||(Rie={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&pt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ux.is(i.annotationId))}r.is=t})(xie||(xie={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>pt.string(i.kind)?Pie.is(i)||Rie.is(i)||xie.is(i):Eie.is(i)))}r.is=e})(nM||(nM={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)}r.is=t})(YAe||(YAe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.integer(i.version)}r.is=t})(JAe||(JAe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&(i.version===null||pt.integer(i.version))}r.is=t})(Oie||(Oie={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.string(i.languageId)&&pt.integer(i.version)&&pt.string(i.text)}r.is=t})(XAe||(XAe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(dg||(dg={}));(function(r){function e(t){let n=t;return pt.objectLiteral(t)&&dg.is(n.kind)&&pt.string(n.value)}r.is=e})(d0||(d0={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(md||(md={}));(function(r){r.PlainText=1,r.Snippet=2})(cm||(cm={}));(function(r){r.Deprecated=1})(oW||(oW={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&pt.string(i.newText)&&Pi.is(i.insert)&&Pi.is(i.replace)}r.is=t})(sW||(sW={}));(function(r){r.asIs=1,r.adjustIndentation=2})(aW||(aW={}));(function(r){function e(t){let n=t;return n&&(pt.string(n.detail)||n.detail===void 0)&&(pt.string(n.description)||n.description===void 0)}r.is=e})(QAe||(QAe={}));(function(r){function e(t){return{label:t}}r.create=e})(cW||(cW={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(uW||(uW={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return pt.string(i)||pt.objectLiteral(i)&&pt.string(i.language)&&pt.string(i.value)}r.is=t})(lx||(lx={}));(function(r){function e(t){let n=t;return!!n&&pt.objectLiteral(n)&&(d0.is(n.contents)||lx.is(n.contents)||pt.typedArray(n.contents,lx.is))&&(t.range===void 0||Pi.is(t.range))}r.is=e})(lW||(lW={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(ZAe||(ZAe={}));(function(r){function e(t,n,...i){let o={label:t};return pt.defined(n)&&(o.documentation=n),pt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(eLe||(eLe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(f0||(f0={}));(function(r){function e(t,n){let i={range:t};return pt.number(n)&&(i.kind=n),i}r.create=e})(dW||(dW={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(dx||(dx={}));(function(r){r.Deprecated=1})(tLe||(tLe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(fx||(fx={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(rLe||(rLe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&pt.string(i.name)&&pt.number(i.kind)&&Pi.is(i.range)&&Pi.is(i.selectionRange)&&(i.detail===void 0||pt.string(i.detail))&&(i.deprecated===void 0||pt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(hx||(hx={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(nLe||(nLe={}));(function(r){r.Invoked=1,r.Automatic=2})(fW||(fW={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.typedArray(i.diagnostics,cx.is)&&(i.only===void 0||pt.typedArray(i.only,pt.string))&&(i.triggerKind===void 0||i.triggerKind===fW.Invoked||i.triggerKind===fW.Automatic)}r.is=t})(iLe||(iLe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):iT.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&pt.string(i.title)&&(i.diagnostics===void 0||pt.typedArray(i.diagnostics,cx.is))&&(i.kind===void 0||pt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||iT.is(i.command))&&(i.isPreferred===void 0||pt.boolean(i.isPreferred))&&(i.edit===void 0||nM.is(i.edit))}r.is=t})(oLe||(oLe={}));(function(r){function e(n,i){let o={range:n};return pt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.command)||iT.is(i.command))}r.is=t})(sLe||(sLe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.uinteger(i.tabSize)&&pt.boolean(i.insertSpaces)}r.is=t})(hW||(hW={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.target)||pt.string(i.target))}r.is=t})(pW||(pW={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(h0||(h0={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(aLe||(aLe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(cLe||(cLe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(uLe||(uLe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.string(i.text)}r.is=t})(lLe||(lLe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.boolean(i.caseSensitiveLookup)&&(pt.string(i.variableName)||i.variableName===void 0)}r.is=t})(dLe||(dLe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&(pt.string(i.expression)||i.expression===void 0)}r.is=t})(fLe||(fLe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(n.stoppedLocation)}r.is=t})(hLe||(hLe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Iie||(Iie={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&(i.tooltip===void 0||pt.string(i.tooltip)||d0.is(i.tooltip))&&(i.location===void 0||ax.is(i.location))&&(i.command===void 0||iT.is(i.command))}r.is=t})(kie||(kie={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Ga.is(i.position)&&(pt.string(i.label)||pt.typedArray(i.label,kie.is))&&(i.kind===void 0||Iie.is(i.kind))&&i.textEdits===void 0||pt.typedArray(i.textEdits,fu.is)&&(i.tooltip===void 0||pt.string(i.tooltip)||d0.is(i.tooltip))&&(i.paddingLeft===void 0||pt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pt.boolean(i.paddingRight))}r.is=t})(pLe||(pLe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(mLe||(mLe={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(gLe||(gLe={}));(function(r){function e(t){return{items:t}}r.create=e})(vLe||(vLe={}));(function(r){r.Invoked=0,r.Automatic=1})(yLe||(yLe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(_Le||(_Le={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(bLe||(bLe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&Cie.is(n.uri)&&pt.string(n.name)}r.is=e})(wLe||(wLe={}));(function(r){function e(o,s,a,c){return new Aie(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(pt.defined(s)&&pt.string(s.uri)&&(pt.undefined(s.languageId)||pt.string(s.languageId))&&pt.uinteger(s.lineCount)&&pt.func(s.getText)&&pt.func(s.positionAt)&&pt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),m=o.offsetAt(d.range.end);if(m<=u)a=a.substring(0,f)+d.newText+a.substring(m,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(SLe||(SLe={}));Aie=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return Ga.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return Ga.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(m){return typeof m<"u"}r.defined=t;function n(m){return typeof m>"u"}r.undefined=n;function i(m){return m===!0||m===!1}r.boolean=i;function o(m){return e.call(m)==="[object String]"}r.string=o;function s(m){return e.call(m)==="[object Number]"}r.number=s;function a(m,_,D){return e.call(m)==="[object Number]"&&_<=m&&m<=D}r.numberRange=a;function c(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}r.integer=c;function u(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}r.uinteger=u;function l(m){return e.call(m)==="[object Function]"}r.func=l;function d(m){return m!==null&&typeof m=="object"}r.objectLiteral=d;function f(m,_){return Array.isArray(m)&&m.every(_)}r.typedArray=f})(pt||(pt={}))});var PLe={};JO(PLe,{TextDocument:()=>p0});function Lie(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);Lie(n,e),Lie(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function TLe(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);DLe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function DLe(r){return r===13||r===10}function ELe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function d0t(r){let e=ELe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var mW,p0,gW=Ti(()=>{"use strict";mW=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=ELe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=TLe(n.text,!1,o);if(c-a===l.length)for(let f=0,m=l.length;f<m;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,m=u.length;f<m;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=TLe(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&DLe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new mW(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof mW)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=Lie(o.map(d0t),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(p0||(p0={}))});var Xt,Yn,Mie,iM,um=Ti(()=>{CLe();gW();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Xt||(Xt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Yn||(Yn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[dg.Markdown,dg.PlainText]}},hover:{contentFormat:[dg.Markdown,dg.PlainText]}}}})(Mie||(Mie={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(iM||(iM={}))});function Lu(r,e=0,t=Yn.WithinContent,n=!1){let i=new Fie(r,e),o=t,s=0,a=Xt.Unknown,c,u,l,d,f;function m(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function _(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function D(A,U,ne){return a=U,s=A,c=ne,U}function O(){let A=i.pos(),U=o,ne=M();return ne!==Xt.EOS&&A===i.pos()&&!(n&&(ne===Xt.StartTagClose||ne===Xt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+A+", state before: "+U+" after: "+o),i.advance(1),D(A,Xt.Unknown)):ne}function M(){let A=i.pos();if(i.eos())return D(A,Xt.EOS);let U;switch(o){case Yn.WithinComment:return i.advanceIfChars([px,px,vb])?(o=Yn.WithinContent,D(A,Xt.EndCommentTag)):(i.advanceUntilChars([px,px,vb]),D(A,Xt.Comment));case Yn.WithinDoctype:return i.advanceIfChar(vb)?(o=Yn.WithinContent,D(A,Xt.EndDoctypeTag)):(i.advanceUntilChar(vb),D(A,Xt.Doctype));case Yn.WithinContent:if(i.advanceIfChar(vW)){if(!i.eos()&&i.peekChar()===RLe){if(i.advanceIfChars([RLe,px,px]))return o=Yn.WithinComment,D(A,Xt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Yn.WithinDoctype,D(A,Xt.StartDoctypeTag)}return i.advanceIfChar(Nie)?(o=Yn.AfterOpeningEndTag,D(A,Xt.EndTagOpen)):(o=Yn.AfterOpeningStartTag,D(A,Xt.StartTagOpen))}return i.advanceUntilChar(vW),D(A,Xt.Content);case Yn.AfterOpeningEndTag:return m().length>0?(o=Yn.WithinEndTag,D(A,Xt.EndTag)):i.skipWhitespace()?D(A,Xt.Whitespace,eS.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinEndTag,i.advanceUntilChar(vb),A<i.pos()?D(A,Xt.Unknown,eS.t("End tag name expected.")):M());case Yn.WithinEndTag:if(i.skipWhitespace())return D(A,Xt.Whitespace);if(i.advanceIfChar(vb))return o=Yn.WithinContent,D(A,Xt.EndTagClose);if(n&&i.peekChar()===vW)return o=Yn.WithinContent,D(A,Xt.EndTagClose,eS.t("Closing bracket missing."));U=eS.t("Closing bracket expected.");break;case Yn.AfterOpeningStartTag:return l=m(),f=void 0,d=void 0,l.length>0?(u=!1,o=Yn.WithinTag,D(A,Xt.StartTag)):i.skipWhitespace()?D(A,Xt.Whitespace,eS.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinTag,i.advanceUntilChar(vb),A<i.pos()?D(A,Xt.Unknown,eS.t("Start tag name expected.")):M());case Yn.WithinTag:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):u&&(d=_(),d.length>0)?(o=Yn.AfterAttributeName,u=!1,D(A,Xt.AttributeName)):i.advanceIfChars([Nie,vb])?(o=Yn.WithinContent,D(A,Xt.StartTagSelfClose)):i.advanceIfChar(vb)?(l==="script"?f&&b0t[f]?o=Yn.WithinContent:o=Yn.WithinScriptContent:l==="style"?o=Yn.WithinStyleContent:o=Yn.WithinContent,D(A,Xt.StartTagClose)):n&&i.peekChar()===vW?(o=Yn.WithinContent,D(A,Xt.StartTagClose,eS.t("Closing bracket missing."))):(i.advance(1),D(A,Xt.Unknown,eS.t("Unexpected character in tag.")));case Yn.AfterAttributeName:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):i.advanceIfChar(f0t)?(o=Yn.BeforeAttributeValue,D(A,Xt.DelimiterAssign)):(o=Yn.WithinTag,M());case Yn.BeforeAttributeValue:if(i.skipWhitespace())return D(A,Xt.Whitespace);let de=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(de.length>0&&(i.peekChar()===vb&&i.peekChar(-1)===Nie&&(i.goBack(1),de=de.substring(0,de.length-1)),d==="type"&&(f=de),de.length>0))return o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue);let ye=i.peekChar();return ye===p0t||ye===h0t?(i.advance(1),i.advanceUntilChar(ye)&&i.advance(1),d==="type"&&(f=i.getSource().substring(A+1,i.pos()-1)),o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue)):(o=Yn.WithinTag,u=!1,M());case Yn.WithinScriptContent:let V=1;for(;!i.eos();){let $=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if($.length===0)return i.goToEnd(),D(A,Xt.Script);if($==="<!--")V===1&&(V=2);else if($==="-->")V=1;else if($[1]!=="/")V===2&&(V=3);else if(V===3)V=2;else{i.goBack($.length);break}}return o=Yn.WithinContent,A<i.pos()?D(A,Xt.Script):M();case Yn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Yn.WithinContent,A<i.pos()?D(A,Xt.Styles):M()}return i.advance(1),o=Yn.WithinContent,D(A,Xt.Unknown,U)}return{scan:O,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var eS,Fie,RLe,px,vW,vb,Nie,f0t,h0t,p0t,m0t,g0t,v0t,y0t,_0t,b0t,tS=Ti(()=>{eS=we(ZB());um();Fie=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===y0t||t===_0t||t===m0t||t===v0t||t===g0t)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},RLe=33,px=45,vW=60,vb=62,Nie=47,f0t=61,h0t=34,p0t=39,m0t=10,g0t=13,v0t=12,y0t=32,_0t=9,b0t={"text/x-handlebars-template":!0,"text/html":!0}});function qie(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function xLe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var jie=Ti(()=>{});var yW,_W,OLe=Ti(()=>{tS();jie();um();yW=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=qie(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=qie(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},_W=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=Lu(e,void 0,void 0,!0),i=new yW(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Xt.EOS;){switch(u){case Xt.StartTagOpen:let l=new yW(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Xt.StartTag:o.tag=n.getTokenText();break;case Xt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Xt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Xt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Xt.EndTag:a=n.getTokenText().toLowerCase();break;case Xt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Xt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Xt.AttributeValue:{let f=n.getTokenText(),m=o.attributes;m&&c&&(m[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var m0,zie=Ti(()=>{m0={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function qy(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function ILe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function Uie(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function g0(r,e){let t=r.charCodeAt(e);return S0t<=t&&t<=C0t||T0t<=t&&t<=D0t||E0t<=t&&t<=P0t}var S0t,C0t,T0t,D0t,E0t,P0t,mx=Ti(()=>{S0t=97,C0t=122,T0t=65,D0t=90,E0t=48,P0t=57});function gx(r){return typeof r<"u"}var Hie=Ti(()=>{});function kLe(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var ALe=Ti(()=>{});function rS(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=kLe(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var vx,oM=Ti(()=>{ALe();vx=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function O0t(r){return qy(r,"'")||qy(r,'"')?r.slice(1,-1):r}function I0t(r){return!(qy(r,"http")||qy(r,"https")||qy(r,"//"))}function k0t(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=L0t(t,1,-1);else{let o=e.slice(i+1),s=sM(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=sM(s,a):c=sM(t.end,-1),n=Pi.create(s,c)}return n}function A0t(r,e,t){return e?(r=r+"/",{label:r,kind:md.Folder,textEdit:fu.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:md.File,textEdit:fu.replace(t,r)}}function sM(r,e){return Ga.create(r.line,r.character+e)}function L0t(r,e,t){let n=sM(r.start,e),i=sM(r.end,t);return Pi.create(n,i)}var bW,x0t,LLe=Ti(()=>{um();mx();bW=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=O0t(e.getText(i.range));if(I0t(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=k0t(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==x0t&&a.push(A0t(u,l===iM.Directory,t));return a}catch{}return[]}},x0t=46});function M0t(r){return/^["']*$/.test(r)}function SW(r){return/^\s*$/.test(r)}function MLe(r,e,t,n){let i=Lu(r,e,t),o=i.scan();for(;o===Xt.Whitespace;)o=i.scan();return o===n}function N0t(r,e,t){for(;e>t&&!SW(r[e-1]);)e--;return e}function F0t(r,e,t){for(;e<t&&!SW(r[e]);)e++;return e}var NLe,wW,FLe=Ti(()=>{tS();um();zie();NLe=we(ZB());mx();Hie();oM();LLe();wW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new bW(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(ue=>ue.isApplicable(e.languageId)&&(!i||i[ue.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=Lu(u,d.start),m="",_,D;function O(ue,Ce=l){return ue>l&&(ue=l),{start:e.positionAt(ue),end:e.positionAt(Ce)}}function M(ue,Ce){let be=O(ue,Ce);return a.forEach(xe=>{xe.provideTags().forEach(Me=>{o.items.push({label:Me.name,kind:md.Property,documentation:rS(Me,void 0,c),textEdit:fu.replace(be,Me.name),insertTextFormat:cm.PlainText})})}),o}function A(ue){let Ce=ue;for(;Ce>0;){let be=u.charAt(Ce-1);if(`
\r`.indexOf(be)>=0)return u.substring(Ce,ue);if(!SW(be))return null;Ce--}return u.substring(0,ue)}function U(ue,Ce,be=l){let xe=O(ue,be),Me=MLe(u,be,Yn.WithinEndTag,Xt.EndTagClose)?"":">",$e=d;for(Ce&&($e=$e.parent);$e;){let Ct=$e.tag;if(Ct&&(!$e.closed||$e.endTagStart&&$e.endTagStart>l)){let ze={label:"/"+Ct,kind:md.Property,filterText:"/"+Ct,textEdit:fu.replace(xe,"/"+Ct+Me),insertTextFormat:cm.PlainText},st=A($e.start),at=A(ue-1);if(st!==null&&at!==null&&st!==at){let tt=st+"</"+Ct+Me;ze.textEdit=fu.replace(O(ue-1-at.length),tt),ze.filterText=at+"</"+Ct}return o.items.push(ze),o}$e=$e.parent}return Ce||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:md.Property,documentation:rS(ze,void 0,c),filterText:"/"+ze.name+Me,textEdit:fu.replace(xe,"/"+ze.name+Me),insertTextFormat:cm.PlainText})})}),o}let ne=(ue,Ce)=>{if(i&&i.hideAutoCompleteProposals)return o;if(D??(D=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(Ce,D)){let be=e.positionAt(ue);o.items.push({label:"</"+Ce+">",kind:md.Property,filterText:"</"+Ce+">",textEdit:fu.insert(be,"$0</"+Ce+">"),insertTextFormat:cm.Snippet})}return o};function de(ue,Ce){return M(ue,Ce),U(ue,!0,Ce),o}function ye(){let ue=Object.create(null);return d.attributeNames.forEach(Ce=>{ue[Ce]=!0}),ue}function V(ue,Ce=l){let be=l;for(;be<Ce&&u[be]!=="<";)be++;let xe=u.substring(ue,Ce),Me=O(ue,be),$e="";if(!MLe(u,Ce,Yn.AfterAttributeName,Xt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?$e="=$1":ze==="singlequotes"?$e="='$1'":$e='="$1"'}let Ct=ye();return Ct[xe]=!1,a.forEach(ze=>{ze.provideAttributes(m).forEach(st=>{if(Ct[st.name])return;Ct[st.name]=!0;let at=st.name,tt;st.valueSet!=="v"&&$e.length&&(at=at+$e,(st.valueSet||st.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:st.name,kind:st.valueSet==="handler"?md.Function:md.Value,documentation:rS(st,void 0,c),textEdit:fu.replace(Me,at),insertTextFormat:cm.Snippet,command:tt})})}),$(Me,Ct),o}function $(ue,Ce){let be="data-",xe={};xe[be]=`${be}$1="$2"`;function Me($e){$e.attributeNames.forEach(Ct=>{qy(Ct,be)&&!xe[Ct]&&!Ce[Ct]&&(xe[Ct]=Ct+'="$1"')}),$e.children.forEach(Ct=>Me(Ct))}n&&n.roots.forEach($e=>Me($e)),Object.keys(xe).forEach($e=>o.items.push({label:$e,kind:md.Value,textEdit:fu.replace(ue,xe[$e]),insertTextFormat:cm.Snippet}))}function ee(ue,Ce=l){let be,xe,Me;if(l>ue&&l<=Ce&&M0t(u[ue])){let $e=ue+1,Ct=Ce;Ce>ue&&u[Ce-1]===u[ue]&&Ct--;let ze=N0t(u,l,$e),st=F0t(u,l,Ct);be=O(ze,st),Me=l>=$e&&l<=Ct?u.substring($e,l):"",xe=!1}else be=O(ue,Ce),Me=u.substring(ue,l),xe=!0;if(s.length>0){let $e=m.toLowerCase(),Ct=_.toLowerCase(),ze=O(ue,Ce);for(let st of s)st.onHtmlAttributeValue&&st.onHtmlAttributeValue({document:e,position:t,tag:$e,attribute:Ct,value:Me,range:ze})}return a.forEach($e=>{$e.provideValues(m,_).forEach(Ct=>{let ze=xe?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:md.Unit,documentation:rS(Ct,void 0,c),textEdit:fu.replace(be,ze),insertTextFormat:cm.PlainText})})}),ce(),o}function De(ue){return l===f.getTokenEnd()&&(Ne=f.scan(),Ne===ue&&f.getTokenOffset()===l)?f.getTokenEnd():l}function ae(){for(let ue of s)ue.onHtmlContent&&ue.onHtmlContent({document:e,position:t});return ce()}function ce(){let ue=l-1,Ce=t.character;for(;ue>=0&&g0(u,ue);)ue--,Ce--;if(ue>=0&&u[ue]==="&"){let be=Pi.create(Ga.create(t.line,Ce-1),t);for(let xe in m0)if(ILe(xe,";")){let Me="&"+xe;o.items.push({label:Me,kind:md.Keyword,documentation:NLe.t("Character entity representing '{0}'",m0[xe]),textEdit:fu.replace(be,Me),insertTextFormat:cm.PlainText})}}return o}function qe(ue,Ce){let be=O(ue,Ce);o.items.push({label:"!DOCTYPE",kind:md.Property,documentation:"A preamble for an HTML document.",textEdit:fu.replace(be,"!DOCTYPE html>"),insertTextFormat:cm.PlainText})}let Ne=f.scan();for(;Ne!==Xt.EOS&&f.getTokenOffset()<=l;){switch(Ne){case Xt.StartTagOpen:if(f.getTokenEnd()===l){let ue=De(Xt.StartTag);return t.line===0&&qe(l,ue),de(l,ue)}break;case Xt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return M(f.getTokenOffset(),f.getTokenEnd());m=f.getTokenText();break;case Xt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return V(f.getTokenOffset(),f.getTokenEnd());_=f.getTokenText();break;case Xt.DelimiterAssign:if(f.getTokenEnd()===l){let ue=De(Xt.AttributeValue);return ee(l,ue)}break;case Xt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return ee(f.getTokenOffset(),f.getTokenEnd());break;case Xt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Yn.AfterOpeningStartTag:let ue=f.getTokenOffset(),Ce=De(Xt.StartTag);return de(ue,Ce);case Yn.WithinTag:case Yn.AfterAttributeName:return V(f.getTokenEnd());case Yn.BeforeAttributeValue:return ee(f.getTokenEnd());case Yn.AfterOpeningEndTag:return U(f.getTokenOffset()-1,!1);case Yn.WithinContent:return ae()}break;case Xt.EndTagOpen:if(l<=f.getTokenEnd()){let ue=f.getTokenOffset()+1,Ce=De(Xt.EndTag);return U(ue,!1,Ce)}break;case Xt.EndTag:if(l<=f.getTokenEnd()){let ue=f.getTokenOffset()-1;for(;ue>=0;){let Ce=u.charAt(ue);if(Ce==="/")return U(ue,!1,f.getTokenEnd());if(!SW(Ce))break;ue--}}break;case Xt.StartTagClose:if(l<=f.getTokenEnd()&&m)return ne(f.getTokenEnd(),m);break;case Xt.Content:if(l<=f.getTokenEnd())return ae();break;default:if(l<=f.getTokenEnd())return o;break}Ne=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=Lu(e.getText(),u.start),d=l.scan();for(;d!==Xt.EOS&&l.getTokenEnd()<=o;){if(d===Xt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Xt.DelimiterAssign||(d=l.scan(),d===Xt.Unknown||d===Xt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=Lu(e.getText(),s.start),u=c.scan();for(;u!==Xt.EOS&&c.getTokenEnd()<=i;){if(u===Xt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=Lu(e.getText(),s.start),c=a.scan();for(;c!==Xt.EOS&&a.getTokenEnd()<=i;){if(c===Xt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!gx(this.supportsMarkdown)){if(!gx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(dg.Markdown)!==-1}return this.supportsMarkdown}}});function q0t(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var qLe,CW,jLe=Ti(()=>{tS();um();Hie();oM();zie();mx();qLe=we(ZB()),CW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter(V=>V.isApplicable(e.languageId));function d(V,$,ee){for(let De of l){let ae=null;if(De.provideTags().forEach(ce=>{if(ce.name.toLowerCase()===V.toLowerCase()){let qe=rS(ce,i,s);qe||(qe={kind:s?"markdown":"plaintext",value:""}),ae={contents:qe,range:$}}}),ae)return ae.contents=o(ae.contents),ae}return null}function f(V,$,ee){for(let De of l){let ae=null;if(De.provideAttributes(V).forEach(ce=>{if($===ce.name&&ce.description){let qe=rS(ce,i,s);qe?ae={contents:qe,range:ee}:ae=null}}),ae)return ae.contents=o(ae.contents),ae}return null}function m(V,$,ee,De){for(let ae of l){let ce=null;if(ae.provideValues(V,$).forEach(qe=>{if(ee===qe.name&&qe.description){let Ne=rS(qe,i,s);Ne?ce={contents:Ne,range:De}:ce=null}}),ce)return ce.contents=o(ce.contents),ce}return null}function _(V,$){let ee=M(V);for(let De in m0){let ae=null,ce="&"+De;if(ee===ce){let qe=m0[De].charCodeAt(0).toString(16).toUpperCase(),Ne="U+";if(qe.length<4){let Ce=4-qe.length,be=0;for(;be<Ce;)Ne+="0",be+=1}Ne+=qe;let ue=qLe.t("Character entity representing '{0}', unicode equivalent '{1}'",m0[De],Ne);ue?ae={contents:ue,range:$}:ae=null}if(ae)return ae.contents=o(ae.contents),ae}return null}function D(V,$){let ee=Lu(e.getText(),$),De=ee.scan();for(;De!==Xt.EOS&&(ee.getTokenEnd()<a||ee.getTokenEnd()===a&&De!==V);)De=ee.scan();return De===V&&a<=ee.getTokenEnd()?{start:e.positionAt(ee.getTokenOffset()),end:e.positionAt(ee.getTokenEnd())}:null}function O(){let V=a-1,$=t.character;for(;V>=0&&g0(u,V);)V--,$--;let ee=V+1,De=$;for(;g0(u,ee);)ee++,De++;if(V>=0&&u[V]==="&"){let ae=null;return u[ee]===";"?ae=Pi.create(Ga.create(t.line,$),Ga.create(t.line,De+1)):ae=Pi.create(Ga.create(t.line,$),Ga.create(t.line,De)),ae}return null}function M(V){let $=a-1,ee="&";for(;$>=0&&g0(V,$);)$--;for($=$+1;g0(V,$);)ee+=V[$],$+=1;return ee+=";",ee}if(c.endTagStart&&a>=c.endTagStart){let V=D(Xt.EndTag,c.endTagStart);return V?d(c.tag,V,!1):null}let A=D(Xt.StartTag,c.start);if(A)return d(c.tag,A,!0);let U=D(Xt.AttributeName,c.start);if(U){let V=c.tag,$=e.getText(U);return f(V,$,U)}let ne=O();if(ne)return _(u,ne);function de(V,$){let ee=Lu(e.getText(),V),De=ee.scan(),ae;for(;De!==Xt.EOS&&ee.getTokenEnd()<=$;)De=ee.scan(),De===Xt.AttributeName&&(ae=ee.getTokenText());return ae}let ye=D(Xt.AttributeValue,c.start);if(ye){let V=c.tag,$=q0t(e.getText(ye)),ee=de(c.start,e.offsetAt(ye.start));if(ee)return m(V,ee,$,ye)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!gx(this.supportsMarkdown)){if(!gx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(dg.Markdown)!==-1}return this.supportsMarkdown}}});function zLe(r,e){return r}var ULe=Ti(()=>{});var HLe,BLe,WLe=Ti(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,m=/\r\n|[\r\n]/g,_=/\s/,D=/(?:\s|\n)+/g,O=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,M=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function A(U,ne){this._source_text=U||"",this._options=new a(ne),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}A.prototype.eatString=function(U){var ne="";for(this._ch=this._input.next();this._ch;){if(ne+=this._ch,this._ch==="\\")ne+=this._input.next();else if(U.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return ne},A.prototype.eatWhitespace=function(U){for(var ne=_.test(this._input.peek()),de=0;_.test(this._input.peek());)this._ch=this._input.next(),U&&this._ch===`
`&&(de===0||de<this._options.max_preserve_newlines)&&(de++,this._output.add_new_line(!0));return ne},A.prototype.foundNestedPseudoClass=function(){for(var U=0,ne=1,de=this._input.peek(ne);de;){if(de==="{")return!0;if(de==="(")U+=1;else if(de===")"){if(U===0)return!1;U-=1}else if(de===";"||de==="}")return!1;ne++,de=this._input.peek(ne)}return!1},A.prototype.print_string=function(U){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(U)},A.prototype.preserveSingleSpace=function(U){U&&(this._output.space_before_token=!0)},A.prototype.indent=function(){this._indentLevel++},A.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U=this._source_text,ne=this._options.eol;ne==="auto"&&(ne=`
`,U&&f.test(U||"")&&(ne=U.match(f)[0])),U=U.replace(m,`
`);var de=U.match(/^[\t ]*/)[0];this._output=new c(this._options,de),this._input=new u(U),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var ye=0,V=!1,$=!1,ee=!1,De=!1,ae=!1,ce=this._ch,qe=!1,Ne,ue,Ce;Ne=this._input.read(D),ue=Ne!=="",Ce=ce,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ce=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var be=this._input.read(O),xe=d.get_directives(be);xe&&xe.ignore==="start"&&(be+=d.readIgnored(this._input)),this.print_string(be),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(M)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ue),this.print_string(this._ch);var Me=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Me.match(/[ :]$/)&&(Me=this.eatString(": ").replace(/\s+$/,""),this.print_string(Me),this._output.space_before_token=!0),ye===0&&Me.indexOf(":")!==-1&&($=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ue),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $e=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$e.match(/[ :]$/)&&($e=this.eatString(": ").replace(/\s+$/,""),this.print_string($e),this._output.space_before_token=!0),ye===0&&$e.indexOf(":")!==-1?($=!0,this.indent()):$e in this.NESTED_AT_RULE?(this._nestedLevel+=1,$e in this.CONDITIONAL_GROUP_RULE&&(ee=!0)):ye===0&&!$&&(De=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ue),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")$&&($=!1,this.outdent()),De=!1,ee?(ee=!1,V=this._indentLevel>=this._nestedLevel):V=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&V&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ce==="("?this._output.space_before_token=!1:Ce!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ce==="{"&&this._output.trim(!0),$&&(this.outdent(),$=!1),this.print_string(this._ch),V=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){qe=!0;break}(V||ee)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!De&&ye===0?(this.print_string(":"),$||($=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=Ce==='"'||Ce==="'";this.preserveSingleSpace(ze||ue),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")qe=!1,ye===0?($&&(this.outdent(),$=!1),De=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),ye++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),ye&&(ye--,this.outdent()));else{var st=!1;this._input.lookBack("with")&&(st=!0),this.preserveSingleSpace(ue||st),this.print_string(this._ch),$&&Ce==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),ae=!0):(this.eatWhitespace(),ye++,this.indent())}else if(this._ch===")")ye&&(ye--,this.outdent()),ae&&this._input.peek()===";"&&this._options.selector_separator_newline&&(ae=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!$||ae)&&ye===0&&!De?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!$&&ye===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&_.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ue),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),_.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var at=Ce==='"'||Ce==="'";this.preserveSingleSpace(at||ue),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&qe&&this._output.add_new_line()}var tt=this._output.get_code(ne);return tt},i.exports.Beautifier=A},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);HLe=n})();BLe=HLe});function VLe(r,e){return $Le(r,e,zLe,BLe)}var $Le,GLe=Ti(()=>{ULe();WLe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(m,_){this._input=new a(m),this._options=_||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var m,_=new c(d.START,""),D=null,O=[],M=new u;_.type!==d.EOF;){for(m=this._get_next_token(_,D);this._is_comment(m);)M.add(m),m=this._get_next_token(_,D);M.isEmpty()||(m.comments_before=M,M=new u),m.parent=D,this._is_opening(m)?(O.push(D),D=m):D&&this._is_closing(m,D)&&(m.opened=D,D.closed=m,D=O.pop(),m.parent=D),m.previous=_,_.next=m,this.__tokens.add(m),_=m}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(m,_){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},f.prototype._is_comment=function(m){return!1},f.prototype._is_opening=function(m){return!1},f.prototype._is_closing=function(m,_){return!1},f.prototype._create_token=function(m,_){var D=new c(m,_,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return D},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],m=u.exec(l);m;)f.push(l.substring(d,m.index)),d=m.index+m[0].length,m=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,m){var _=new a(l,d,f,m);return _.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,m=function(V,$){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=V.max_preserve_newlines,this.preserve_newlines=V.preserve_newlines,this._output=new c(V,$)};m.prototype.current_line_has_match=function(V){return this._output.current_line.has_match(V)},m.prototype.set_space_before_token=function(V,$){this._output.space_before_token=V,this._output.non_breaking_space=$},m.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},m.prototype.add_raw_token=function(V){this._output.add_raw_token(V)},m.prototype.print_preserved_newlines=function(V){var $=0;V.type!==l.TEXT&&V.previous.type!==l.TEXT&&($=V.newlines?1:0),this.preserve_newlines&&($=V.newlines<this.max_preserve_newlines+1?V.newlines:this.max_preserve_newlines+1);for(var ee=0;ee<$;ee++)this.print_newline(ee>0);return $!==0},m.prototype.traverse_whitespace=function(V){return V.whitespace_before||V.newlines?(this.print_preserved_newlines(V)||(this._output.space_before_token=!0),!0):!1},m.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},m.prototype.print_newline=function(V){this._output.add_new_line(V)},m.prototype.print_token=function(V){V.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(V.text))},m.prototype.indent=function(){this.indent_level++},m.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},m.prototype.get_full_indent=function(V){return V=this.indent_level+(V||0),V<1?"":this._output.get_indent_string(V)};var _=function(V){for(var $=null,ee=V.next;ee.type!==l.EOF&&V.closed!==ee;){if(ee.type===l.ATTRIBUTE&&ee.text==="type"){ee.next&&ee.next.type===l.EQUALS&&ee.next.next&&ee.next.next.type===l.VALUE&&($=ee.next.next.text);break}ee=ee.next}return $},D=function(V,$){var ee=null,De=null;return $.closed?(V==="script"?ee="text/javascript":V==="style"&&(ee="text/css"),ee=_($)||ee,ee.search("text/css")>-1?De="css":ee.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?De="javascript":ee.search(/(text|application|dojo)\/(x-)?(html)/)>-1?De="html":ee.search(/test\/null/)>-1&&(De="null"),De):null};function O(V,$){return $.indexOf(V)!==-1}function M(V,$,ee){this.parent=V||null,this.tag=$?$.tag_name:"",this.indent_level=ee||0,this.parser_token=$||null}function A(V){this._printer=V,this._current_frame=null}A.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},A.prototype.record_tag=function(V){var $=new M(this._current_frame,V,this._printer.indent_level);this._current_frame=$},A.prototype._try_pop_frame=function(V){var $=null;return V&&($=V.parser_token,this._printer.indent_level=V.indent_level,this._current_frame=V.parent),$},A.prototype._get_frame=function(V,$){for(var ee=this._current_frame;ee&&V.indexOf(ee.tag)===-1;){if($&&$.indexOf(ee.tag)!==-1){ee=null;break}ee=ee.parent}return ee},A.prototype.try_pop=function(V,$){var ee=this._get_frame([V],$);return this._try_pop_frame(ee)},A.prototype.indent_to_tag=function(V){var $=this._get_frame(V);$&&(this._printer.indent_level=$.indent_level)};function U(V,$,ee,De){this._source_text=V||"",$=$||{},this._js_beautify=ee,this._css_beautify=De,this._tag_stack=null;var ae=new a($,"html");this._options=ae,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var V=this._source_text,$=this._options.eol;this._options.eol==="auto"&&($=`
`,V&&d.test(V)&&($=V.match(d)[0])),V=V.replace(f,`
`);var ee=V.match(/^[\t ]*/)[0],De={text:"",type:""},ae=new ne,ce=new m(this._options,ee),qe=new u(V,this._options).tokenize();this._tag_stack=new A(ce);for(var Ne=null,ue=qe.next();ue.type!==l.EOF;)ue.type===l.TAG_OPEN||ue.type===l.COMMENT?(Ne=this._handle_tag_open(ce,ue,ae,De,qe),ae=Ne):ue.type===l.ATTRIBUTE||ue.type===l.EQUALS||ue.type===l.VALUE||ue.type===l.TEXT&&!ae.tag_complete?Ne=this._handle_inside_tag(ce,ue,ae,De):ue.type===l.TAG_CLOSE?Ne=this._handle_tag_close(ce,ue,ae):ue.type===l.TEXT?Ne=this._handle_text(ce,ue,ae):ue.type===l.CONTROL_FLOW_OPEN?Ne=this._handle_control_flow_open(ce,ue):ue.type===l.CONTROL_FLOW_CLOSE?Ne=this._handle_control_flow_close(ce,ue):ce.add_raw_token(ue),De=Ne,ue=qe.next();var Ce=ce._output.get_code($);return Ce},U.prototype._handle_control_flow_open=function(V,$){var ee={text:$.text,type:$.type};return V.set_space_before_token($.newlines||$.whitespace_before!=="",!0),$.newlines?V.print_preserved_newlines($):V.set_space_before_token($.newlines||$.whitespace_before!=="",!0),V.print_token($),V.indent(),ee},U.prototype._handle_control_flow_close=function(V,$){var ee={text:$.text,type:$.type};return V.deindent(),$.newlines?V.print_preserved_newlines($):V.set_space_before_token($.newlines||$.whitespace_before!=="",!0),V.print_token($),ee},U.prototype._handle_tag_close=function(V,$,ee){var De={text:$.text,type:$.type};return V.alignment_size=0,ee.tag_complete=!0,V.set_space_before_token($.newlines||$.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token($):(ee.tag_start_char==="<"&&(V.set_space_before_token($.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&ee.has_wrapped_attrs&&V.print_newline(!1)),V.print_token($)),ee.indent_content&&!(ee.is_unformatted||ee.is_content_unformatted)&&(V.indent(),ee.indent_content=!1),!ee.is_inline_element&&!(ee.is_unformatted||ee.is_content_unformatted)&&V.set_wrap_point(),De},U.prototype._handle_inside_tag=function(V,$,ee,De){var ae=ee.has_wrapped_attrs,ce={text:$.text,type:$.type};return V.set_space_before_token($.newlines||$.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token($):ee.tag_start_char==="{"&&$.type===l.TEXT?V.print_preserved_newlines($)?($.newlines=0,V.add_raw_token($)):V.print_token($):($.type===l.ATTRIBUTE?V.set_space_before_token(!0):($.type===l.EQUALS||$.type===l.VALUE&&$.previous.type===l.EQUALS)&&V.set_space_before_token(!1),$.type===l.ATTRIBUTE&&ee.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(V.traverse_whitespace($),ae=ae||$.newlines!==0),this._is_wrap_attributes_force&&ee.attr_count>=this._options.wrap_attributes_min_attrs&&(De.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(V.print_newline(!1),ae=!0)),V.print_token($),ae=ae||V.previous_token_wrapped(),ee.has_wrapped_attrs=ae),ce},U.prototype._handle_text=function(V,$,ee){var De={text:$.text,type:"TK_CONTENT"};return ee.custom_beautifier_name?this._print_custom_beatifier_text(V,$,ee):ee.is_unformatted||ee.is_content_unformatted?V.add_raw_token($):(V.traverse_whitespace($),V.print_token($)),De},U.prototype._print_custom_beatifier_text=function(V,$,ee){var De=this;if($.text!==""){var ae=$.text,ce,qe=1,Ne="",ue="";ee.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ce=this._js_beautify:ee.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ce=this._css_beautify:ee.custom_beautifier_name==="html"&&(ce=function(Ct,ze){var st=new U(Ct,ze,De._js_beautify,De._css_beautify);return st.beautify()}),this._options.indent_scripts==="keep"?qe=0:this._options.indent_scripts==="separate"&&(qe=-V.indent_level);var Ce=V.get_full_indent(qe);if(ae=ae.replace(/\n[ \t]*$/,""),ee.custom_beautifier_name!=="html"&&ae[0]==="<"&&ae.match(/^(<!--|<!\[CDATA\[)/)){var be=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(ae);if(!be){V.add_raw_token($);return}Ne=Ce+be[1]+`
`,ae=be[4],be[5]&&(ue=Ce+be[5]),ae=ae.replace(/\n[ \t]*$/,""),(be[2]||be[3].indexOf(`
`)!==-1)&&(be=be[3].match(/[ \t]+$/),be&&($.whitespace_before=be[0]))}if(ae)if(ce){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Me=new xe;ae=ce(Ce+ae,Me)}else{var $e=$.whitespace_before;$e&&(ae=ae.replace(new RegExp(`
(`+$e+")?","g"),`
`)),ae=Ce+ae.replace(/\n/g,`
`+Ce)}Ne&&(ae?ae=Ne+ae+`
`+ue:ae=Ne+ue),V.print_newline(!1),ae&&($.text=ae,$.whitespace_before="",$.newlines=0,V.add_raw_token($),V.print_newline(!0))}},U.prototype._handle_tag_open=function(V,$,ee,De,ae){var ce=this._get_tag_open_token($);if((ee.is_unformatted||ee.is_content_unformatted)&&!ee.is_empty_element&&$.type===l.TAG_OPEN&&!ce.is_start_tag?(V.add_raw_token($),ce.start_tag_token=this._tag_stack.try_pop(ce.tag_name)):(V.traverse_whitespace($),this._set_tag_position(V,$,ce,ee,De),ce.is_inline_element||V.set_wrap_point(),V.print_token($)),ce.is_start_tag&&this._is_wrap_attributes_force){var qe=0,Ne;do Ne=ae.peek(qe),Ne.type===l.ATTRIBUTE&&(ce.attr_count+=1),qe+=1;while(Ne.type!==l.EOF&&Ne.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ce.alignment_size=$.text.length+1),!ce.tag_complete&&!ce.is_unformatted&&(V.alignment_size=ce.alignment_size),ce};var ne=function(V,$){if(this.parent=V||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!$)this.tag_complete=!0;else{var ee;this.tag_start_char=$.text[0],this.text=$.text,this.tag_start_char==="<"?(ee=$.text.match(/^<([^\s>]*)/),this.tag_check=ee?ee[1]:""):(ee=$.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=ee?ee[1]:"",($.text.startsWith("{{#>")||$.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&$.next!==null?this.tag_check=$.next.text.split(" ")[0]:this.tag_check=$.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),$.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||$.closed&&$.closed.text==="/>";var De=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(De=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(De)))}};U.prototype._get_tag_open_token=function(V){var $=new ne(this._tag_stack.get_parser_token(),V);return $.alignment_size=this._options.wrap_attributes_indent_size,$.is_end_tag=$.is_end_tag||O($.tag_check,this._options.void_elements),$.is_empty_element=$.tag_complete||$.is_start_tag&&$.is_end_tag,$.is_unformatted=!$.tag_complete&&O($.tag_check,this._options.unformatted),$.is_content_unformatted=!$.is_empty_element&&O($.tag_check,this._options.content_unformatted),$.is_inline_element=O($.tag_name,this._options.inline)||this._options.inline_custom_elements&&$.tag_name.includes("-")||$.tag_start_char==="{",$},U.prototype._set_tag_position=function(V,$,ee,De,ae){if(ee.is_empty_element||(ee.is_end_tag?ee.start_tag_token=this._tag_stack.try_pop(ee.tag_name):(this._do_optional_end_element(ee)&&(ee.is_inline_element||V.print_newline(!1)),this._tag_stack.record_tag(ee),(ee.tag_name==="script"||ee.tag_name==="style")&&!(ee.is_unformatted||ee.is_content_unformatted)&&(ee.custom_beautifier_name=D(ee.tag_check,$)))),O(ee.tag_check,this._options.extra_liners)&&(V.print_newline(!1),V._output.just_added_blankline()||V.print_newline(!0)),ee.is_empty_element){if(ee.tag_start_char==="{"&&ee.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),ee.indent_content=!0;var ce=V.current_line_has_match(/{{#if/);ce||V.print_newline(!1)}ee.tag_name==="!--"&&ae.type===l.TAG_CLOSE&&De.is_end_tag&&ee.text.indexOf(`
`)===-1||(ee.is_inline_element||ee.is_unformatted||V.print_newline(!1),this._calcluate_parent_multiline(V,ee))}else if(ee.is_end_tag){var qe=!1;qe=ee.start_tag_token&&ee.start_tag_token.multiline_content,qe=qe||!ee.is_inline_element&&!(De.is_inline_element||De.is_unformatted)&&!(ae.type===l.TAG_CLOSE&&ee.start_tag_token===De)&&ae.type!=="TK_CONTENT",(ee.is_content_unformatted||ee.is_unformatted)&&(qe=!1),qe&&V.print_newline(!1)}else ee.indent_content=!ee.custom_beautifier_name,ee.tag_start_char==="<"&&(ee.tag_name==="html"?ee.indent_content=this._options.indent_inner_html:ee.tag_name==="head"?ee.indent_content=this._options.indent_head_inner_html:ee.tag_name==="body"&&(ee.indent_content=this._options.indent_body_inner_html)),!(ee.is_inline_element||ee.is_unformatted)&&(ae.type!=="TK_CONTENT"||ee.is_content_unformatted)&&V.print_newline(!1),this._calcluate_parent_multiline(V,ee)},U.prototype._calcluate_parent_multiline=function(V,$){$.parent&&V._output.just_added_newline()&&!(($.is_inline_element||$.is_unformatted)&&$.parent.is_inline_element)&&($.parent.multiline_content=!0)};var de=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ye=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(V){var $=null;if(!(V.is_empty_element||!V.is_start_tag||!V.parent)){if(V.tag_name==="body")$=$||this._tag_stack.try_pop("head");else if(V.tag_name==="li")$=$||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(V.tag_name==="dd"||V.tag_name==="dt")$=$||this._tag_stack.try_pop("dt",["dl"]),$=$||this._tag_stack.try_pop("dd",["dl"]);else if(V.parent.tag_name==="p"&&de.indexOf(V.tag_name)!==-1){var ee=V.parent.parent;(!ee||ye.indexOf(ee.tag_name)===-1)&&($=$||this._tag_stack.try_pop("p"))}else V.tag_name==="rp"||V.tag_name==="rt"?($=$||this._tag_stack.try_pop("rt",["ruby","rtc"]),$=$||this._tag_stack.try_pop("rp",["ruby","rtc"])):V.tag_name==="optgroup"?$=$||this._tag_stack.try_pop("optgroup",["select"]):V.tag_name==="option"?$=$||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):V.tag_name==="colgroup"?$=$||this._tag_stack.try_pop("caption",["table"]):V.tag_name==="thead"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"])):V.tag_name==="tbody"||V.tag_name==="tfoot"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"]),$=$||this._tag_stack.try_pop("thead",["table"]),$=$||this._tag_stack.try_pop("tbody",["table"])):V.tag_name==="tr"?($=$||this._tag_stack.try_pop("caption",["table"]),$=$||this._tag_stack.try_pop("colgroup",["table"]),$=$||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(V.tag_name==="th"||V.tag_name==="td")&&($=$||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),$=$||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return V.parent=this._tag_stack.get_parser_token(),$}},i.exports.Beautifier=U},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},m=new u(/<\!--/,/-->/),_=function(D,O){a.call(this,D,O),this._current_tag_name="";var M=new l(this._input).read_options(this._options),A=new d(this._input);if(this.__patterns={word:M.until(/[\n\r\t <]/),word_control_flow_close_excluded:M.until(/[\n\r\t <}]/),single_quote:M.until_after(/'/),double_quote:M.until_after(/"/),attribute:M.until(/[\n\r\t =>]|\/>/),element_name:M.until(/[\n\r\t >\/]/),angular_control_flow_start:A.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),handlebars_open:A.until(/[\n\r\t }]/),handlebars_raw_close:A.until(/}}/),comment:A.starting_with(/<!--/).until_after(/-->/),cdata:A.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:A.starting_with(/<!\[/).until_after(/]>/),processing:A.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var U=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=A.matching(U).until_after(U)}};_.prototype=new a,_.prototype._is_comment=function(D){return!1},_.prototype._is_opening=function(D){return D.type===f.TAG_OPEN||D.type===f.CONTROL_FLOW_OPEN},_.prototype._is_closing=function(D,O){return D.type===f.TAG_CLOSE&&O&&((D.text===">"||D.text==="/>")&&O.text[0]==="<"||D.text==="}}"&&O.text[0]==="{"&&O.text[1]==="{")||D.type===f.CONTROL_FLOW_CLOSE&&D.text==="}"&&O.text.endsWith("{")},_.prototype._reset=function(){this._current_tag_name=""},_.prototype._get_next_token=function(D,O){var M=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(f.EOF,""):(M=M||this._read_open_handlebars(A,O),M=M||this._read_attribute(A,D,O),M=M||this._read_close(A,O),M=M||this._read_control_flows(A,O),M=M||this._read_raw_content(A,D,O),M=M||this._read_content_word(A,O),M=M||this._read_comment_or_cdata(A),M=M||this._read_processing(A),M=M||this._read_open(A,O),M=M||this._create_token(f.UNKNOWN,this._input.next()),M)},_.prototype._read_comment_or_cdata=function(D){var O=null,M=null,A=null;if(D==="<"){var U=this._input.peek(1);U==="!"&&(M=this.__patterns.comment.read(),M?(A=m.get_directives(M),A&&A.ignore==="start"&&(M+=m.readIgnored(this._input))):M=this.__patterns.cdata.read()),M&&(O=this._create_token(f.COMMENT,M),O.directives=A)}return O},_.prototype._read_processing=function(D){var O=null,M=null,A=null;if(D==="<"){var U=this._input.peek(1);(U==="!"||U==="?")&&(M=this.__patterns.conditional_comment.read(),M=M||this.__patterns.processing.read()),M&&(O=this._create_token(f.COMMENT,M),O.directives=A)}return O},_.prototype._read_open=function(D,O){var M=null,A=null;return(!O||O.type===f.CONTROL_FLOW_OPEN)&&D==="<"&&(M=this._input.next(),this._input.peek()==="/"&&(M+=this._input.next()),M+=this.__patterns.element_name.read(),A=this._create_token(f.TAG_OPEN,M)),A},_.prototype._read_open_handlebars=function(D,O){var M=null,A=null;return(!O||O.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(M=this.__patterns.handlebars_comment.read(),M=M||this.__patterns.handlebars.read(),A=this._create_token(f.COMMENT,M)):(M=this.__patterns.handlebars_open.read(),A=this._create_token(f.TAG_OPEN,M))),A},_.prototype._read_control_flows=function(D,O){var M="",A=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return A;if(D==="@"){if(M=this.__patterns.angular_control_flow_start.read(),M==="")return A;for(var U=M.endsWith("(")?1:0,ne=0;!(M.endsWith("{")&&U===ne);){var de=this._input.next();if(de===null)break;de==="("?U++:de===")"&&ne++,M+=de}A=this._create_token(f.CONTROL_FLOW_OPEN,M)}else D==="}"&&O&&O.type===f.CONTROL_FLOW_OPEN&&(M=this._input.next(),A=this._create_token(f.CONTROL_FLOW_CLOSE,M));return A},_.prototype._read_close=function(D,O){var M=null,A=null;return O&&O.type===f.TAG_OPEN&&(O.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(M=this._input.next(),D==="/"&&(M+=this._input.next()),A=this._create_token(f.TAG_CLOSE,M)):O.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),A=this._create_token(f.TAG_CLOSE,"}}"))),A},_.prototype._read_attribute=function(D,O,M){var A=null,U="";if(M&&M.text[0]==="<")if(D==="=")A=this._create_token(f.EQUALS,this._input.next());else if(D==='"'||D==="'"){var ne=this._input.next();D==='"'?ne+=this.__patterns.double_quote.read():ne+=this.__patterns.single_quote.read(),A=this._create_token(f.VALUE,ne)}else U=this.__patterns.attribute.read(),U&&(O.type===f.EQUALS?A=this._create_token(f.VALUE,U):A=this._create_token(f.ATTRIBUTE,U));return A},_.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},_.prototype._read_raw_content=function(D,O,M){var A="";if(M&&M.text[0]==="{")A=this.__patterns.handlebars_raw_close.read();else if(O.type===f.TAG_CLOSE&&O.opened.text[0]==="<"&&O.text[0]!=="/"){var U=O.opened.text.substr(1).toLowerCase();if(U==="script"||U==="style"){var ne=this._read_comment_or_cdata(D);if(ne)return ne.type=f.TEXT,ne;A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(U)&&(A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig")))}return A?this._create_token(f.TEXT,A):null},_.prototype._read_content_word=function(D,O){var M="";if(this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]&&(M=this.__patterns.unformatted_content_delimiter.read()),M||(M=O&&O.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),M)return this._create_token(f.TEXT,M)},i.exports.Tokenizer=_,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);$Le=n})()});function JLe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&YLe(n,l-1);)l--;l===0||KLe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&YLe(n,f);)f++;(f===n.length||KLe(n,f))&&(d=f),e=Pi.create(r.positionAt(u),r.positionAt(d));let m=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(m))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let _=r.offsetAt(Ga.create(e.start.line,0));o=U0t(r.getText(),_,t)}}else e=Pi.create(Ga.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:fg(t,"indentEmptyLines",!1),wrap_line_length:fg(t,"wrapLineLength",120),unformatted:Bie(t,"unformatted",void 0),content_unformatted:Bie(t,"contentUnformatted",void 0),indent_inner_html:fg(t,"indentInnerHtml",!1),preserve_newlines:fg(t,"preserveNewLines",!0),max_preserve_newlines:fg(t,"maxPreserveNewLines",32786),indent_handlebars:fg(t,"indentHandlebars",!1),end_with_newline:i&&fg(t,"endWithNewline",!1),extra_liners:Bie(t,"extraLiners",void 0),wrap_attributes:fg(t,"wrapAttributes","auto"),wrap_attributes_indent_size:fg(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:fg(t,"indentScripts","normal"),templating:z0t(t,"all"),unformatted_content_delimiter:fg(t,"unformattedContentDelimiter","")},c=VLe(j0t(n),a);if(o>0){let u=t.insertSpaces?Uie(" ",s*o):Uie("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function j0t(r){return r.replace(/^\s+/,"")}function fg(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function Bie(r,e,t){let n=fg(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function z0t(r,e){let t=fg(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function U0t(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function KLe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function YLe(r,e){return" 	".indexOf(r.charAt(e))!==-1}var XLe=Ti(()=>{um();GLe();mx()});var QLe,ZLe,eYt,eMe=Ti(()=>{(()=>{"use strict";var r={975:ae=>{function ce(ue){if(typeof ue!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ue))}function qe(ue,Ce){for(var be,xe="",Me=0,$e=-1,Ct=0,ze=0;ze<=ue.length;++ze){if(ze<ue.length)be=ue.charCodeAt(ze);else{if(be===47)break;be=47}if(be===47){if(!($e===ze-1||Ct===1))if($e!==ze-1&&Ct===2){if(xe.length<2||Me!==2||xe.charCodeAt(xe.length-1)!==46||xe.charCodeAt(xe.length-2)!==46){if(xe.length>2){var st=xe.lastIndexOf("/");if(st!==xe.length-1){st===-1?(xe="",Me=0):Me=(xe=xe.slice(0,st)).length-1-xe.lastIndexOf("/"),$e=ze,Ct=0;continue}}else if(xe.length===2||xe.length===1){xe="",Me=0,$e=ze,Ct=0;continue}}Ce&&(xe.length>0?xe+="/..":xe="..",Me=2)}else xe.length>0?xe+="/"+ue.slice($e+1,ze):xe=ue.slice($e+1,ze),Me=ze-$e-1;$e=ze,Ct=0}else be===46&&Ct!==-1?++Ct:Ct=-1}return xe}var Ne={resolve:function(){for(var ue,Ce="",be=!1,xe=arguments.length-1;xe>=-1&&!be;xe--){var Me;xe>=0?Me=arguments[xe]:(ue===void 0&&(ue=process.cwd()),Me=ue),ce(Me),Me.length!==0&&(Ce=Me+"/"+Ce,be=Me.charCodeAt(0)===47)}return Ce=qe(Ce,!be),be?Ce.length>0?"/"+Ce:"/":Ce.length>0?Ce:"."},normalize:function(ue){if(ce(ue),ue.length===0)return".";var Ce=ue.charCodeAt(0)===47,be=ue.charCodeAt(ue.length-1)===47;return(ue=qe(ue,!Ce)).length!==0||Ce||(ue="."),ue.length>0&&be&&(ue+="/"),Ce?"/"+ue:ue},isAbsolute:function(ue){return ce(ue),ue.length>0&&ue.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ue,Ce=0;Ce<arguments.length;++Ce){var be=arguments[Ce];ce(be),be.length>0&&(ue===void 0?ue=be:ue+="/"+be)}return ue===void 0?".":Ne.normalize(ue)},relative:function(ue,Ce){if(ce(ue),ce(Ce),ue===Ce||(ue=Ne.resolve(ue))===(Ce=Ne.resolve(Ce)))return"";for(var be=1;be<ue.length&&ue.charCodeAt(be)===47;++be);for(var xe=ue.length,Me=xe-be,$e=1;$e<Ce.length&&Ce.charCodeAt($e)===47;++$e);for(var Ct=Ce.length-$e,ze=Me<Ct?Me:Ct,st=-1,at=0;at<=ze;++at){if(at===ze){if(Ct>ze){if(Ce.charCodeAt($e+at)===47)return Ce.slice($e+at+1);if(at===0)return Ce.slice($e+at)}else Me>ze&&(ue.charCodeAt(be+at)===47?st=at:at===0&&(st=0));break}var tt=ue.charCodeAt(be+at);if(tt!==Ce.charCodeAt($e+at))break;tt===47&&(st=at)}var fr="";for(at=be+st+1;at<=xe;++at)at!==xe&&ue.charCodeAt(at)!==47||(fr.length===0?fr+="..":fr+="/..");return fr.length>0?fr+Ce.slice($e+st):($e+=st,Ce.charCodeAt($e)===47&&++$e,Ce.slice($e))},_makeLong:function(ue){return ue},dirname:function(ue){if(ce(ue),ue.length===0)return".";for(var Ce=ue.charCodeAt(0),be=Ce===47,xe=-1,Me=!0,$e=ue.length-1;$e>=1;--$e)if((Ce=ue.charCodeAt($e))===47){if(!Me){xe=$e;break}}else Me=!1;return xe===-1?be?"/":".":be&&xe===1?"//":ue.slice(0,xe)},basename:function(ue,Ce){if(Ce!==void 0&&typeof Ce!="string")throw new TypeError('"ext" argument must be a string');ce(ue);var be,xe=0,Me=-1,$e=!0;if(Ce!==void 0&&Ce.length>0&&Ce.length<=ue.length){if(Ce.length===ue.length&&Ce===ue)return"";var Ct=Ce.length-1,ze=-1;for(be=ue.length-1;be>=0;--be){var st=ue.charCodeAt(be);if(st===47){if(!$e){xe=be+1;break}}else ze===-1&&($e=!1,ze=be+1),Ct>=0&&(st===Ce.charCodeAt(Ct)?--Ct==-1&&(Me=be):(Ct=-1,Me=ze))}return xe===Me?Me=ze:Me===-1&&(Me=ue.length),ue.slice(xe,Me)}for(be=ue.length-1;be>=0;--be)if(ue.charCodeAt(be)===47){if(!$e){xe=be+1;break}}else Me===-1&&($e=!1,Me=be+1);return Me===-1?"":ue.slice(xe,Me)},extname:function(ue){ce(ue);for(var Ce=-1,be=0,xe=-1,Me=!0,$e=0,Ct=ue.length-1;Ct>=0;--Ct){var ze=ue.charCodeAt(Ct);if(ze!==47)xe===-1&&(Me=!1,xe=Ct+1),ze===46?Ce===-1?Ce=Ct:$e!==1&&($e=1):Ce!==-1&&($e=-1);else if(!Me){be=Ct+1;break}}return Ce===-1||xe===-1||$e===0||$e===1&&Ce===xe-1&&Ce===be+1?"":ue.slice(Ce,xe)},format:function(ue){if(ue===null||typeof ue!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ue);return function(Ce,be){var xe=be.dir||be.root,Me=be.base||(be.name||"")+(be.ext||"");return xe?xe===be.root?xe+Me:xe+"/"+Me:Me}(0,ue)},parse:function(ue){ce(ue);var Ce={root:"",dir:"",base:"",ext:"",name:""};if(ue.length===0)return Ce;var be,xe=ue.charCodeAt(0),Me=xe===47;Me?(Ce.root="/",be=1):be=0;for(var $e=-1,Ct=0,ze=-1,st=!0,at=ue.length-1,tt=0;at>=be;--at)if((xe=ue.charCodeAt(at))!==47)ze===-1&&(st=!1,ze=at+1),xe===46?$e===-1?$e=at:tt!==1&&(tt=1):$e!==-1&&(tt=-1);else if(!st){Ct=at+1;break}return $e===-1||ze===-1||tt===0||tt===1&&$e===ze-1&&$e===Ct+1?ze!==-1&&(Ce.base=Ce.name=Ct===0&&Me?ue.slice(1,ze):ue.slice(Ct,ze)):(Ct===0&&Me?(Ce.name=ue.slice(1,$e),Ce.base=ue.slice(1,ze)):(Ce.name=ue.slice(Ct,$e),Ce.base=ue.slice(Ct,ze)),Ce.ext=ue.slice($e,ze)),Ct>0?Ce.dir=ue.slice(0,Ct-1):Me&&(Ce.dir="/"),Ce},sep:"/",delimiter:":",win32:null,posix:null};Ne.posix=Ne,ae.exports=Ne}},e={};function t(ae){var ce=e[ae];if(ce!==void 0)return ce.exports;var qe=e[ae]={exports:{}};return r[ae](qe,qe.exports,t),qe.exports}t.d=(ae,ce)=>{for(var qe in ce)t.o(ce,qe)&&!t.o(ae,qe)&&Object.defineProperty(ae,qe,{enumerable:!0,get:ce[qe]})},t.o=(ae,ce)=>Object.prototype.hasOwnProperty.call(ae,ce),t.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>De}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(ae,ce){if(!ae.scheme&&ce)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ae.authority}", path: "${ae.path}", query: "${ae.query}", fragment: "${ae.fragment}"}`);if(ae.scheme&&!o.test(ae.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ae.path){if(ae.authority){if(!s.test(ae.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(ae.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ce){return ce instanceof f||!!ce&&typeof ce.authority=="string"&&typeof ce.fragment=="string"&&typeof ce.path=="string"&&typeof ce.query=="string"&&typeof ce.scheme=="string"&&typeof ce.fsPath=="string"&&typeof ce.with=="function"&&typeof ce.toString=="function"}scheme;authority;path;query;fragment;constructor(ce,qe,Ne,ue,Ce,be=!1){typeof ce=="object"?(this.scheme=ce.scheme||u,this.authority=ce.authority||u,this.path=ce.path||u,this.query=ce.query||u,this.fragment=ce.fragment||u):(this.scheme=function(xe,Me){return xe||Me?xe:"file"}(ce,be),this.authority=qe||u,this.path=function(xe,Me){switch(xe){case"https":case"http":case"file":Me?Me[0]!==l&&(Me=l+Me):Me=l}return Me}(this.scheme,Ne||u),this.query=ue||u,this.fragment=Ce||u,c(this,be))}get fsPath(){return A(this,!1)}with(ce){if(!ce)return this;let{scheme:qe,authority:Ne,path:ue,query:Ce,fragment:be}=ce;return qe===void 0?qe=this.scheme:qe===null&&(qe=u),Ne===void 0?Ne=this.authority:Ne===null&&(Ne=u),ue===void 0?ue=this.path:ue===null&&(ue=u),Ce===void 0?Ce=this.query:Ce===null&&(Ce=u),be===void 0?be=this.fragment:be===null&&(be=u),qe===this.scheme&&Ne===this.authority&&ue===this.path&&Ce===this.query&&be===this.fragment?this:new _(qe,Ne,ue,Ce,be)}static parse(ce,qe=!1){let Ne=d.exec(ce);return Ne?new _(Ne[2]||u,ye(Ne[4]||u),ye(Ne[5]||u),ye(Ne[7]||u),ye(Ne[9]||u),qe):new _(u,u,u,u,u)}static file(ce){let qe=u;if(i&&(ce=ce.replace(/\\/g,l)),ce[0]===l&&ce[1]===l){let Ne=ce.indexOf(l,2);Ne===-1?(qe=ce.substring(2),ce=l):(qe=ce.substring(2,Ne),ce=ce.substring(Ne)||l)}return new _("file",qe,ce,u,u)}static from(ce){let qe=new _(ce.scheme,ce.authority,ce.path,ce.query,ce.fragment);return c(qe,!0),qe}toString(ce=!1){return U(this,ce)}toJSON(){return this}static revive(ce){if(ce){if(ce instanceof f)return ce;{let qe=new _(ce);return qe._formatted=ce.external,qe._fsPath=ce._sep===m?ce.fsPath:null,qe}}return ce}}let m=i?1:void 0;class _ extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(ce=!1){return ce?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){let ce={$mid:1};return this._fsPath&&(ce.fsPath=this._fsPath,ce._sep=m),this._formatted&&(ce.external=this._formatted),this.path&&(ce.path=this.path),this.scheme&&(ce.scheme=this.scheme),this.authority&&(ce.authority=this.authority),this.query&&(ce.query=this.query),this.fragment&&(ce.fragment=this.fragment),ce}}let D={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function O(ae,ce,qe){let Ne,ue=-1;for(let Ce=0;Ce<ae.length;Ce++){let be=ae.charCodeAt(Ce);if(be>=97&&be<=122||be>=65&&be<=90||be>=48&&be<=57||be===45||be===46||be===95||be===126||ce&&be===47||qe&&be===91||qe&&be===93||qe&&be===58)ue!==-1&&(Ne+=encodeURIComponent(ae.substring(ue,Ce)),ue=-1),Ne!==void 0&&(Ne+=ae.charAt(Ce));else{Ne===void 0&&(Ne=ae.substr(0,Ce));let xe=D[be];xe!==void 0?(ue!==-1&&(Ne+=encodeURIComponent(ae.substring(ue,Ce)),ue=-1),Ne+=xe):ue===-1&&(ue=Ce)}}return ue!==-1&&(Ne+=encodeURIComponent(ae.substring(ue))),Ne!==void 0?Ne:ae}function M(ae){let ce;for(let qe=0;qe<ae.length;qe++){let Ne=ae.charCodeAt(qe);Ne===35||Ne===63?(ce===void 0&&(ce=ae.substr(0,qe)),ce+=D[Ne]):ce!==void 0&&(ce+=ae[qe])}return ce!==void 0?ce:ae}function A(ae,ce){let qe;return qe=ae.authority&&ae.path.length>1&&ae.scheme==="file"?`//${ae.authority}${ae.path}`:ae.path.charCodeAt(0)===47&&(ae.path.charCodeAt(1)>=65&&ae.path.charCodeAt(1)<=90||ae.path.charCodeAt(1)>=97&&ae.path.charCodeAt(1)<=122)&&ae.path.charCodeAt(2)===58?ce?ae.path.substr(1):ae.path[1].toLowerCase()+ae.path.substr(2):ae.path,i&&(qe=qe.replace(/\//g,"\\")),qe}function U(ae,ce){let qe=ce?M:O,Ne="",{scheme:ue,authority:Ce,path:be,query:xe,fragment:Me}=ae;if(ue&&(Ne+=ue,Ne+=":"),(Ce||ue==="file")&&(Ne+=l,Ne+=l),Ce){let $e=Ce.indexOf("@");if($e!==-1){let Ct=Ce.substr(0,$e);Ce=Ce.substr($e+1),$e=Ct.lastIndexOf(":"),$e===-1?Ne+=qe(Ct,!1,!1):(Ne+=qe(Ct.substr(0,$e),!1,!1),Ne+=":",Ne+=qe(Ct.substr($e+1),!1,!0)),Ne+="@"}Ce=Ce.toLowerCase(),$e=Ce.lastIndexOf(":"),$e===-1?Ne+=qe(Ce,!1,!0):(Ne+=qe(Ce.substr(0,$e),!1,!0),Ne+=Ce.substr($e))}if(be){if(be.length>=3&&be.charCodeAt(0)===47&&be.charCodeAt(2)===58){let $e=be.charCodeAt(1);$e>=65&&$e<=90&&(be=`/${String.fromCharCode($e+32)}:${be.substr(3)}`)}else if(be.length>=2&&be.charCodeAt(1)===58){let $e=be.charCodeAt(0);$e>=65&&$e<=90&&(be=`${String.fromCharCode($e+32)}:${be.substr(2)}`)}Ne+=qe(be,!0,!1)}return xe&&(Ne+="?",Ne+=qe(xe,!1,!1)),Me&&(Ne+="#",Ne+=ce?Me:O(Me,!1,!1)),Ne}function ne(ae){try{return decodeURIComponent(ae)}catch{return ae.length>3?ae.substr(0,3)+ne(ae.substr(3)):ae}}let de=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ye(ae){return ae.match(de)?ae.replace(de,ce=>ne(ce)):ae}var V=t(975);let $=V.posix||V,ee="/";var De;(function(ae){ae.joinPath=function(ce,...qe){return ce.with({path:$.join(ce.path,...qe)})},ae.resolvePath=function(ce,...qe){let Ne=ce.path,ue=!1;Ne[0]!==ee&&(Ne=ee+Ne,ue=!0);let Ce=$.resolve(Ne,...qe);return ue&&Ce[0]===ee&&!ce.authority&&(Ce=Ce.substring(1)),ce.with({path:Ce})},ae.dirname=function(ce){if(ce.path.length===0||ce.path===ee)return ce;let qe=$.dirname(ce.path);return qe.length===1&&qe.charCodeAt(0)===46&&(qe=""),ce.with({path:qe})},ae.basename=function(ce){return $.basename(ce.path)},ae.extname=function(ce){return $.extname(ce.path)}})(De||(De={})),QLe=n})();({URI:ZLe,Utils:eYt}=QLe)});function Wie(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function H0t(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function B0t(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(qy(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function W0t(r,e,t,n,i,o){let s=Wie(t);if(!H0t(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=B0t(r.uri,s,e,o);if(!a)return;let c=V0t(a,r);return{range:Pi.create(r.positionAt(n),r.positionAt(i)),target:c}}function V0t(r,e){try{let t=ZLe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===$0t)?t.with({fragment:null}).toString(!0):r}catch{return}}var $0t,TW,tMe=Ti(()=>{tS();mx();eMe();um();$0t=35;TW=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=Lu(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Xt.EOS;){switch(o){case Xt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Xt.AttributeName:s=i.getTokenText().toLowerCase();break;case Xt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=W0t(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=Wie(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=Wie(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&qy(d.target,f)){let m=d.target.substring(f.length),_=l[m];if(_!==void 0){let D=e.positionAt(_);d.target=`${f}${D.line+1},${D.character+1}`}else d.target=e.uri}}return n}}});function oMe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=iMe(Xt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&iMe(Xt.EndTag,r,i.endTagStart);return(s&&nMe(s,e)||a&&nMe(a,e))&&(s&&o.push({kind:f0.Read,range:s}),a&&o.push({kind:f0.Read,range:a})),o}function rMe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function nMe(r,e){return rMe(r.start,e)&&rMe(e,r.end)}function iMe(r,e,t){let n=Lu(e.getText(),t),i=n.scan();for(;i!==Xt.EOS&&i!==r;)i=n.scan();return i!==Xt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var sMe=Ti(()=>{tS();um()});function aMe(r,e){let t=[],n=$ie(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=fx.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function $ie(r,e){let t=[];return e.roots.forEach(n=>{cMe(r,n,t)}),t}function cMe(r,e,t){let n=G0t(e),i=Pi.create(r.positionAt(e.start),r.positionAt(e.end)),o=hx.create(n,void 0,dx.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),cMe(r,s,o.children)})}function G0t(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var uMe=Ti(()=>{um()});function lMe(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!K0t(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function K0t(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var dMe=Ti(()=>{});function fMe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var hMe=Ti(()=>{});function Vie(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[Pi.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),Pi.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var pMe=Ti(()=>{um()});var DW,mMe=Ti(()=>{um();tS();DW=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let m=d.startLine-f.startLine;return m===0&&(m=d.endLine-f.endLine),m});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=Lu(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Xt.EOS;){switch(i){case Xt.StartTag:{let f=n.getTokenText(),m=e.positionAt(n.getTokenOffset()).line;s.push({startLine:m,tagName:f}),a=f;break}case Xt.EndTag:{a=n.getTokenText();break}case Xt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Xt.EndTagClose:case Xt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let m=s[f];s.length=f;let _=e.positionAt(n.getTokenOffset()).line,D=m.startLine,O=_-1;O>D&&c!==D&&l({startLine:D,endLine:O})}break}case Xt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,_=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(_)if(_[1])s.push({startLine:f,tagName:""});else{let D=s.length-1;for(;D>=0&&s[D].tagName.length;)D--;if(D>=0){let O=s[D];s.length=D;let M=f;f=O.startLine,M>f&&c!==f&&l({startLine:f,endLine:M,kind:l0.Region})}}else{let D=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<D&&l({startLine:f,endLine:D,kind:l0.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var EW,gMe=Ti(()=>{tS();um();EW=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=h0.create(Pi.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=h0.create(Pi.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=Pi.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=Pi.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=Lu(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Xt.EOS;){switch(c){case Xt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Xt.AttributeValue:{if(!d)break;let m=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(m[0]==='"'&&m[m.length-1]==='"'||m[0]==="'"&&m[m.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(m=>[m[0]+u,m[1]+u])}}});var PW,Gie=Ti(()=>{PW={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var RW,Y0t,vMe=Ti(()=>{oM();Gie();jie();RW=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new vx("html5",PW)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&xLe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=Y0t[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},Y0t={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var _Me={};JO(_Me,{ClientCapabilities:()=>Mie,Color:()=>rM,ColorInformation:()=>rW,ColorPresentation:()=>nW,Command:()=>iT,CompletionItem:()=>cW,CompletionItemKind:()=>md,CompletionItemTag:()=>oW,CompletionList:()=>uW,Diagnostic:()=>cx,DocumentHighlight:()=>dW,DocumentHighlightKind:()=>f0,DocumentLink:()=>pW,DocumentSymbol:()=>hx,DocumentUri:()=>eW,FileType:()=>iM,FoldingRange:()=>iW,FoldingRangeKind:()=>l0,FormattingOptions:()=>hW,Hover:()=>lW,InsertReplaceEdit:()=>sW,InsertTextFormat:()=>cm,InsertTextMode:()=>aW,Location:()=>ax,MarkedString:()=>lx,MarkupContent:()=>d0,MarkupKind:()=>dg,Position:()=>Ga,Range:()=>Pi,ScannerState:()=>Yn,SelectionRange:()=>h0,SymbolInformation:()=>fx,SymbolKind:()=>dx,TextDocument:()=>p0,TextEdit:()=>fu,TokenType:()=>Xt,WorkspaceEdit:()=>nM,getDefaultHTMLDataProvider:()=>X0t,getLanguageService:()=>Kie,newHTMLDataProvider:()=>yMe});function Kie(r=J0t){let e=new RW(r),t=new CW(r,e),n=new wW(r,e),i=new _W(e),o=new EW(i),s=new DW(e),a=new TW(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:Lu,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:JLe,findDocumentHighlights:oMe,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:aMe,findDocumentSymbols2:$ie,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:lMe,findMatchingTagPosition:fMe,findOnTypeRenameRanges:Vie,findLinkedEditingRanges:Vie}}function yMe(r,e){return new vx(r,e)}function X0t(){return yMe("default",PW)}var J0t,Yie=Ti(()=>{tS();OLe();FLe();jLe();XLe();tMe();sMe();uMe();dMe();hMe();pMe();mMe();gMe();oM();vMe();Gie();um();J0t={}});var wMe=E(yx=>{"use strict";var bMe=yx&&yx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(yx,"__esModule",{value:!0});yx.HtmlTagCompletionProvider=void 0;var jy=require("vscode"),Q0t=(Yie(),WS(_Me)),Z0t=(gW(),WS(PLe)),eEt=rT(),tEt=gv(),Jie=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,Q0t.getLanguageService)();let e=jy.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=jy.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),jy.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=jy.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===eEt.RazorLanguage.id&&jy.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return bMe(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!jy.window.activeTextEditor||jy.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==tEt.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>bMe(this,void 0,void 0,function*(){if(!this.enabled)return;let l=jy.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new jy.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let m=yield this.documentManager.getActiveDocument();m&&(a=m.htmlDocument.getContent());let _=Z0t.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),O=this.htmlLanguageService.doTagComplete(_,f,D);if(!O)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?l.insertSnippet(new jy.SnippetString(O),M.map(A=>A.active)):l.insertSnippet(new jy.SnippetString(O),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};yx.HtmlTagCompletionProvider=Jie});var TMe=E(_x=>{"use strict";var rEt=_x&&_x.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(_x,"__esModule",{value:!0});_x.RazorHtmlFeature=void 0;var aM=require("vscode"),SMe=qAe(),CMe=qB(),nEt=wMe(),Xie=class{constructor(e,t,n,i){this.projectionProvider=new CMe.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new nEt.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new SMe.HtmlPreviewPanel(e)}register(){let e=[aM.workspace.registerTextDocumentContentProvider(CMe.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),aM.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return aM.window.registerWebviewPanelSerializer&&e.push(aM.window.registerWebviewPanelSerializer(SMe.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>rEt(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),aM.Disposable.from(...e)}};_x.RazorHtmlFeature=Xie});var EMe=E(bx=>{"use strict";var iEt=bx&&bx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(bx,"__esModule",{value:!0});bx.RazorImplementationProvider=void 0;var oEt=require("vscode"),sEt=Py(),DMe=gv(),Qie=class extends sEt.RazorLanguageFeatureBase{provideImplementation(e,t,n){return iEt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===DMe.LanguageKind.Html||i.languageKind===DMe.LanguageKind.Razor?void 0:yield oEt.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};bx.RazorImplementationProvider=Qie});var PMe=E(wx=>{"use strict";var aEt=wx&&wx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.ProposedApisFeature=void 0;var Zie=class{register(e,t){return aEt(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};wx.ProposedApisFeature=Zie});var OMe=E(Sx=>{"use strict";var RMe=Sx&&Sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.RazorCSharpLanguageMiddleware=void 0;var eoe=require("vscode"),xW=KL(),xMe=gv(),toe=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return RMe(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,xW.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,xW.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(xMe.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new eoe.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return RMe(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,xW.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,xW.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(xMe.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new eoe.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new eoe.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};Sx.RazorCSharpLanguageMiddleware=toe});var kMe=E(OW=>{"use strict";Object.defineProperty(OW,"__esModule",{value:!0});OW.RazorLanguageConfiguration=void 0;var roe=require("vscode"),cEt=rT(),IMe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],noe=class{register(){return roe.languages.setLanguageConfiguration(cEt.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${IMe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:roe.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${IMe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:roe.IndentAction.Indent}}]})}};OW.RazorLanguageConfiguration=noe});var LMe=E((KYt,AMe)=>{"use strict";AMe.exports=hb()});var FMe=E(IW=>{"use strict";Object.defineProperty(IW,"__esModule",{value:!0});IW.resolveRazorLanguageServerOptions=void 0;var MMe=require("fs"),uEt=require("os"),NMe=require("path");function lEt(r,e,t,n){let i=dEt(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}IW.resolveRazorLanguageServerOptions=lEt;function dEt(r){let e=fEt()?".exe":"",t=NMe.join(r,`rzls${e}`),n="";if(MMe.existsSync(t))n=t;else{let i=NMe.join(r,"rzls.dll");if(!MMe.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function fEt(){return!!uEt.platform().match(/^win/)}});var ioe=E(AW=>{"use strict";Object.defineProperty(AW,"__esModule",{value:!0});AW.resolveRazorLanguageServerTrace=void 0;var kW=JL();function hEt(r){let t=r.workspace.getConfiguration("razor").get("trace");return pEt(t)}AW.resolveRazorLanguageServerTrace=hEt;function pEt(r){switch(r){case"Off":return kW.Trace.Off;case"Messages":return kW.Trace.Messages;case"Verbose":return kW.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),kW.Trace.Off}}});var zMe=E(Cx=>{"use strict";var LW=Cx&&Cx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.RazorLanguageServerClient=void 0;var mEt=require("events"),ooe=require("vscode"),soe=hb(),gEt=LMe(),qMe=rT(),vEt=FMe(),jMe=ioe(),aoe={ServerStop:"ServerStop"},coe=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new mEt.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,jMe.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(aoe.ServerStop,e),new ooe.Disposable(()=>this.eventBus.removeListener(aoe.ServerStop,e))}start(){return LW(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===soe.State.Starting&&o.newState===soe.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===soe.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){ooe.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return LW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return LW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(aoe.ServerStop)}stop(){return LW(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){ooe.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,jMe.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,vEt.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:qMe.RazorLanguage.id,pattern:qMe.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new gEt.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};Cx.RazorLanguageServerClient=coe});var UMe=E(MW=>{"use strict";Object.defineProperty(MW,"__esModule",{value:!0});MW.LanguageQueryRequest=void 0;var uoe=class{constructor(e,t){this.position=e,this.uri=t.toString()}};MW.LanguageQueryRequest=uoe});var HMe=E(NW=>{"use strict";Object.defineProperty(NW,"__esModule",{value:!0});NW.RazorMapToDocumentRangesRequest=void 0;var loe=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};NW.RazorMapToDocumentRangesRequest=loe});var BMe=E(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0});FW.SemanticTokensRangeRequest=void 0;var yEt=hb(),_Et=uR(),doe=class{constructor(e,t){this.textDocument=yEt.TextDocumentIdentifier.create(e.toString()),this.range=(0,_Et.convertRangeToSerializable)(t)}};FW.SemanticTokensRangeRequest=doe});var $Me=E(Tx=>{"use strict";var qW=Tx&&Tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.RazorLanguageServiceClient=void 0;var bEt=require("vscode"),wEt=UMe(),SEt=HMe(),WMe=uR(),CEt=BMe(),foe=class{constructor(e){this.serverClient=e}languageQuery(e,t){return qW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new wEt.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new bEt.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return qW(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,WMe.convertRangeToSerializable)(c);i.push(u)}let o=new SEt.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,WMe.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return qW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new CEt.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return qW(this,void 0,void 0,function*(){yield this.serverClient.start()})}};Tx.RazorLanguageServiceClient=foe});var KMe=E(UW=>{"use strict";Object.defineProperty(UW,"__esModule",{value:!0});UW.RazorLogger=void 0;var GMe=require("fs"),VMe=require("path"),jW=JL(),zW=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${jW.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=TEt();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${jW.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=jW.Trace.Verbose,this.messageEnabled=this.trace>=jW.Trace.Messages}};UW.RazorLogger=zW;zW.logName="Razor Log";function TEt(){let r=DEt(__dirname,"package.json");return JSON.parse(GMe.readFileSync(r).toString())}function DEt(r,e){for(;;){let t=VMe.join(r,e);if(GMe.existsSync(t))return t;let n=VMe.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var QMe=E(Dx=>{"use strict";var EEt=Dx&&Dx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.RazorReferenceProvider=void 0;var YMe=require("vscode"),JMe=KL(),PEt=Py(),XMe=gv(),hoe=class extends PEt.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return EEt(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===XMe.LanguageKind.Razor)return;let s=yield YMe.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===XMe.LanguageKind.Html&&(0,JMe.isRazorHtmlFile)(c.uri)){let u=(0,JMe.getRazorDocumentUri)(c.uri);a.push(new YMe.Location(u,c.range))}else a.push(c);return a})}};Dx.RazorReferenceProvider=hoe});var tNe=E(Ex=>{"use strict";var ZMe=Ex&&Ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.RazorRenameProvider=void 0;var REt=require("vscode"),xEt=Py(),eNe=gv(),poe=class extends xEt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return ZMe(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==eNe.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return ZMe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==eNe.LanguageKind.CSharp?void 0:yield REt.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};Ex.RazorRenameProvider=poe});var rNe=E(Px=>{"use strict";var OEt=Px&&Px.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.RazorDocumentSemanticTokensProvider=void 0;var IEt=require("vscode"),kEt=Py(),moe=class extends kEt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return OEt(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new IEt.SemanticTokens(o,i.resultId)}return i})}};Px.RazorDocumentSemanticTokensProvider=moe});var nNe=E(HW=>{"use strict";Object.defineProperty(HW,"__esModule",{value:!0});HW.ProvideSemanticTokensResponse=void 0;var goe=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};HW.ProvideSemanticTokensResponse=goe});var iNe=E(BW=>{"use strict";Object.defineProperty(BW,"__esModule",{value:!0});BW.SemanticTokensResponse=void 0;var voe=class{constructor(e,t){this.data=e,this.resultId=t}};BW.SemanticTokensResponse=voe});var sNe=E(Rx=>{"use strict";var oNe=Rx&&Rx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.SemanticTokensRangeHandler=void 0;var AEt=hb(),LEt=nNe(),MEt=iNe(),WW=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new AEt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new LEt.ProvideSemanticTokensResponse(new MEt.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>oNe(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return oNe(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};Rx.SemanticTokensRangeHandler=WW;WW.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var aNe=E(xx=>{"use strict";var NEt=xx&&xx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(xx,"__esModule",{value:!0});xx.RazorSignatureHelpProvider=void 0;var FEt=require("vscode"),qEt=Py(),yoe=class extends qEt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return NEt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield FEt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};xx.RazorSignatureHelpProvider=yoe});var cNe=E(Ox=>{"use strict";Object.defineProperty(Ox,"__esModule",{value:!0});Ox.createTelemetryErrorEvent=Ox.createTelemetryEvent=void 0;function jEt(r,e,t){return{type:$W.TelemetryEvent,eventName:r,properties:e,measures:t}}Ox.createTelemetryEvent=jEt;function zEt(r,e,t,n){return{type:$W.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}Ox.createTelemetryErrorEvent=zEt;var $W;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})($W||($W={}))});var uNe=E(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});VW.TelemetryReporter=void 0;var cM=cNe(),UEt=JL(),_oe=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,cM.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,cM.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,cM.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,cM.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:UEt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,cM.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};VW.TelemetryReporter=_oe});var lNe=E(kx=>{"use strict";var Ix=kx&&kx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(kx,"__esModule",{value:!0});kx.activate=void 0;var HEt=require("vscode"),BEt=LOe(),WEt=zOe(),$Et=WOe(),VEt=M1e(),GEt=j1e(),KEt=Vne(),YEt=U1e(),JEt=G1e(),XEt=X1e(),QEt=iAe(),ZEt=dAe(),ePt=hAe(),tPt=vAe(),rPt=_Ae(),nPt=bAe(),iPt=TAe(),oPt=RAe(),sPt=xAe(),aPt=MAe(),cPt=NAe(),uPt=TMe(),lPt=EMe(),dPt=PMe(),fPt=OMe(),lm=rT(),hPt=kMe(),pPt=zMe(),mPt=ioe(),gPt=$Me(),vPt=KMe(),yPt=QMe(),_Pt=tNe(),bPt=rNe(),wPt=sNe(),SPt=aNe(),CPt=uNe();function TPt(r,e,t,n,i=!1){return Ix(this,void 0,void 0,function*(){let o=new CPt.TelemetryReporter(n),s={create:()=>new HEt.EventEmitter},a=(0,mPt.resolveRazorLanguageServerTrace)(r),c=new vPt.RazorLogger(r,s,a);try{let u=new pPt.RazorLanguageServerClient(r,t,o,c),l=new gPt.RazorLanguageServiceClient(u),d=new fPt.RazorCSharpLanguageMiddleware(l,c),f=new ZEt.RazorDocumentManager(u,c);(0,nPt.reportTelemetryForDocuments)(f,o);let m=new hPt.RazorLanguageConfiguration,_=new JEt.RazorCSharpFeature(f,s,c),D=new uPt.RazorHtmlFeature(f,l,s,c),O=[],M=new QEt.ReportIssueCommand(r,f,c),A=new aPt.RazorFormattingFeature(u,f,c),U=new WEt.RazorCodeActionRunner(u,c),ne;u.onStart(()=>Ix(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),ne=new ePt.RazorDocumentSynchronizer(f,c);let V=new GEt.ProvisionalCompletionOrchestrator(f,_.projectionProvider,l,c),$=new wPt.SemanticTokensRangeHandler(u),ee=new VEt.ColorPresentationHandler(f,u,c),De=new tPt.DocumentColorHandler(f,u,c),ae=new iPt.FoldingRangeHandler(u,f,c),ce=new oPt.FormattingHandler(f,u,c),qe=new KEt.RazorCompletionItemProvider(ne,f,l,V,c),Ne=new SPt.RazorSignatureHelpProvider(ne,f,l,c),ue=new XEt.RazorDefinitionProvider(ne,f,l,c),Ce=new lPt.RazorImplementationProvider(ne,f,l,c),be=new cPt.RazorHoverProvider(ne,f,l,c),xe=new $Et.RazorCodeLensProvider(ne,f,l,c),Me=new _Pt.RazorRenameProvider(ne,f,l,c),$e=new yPt.RazorReferenceProvider(ne,f,l,c),Ct=new rPt.RazorDocumentHighlightProvider(ne,f,l,c),ze=new sPt.RazorFormatOnTypeProvider;O.push(m.register(),V.register(),r.languages.registerCompletionItemProvider(lm.RazorLanguage.id,qe,".","<","@"),r.languages.registerSignatureHelpProvider(lm.RazorLanguage.id,Ne,"(",","),r.languages.registerDefinitionProvider(lm.RazorLanguage.id,ue),r.languages.registerImplementationProvider(lm.RazorLanguage.id,Ce),r.languages.registerHoverProvider(lm.RazorLanguage.documentSelector,be),r.languages.registerReferenceProvider(lm.RazorLanguage.id,$e),r.languages.registerCodeLensProvider(lm.RazorLanguage.id,xe),r.languages.registerRenameProvider(lm.RazorLanguage.id,Me),r.languages.registerDocumentHighlightProvider(lm.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(lm.RazorLanguage.documentSelector,ze,""),f.register(),_.register(),D.register(),ne.register(),M.register(),(0,YEt.listenToConfigurationChanges)(u)),i&&(yield new dPt.ProposedApisFeature().register(r,O)),U.register(),yield A.register(),yield ee.register(),yield De.register(),yield ae.register(),yield ce.register(),yield $.register()}));let de=u.onStop(()=>{O.forEach(V=>V.dispose()),O.length=0}),ye=new BEt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",ye)),u.onStarted(()=>Ix(this,void 0,void 0,function*(){var V,$;let ee=($=(V=u.initializeResult)===null||V===void 0?void 0:V.capabilities.semanticTokensProvider)===null||$===void 0?void 0:$.legend,De=new bPt.RazorDocumentSemanticTokensProvider(ne,f,l,c);ee&&O.push(r.languages.registerDocumentRangeSemanticTokensProvider(lm.RazorLanguage.id,De,ee)),yield f.initialize()})),yield DPt(r,u,c,e),e.subscriptions.push(u,de,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}kx.activate=TPt;function DPt(r,e,t,n){return Ix(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(lm.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(lm.RazorLanguage.globbingPattern),s=()=>Ix(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>Ix(this,void 0,void 0,function*(){u.languageId===lm.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});function vM(){return p$>m$.length-16&&(TNe.default.randomFillSync(m$),p$=0),m$.slice(p$,p$+=16)}var TNe,m$,p$,Noe=Ti(()=>{TNe=we(require("crypto")),m$=new Uint8Array(256),p$=m$.length});var DNe,ENe=Ti(()=>{DNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function IPt(r){return typeof r=="string"&&DNe.test(r)}var oT,yM=Ti(()=>{ENe();oT=IPt});function y0(r,e=0){return(rf[r[e+0]]+rf[r[e+1]]+rf[r[e+2]]+rf[r[e+3]]+"-"+rf[r[e+4]]+rf[r[e+5]]+"-"+rf[r[e+6]]+rf[r[e+7]]+"-"+rf[r[e+8]]+rf[r[e+9]]+"-"+rf[r[e+10]]+rf[r[e+11]]+rf[r[e+12]]+rf[r[e+13]]+rf[r[e+14]]+rf[r[e+15]]).toLowerCase()}function kPt(r,e=0){let t=y0(r,e);if(!oT(t))throw TypeError("Stringified UUID is invalid");return t}var rf,PNe,_M=Ti(()=>{yM();rf=[];for(let r=0;r<256;++r)rf.push((r+256).toString(16).slice(1));PNe=kPt});function APt(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||RNe,s=r.clockseq!==void 0?r.clockseq:Foe;if(o==null||s==null){let f=r.random||(r.rng||vM)();o==null&&(o=RNe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Foe=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:joe+1,u=a-qoe+(c-joe)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>qoe)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qoe=a,joe=c,Foe=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||y0(i)}var RNe,Foe,qoe,joe,xNe,ONe=Ti(()=>{Noe();_M();qoe=0,joe=0;xNe=APt});function LPt(r){if(!oT(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var g$,zoe=Ti(()=>{yM();g$=LPt});function MPt(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function bM(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=MPt(i)),typeof o=="string"&&(o=g$(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return y0(u)}try{n.name=r}catch{}return n.DNS=NPt,n.URL=FPt,n}var NPt,FPt,Uoe=Ti(()=>{_M();zoe();NPt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",FPt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function qPt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),INe.default.createHash("md5").update(r).digest()}var INe,kNe,ANe=Ti(()=>{INe=we(require("crypto"));kNe=qPt});var jPt,LNe,MNe=Ti(()=>{Uoe();ANe();jPt=bM("v3",48,kNe),LNe=jPt});var NNe,Hoe,FNe=Ti(()=>{NNe=we(require("crypto")),Hoe={randomUUID:NNe.default.randomUUID}});function zPt(r,e,t){if(Hoe.randomUUID&&!e&&!r)return Hoe.randomUUID();r=r||{};let n=r.random||(r.rng||vM)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return y0(n)}var sT,qNe=Ti(()=>{FNe();Noe();_M();sT=zPt});function UPt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),jNe.default.createHash("sha1").update(r).digest()}var jNe,zNe,UNe=Ti(()=>{jNe=we(require("crypto"));zNe=UPt});var HPt,HNe,BNe=Ti(()=>{Uoe();UNe();HPt=bM("v5",80,zNe),HNe=HPt});var WNe,$Ne=Ti(()=>{WNe="00000000-0000-0000-0000-000000000000"});function BPt(r){if(!oT(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var VNe,GNe=Ti(()=>{yM();VNe=BPt});var v$={};JO(v$,{NIL:()=>WNe,parse:()=>g$,stringify:()=>PNe,v1:()=>xNe,v3:()=>LNe,v4:()=>sT,v5:()=>HNe,validate:()=>oT,version:()=>VNe});var Nx=Ti(()=>{ONe();MNe();qNe();BNe();$Ne();GNe();yM();_M();zoe()});var xFe=E((Ttr,RFe)=>{var Gx=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",CFe=require("path"),XPt=Gx?";":":",TFe=zK(),DFe=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),EFe=(r,e)=>{let t=e.colon||XPt,n=r.match(/\//)||Gx&&r.match(/\\/)?[""]:[...Gx?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=Gx?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Gx?i.split(t):[""];return Gx&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},PFe=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=EFe(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(DFe(r));let f=n[u],m=/^".*"$/.test(f)?f.slice(1,-1):f,_=CFe.join(m,r),D=!m&&/^\.[\\\/]/.test(r)?r.slice(0,2)+_:_;l(c(D,u,0))}),c=(u,l,d)=>new Promise((f,m)=>{if(d===i.length)return f(a(l+1));let _=i[d];TFe(u+_,{pathExt:o},(D,O)=>{if(!D&&O)if(e.all)s.push(u+_);else return f(u+_);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},QPt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=EFe(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=CFe.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(TFe.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw DFe(r)};RFe.exports=PFe;PFe.sync=QPt});var IFe=E((Dtr,Qoe)=>{"use strict";var OFe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Qoe.exports=OFe;Qoe.exports.default=OFe});var MFe=E((Etr,LFe)=>{"use strict";var kFe=require("path"),ZPt=xFe(),eRt=IFe();function AFe(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=ZPt.sync(r.command,{path:t[eRt({env:t})],pathExt:e?kFe.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=kFe.resolve(i?r.options.cwd:"",s)),s}function tRt(r){return AFe(r)||AFe(r,!0)}LFe.exports=tRt});var NFe=E((Ptr,ese)=>{"use strict";var Zoe=/([()\][%!^"`<>&|;, *?])/g;function rRt(r){return r=r.replace(Zoe,"^$1"),r}function nRt(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(Zoe,"^$1"),e&&(r=r.replace(Zoe,"^$1")),r}ese.exports.command=rRt;ese.exports.argument=nRt});var qFe=E((Rtr,FFe)=>{"use strict";FFe.exports=/^#!(.*)/});var zFe=E((xtr,jFe)=>{"use strict";var iRt=qFe();jFe.exports=(r="")=>{let e=r.match(iRt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var HFe=E((Otr,UFe)=>{"use strict";var tse=require("fs"),oRt=zFe();function sRt(r){let t=Buffer.alloc(150),n;try{n=tse.openSync(r,"r"),tse.readSync(n,t,0,150,0),tse.closeSync(n)}catch{}return oRt(t.toString())}UFe.exports=sRt});var VFe=E((Itr,$Fe)=>{"use strict";var aRt=require("path"),BFe=MFe(),WFe=NFe(),cRt=HFe(),uRt=process.platform==="win32",lRt=/\.(?:com|exe)$/i,dRt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function fRt(r){r.file=BFe(r);let e=r.file&&cRt(r.file);return e?(r.args.unshift(r.file),r.command=e,BFe(r)):r.file}function hRt(r){if(!uRt)return r;let e=fRt(r),t=!lRt.test(e);if(r.options.forceShell||t){let n=dRt.test(e);r.command=aRt.normalize(r.command),r.command=WFe.command(r.command),r.args=r.args.map(o=>WFe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function pRt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:hRt(n)}$Fe.exports=pRt});var YFe=E((ktr,KFe)=>{"use strict";var rse=process.platform==="win32";function nse(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function mRt(r,e){if(!rse)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=GFe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function GFe(r,e){return rse&&r===1&&!e.file?nse(e.original,"spawn"):null}function gRt(r,e){return rse&&r===1&&!e.file?nse(e.original,"spawnSync"):null}KFe.exports={hookChildProcess:mRt,verifyENOENT:GFe,verifyENOENTSync:gRt,notFoundError:nse}});var QFe=E((Atr,Kx)=>{"use strict";var JFe=require("child_process"),ise=VFe(),ose=YFe();function XFe(r,e,t){let n=ise(r,e,t),i=JFe.spawn(n.command,n.args,n.options);return ose.hookChildProcess(i,n),i}function vRt(r,e,t){let n=ise(r,e,t),i=JFe.spawnSync(n.command,n.args,n.options);return i.error=i.error||ose.verifyENOENTSync(i.status,n),i}Kx.exports=XFe;Kx.exports.spawn=XFe;Kx.exports.sync=vRt;Kx.exports._parse=ise;Kx.exports._enoent=ose});var eqe=E((Ltr,ZFe)=>{"use strict";ZFe.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var rqe=E((Mtr,sse)=>{"use strict";var tqe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};sse.exports=tqe;sse.exports.default=tqe});var oqe=E((Ntr,xM)=>{"use strict";var RM=require("path"),nqe=rqe(),iqe=r=>{r={cwd:process.cwd(),path:process.env[nqe()],execPath:process.execPath,...r};let e,t=RM.resolve(r.cwd),n=[];for(;e!==t;)n.push(RM.join(t,"node_modules/.bin")),e=t,t=RM.resolve(t,"..");let i=RM.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(RM.delimiter)};xM.exports=iqe;xM.exports.default=iqe;xM.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=nqe({env:e});return r.path=e[t],e[t]=xM.exports(r),e}});var aqe=E((Ftr,ase)=>{"use strict";var sqe=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};ase.exports=sqe;ase.exports.default=sqe});var uqe=E((qtr,c3)=>{"use strict";var yRt=aqe(),a3=new WeakMap,cqe=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(a3.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return yRt(o,r),a3.set(o,n),o};c3.exports=cqe;c3.exports.default=cqe;c3.exports.callCount=r=>{if(!a3.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return a3.get(r)}});var lqe=E(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.SIGNALS=void 0;var _Rt=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];u3.SIGNALS=_Rt});var cse=E(Yx=>{"use strict";Object.defineProperty(Yx,"__esModule",{value:!0});Yx.SIGRTMAX=Yx.getRealtimeSignals=void 0;var bRt=function(){let r=fqe-dqe+1;return Array.from({length:r},wRt)};Yx.getRealtimeSignals=bRt;var wRt=function(r,e){return{name:`SIGRT${e+1}`,number:dqe+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},dqe=34,fqe=64;Yx.SIGRTMAX=fqe});var hqe=E(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.getSignals=void 0;var SRt=require("os"),CRt=lqe(),TRt=cse(),DRt=function(){let r=(0,TRt.getRealtimeSignals)();return[...CRt.SIGNALS,...r].map(ERt)};l3.getSignals=DRt;var ERt=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=SRt.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var mqe=E(Jx=>{"use strict";Object.defineProperty(Jx,"__esModule",{value:!0});Jx.signalsByNumber=Jx.signalsByName=void 0;var PRt=require("os"),pqe=hqe(),RRt=cse(),xRt=function(){return(0,pqe.getSignals)().reduce(ORt,{})},ORt=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},IRt=xRt();Jx.signalsByName=IRt;var kRt=function(){let r=(0,pqe.getSignals)(),e=RRt.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>ARt(i,r));return Object.assign({},...t)},ARt=function(r,e){let t=LRt(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},LRt=function(r,e){let t=e.find(({name:n})=>PRt.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},MRt=kRt();Jx.signalsByNumber=MRt});var vqe=E((Btr,gqe)=>{"use strict";var{signalsByName:NRt}=mqe(),FRt=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",qRt=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:NRt[i].description,f=n&&n.code,_=`Command ${FRt({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,D=n instanceof Error?`${_}
${n.message}`:_,O=[D,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=O):n=new Error(O),n.shortMessage=D,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};gqe.exports=qRt});var _qe=E((Wtr,use)=>{"use strict";var d3=["stdin","stdout","stderr"],jRt=r=>d3.some(e=>r[e]!==void 0),yqe=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return d3.map(n=>r[n]);if(jRt(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${d3.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,d3.length);return Array.from({length:t},(n,i)=>e[i])};use.exports=yqe;use.exports.node=r=>{let e=yqe(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var bqe=E(($tr,f3)=>{f3.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&f3.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&f3.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Dqe=E((Vtr,Zx)=>{var _c=global.process,_0=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};_0(_c)?(wqe=require("assert"),Xx=bqe(),Sqe=/^win/i.test(_c.platform),OM=require("events"),typeof OM!="function"&&(OM=OM.EventEmitter),_c.__signal_exit_emitter__?vd=_c.__signal_exit_emitter__:(vd=_c.__signal_exit_emitter__=new OM,vd.count=0,vd.emitted={}),vd.infinite||(vd.setMaxListeners(1/0),vd.infinite=!0),Zx.exports=function(r,e){if(!_0(global.process))return function(){};wqe.equal(typeof r,"function","a callback must be provided for exit handler"),Qx===!1&&lse();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){vd.removeListener(t,r),vd.listeners("exit").length===0&&vd.listeners("afterexit").length===0&&h3()};return vd.on(t,r),n},h3=function(){!Qx||!_0(global.process)||(Qx=!1,Xx.forEach(function(e){try{_c.removeListener(e,p3[e])}catch{}}),_c.emit=m3,_c.reallyExit=dse,vd.count-=1)},Zx.exports.unload=h3,b0=function(e,t,n){vd.emitted[e]||(vd.emitted[e]=!0,vd.emit(e,t,n))},p3={},Xx.forEach(function(r){p3[r]=function(){if(_0(global.process)){var t=_c.listeners(r);t.length===vd.count&&(h3(),b0("exit",null,r),b0("afterexit",null,r),Sqe&&r==="SIGHUP"&&(r="SIGINT"),_c.kill(_c.pid,r))}}}),Zx.exports.signals=function(){return Xx},Qx=!1,lse=function(){Qx||!_0(global.process)||(Qx=!0,vd.count+=1,Xx=Xx.filter(function(e){try{return _c.on(e,p3[e]),!0}catch{return!1}}),_c.emit=Tqe,_c.reallyExit=Cqe)},Zx.exports.load=lse,dse=_c.reallyExit,Cqe=function(e){_0(global.process)&&(_c.exitCode=e||0,b0("exit",_c.exitCode,null),b0("afterexit",_c.exitCode,null),dse.call(_c,_c.exitCode))},m3=_c.emit,Tqe=function(e,t){if(e==="exit"&&_0(global.process)){t!==void 0&&(_c.exitCode=t);var n=m3.apply(this,arguments);return b0("exit",_c.exitCode,null),b0("afterexit",_c.exitCode,null),n}else return m3.apply(this,arguments)}):Zx.exports=function(){return function(){}};var wqe,Xx,Sqe,OM,vd,h3,b0,p3,Qx,lse,dse,Cqe,m3,Tqe});var Pqe=E((Gtr,Eqe)=>{"use strict";var zRt=require("os"),URt=Dqe(),HRt=1e3*5,BRt=(r,e="SIGTERM",t={})=>{let n=r(e);return WRt(r,e,t,n),n},WRt=(r,e,t,n)=>{if(!$Rt(e,t,n))return;let i=GRt(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},$Rt=(r,{forceKillAfterTimeout:e},t)=>VRt(r)&&e!==!1&&t,VRt=r=>r===zRt.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",GRt=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return HRt;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},KRt=(r,e)=>{r.kill()&&(e.isCanceled=!0)},YRt=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},JRt=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{YRt(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},XRt=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=URt(()=>{r.kill()});return n.finally(()=>{i()})};Eqe.exports={spawnedKill:BRt,spawnedCancel:KRt,setupTimeout:JRt,setExitHandler:XRt}});var xqe=E((Ktr,Rqe)=>{"use strict";var bb=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";bb.writable=r=>bb(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";bb.readable=r=>bb(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";bb.duplex=r=>bb.writable(r)&&bb.readable(r);bb.transform=r=>bb.duplex(r)&&typeof r._transform=="function";Rqe.exports=bb});var kqe=E((Ytr,Iqe)=>{var QRt=f1(),ZRt=function(){},ext=function(r){return r.setHeader&&typeof r.abort=="function"},txt=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},Oqe=function(r,e,t){if(typeof e=="function")return Oqe(r,null,e);e||(e={}),t=QRt(t||ZRt);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(O){t.call(r,O?new Error("exited with error code: "+O):null)},f=function(O){t.call(r,O)},m=function(){process.nextTick(_)},_=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},D=function(){r.req.on("finish",u)};return ext(r)?(r.on("complete",u),r.on("abort",m),r.req?D():r.on("request",D)):s&&!n&&(r.on("end",c),r.on("close",c)),txt(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",m),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",m),r.removeListener("request",D),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",m)}};Iqe.exports=Oqe});var Mqe=E((Jtr,Lqe)=>{var rxt=f1(),nxt=kqe(),fse=require("fs"),IM=function(){},ixt=/^v?\.0/.test(process.version),g3=function(r){return typeof r=="function"},oxt=function(r){return!ixt||!fse?!1:(r instanceof(fse.ReadStream||IM)||r instanceof(fse.WriteStream||IM))&&g3(r.close)},sxt=function(r){return r.setHeader&&g3(r.abort)},axt=function(r,e,t,n){n=rxt(n);var i=!1;r.on("close",function(){i=!0}),nxt(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,oxt(r))return r.close(IM);if(sxt(r))return r.abort();if(g3(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},Aqe=function(r){r()},cxt=function(r,e){return r.pipe(e)},uxt=function(){var r=Array.prototype.slice.call(arguments),e=g3(r[r.length-1]||IM)&&r.pop()||IM;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return axt(i,s,a,function(c){t||(t=c),c&&n.forEach(Aqe),!s&&(n.forEach(Aqe),e(t))})});return r.reduce(cxt)};Lqe.exports=uxt});var Fqe=E((Xtr,Nqe)=>{"use strict";var{PassThrough:lxt}=require("stream");Nqe.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new lxt({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var qqe=E((Qtr,eO)=>{"use strict";var{constants:dxt}=require("buffer"),fxt=Mqe(),hxt=Fqe(),v3=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function y3(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=dxt.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=fxt(r,hxt(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new v3)})}),n.getBufferedValue()}eO.exports=y3;eO.exports.default=y3;eO.exports.buffer=(r,e)=>y3(r,{...e,encoding:"buffer"});eO.exports.array=(r,e)=>y3(r,{...e,array:!0});eO.exports.MaxBufferError=v3});var zqe=E((Ztr,jqe)=>{"use strict";var{PassThrough:pxt}=require("stream");jqe.exports=function(){var r=[],e=new pxt({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var Wqe=E((err,Bqe)=>{"use strict";var Hqe=xqe(),Uqe=qqe(),mxt=zqe(),gxt=(r,e)=>{e===void 0||r.stdin===void 0||(Hqe(e)?e.pipe(r.stdin):r.stdin.end(e))},vxt=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=mxt();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},hse=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},pse=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?Uqe(r,{encoding:e,maxBuffer:n}):Uqe.buffer(r,{maxBuffer:n})},yxt=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=pse(r,{encoding:n,buffer:i,maxBuffer:o}),c=pse(e,{encoding:n,buffer:i,maxBuffer:o}),u=pse(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},hse(r,a),hse(e,c),hse(t,u)])}},_xt=({input:r})=>{if(Hqe(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};Bqe.exports={handleInput:gxt,makeAllStream:vxt,getSpawnedResult:yxt,validateInputSync:_xt}});var Vqe=E((trr,$qe)=>{"use strict";var mse=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},bxt=(r,e)=>(mse(r,e,"then"),mse(r,e,"catch"),mse(r,e,"finally"),r),wxt=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});$qe.exports={mergePromise:bxt,getSpawnedPromise:wxt}});var Kqe=E((rrr,Gqe)=>{"use strict";var Sxt=/ +/g,Cxt=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,Txt=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},Dxt=r=>r.trim().split(Sxt).reduce(Txt,[]);Gqe.exports={joinCommand:Cxt,parseCommand:Dxt}});var t2e=E((nrr,tO)=>{"use strict";var Ext=require("path"),gse=require("child_process"),Jqe=QFe(),Pxt=eqe(),Rxt=oqe(),xxt=uqe(),_3=vqe(),Xqe=_qe(),{spawnedKill:Oxt,spawnedCancel:Ixt,setupTimeout:kxt,setExitHandler:Axt}=Pqe(),{handleInput:Lxt,getSpawnedResult:Mxt,makeAllStream:Nxt,validateInputSync:Fxt}=Wqe(),{mergePromise:Yqe,getSpawnedPromise:qxt}=Vqe(),{joinCommand:Qqe,parseCommand:Zqe}=Kqe(),jxt=1e3*1e3*100,zxt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?Rxt.env({env:o,cwd:n,execPath:i}):o},e2e=(r,e,t={})=>{let n=Jqe._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:jxt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=zxt(t),t.stdio=Xqe(t),process.platform==="win32"&&Ext.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},kM=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?Pxt(e):e,b3=(r,e,t)=>{let n=e2e(r,e,t),i=Qqe(r,e),o;try{o=gse.spawn(n.file,n.args,n.options)}catch(f){let m=new gse.ChildProcess,_=Promise.reject(_3({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Yqe(m,_)}let s=qxt(o),a=kxt(o,n.options,s),c=Axt(o,n.options,a),u={isCanceled:!1};o.kill=Oxt.bind(null,o.kill.bind(o)),o.cancel=Ixt.bind(null,o,u);let d=xxt(async()=>{let[{error:f,exitCode:m,signal:_,timedOut:D},O,M,A]=await Mxt(o,n.options,c),U=kM(n.options,O),ne=kM(n.options,M),de=kM(n.options,A);if(f||m!==0||_!==null){let ye=_3({error:f,exitCode:m,signal:_,stdout:U,stderr:ne,all:de,command:i,parsed:n,timedOut:D,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return ye;throw ye}return{command:i,exitCode:0,stdout:U,stderr:ne,all:de,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Jqe._enoent.hookChildProcess(o,n.parsed),Lxt(o,n.options.input),o.all=Nxt(o,n.options),Yqe(o,d)};tO.exports=b3;tO.exports.sync=(r,e,t)=>{let n=e2e(r,e,t),i=Qqe(r,e);Fxt(n.options);let o;try{o=gse.spawnSync(n.file,n.args,n.options)}catch(c){throw _3({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=kM(n.options,o.stdout,o.error),a=kM(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=_3({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};tO.exports.command=(r,e)=>{let[t,...n]=Zqe(r);return b3(t,n,e)};tO.exports.commandSync=(r,e)=>{let[t,...n]=Zqe(r);return b3.sync(t,n,e)};tO.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=Xqe.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return b3(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var lS=E(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.findWindowsCandidates=nh.sort=nh.preferredEdgePath=nh.preferredFirefoxPath=nh.preferredChromePath=nh.escapeRegexSpecialChars=nh.canAccess=void 0;var Uxt=require("path");async function AM({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}nh.canAccess=AM;var Hxt="/\\.?*()^${}|[]+";function Bxt(r,e){let t=Hxt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}nh.escapeRegexSpecialChars=Bxt;async function Wxt(r,e){if(await AM(r,e.CHROME_PATH))return e.CHROME_PATH}nh.preferredChromePath=Wxt;async function $xt(r,e){if(await AM(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}nh.preferredFirefoxPath=$xt;async function Vxt(r,e){if(await AM(r,e.EDGE_PATH))return e.EDGE_PATH}nh.preferredEdgePath=Vxt;function Gxt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}nh.sort=Gxt;async function Kxt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=Uxt.win32.join(o,s.name);i.push(AM(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}nh.findWindowsCandidates=Kxt});var S3=E(w3=>{"use strict";Object.defineProperty(w3,"__esModule",{value:!0});w3.DarwinFinderBase=void 0;var Yxt=require("path"),Jxt=require("fs"),vse=lS(),r2e=/( \(0x[a-f0-9]+\))/,yse=class{constructor(e=process.env,t=Jxt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,vse.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${r2e.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(r2e,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=Yxt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,vse.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,vse.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};w3.DarwinFinderBase=yse});var n2e=E(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});C3.DarwinChromeBrowserFinder=void 0;var Xxt=lS(),Qxt=S3(),_se=class extends Qxt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,Xxt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};C3.DarwinChromeBrowserFinder=_se});var i2e=E(T3=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.DarwinEdgeBrowserFinder=void 0;var Zxt=lS(),eOt=S3(),bse=class extends eOt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,Zxt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};T3.DarwinEdgeBrowserFinder=bse});var o2e=E(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.DarwinFirefoxBrowserFinder=void 0;var tOt=lS(),rOt=S3(),wse=class extends rOt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,tOt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};D3.DarwinFirefoxBrowserFinder=wse});var P3=E(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.LinuxChromeBrowserFinder=void 0;var nOt=require("path"),rO=lS(),Sse=require("child_process"),iOt=require("os"),oOt=require("fs"),s2e=/\r?\n/,Cse=class{constructor(e=process.env,t=oOt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,rO.canAccess)(this.fs,t)&&e.add(t),[nOt.posix.join((0,iOt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,Sse.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(s2e)[0];await(0,rO.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,rO.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,rO.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,rO.canAccess)(this.fs,e)){let o;try{o=(0,Sse.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,Sse.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(s2e).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,rO.canAccess)(this.fs,a)&&i.push(a)}))}return i}};E3.LinuxChromeBrowserFinder=Cse});var a2e=E(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.LinuxEdgeBrowserFinder=void 0;var sOt=P3(),Tse=class extends sOt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};R3.LinuxEdgeBrowserFinder=Tse});var c2e=E(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});x3.LinuxFirefoxBrowserFinder=void 0;var aOt=P3(),Dse=class extends aOt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};x3.LinuxFirefoxBrowserFinder=Dse});var l2e=E(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.WindowsChromeBrowserFinder=void 0;var cOt=require("path"),u2e=lS(),uOt=require("fs"),Ese=class{constructor(e=process.env,t=uOt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=cOt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,u2e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,u2e.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};O3.WindowsChromeBrowserFinder=Ese});var f2e=E(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.WindowsEdgeBrowserFinder=void 0;var ih=require("path"),lOt=require("fs"),d2e=lS(),Pse=class{constructor(e=process.env,t=lOt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${ih.sep}Microsoft${ih.sep}Edge SxS${ih.sep}Application${ih.sep}msedge.exe`,type:"canary"},{name:`${ih.sep}Microsoft${ih.sep}Edge Dev${ih.sep}Application${ih.sep}msedge.exe`,type:"dev"},{name:`${ih.sep}Microsoft${ih.sep}Edge Beta${ih.sep}Application${ih.sep}msedge.exe`,type:"beta"},{name:`${ih.sep}Microsoft${ih.sep}Edge${ih.sep}Application${ih.sep}msedge.exe`,type:"stable"}],t=await(0,d2e.findWindowsCandidates)(this.env,this.fs,e),n=await(0,d2e.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};I3.WindowsEdgeBrowserFinder=Pse});var p2e=E(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.WindowsFirefoxBrowserFinder=void 0;var dOt=require("path"),h2e=lS(),fOt=require("fs"),Rse=class{constructor(e=process.env,t=fOt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=dOt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,h2e.findWindowsCandidates)(this.env,this.fs,t),i=await(0,h2e.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};k3.WindowsFirefoxBrowserFinder=Rse});var m2e=E(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.FirefoxBrowserFinder=pg.EdgeBrowserFinder=pg.ChromeBrowserFinder=pg.isQuality=pg.allQualities=void 0;var hOt=n2e(),pOt=i2e(),mOt=o2e(),gOt=P3(),vOt=a2e(),yOt=c2e(),_Ot=l2e(),bOt=f2e(),wOt=p2e(),SOt={canary:null,stable:null,beta:null,dev:null,custom:null};pg.allQualities=new Set(Object.keys(SOt));var COt=r=>pg.allQualities.has(r);pg.isQuality=COt;pg.ChromeBrowserFinder=process.platform==="win32"?_Ot.WindowsChromeBrowserFinder:process.platform==="darwin"?hOt.DarwinChromeBrowserFinder:gOt.LinuxChromeBrowserFinder;pg.EdgeBrowserFinder=process.platform==="win32"?bOt.WindowsEdgeBrowserFinder:process.platform==="darwin"?pOt.DarwinEdgeBrowserFinder:vOt.LinuxEdgeBrowserFinder;pg.FirefoxBrowserFinder=process.platform==="win32"?wOt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?mOt.DarwinFirefoxBrowserFinder:yOt.LinuxFirefoxBrowserFinder});var dT=E(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.PIPE_NAME_PREFIX=of.availabilityChangedEvent=of.RemoteServiceConnections=of.MessageDelimiters=of.Formatters=void 0;var LOt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(LOt=of.Formatters||(of.Formatters={}));var MOt;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})(MOt=of.MessageDelimiters||(of.MessageDelimiters={}));var O2e;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(O2e=of.RemoteServiceConnections||(of.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(O2e=of.RemoteServiceConnections||(of.RemoteServiceConnections={}));of.availabilityChangedEvent="availabilityChanged";of.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var oO=E(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.stringArray=oh.array=oh.func=oh.error=oh.number=oh.string=oh.boolean=void 0;function NOt(r){return r===!0||r===!1}oh.boolean=NOt;function I2e(r){return typeof r=="string"||r instanceof String}oh.string=I2e;function FOt(r){return typeof r=="number"||r instanceof Number}oh.number=FOt;function qOt(r){return r instanceof Error}oh.error=qOt;function jOt(r){return typeof r=="function"}oh.func=jOt;function k2e(r){return Array.isArray(r)}oh.array=k2e;function zOt(r){return k2e(r)&&r.every(e=>I2e(e))}oh.stringArray=zOt});var wae=E(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.Message=xn.NotificationType9=xn.NotificationType8=xn.NotificationType7=xn.NotificationType6=xn.NotificationType5=xn.NotificationType4=xn.NotificationType3=xn.NotificationType2=xn.NotificationType1=xn.NotificationType0=xn.NotificationType=xn.RequestType9=xn.RequestType8=xn.RequestType7=xn.RequestType6=xn.RequestType5=xn.RequestType4=xn.RequestType3=xn.RequestType2=xn.RequestType1=xn.RequestType=xn.RequestType0=xn.AbstractMessageSignature=xn.ParameterStructures=xn.ResponseError=xn.ErrorCodes=void 0;var S0=oO(),A2e;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(A2e=xn.ErrorCodes||(xn.ErrorCodes={}));var Qse=class r extends Error{constructor(e,t,n){super(t),this.code=S0.number(e)?e:A2e.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};xn.ResponseError=Qse;var dm=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};xn.ParameterStructures=dm;dm.auto=new dm("auto");dm.byPosition=new dm("byPosition");dm.byName=new dm("byName");var Ka=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return dm.auto}};xn.AbstractMessageSignature=Ka;var Zse=class extends Ka{constructor(e){super(e,0)}};xn.RequestType0=Zse;var eae=class extends Ka{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType=eae;var tae=class extends Ka{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType1=tae;var rae=class extends Ka{constructor(e){super(e,2)}};xn.RequestType2=rae;var nae=class extends Ka{constructor(e){super(e,3)}};xn.RequestType3=nae;var iae=class extends Ka{constructor(e){super(e,4)}};xn.RequestType4=iae;var oae=class extends Ka{constructor(e){super(e,5)}};xn.RequestType5=oae;var sae=class extends Ka{constructor(e){super(e,6)}};xn.RequestType6=sae;var aae=class extends Ka{constructor(e){super(e,7)}};xn.RequestType7=aae;var cae=class extends Ka{constructor(e){super(e,8)}};xn.RequestType8=cae;var uae=class extends Ka{constructor(e){super(e,9)}};xn.RequestType9=uae;var lae=class extends Ka{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType=lae;var dae=class extends Ka{constructor(e){super(e,0)}};xn.NotificationType0=dae;var fae=class extends Ka{constructor(e,t=dm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType1=fae;var hae=class extends Ka{constructor(e){super(e,2)}};xn.NotificationType2=hae;var pae=class extends Ka{constructor(e){super(e,3)}};xn.NotificationType3=pae;var mae=class extends Ka{constructor(e){super(e,4)}};xn.NotificationType4=mae;var gae=class extends Ka{constructor(e){super(e,5)}};xn.NotificationType5=gae;var vae=class extends Ka{constructor(e){super(e,6)}};xn.NotificationType6=vae;var yae=class extends Ka{constructor(e){super(e,7)}};xn.NotificationType7=yae;var _ae=class extends Ka{constructor(e){super(e,8)}};xn.NotificationType8=_ae;var bae=class extends Ka{constructor(e){super(e,9)}};xn.NotificationType9=bae;var UOt;(function(r){function e(i){let o=i;return o&&S0.string(o.method)&&(S0.string(o.id)||S0.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&S0.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(S0.string(o.id)||S0.number(o.id)||o.id===null)}r.isResponse=n})(UOt=xn.Message||(xn.Message={}))});var Cae=E(hS=>{"use strict";var L2e;Object.defineProperty(hS,"__esModule",{value:!0});hS.LRUCache=hS.LinkedMap=hS.Touch=void 0;var op;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(op=hS.Touch||(hS.Touch={}));var j3=class{constructor(){this[L2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=op.None){let n=this._map.get(e);if(n)return t!==op.None&&this.touch(n,t),n.value}set(e,t,n=op.None){let i=this._map.get(e);if(i)i.value=t,n!==op.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case op.None:this.addItemLast(i);break;case op.First:this.addItemFirst(i);break;case op.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(L2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==op.First&&t!==op.Last)){if(t===op.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===op.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};hS.LinkedMap=j3;var Sae=class extends j3{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=op.AsNew){return super.get(e,t)}peek(e){return super.get(e,op.None)}set(e,t){return super.set(e,t,op.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};hS.LRUCache=Sae});var M2e=E(qM=>{"use strict";Object.defineProperty(qM,"__esModule",{value:!0});qM.Disposable=void 0;var HOt;(function(r){function e(t){return{dispose:t}}r.create=e})(HOt=qM.Disposable||(qM.Disposable={}))});var fT=E(Eae=>{"use strict";Object.defineProperty(Eae,"__esModule",{value:!0});var Tae;function Dae(){if(Tae===void 0)throw new Error("No runtime abstraction layer installed");return Tae}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Tae=t}r.install=e})(Dae||(Dae={}));Eae.default=Dae});var sO=E(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.Emitter=C0.Event=void 0;var BOt=fT(),WOt;(function(r){let e={dispose(){}};r.None=function(){return e}})(WOt=C0.Event||(C0.Event={}));var Pae=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,BOt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},z3=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Pae),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};C0.Emitter=z3;z3._noop=function(){}});var H3=E(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.CancellationTokenSource=T0.CancellationToken=void 0;var $Ot=fT(),VOt=oO(),Rae=sO(),xae;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Rae.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Rae.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||VOt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(xae=T0.CancellationToken||(T0.CancellationToken={}));var GOt=Object.freeze(function(r,e){let t=(0,$Ot.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),U3=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?GOt:(this._emitter||(this._emitter=new Rae.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Oae=class{get token(){return this._token||(this._token=new U3),this._token}cancel(){this._token?this._token.cancel():this._token=xae.Cancelled}dispose(){this._token?this._token instanceof U3&&this._token.dispose():this._token=xae.None}};T0.CancellationTokenSource=Oae});var N2e=E(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.SharedArrayReceiverStrategy=aO.SharedArraySenderStrategy=void 0;var KOt=H3(),jM;(function(r){r.Continue=0,r.Cancelled=1})(jM||(jM={}));var Iae=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=jM.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,jM.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};aO.SharedArraySenderStrategy=Iae;var kae=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===jM.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Aae=class{constructor(e){this.token=new kae(e)}cancel(){}dispose(){}},Lae=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new KOt.CancellationTokenSource:new Aae(t)}};aO.SharedArrayReceiverStrategy=Lae});var Nae=E(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});B3.Semaphore=void 0;var YOt=fT(),Mae=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,YOt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};B3.Semaphore=Mae});var F2e=E(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.ReadableStreamMessageReader=pS.AbstractMessageReader=pS.MessageReader=void 0;var qae=fT(),cO=oO(),Fae=sO(),JOt=Nae(),XOt;(function(r){function e(t){let n=t;return n&&cO.func(n.listen)&&cO.func(n.dispose)&&cO.func(n.onError)&&cO.func(n.onClose)&&cO.func(n.onPartialMessage)}r.is=e})(XOt=pS.MessageReader||(pS.MessageReader={}));var W3=class{constructor(){this.errorEmitter=new Fae.Emitter,this.closeEmitter=new Fae.Emitter,this.partialMessageEmitter=new Fae.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${cO.string(e.message)?e.message:"unknown"}`)}};pS.AbstractMessageReader=W3;var jae;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,qae.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(jae||(jae={}));var zae=class extends W3{constructor(e,t){super(),this.readable=e,this.options=jae.fromOptions(t),this.buffer=(0,qae.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new JOt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,qae.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};pS.ReadableStreamMessageReader=zae});var U2e=E(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.WriteableStreamMessageWriter=mS.AbstractMessageWriter=mS.MessageWriter=void 0;var q2e=fT(),zM=oO(),QOt=Nae(),j2e=sO(),ZOt="Content-Length: ",z2e=`\r
`,eIt;(function(r){function e(t){let n=t;return n&&zM.func(n.dispose)&&zM.func(n.onClose)&&zM.func(n.onError)&&zM.func(n.write)}r.is=e})(eIt=mS.MessageWriter||(mS.MessageWriter={}));var $3=class{constructor(){this.errorEmitter=new j2e.Emitter,this.closeEmitter=new j2e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${zM.string(e.message)?e.message:"unknown"}`)}};mS.AbstractMessageWriter=$3;var Uae;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,q2e.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,q2e.default)().applicationJson.encoder}}r.fromOptions=e})(Uae||(Uae={}));var Hae=class extends $3{constructor(e,t){super(),this.writable=e,this.options=Uae.fromOptions(t),this.errorCount=0,this.writeSemaphore=new QOt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(ZOt,n.byteLength.toString(),z2e),i.push(z2e),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};mS.WriteableStreamMessageWriter=Hae});var H2e=E(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.AbstractMessageBuffer=void 0;var tIt=13,rIt=10,nIt=`\r
`,Bae=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case tIt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case rIt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(nIt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),m=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};V3.AbstractMessageBuffer=Bae});var Y2e=E(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.createMessageConnection=wn.ConnectionOptions=wn.MessageStrategy=wn.CancellationStrategy=wn.CancellationSenderStrategy=wn.CancellationReceiverStrategy=wn.RequestCancellationReceiverStrategy=wn.IdCancellationReceiverStrategy=wn.ConnectionStrategy=wn.ConnectionError=wn.ConnectionErrors=wn.LogTraceNotification=wn.SetTraceNotification=wn.TraceFormat=wn.TraceValues=wn.Trace=wn.NullLogger=wn.ProgressType=wn.ProgressToken=void 0;var B2e=fT(),Jc=oO(),_i=wae(),W2e=Cae(),UM=sO(),Wae=H3(),BM;(function(r){r.type=new _i.NotificationType("$/cancelRequest")})(BM||(BM={}));var $2e;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})($2e=wn.ProgressToken||(wn.ProgressToken={}));var HM;(function(r){r.type=new _i.NotificationType("$/progress")})(HM||(HM={}));var $ae=class{constructor(){}};wn.ProgressType=$ae;var Vae;(function(r){function e(t){return Jc.func(t)}r.is=e})(Vae||(Vae={}));wn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Us;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Us=wn.Trace||(wn.Trace={}));var iIt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(iIt=wn.TraceValues||(wn.TraceValues={}));(function(r){function e(n){if(!Jc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Us=wn.Trace||(wn.Trace={}));var By;(function(r){r.Text="text",r.JSON="json"})(By=wn.TraceFormat||(wn.TraceFormat={}));(function(r){function e(t){return Jc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(By=wn.TraceFormat||(wn.TraceFormat={}));var V2e;(function(r){r.type=new _i.NotificationType("$/setTrace")})(V2e=wn.SetTraceNotification||(wn.SetTraceNotification={}));var Gae;(function(r){r.type=new _i.NotificationType("$/logTrace")})(Gae=wn.LogTraceNotification||(wn.LogTraceNotification={}));var G3;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(G3=wn.ConnectionErrors||(wn.ConnectionErrors={}));var uO=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};wn.ConnectionError=uO;var G2e;(function(r){function e(t){let n=t;return n&&Jc.func(n.cancelUndispatched)}r.is=e})(G2e=wn.ConnectionStrategy||(wn.ConnectionStrategy={}));var Jae;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&Jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Jc.func(n.dispose))}r.is=e})(Jae=wn.IdCancellationReceiverStrategy||(wn.IdCancellationReceiverStrategy={}));var K2e;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&Jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Jc.func(n.dispose))}r.is=e})(K2e=wn.RequestCancellationReceiverStrategy||(wn.RequestCancellationReceiverStrategy={}));var Kae;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Wae.CancellationTokenSource}});function e(t){return Jae.is(t)||K2e.is(t)}r.is=e})(Kae=wn.CancellationReceiverStrategy||(wn.CancellationReceiverStrategy={}));var Yae;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(BM.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Jc.func(n.sendCancellation)&&Jc.func(n.cleanup)}r.is=e})(Yae=wn.CancellationSenderStrategy||(wn.CancellationSenderStrategy={}));var Xae;(function(r){r.Message=Object.freeze({receiver:Kae.Message,sender:Yae.Message});function e(t){let n=t;return n&&Kae.is(n.receiver)&&Yae.is(n.sender)}r.is=e})(Xae=wn.CancellationStrategy||(wn.CancellationStrategy={}));var Qae;(function(r){function e(t){let n=t;return n&&Jc.func(n.handleMessage)}r.is=e})(Qae=wn.MessageStrategy||(wn.MessageStrategy={}));var oIt;(function(r){function e(t){let n=t;return n&&(Xae.is(n.cancellationStrategy)||G2e.is(n.connectionStrategy)||Qae.is(n.messageStrategy))}r.is=e})(oIt=wn.ConnectionOptions||(wn.ConnectionOptions={}));var Wy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Wy||(Wy={}));function sIt(r,e,t,n){let i=t!==void 0?t:wn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,m=new Map,_,D=new W2e.LinkedMap,O=new Map,M=new Set,A=new Map,U=Us.Off,ne=By.Text,de,ye=Wy.New,V=new UM.Emitter,$=new UM.Emitter,ee=new UM.Emitter,De=new UM.Emitter,ae=new UM.Emitter,ce=n&&n.cancellationStrategy?n.cancellationStrategy:Xae.Message;function qe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function Ne(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function ue(){return"not-"+(++s).toString()}function Ce(oe,Q){_i.Message.isRequest(Q)?oe.set(qe(Q.id),Q):_i.Message.isResponse(Q)?oe.set(Ne(Q.id),Q):oe.set(ue(),Q)}function be(oe){}function xe(){return ye===Wy.Listening}function Me(){return ye===Wy.Closed}function $e(){return ye===Wy.Disposed}function Ct(){(ye===Wy.New||ye===Wy.Listening)&&(ye=Wy.Closed,$.fire(void 0))}function ze(oe){V.fire([oe,void 0,void 0])}function st(oe){V.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,B2e.default)().timer.setImmediate(()=>{_=void 0,fr()}))}function tt(oe){_i.Message.isRequest(oe)?zr(oe):_i.Message.isNotification(oe)?xt(oe):_i.Message.isResponse(oe)?cr(oe):hr(oe)}function fr(){if(D.size===0)return;let oe=D.shift();try{let Q=n?.messageStrategy;Qae.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{at()}}let Lr=oe=>{try{if(_i.Message.isNotification(oe)&&oe.method===BM.type.method){let Q=oe.params.id,_e=qe(Q),Je=D.get(_e);if(_i.Message.isRequest(Je)){let Yt=n?.connectionStrategy,rr=Yt&&Yt.cancelUndispatched?Yt.cancelUndispatched(Je,be):void 0;if(rr&&(rr.error!==void 0||rr.result!==void 0)){D.delete(_e),A.delete(Q),rr.id=Je.id,On(rr,oe.method,Date.now()),e.write(rr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=A.get(Q);if(ft!==void 0){ft.cancel(),Hn(oe);return}else M.add(Q)}Ce(D,oe)}finally{at()}};function zr(oe){if($e())return;function Q($t,kt,K){let Fe={jsonrpc:c,id:oe.id};$t instanceof _i.ResponseError?Fe.error=$t.toJson():Fe.result=$t===void 0?null:$t,On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function _e($t,kt,K){let Fe={jsonrpc:c,id:oe.id,error:$t.toJson()};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}function Je($t,kt,K){$t===void 0&&($t=null);let Fe={jsonrpc:c,id:oe.id,result:$t};On(Fe,kt,K),e.write(Fe).catch(()=>i.error("Sending response failed."))}Or(oe);let ft=l.get(oe.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||u){let $t=oe.id??String(Date.now()),kt=Jae.is(ce.receiver)?ce.receiver.createCancellationTokenSource($t):ce.receiver.createCancellationTokenSource(oe);oe.id!==null&&M.has(oe.id)&&kt.cancel(),oe.id!==null&&A.set($t,kt);try{let K;if(rr)if(oe.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Yt.numberOfParams} params but received none.`),oe.method,Jt);return}K=rr(kt.token)}else if(Array.isArray(oe.params)){if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byName){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Jt);return}K=rr(...oe.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byPosition){_e(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Jt);return}K=rr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let Fe=K;K?Fe.then?Fe.then(Ht=>{A.delete($t),Q(Ht,oe.method,Jt)},Ht=>{A.delete($t),Ht instanceof _i.ResponseError?_e(Ht,oe.method,Jt):Ht&&Jc.string(Ht.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Ht.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}):(A.delete($t),Q(K,oe.method,Jt)):(A.delete($t),Je(K,oe.method,Jt))}catch(K){A.delete($t),K instanceof _i.ResponseError?Q(K,oe.method,Jt):K&&Jc.string(K.message)?_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Jt):_e(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}}else _e(new _i.ResponseError(_i.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Jt)}function cr(oe){if(!$e())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,_e=O.get(Q);if($r(oe,_e),_e!==void 0){O.delete(Q);try{if(oe.error){let Je=oe.error;_e.reject(new _i.ResponseError(Je.code,Je.message,Je.data))}else if(oe.result!==void 0)_e.resolve(oe.result);else throw new Error("Should never happen.")}catch(Je){Je.message?i.error(`Response handler '${_e.method}' failed with message: ${Je.message}`):i.error(`Response handler '${_e.method}' failed unexpectedly.`)}}}}function xt(oe){if($e())return;let Q,_e;if(oe.method===BM.type.method){let Je=oe.params.id;M.delete(Je),Hn(oe);return}else{let Je=f.get(oe.method);Je&&(_e=Je.handler,Q=Je.type)}if(_e||d)try{if(Hn(oe),_e)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),_e();else if(Array.isArray(oe.params)){let Je=oe.params;oe.method===HM.type.method&&Je.length===2&&$2e.is(Je[0])?_e({token:Je[0],value:Je[1]}):(Q!==void 0&&(Q.parameterStructures===_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Je.length} arguments`)),_e(...Je))}else Q!==void 0&&Q.parameterStructures===_i.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),_e(oe.params);else d&&d(oe.method,oe.params)}catch(Je){Je.message?i.error(`Notification handler '${oe.method}' failed with message: ${Je.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else ee.fire(oe)}function hr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(Jc.string(Q.id)||Jc.number(Q.id)){let _e=Q.id,Je=O.get(_e);Je&&Je.reject(new Error("The received response has neither a result nor an error property."))}}function Mt(oe){if(oe!=null)switch(U){case Us.Verbose:return JSON.stringify(oe,null,4);case Us.Compact:return JSON.stringify(oe);default:return}}function on(oe){if(!(U===Us.Off||!de))if(ne===By.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),de.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else ln("send-request",oe)}function un(oe){if(!(U===Us.Off||!de))if(ne===By.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Sending notification '${oe.method}'.`,Q)}else ln("send-notification",oe)}function On(oe,Q,_e){if(!(U===Us.Off||!de))if(ne===By.Text){let Je;(U===Us.Verbose||U===Us.Compact)&&(oe.error&&oe.error.data?Je=`Error data: ${Mt(oe.error.data)}

`:oe.result?Je=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(Je=`No result returned.

`)),de.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-_e}ms`,Je)}else ln("send-response",oe)}function Or(oe){if(!(U===Us.Off||!de))if(ne===By.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),de.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else ln("receive-request",oe)}function Hn(oe){if(!(U===Us.Off||!de||oe.method===Gae.type.method))if(ne===By.Text){let Q;(U===Us.Verbose||U===Us.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Received notification '${oe.method}'.`,Q)}else ln("receive-notification",oe)}function $r(oe,Q){if(!(U===Us.Off||!de))if(ne===By.Text){let _e;if((U===Us.Verbose||U===Us.Compact)&&(oe.error&&oe.error.data?_e=`Error data: ${Mt(oe.error.data)}

`:oe.result?_e=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(_e=`No result returned.

`)),Q){let Je=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";de.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Je}`,_e)}else de.log(`Received response ${oe.id} without active response promise.`,_e)}else ln("receive-response",oe)}function ln(oe,Q){if(!de||U===Us.Off)return;let _e={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};de.log(_e)}function ii(){if(Me())throw new uO(G3.Closed,"Connection is closed.");if($e())throw new uO(G3.Disposed,"Connection is disposed.")}function Vr(){if(xe())throw new uO(G3.AlreadyListening,"Connection is already listening")}function An(){if(!xe())throw new Error("Call listen() first.")}function Ri(oe){return oe===void 0?null:oe}function Gr(oe){if(oe!==null)return oe}function Ji(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function oi(oe,Q){switch(oe){case _i.ParameterStructures.auto:return Ji(Q)?Gr(Q):[Ri(Q)];case _i.ParameterStructures.byName:if(!Ji(Q))throw new Error("Received parameters by name but param is not an object literal.");return Gr(Q);case _i.ParameterStructures.byPosition:return[Ri(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function fn(oe,Q){let _e,Je=oe.numberOfParams;switch(Je){case 0:_e=void 0;break;case 1:_e=oi(oe.parameterStructures,Q[0]);break;default:_e=[];for(let ft=0;ft<Q.length&&ft<Je;ft++)_e.push(Ri(Q[ft]));if(Q.length<Je)for(let ft=Q.length;ft<Je;ft++)_e.push(null);break}return _e}let Oe={sendNotification:(oe,...Q)=>{ii();let _e,Je;if(Jc.string(oe)){_e=oe;let Yt=Q[0],rr=0,Jt=_i.ParameterStructures.auto;_i.ParameterStructures.is(Yt)&&(rr=1,Jt=Yt);let $t=Q.length,kt=$t-rr;switch(kt){case 0:Je=void 0;break;case 1:Je=oi(Jt,Q[rr]);break;default:if(Jt===_i.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Je=Q.slice(rr,$t).map(K=>Ri(K));break}}else{let Yt=Q;_e=oe.method,Je=fn(oe,Yt)}let ft={jsonrpc:c,method:_e,params:Je};return un(ft),e.write(ft).catch(Yt=>{throw i.error("Sending notification failed."),Yt})},onNotification:(oe,Q)=>{ii();let _e;return Jc.func(oe)?d=oe:Q&&(Jc.string(oe)?(_e=oe,f.set(oe,{type:void 0,handler:Q})):(_e=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{_e!==void 0?f.delete(_e):d=void 0}}},onProgress:(oe,Q,_e)=>{if(m.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return m.set(Q,_e),{dispose:()=>{m.delete(Q)}}},sendProgress:(oe,Q,_e)=>Oe.sendNotification(HM.type,{token:Q,value:_e}),onUnhandledProgress:De.event,sendRequest:(oe,...Q)=>{ii(),An();let _e,Je,ft;if(Jc.string(oe)){_e=oe;let $t=Q[0],kt=Q[Q.length-1],K=0,Fe=_i.ParameterStructures.auto;_i.ParameterStructures.is($t)&&(K=1,Fe=$t);let Ht=Q.length;Wae.CancellationToken.is(kt)&&(Ht=Ht-1,ft=kt);let Dr=Ht-K;switch(Dr){case 0:Je=void 0;break;case 1:Je=oi(Fe,Q[K]);break;default:if(Fe===_i.ParameterStructures.byName)throw new Error(`Received ${Dr} parameters for 'by Name' request parameter structure.`);Je=Q.slice(K,Ht).map(He=>Ri(He));break}}else{let $t=Q;_e=oe.method,Je=fn(oe,$t);let kt=oe.numberOfParams;ft=Wae.CancellationToken.is($t[kt])?$t[kt]:void 0}let Yt=o++,rr;ft&&(rr=ft.onCancellationRequested(()=>{let $t=ce.sender.sendCancellation(Oe,Yt);return $t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Yt}`),Promise.resolve()):$t.catch(()=>{i.log(`Sending cancellation messages for id ${Yt} failed`)})}));let Jt={jsonrpc:c,id:Yt,method:_e,params:Je};return on(Jt),typeof ce.sender.enableCancellation=="function"&&ce.sender.enableCancellation(Jt),new Promise(async($t,kt)=>{let K=Dr=>{$t(Dr),ce.sender.cleanup(Yt),rr?.dispose()},Fe=Dr=>{kt(Dr),ce.sender.cleanup(Yt),rr?.dispose()},Ht={method:_e,timerStart:Date.now(),resolve:K,reject:Fe};try{await e.write(Jt),O.set(Yt,Ht)}catch(Dr){throw i.error("Sending request failed."),Ht.reject(new _i.ResponseError(_i.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Dr}})},onRequest:(oe,Q)=>{ii();let _e=null;return Vae.is(oe)?(_e=void 0,u=oe):Jc.string(oe)?(_e=null,Q!==void 0&&(_e=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(_e=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{_e!==null&&(_e!==void 0?l.delete(_e):u=void 0)}}},hasPendingResponse:()=>O.size>0,trace:async(oe,Q,_e)=>{let Je=!1,ft=By.Text;_e!==void 0&&(Jc.boolean(_e)?Je=_e:(Je=_e.sendNotification||!1,ft=_e.traceFormat||By.Text)),U=oe,ne=ft,U===Us.Off?de=void 0:de=Q,Je&&!Me()&&!$e()&&await Oe.sendNotification(V2e.type,{value:Us.toString(oe)})},onError:V.event,onClose:$.event,onUnhandledNotification:ee.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;ye=Wy.Disposed,ae.fire(void 0);let oe=new _i.ResponseError(_i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of O.values())Q.reject(oe);O=new Map,A=new Map,M=new Set,D=new W2e.LinkedMap,Jc.func(e.dispose)&&e.dispose(),Jc.func(r.dispose)&&r.dispose()},listen:()=>{ii(),Vr(),ye=Wy.Listening,r.listen(Lr)},inspect:()=>{(0,B2e.default)().console.log("inspect")}};return Oe.onNotification(Gae.type,oe=>{if(U===Us.Off||!de)return;let Q=U===Us.Verbose||U===Us.Compact;de.log(oe.message,Q?oe.verbose:void 0)}),Oe.onNotification(HM.type,oe=>{let Q=m.get(oe.token);Q?Q(oe.value):De.fire(oe)}),Oe}wn.createMessageConnection=sIt});var K3=E(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProgressType=Ft.ProgressToken=Ft.createMessageConnection=Ft.NullLogger=Ft.ConnectionOptions=Ft.ConnectionStrategy=Ft.AbstractMessageBuffer=Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=Ft.ReadableStreamMessageReader=Ft.AbstractMessageReader=Ft.MessageReader=Ft.SharedArrayReceiverStrategy=Ft.SharedArraySenderStrategy=Ft.CancellationToken=Ft.CancellationTokenSource=Ft.Emitter=Ft.Event=Ft.Disposable=Ft.LRUCache=Ft.Touch=Ft.LinkedMap=Ft.ParameterStructures=Ft.NotificationType9=Ft.NotificationType8=Ft.NotificationType7=Ft.NotificationType6=Ft.NotificationType5=Ft.NotificationType4=Ft.NotificationType3=Ft.NotificationType2=Ft.NotificationType1=Ft.NotificationType0=Ft.NotificationType=Ft.ErrorCodes=Ft.ResponseError=Ft.RequestType9=Ft.RequestType8=Ft.RequestType7=Ft.RequestType6=Ft.RequestType5=Ft.RequestType4=Ft.RequestType3=Ft.RequestType2=Ft.RequestType1=Ft.RequestType0=Ft.RequestType=Ft.Message=Ft.RAL=void 0;Ft.MessageStrategy=Ft.CancellationStrategy=Ft.CancellationSenderStrategy=Ft.CancellationReceiverStrategy=Ft.ConnectionError=Ft.ConnectionErrors=Ft.LogTraceNotification=Ft.SetTraceNotification=Ft.TraceFormat=Ft.TraceValues=Ft.Trace=void 0;var Ca=wae();Object.defineProperty(Ft,"Message",{enumerable:!0,get:function(){return Ca.Message}});Object.defineProperty(Ft,"RequestType",{enumerable:!0,get:function(){return Ca.RequestType}});Object.defineProperty(Ft,"RequestType0",{enumerable:!0,get:function(){return Ca.RequestType0}});Object.defineProperty(Ft,"RequestType1",{enumerable:!0,get:function(){return Ca.RequestType1}});Object.defineProperty(Ft,"RequestType2",{enumerable:!0,get:function(){return Ca.RequestType2}});Object.defineProperty(Ft,"RequestType3",{enumerable:!0,get:function(){return Ca.RequestType3}});Object.defineProperty(Ft,"RequestType4",{enumerable:!0,get:function(){return Ca.RequestType4}});Object.defineProperty(Ft,"RequestType5",{enumerable:!0,get:function(){return Ca.RequestType5}});Object.defineProperty(Ft,"RequestType6",{enumerable:!0,get:function(){return Ca.RequestType6}});Object.defineProperty(Ft,"RequestType7",{enumerable:!0,get:function(){return Ca.RequestType7}});Object.defineProperty(Ft,"RequestType8",{enumerable:!0,get:function(){return Ca.RequestType8}});Object.defineProperty(Ft,"RequestType9",{enumerable:!0,get:function(){return Ca.RequestType9}});Object.defineProperty(Ft,"ResponseError",{enumerable:!0,get:function(){return Ca.ResponseError}});Object.defineProperty(Ft,"ErrorCodes",{enumerable:!0,get:function(){return Ca.ErrorCodes}});Object.defineProperty(Ft,"NotificationType",{enumerable:!0,get:function(){return Ca.NotificationType}});Object.defineProperty(Ft,"NotificationType0",{enumerable:!0,get:function(){return Ca.NotificationType0}});Object.defineProperty(Ft,"NotificationType1",{enumerable:!0,get:function(){return Ca.NotificationType1}});Object.defineProperty(Ft,"NotificationType2",{enumerable:!0,get:function(){return Ca.NotificationType2}});Object.defineProperty(Ft,"NotificationType3",{enumerable:!0,get:function(){return Ca.NotificationType3}});Object.defineProperty(Ft,"NotificationType4",{enumerable:!0,get:function(){return Ca.NotificationType4}});Object.defineProperty(Ft,"NotificationType5",{enumerable:!0,get:function(){return Ca.NotificationType5}});Object.defineProperty(Ft,"NotificationType6",{enumerable:!0,get:function(){return Ca.NotificationType6}});Object.defineProperty(Ft,"NotificationType7",{enumerable:!0,get:function(){return Ca.NotificationType7}});Object.defineProperty(Ft,"NotificationType8",{enumerable:!0,get:function(){return Ca.NotificationType8}});Object.defineProperty(Ft,"NotificationType9",{enumerable:!0,get:function(){return Ca.NotificationType9}});Object.defineProperty(Ft,"ParameterStructures",{enumerable:!0,get:function(){return Ca.ParameterStructures}});var Zae=Cae();Object.defineProperty(Ft,"LinkedMap",{enumerable:!0,get:function(){return Zae.LinkedMap}});Object.defineProperty(Ft,"LRUCache",{enumerable:!0,get:function(){return Zae.LRUCache}});Object.defineProperty(Ft,"Touch",{enumerable:!0,get:function(){return Zae.Touch}});var aIt=M2e();Object.defineProperty(Ft,"Disposable",{enumerable:!0,get:function(){return aIt.Disposable}});var J2e=sO();Object.defineProperty(Ft,"Event",{enumerable:!0,get:function(){return J2e.Event}});Object.defineProperty(Ft,"Emitter",{enumerable:!0,get:function(){return J2e.Emitter}});var X2e=H3();Object.defineProperty(Ft,"CancellationTokenSource",{enumerable:!0,get:function(){return X2e.CancellationTokenSource}});Object.defineProperty(Ft,"CancellationToken",{enumerable:!0,get:function(){return X2e.CancellationToken}});var Q2e=N2e();Object.defineProperty(Ft,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Q2e.SharedArraySenderStrategy}});Object.defineProperty(Ft,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Q2e.SharedArrayReceiverStrategy}});var ece=F2e();Object.defineProperty(Ft,"MessageReader",{enumerable:!0,get:function(){return ece.MessageReader}});Object.defineProperty(Ft,"AbstractMessageReader",{enumerable:!0,get:function(){return ece.AbstractMessageReader}});Object.defineProperty(Ft,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return ece.ReadableStreamMessageReader}});var tce=U2e();Object.defineProperty(Ft,"MessageWriter",{enumerable:!0,get:function(){return tce.MessageWriter}});Object.defineProperty(Ft,"AbstractMessageWriter",{enumerable:!0,get:function(){return tce.AbstractMessageWriter}});Object.defineProperty(Ft,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return tce.WriteableStreamMessageWriter}});var cIt=H2e();Object.defineProperty(Ft,"AbstractMessageBuffer",{enumerable:!0,get:function(){return cIt.AbstractMessageBuffer}});var sf=Y2e();Object.defineProperty(Ft,"ConnectionStrategy",{enumerable:!0,get:function(){return sf.ConnectionStrategy}});Object.defineProperty(Ft,"ConnectionOptions",{enumerable:!0,get:function(){return sf.ConnectionOptions}});Object.defineProperty(Ft,"NullLogger",{enumerable:!0,get:function(){return sf.NullLogger}});Object.defineProperty(Ft,"createMessageConnection",{enumerable:!0,get:function(){return sf.createMessageConnection}});Object.defineProperty(Ft,"ProgressToken",{enumerable:!0,get:function(){return sf.ProgressToken}});Object.defineProperty(Ft,"ProgressType",{enumerable:!0,get:function(){return sf.ProgressType}});Object.defineProperty(Ft,"Trace",{enumerable:!0,get:function(){return sf.Trace}});Object.defineProperty(Ft,"TraceValues",{enumerable:!0,get:function(){return sf.TraceValues}});Object.defineProperty(Ft,"TraceFormat",{enumerable:!0,get:function(){return sf.TraceFormat}});Object.defineProperty(Ft,"SetTraceNotification",{enumerable:!0,get:function(){return sf.SetTraceNotification}});Object.defineProperty(Ft,"LogTraceNotification",{enumerable:!0,get:function(){return sf.LogTraceNotification}});Object.defineProperty(Ft,"ConnectionErrors",{enumerable:!0,get:function(){return sf.ConnectionErrors}});Object.defineProperty(Ft,"ConnectionError",{enumerable:!0,get:function(){return sf.ConnectionError}});Object.defineProperty(Ft,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return sf.CancellationReceiverStrategy}});Object.defineProperty(Ft,"CancellationSenderStrategy",{enumerable:!0,get:function(){return sf.CancellationSenderStrategy}});Object.defineProperty(Ft,"CancellationStrategy",{enumerable:!0,get:function(){return sf.CancellationStrategy}});Object.defineProperty(Ft,"MessageStrategy",{enumerable:!0,get:function(){return sf.MessageStrategy}});var uIt=fT();Ft.RAL=uIt.default});var tje=E(oce=>{"use strict";Object.defineProperty(oce,"__esModule",{value:!0});var Z2e=require("util"),gS=K3(),Y3=class r extends gS.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new Z2e.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};Y3.emptyBuffer=Buffer.allocUnsafe(0);var rce=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),gS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),gS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),gS.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),gS.Disposable.create(()=>this.stream.off("data",e))}},nce=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),gS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),gS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),gS.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},eje=Object.freeze({messageBuffer:Object.freeze({create:r=>new Y3(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new Z2e.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new rce(r),asWritableStream:r=>new nce(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function ice(){return eje}(function(r){function e(){gS.RAL.install(eje)}r.install=e})(ice||(ice={}));oce.default=ice});var P0=E(No=>{"use strict";var lIt=No&&No.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dIt=No&&No.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lIt(e,r,t)};Object.defineProperty(No,"__esModule",{value:!0});No.createMessageConnection=No.createServerSocketTransport=No.createClientSocketTransport=No.createServerPipeTransport=No.createClientPipeTransport=No.generateRandomPipeName=No.StreamMessageWriter=No.StreamMessageReader=No.SocketMessageWriter=No.SocketMessageReader=No.PortMessageWriter=No.PortMessageReader=No.IPCMessageWriter=No.IPCMessageReader=void 0;var lO=tje();lO.default.install();var rje=require("path"),fIt=require("os"),hIt=require("crypto"),Q3=require("net"),mg=K3();dIt(K3(),No);var sce=class extends mg.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),mg.Disposable.create(()=>this.process.off("message",e))}};No.IPCMessageReader=sce;var ace=class extends mg.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.IPCMessageWriter=ace;var cce=class extends mg.AbstractMessageReader{constructor(e){super(),this.onData=new mg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};No.PortMessageReader=cce;var uce=class extends mg.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.PortMessageWriter=uce;var D0=class extends mg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,lO.default)().stream.asReadableStream(e),t)}};No.SocketMessageReader=D0;var E0=class extends mg.WriteableStreamMessageWriter{constructor(e,t){super((0,lO.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};No.SocketMessageWriter=E0;var J3=class extends mg.ReadableStreamMessageReader{constructor(e,t){super((0,lO.default)().stream.asReadableStream(e),t)}};No.StreamMessageReader=J3;var X3=class extends mg.WriteableStreamMessageWriter{constructor(e,t){super((0,lO.default)().stream.asWritableStream(e),t)}};No.StreamMessageWriter=X3;var nje=process.env.XDG_RUNTIME_DIR,pIt=new Map([["linux",107],["darwin",103]]);function mIt(){let r=(0,hIt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;nje?e=rje.join(nje,`vscode-ipc-${r}.sock`):e=rje.join(fIt.tmpdir(),`vscode-${r}.sock`);let t=pIt.get(process.platform);return t!==void 0&&e.length>t&&(0,lO.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}No.generateRandomPipeName=mIt;function gIt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,Q3.createServer)(a=>{s.close(),t([new D0(a,e),new E0(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}No.createClientPipeTransport=gIt;function vIt(r,e="utf-8"){let t=(0,Q3.createConnection)(r);return[new D0(t,e),new E0(t,e)]}No.createServerPipeTransport=vIt;function yIt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,Q3.createServer)(a=>{s.close(),t([new D0(a,e),new E0(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}No.createClientSocketTransport=yIt;function _It(r,e="utf-8"){let t=(0,Q3.createConnection)(r,"127.0.0.1");return[new D0(t,e),new E0(t,e)]}No.createServerSocketTransport=_It;function bIt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function wIt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function SIt(r,e,t,n){t||(t=mg.NullLogger);let i=bIt(r)?new J3(r):r,o=wIt(e)?new X3(e):e;return mg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,mg.createMessageConnection)(i,o,t,n)}No.createMessageConnection=SIt});var oje=E((lir,ije)=>{"use strict";ije.exports=P0()});var $M=E(WM=>{"use strict";Object.defineProperty(WM,"__esModule",{value:!0});WM.ServiceMoniker=void 0;var CIt;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})(CIt=WM.ServiceMoniker||(WM.ServiceMoniker={}))});var fce=E(hT=>{"use strict";var TIt=hT&&hT.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hT,"__esModule",{value:!0});hT.RpcConnection=hT.ServiceRpcDescriptor=void 0;var DIt=TIt(require("assert")),lce=class{moniker;constructor(e){this.moniker=e,(0,DIt.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};hT.ServiceRpcDescriptor=lce;var dce=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};hT.RpcConnection=dce});var aje=E(VM=>{"use strict";var EIt=VM&&VM.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VM,"__esModule",{value:!0});var sje=function(){},hce=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),sje):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):sje},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){EIt(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(hce||(hce={}));VM.default=hce});var pT=E(pce=>{"use strict";Object.defineProperty(pce,"__esModule",{value:!0});var PIt=aje();pce.default=PIt.default});var cje=E(dO=>{"use strict";var RIt=dO&&dO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dO,"__esModule",{value:!0});dO.CancellationTokenAdapters=void 0;var mce=RIt(pT()),GM=P0();function xIt(r){return r&&r.ImAProxy!==void 0}var gce=class{static isVSCode(e){return GM.CancellationToken.is(e)}static isCancellationToken(e){return e&&!xIt(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return mce.default.CANCELLED;if(e===GM.CancellationToken.None)return mce.default.CONTINUE;{let t=mce.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return GM.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new GM.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return GM.CancellationToken.None}};dO.CancellationTokenAdapters=gce});var vce=E(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});hO.registerInstanceMethodsAsRpcTargets=hO.invokeRpc=void 0;var fO=P0(),eV=cje(),R0=tV();async function OIt(r,e,t){if(e.length>0){if(fO.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=Z3(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,fO.ParameterStructures.byPosition,...o,i)}else if(eV.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=eV.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=Z3(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,fO.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=Z3(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,fO.ParameterStructures.byPosition,...i)}}let n=Z3(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,fO.ParameterStructures.byPosition,...n);return FIt(t,i)}catch(i){for(let o of n)R0.IJsonRpcMarshaledObject.is(o)&&R0.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}hO.invokeRpc=OIt;function Z3(r,e){return kIt(e).map(t=>lje(r,t))}async function IIt(r,e){let t=await e;return lje(r,t)}function lje(r,e){return R0.RpcMarshalable.is(e)||R0.MarshaledObjectProxy.is(e)?R0.IJsonRpcMarshaledObject.wrap(e,r):e}function kIt(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function AIt(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function LIt(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&AIt(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function MIt(r){if(r.length>0&&eV.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=eV.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function NIt(r,e){return R0.IJsonRpcMarshaledObject.is(e)?R0.IJsonRpcMarshaledObject.unwrap(e,r):e}function dje(r,e){return NIt(r,e)}function uje(r,e){return MIt(e).map(t=>dje(r,t))}function FIt(r,e){return dje(r,e)}function qIt(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>IIt(e,s.apply(r,uje(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,uje(e,c))))}return LIt(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),fO.Disposable.create(()=>n.forEach(o=>o.dispose()))}hO.registerInstanceMethodsAsRpcTargets=qIt});var tV=E(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.IJsonRpcMarshaledObject=gg.MarshaledObjectProxy=gg.RpcMarshalable=gg.registerReleaseMarshaledObjectCallback=void 0;var jIt=P0(),fje=vce(),hje="$/releaseMarshaledObject";function zIt(r){r.onNotification(hje,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}gg.registerReleaseMarshaledObjectCallback=zIt;function pje(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var UIt;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(UIt=gg.RpcMarshalable||(gg.RpcMarshalable={}));var mje;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(mje=gg.MarshaledObjectProxy||(gg.MarshaledObjectProxy={}));var HIt={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=pje(r._jsonrpcMarshaledHandle,e.toString());return(0,fje.invokeRpc)(t,arguments,r.messageConnection)}}}};function yce(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var BIt;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=yce(s);if(mje.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,fje.registerInstanceMethodsAsRpcTargets)(o,s,d=>pje(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){yce(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=yce(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(hje,jIt.ParameterStructures.byName,d)}}};c=new Proxy(l,HIt),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(BIt=gg.IJsonRpcMarshaledObject||(gg.IJsonRpcMarshaledObject={}))});var _ce=E(Ev=>{"use strict";var WIt=Ev&&Ev.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.isChannel=Ev.clone=Ev.isReadWriteStream=Ev.constructMessageConnection=void 0;var $It=WIt(require("assert")),VIt=tV();function GIt(r,e){(0,$It.default)(r);let t;return gje(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,VIt.registerReleaseMarshaledObjectCallback)(t),t}Ev.constructMessageConnection=GIt;function gje(r){return r&&"unshift"in r}Ev.isReadWriteStream=gje;function KIt(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}Ev.clone=KIt;function YIt(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}Ev.isChannel=YIt});var Sce=E(wce=>{"use strict";var rV=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};wce.Semaphore=rV;var bce=class extends rV{constructor(){super(1)}};wce.Mutex=bce});var KM=E(nV=>{"use strict";Object.defineProperty(nV,"__esModule",{value:!0});nV.Deferred=void 0;var Cce=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};nV.Deferred=Cce});var pO=E(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.removeFromQueue=sh.requireInteger=sh.throwIfDisposed=sh.getBufferFrom=sh.readSubstream=sh.writeSubstream=sh.writeAsync=void 0;var yje=require("stream"),vje=KM();async function Tce(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}sh.writeAsync=Tce;function JIt(r){return new yje.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await Tce(r,Buffer.from(i.buffer)),await Tce(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}sh.writeSubstream=JIt;function XIt(r){return new yje.Readable({async read(e){let t=await Dce(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await Dce(r,i);this.push(o)}})}sh.readSubstream=XIt;async function Dce(r,e,t=!1,n){let i=new vje.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new vje.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}sh.getBufferFrom=Dce;function QIt(r){if(r.isDisposed)throw new Error("disposed")}sh.throwIfDisposed=QIt;function ZIt(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}sh.requireInteger=ZIt;function ekt(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}sh.removeFromQueue=ekt});var bje=E(mT=>{"use strict";var tkt=mT&&mT.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mT,"__esModule",{value:!0});mT.BE32MessageWriter=mT.BE32MessageReader=void 0;var Ece=P0(),rkt=tkt(pT()),_je=require("stream"),nkt=Sce(),iV=pO(),Pce=class extends Ece.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=rkt.default.create();return(async()=>{try{for(;;){let n=await(0,iV.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,iV.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),Ece.Disposable.create(()=>t.cancel())}};mT.BE32MessageReader=Pce;var Rce=class extends Ece.AbstractMessageWriter{writable;encoder;semaphore=new nkt.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof _je.Writable&&this.writable.cork();let n=Promise.all([(0,iV.writeAsync)(this.writable,this.headerBuffer),(0,iV.writeAsync)(this.writable,t)]);this.writable instanceof _je.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([ikt(t),void 0,this.errorCount])}})}end(){this.writable.end()}};mT.BE32MessageWriter=Rce;function ikt(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var Sje=E((Oce,wje)=>{wje.exports=xce(typeof Buffer<"u"&&Buffer)||xce(Oce.Buffer)||xce(typeof window<"u"&&window.Buffer)||Oce.Buffer;function xce(r){return r&&r.isBuffer&&r}});var oV=E((Cir,Cje)=>{var okt={}.toString;Cje.exports=Array.isArray||function(r){return okt.call(r)=="[object Array]"}});var Eje=E((gO,Dje)=>{var mO=vg(),gO=Dje.exports=Tje(0);gO.alloc=Tje;gO.concat=mO.concat;gO.from=skt;function Tje(r){return new Array(r)}function skt(r){if(!mO.isBuffer(r)&&mO.isView(r))r=mO.Uint8Array.from(r);else if(mO.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return mO.from.call(gO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var xje=E((yO,Rje)=>{var vS=vg(),vO=vS.global,yO=Rje.exports=vS.hasBuffer?Pje(0):[];yO.alloc=vS.hasBuffer&&vO.alloc||Pje;yO.concat=vS.concat;yO.from=akt;function Pje(r){return new vO(r)}function akt(r){if(!vS.isBuffer(r)&&vS.isView(r))r=vS.Uint8Array.from(r);else if(vS.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return vS.from.call(yO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return vO.from&&vO.from.length!==1?vO.from(r):new vO(r)}});var kje=E((_O,Ije)=>{var sV=vg(),_O=Ije.exports=sV.hasArrayBuffer?Oje(0):[];_O.alloc=Oje;_O.concat=sV.concat;_O.from=ckt;function Oje(r){return new Uint8Array(r)}function ckt(r){if(sV.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return sV.from.call(_O,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var Aje=E(aV=>{aV.copy=dkt;aV.toString=lkt;aV.write=ukt;function ukt(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function lkt(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function dkt(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var cV=E(YM=>{var Ice=Aje();YM.copy=Fje;YM.slice=qje;YM.toString=fkt;YM.write=hkt("write");var gT=vg(),Lje=gT.global,Mje=gT.hasBuffer&&"TYPED_ARRAY_SUPPORT"in Lje,Nje=Mje&&!Lje.TYPED_ARRAY_SUPPORT;function Fje(r,e,t,n){var i=gT.isBuffer(this),o=gT.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!Nje&&!i&&!o&&gT.isView(this)&&gT.isView(r)){var s=t||n!=null?qje.call(this,t,n):this;return r.set(s,e),s.length}else return Ice.copy.call(this,r,e,t,n)}function qje(r,e){var t=this.slice||!Nje&&this.subarray;if(t)return t.call(this,r,e);var n=gT.alloc.call(this,e-r);return Fje.call(this,n,0,r,e),n}function fkt(r,e,t){var n=!Mje&&gT.isBuffer(this)?this.toString:Ice.toString;return n.apply(this,arguments)}function hkt(r){return e;function e(){var t=this[r]||Ice[r];return t.apply(this,arguments)}}});var vg=E(ah=>{var kce=ah.global=Sje(),Hje=ah.hasBuffer=kce&&!!kce.isBuffer,Lce=ah.hasArrayBuffer=typeof ArrayBuffer<"u",pkt=ah.isArray=oV();ah.isArrayBuffer=Lce?bkt:Nce;var mkt=ah.isBuffer=Hje?kce.isBuffer:Nce,gkt=ah.isView=Lce?ArrayBuffer.isView||Wje("ArrayBuffer","buffer"):Nce;ah.alloc=Mce;ah.concat=ykt;ah.from=vkt;var jje=ah.Array=Eje(),zje=ah.Buffer=xje(),Uje=ah.Uint8Array=kje(),Ace=ah.prototype=cV();function vkt(r){return typeof r=="string"?wkt.call(this,r):Bje(this).from(r)}function Mce(r){return Bje(this).alloc(r)}function ykt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==ah&&this||r[0],n=Mce.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=Ace.copy.call(a,n,i)}}var _kt=Wje("ArrayBuffer");function bkt(r){return r instanceof ArrayBuffer||_kt(r)}function wkt(r){var e=r.length*3,t=Mce.call(this,e),n=Ace.write.call(t,r);return e!==n&&(t=Ace.slice.call(t,0,n)),t}function Bje(r){return mkt(r)?zje:gkt(r)?Uje:pkt(r)?jje:Hje?zje:Lce?Uje:jje}function Nce(){return!1}function Wje(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var uV=E($je=>{$je.ExtBuffer=Fce;var Skt=vg();function Fce(r,e){if(!(this instanceof Fce))return new Fce(r,e);this.buffer=Skt.from(r),this.type=e}});var Gje=E(Vje=>{Vje.setExtPackers=Dkt;var lV=vg(),Ckt=lV.global,$y=lV.Uint8Array.from,qce,Tkt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function Dkt(r){r.addExtPacker(14,Error,[x0,Pv]),r.addExtPacker(1,EvalError,[x0,Pv]),r.addExtPacker(2,RangeError,[x0,Pv]),r.addExtPacker(3,ReferenceError,[x0,Pv]),r.addExtPacker(4,SyntaxError,[x0,Pv]),r.addExtPacker(5,TypeError,[x0,Pv]),r.addExtPacker(6,URIError,[x0,Pv]),r.addExtPacker(10,RegExp,[Ekt,Pv]),r.addExtPacker(11,Boolean,[jce,Pv]),r.addExtPacker(12,String,[jce,Pv]),r.addExtPacker(13,Date,[Number,Pv]),r.addExtPacker(15,Number,[jce,Pv]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,$y),r.addExtPacker(18,Uint8Array,$y),r.addExtPacker(19,Int16Array,$y),r.addExtPacker(20,Uint16Array,$y),r.addExtPacker(21,Int32Array,$y),r.addExtPacker(22,Uint32Array,$y),r.addExtPacker(23,Float32Array,$y),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,$y),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,$y),r.addExtPacker(26,ArrayBuffer,$y),r.addExtPacker(29,DataView,$y)),lV.hasBuffer&&r.addExtPacker(27,Ckt,lV.from)}function Pv(r){return qce||(qce=zce().encode),qce(r)}function jce(r){return r.valueOf()}function Ekt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function x0(r){var e={};for(var t in Tkt)e[t]=r[t];return e}});var dV=E(JM=>{var Pkt,Rkt,xkt,Okt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||de,a=4294967296,c=16777216,u;Pkt=l("Uint64BE",!0,!0),Rkt=l("Int64BE",!0,!1),xkt=l("Uint64LE",!1,!0),Okt=l("Int64LE",!1,!1);function l(ye,V,$){var ee=V?0:4,De=V?4:0,ae=V?0:3,ce=V?1:2,qe=V?2:1,Ne=V?3:0,ue=V?M:U,Ce=V?A:ne,be=$e.prototype,xe="is"+ye,Me="_"+xe;return be.buffer=void 0,be.offset=0,be[Me]=!0,be.toNumber=at,be.toString=tt,be.toJSON=at,be.toArray=d,t&&(be.toBuffer=f),n&&(be.toArrayBuffer=m),$e[xe]=Ct,r[ye]=$e,$e;function $e(zr,cr,xt,hr){return this instanceof $e?ze(this,zr,cr,xt,hr):new $e(zr,cr,xt,hr)}function Ct(zr){return!!(zr&&zr[Me])}function ze(zr,cr,xt,hr,Mt){if(n&&i&&(cr instanceof i&&(cr=new n(cr)),hr instanceof i&&(hr=new n(hr))),!cr&&!xt&&!hr&&!u){zr.buffer=O(o,0);return}if(!_(cr,xt)){var on=u||Array;Mt=xt,hr=cr,xt=0,cr=new on(8)}zr.buffer=cr,zr.offset=xt|=0,e!==typeof hr&&(typeof hr=="string"?st(cr,xt,hr,Mt||10):_(hr,Mt)?D(cr,xt,hr,Mt):typeof Mt=="number"?(fr(cr,xt+ee,hr),fr(cr,xt+De,Mt)):hr>0?ue(cr,xt,hr):hr<0?Ce(cr,xt,hr):D(cr,xt,o,0))}function st(zr,cr,xt,hr){var Mt=0,on=xt.length,un=0,On=0;xt[0]==="-"&&Mt++;for(var Or=Mt;Mt<on;){var Hn=parseInt(xt[Mt++],hr);if(!(Hn>=0))break;On=On*hr+Hn,un=un*hr+Math.floor(On/a),On%=a}Or&&(un=~un,On?On=a-On:un++),fr(zr,cr+ee,un),fr(zr,cr+De,On)}function at(){var zr=this.buffer,cr=this.offset,xt=Lr(zr,cr+ee),hr=Lr(zr,cr+De);return $||(xt|=0),xt?xt*a+hr:hr}function tt(zr){var cr=this.buffer,xt=this.offset,hr=Lr(cr,xt+ee),Mt=Lr(cr,xt+De),on="",un=!$&&hr&2147483648;for(un&&(hr=~hr,Mt=a-Mt),zr=zr||10;;){var On=hr%zr*a+Mt;if(hr=Math.floor(hr/zr),Mt=Math.floor(On/zr),on=(On%zr).toString(zr)+on,!hr&&!Mt)break}return un&&(on="-"+on),on}function fr(zr,cr,xt){zr[cr+Ne]=xt&255,xt=xt>>8,zr[cr+qe]=xt&255,xt=xt>>8,zr[cr+ce]=xt&255,xt=xt>>8,zr[cr+ae]=xt&255}function Lr(zr,cr){return zr[cr+ae]*c+(zr[cr+ce]<<16)+(zr[cr+qe]<<8)+zr[cr+Ne]}}function d(ye){var V=this.buffer,$=this.offset;return u=null,ye!==!1&&$===0&&V.length===8&&s(V)?V:O(V,$)}function f(ye){var V=this.buffer,$=this.offset;if(u=t,ye!==!1&&$===0&&V.length===8&&Buffer.isBuffer(V))return V;var ee=new t(8);return D(ee,0,V,$),ee}function m(ye){var V=this.buffer,$=this.offset,ee=V.buffer;if(u=n,ye!==!1&&$===0&&ee instanceof i&&ee.byteLength===8)return ee;var De=new n(8);return D(De,0,V,$),De.buffer}function _(ye,V){var $=ye&&ye.length;return V|=0,$&&V+8<=$&&typeof ye[V]!="string"}function D(ye,V,$,ee){V|=0,ee|=0;for(var De=0;De<8;De++)ye[V++]=$[ee++]&255}function O(ye,V){return Array.prototype.slice.call(ye,V,V+8)}function M(ye,V,$){for(var ee=V+8;ee>V;)ye[--ee]=$&255,$/=256}function A(ye,V,$){var ee=V+8;for($++;ee>V;)ye[--ee]=-$&255^255,$/=256}function U(ye,V,$){for(var ee=V+8;V<ee;)ye[V++]=$&255,$/=256}function ne(ye,V,$){var ee=V+8;for($++;V<ee;)ye[V++]=-$&255^255,$/=256}function de(ye){return!!ye&&Object.prototype.toString.call(ye)=="[object Array]"}})(typeof JM=="object"&&typeof JM.nodeName!="string"?JM:JM||{})});var Hce=E(Uce=>{Uce.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,m=r[e+d];for(d+=f,o=m&(1<<-l)-1,m>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)};Uce.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,_=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+m]=a&255,m+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+m]=s&255,m+=_,s/=256,u-=8);r[t+m-_]|=D*128}});var Bce=E(Kje=>{var Ikt=Kje.uint8=new Array(256);for(XM=0;XM<=255;XM++)Ikt[XM]=kkt(XM);var XM;function kkt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var oze=E(ize=>{var Jje=Hce(),Xje=dV(),Akt=Xje.Uint64BE,Lkt=Xje.Int64BE,Qje=Bce().uint8,fV=vg(),Sc=fV.global,Mkt=fV.hasBuffer&&"TYPED_ARRAY_SUPPORT"in Sc,Nkt=Mkt&&!Sc.TYPED_ARRAY_SUPPORT,Yje=fV.hasBuffer&&Sc.prototype||{};ize.getWriteToken=Fkt;function Fkt(r){return r&&r.uint8array?qkt():Nkt||fV.hasBuffer&&r&&r.safe?jkt():Zje()}function qkt(){var r=Zje();return r[202]=Hs(202,4,rze),r[203]=Hs(203,8,nze),r}function Zje(){var r=Qje.slice();return r[196]=QM(196),r[197]=O0(197),r[198]=I0(198),r[199]=QM(199),r[200]=O0(200),r[201]=I0(201),r[202]=Hs(202,4,Yje.writeFloatBE||rze,!0),r[203]=Hs(203,8,Yje.writeDoubleBE||nze,!0),r[204]=QM(204),r[205]=O0(205),r[206]=I0(206),r[207]=Hs(207,8,eze),r[208]=QM(208),r[209]=O0(209),r[210]=I0(210),r[211]=Hs(211,8,tze),r[217]=QM(217),r[218]=O0(218),r[219]=I0(219),r[220]=O0(220),r[221]=I0(221),r[222]=O0(222),r[223]=I0(223),r}function jkt(){var r=Qje.slice();return r[196]=Hs(196,1,Sc.prototype.writeUInt8),r[197]=Hs(197,2,Sc.prototype.writeUInt16BE),r[198]=Hs(198,4,Sc.prototype.writeUInt32BE),r[199]=Hs(199,1,Sc.prototype.writeUInt8),r[200]=Hs(200,2,Sc.prototype.writeUInt16BE),r[201]=Hs(201,4,Sc.prototype.writeUInt32BE),r[202]=Hs(202,4,Sc.prototype.writeFloatBE),r[203]=Hs(203,8,Sc.prototype.writeDoubleBE),r[204]=Hs(204,1,Sc.prototype.writeUInt8),r[205]=Hs(205,2,Sc.prototype.writeUInt16BE),r[206]=Hs(206,4,Sc.prototype.writeUInt32BE),r[207]=Hs(207,8,eze),r[208]=Hs(208,1,Sc.prototype.writeInt8),r[209]=Hs(209,2,Sc.prototype.writeInt16BE),r[210]=Hs(210,4,Sc.prototype.writeInt32BE),r[211]=Hs(211,8,tze),r[217]=Hs(217,1,Sc.prototype.writeUInt8),r[218]=Hs(218,2,Sc.prototype.writeUInt16BE),r[219]=Hs(219,4,Sc.prototype.writeUInt32BE),r[220]=Hs(220,2,Sc.prototype.writeUInt16BE),r[221]=Hs(221,4,Sc.prototype.writeUInt32BE),r[222]=Hs(222,2,Sc.prototype.writeUInt16BE),r[223]=Hs(223,4,Sc.prototype.writeUInt32BE),r}function QM(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function O0(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function I0(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function Hs(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function eze(r,e){new Akt(this,e,r)}function tze(r,e){new Lkt(this,e,r)}function rze(r,e){Jje.write(this,r,e,!1,23,4)}function nze(r,e){Jje.write(this,r,e,!1,52,8)}});var lze=E(uze=>{var zkt=oV(),cze=dV(),Ukt=cze.Uint64BE,Hkt=cze.Int64BE,sze=vg(),aze=cV(),Bkt=oze(),Wkt=Bce().uint8,$kt=uV().ExtBuffer,Vkt=typeof Uint8Array<"u",Gkt=typeof Map<"u",bO=[];bO[1]=212;bO[2]=213;bO[4]=214;bO[8]=215;bO[16]=216;uze.getWriteType=Kkt;function Kkt(r){var e=Bkt.getWriteToken(r),t=r&&r.useraw,n=Vkt&&r&&r.binarraybuffer,i=n?sze.isArrayBuffer:sze.isBuffer,o=n?de:ne,s=Gkt&&r&&r.usemap,a=s?$:V,c={boolean:u,function:A,number:l,object:t?M:O,string:D(t?_:m),symbol:A,undefined:A};return c;function u(De,ae){var ce=ae?195:194;e[ce](De,ae)}function l(De,ae){var ce=ae|0,qe;if(ae!==ce){qe=203,e[qe](De,ae);return}else-32<=ce&&ce<=127?qe=ce&255:0<=ce?qe=ce<=255?204:ce<=65535?205:206:qe=-128<=ce?208:-32768<=ce?209:210;e[qe](De,ce)}function d(De,ae){var ce=207;e[ce](De,ae.toArray())}function f(De,ae){var ce=211;e[ce](De,ae.toArray())}function m(De){return De<32?1:De<=255?2:De<=65535?3:5}function _(De){return De<32?1:De<=65535?3:5}function D(De){return ae;function ae(ce,qe){var Ne=qe.length,ue=5+Ne*3;ce.offset=ce.reserve(ue);var Ce=ce.buffer,be=De(Ne),xe=ce.offset+be;Ne=aze.write.call(Ce,qe,xe);var Me=De(Ne);if(be!==Me){var $e=xe+Me-be,Ct=xe+Ne;aze.copy.call(Ce,Ce,$e,xe,Ct)}var ze=Me===1?160+Ne:Me<=3?215+Me:219;e[ze](ce,Ne),ce.offset+=Ne}}function O(De,ae){if(ae===null)return A(De,ae);if(i(ae))return o(De,ae);if(zkt(ae))return U(De,ae);if(Ukt.isUint64BE(ae))return d(De,ae);if(Hkt.isInt64BE(ae))return f(De,ae);var ce=De.codec.getExtPacker(ae);if(ce&&(ae=ce(ae)),ae instanceof $kt)return ye(De,ae);a(De,ae)}function M(De,ae){if(i(ae))return ee(De,ae);O(De,ae)}function A(De,ae){var ce=192;e[ce](De,ae)}function U(De,ae){var ce=ae.length,qe=ce<16?144+ce:ce<=65535?220:221;e[qe](De,ce);for(var Ne=De.codec.encode,ue=0;ue<ce;ue++)Ne(De,ae[ue])}function ne(De,ae){var ce=ae.length,qe=ce<255?196:ce<=65535?197:198;e[qe](De,ce),De.send(ae)}function de(De,ae){ne(De,new Uint8Array(ae))}function ye(De,ae){var ce=ae.buffer,qe=ce.length,Ne=bO[qe]||(qe<255?199:qe<=65535?200:201);e[Ne](De,qe),Wkt[ae.type](De),De.send(ce)}function V(De,ae){var ce=Object.keys(ae),qe=ce.length,Ne=qe<16?128+qe:qe<=65535?222:223;e[Ne](De,qe);var ue=De.codec.encode;ce.forEach(function(Ce){ue(De,Ce),ue(De,ae[Ce])})}function $(De,ae){if(!(ae instanceof Map))return V(De,ae);var ce=ae.size,qe=ce<16?128+ce:ce<=65535?222:223;e[qe](De,ce);var Ne=De.codec.encode;ae.forEach(function(ue,Ce,be){Ne(De,Ce),Ne(De,ue)})}function ee(De,ae){var ce=ae.length,qe=ce<32?160+ce:ce<=65535?218:219;e[qe](De,ce),De.send(ae)}}});var eN=E(ZM=>{var Ykt=oV();ZM.createCodec=dze;ZM.install=Xkt;ZM.filter=e1t;var Jkt=vg();function wO(r){if(!(this instanceof wO))return new wO(r);this.options=r,this.init()}wO.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=Jkt.Uint8Array),this};function Xkt(r){for(var e in r)wO.prototype[e]=Qkt(wO.prototype[e],r[e])}function Qkt(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function Zkt(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function e1t(r){return Ykt(r)?Zkt(r):r}function dze(r){return new wO(r)}ZM.preset=dze({preset:!0})});var hV=E(hze=>{var t1t=uV().ExtBuffer,r1t=Gje(),n1t=lze(),Wce=eN();Wce.install({addExtPacker:o1t,getExtPacker:s1t,init:fze});hze.preset=fze.call(Wce.preset);function i1t(r){var e=n1t.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function fze(){var r=this.options;return this.encode=i1t(r),r&&r.preset&&r1t.setExtPackers(this),this}function o1t(r,e,t){t=Wce.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new t1t(a,r)}}function s1t(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var Vce=E($ce=>{$ce.FlexDecoder=SO;$ce.FlexEncoder=CO;var tN=vg(),a1t=2048,c1t=65536,pze="BUFFER_SHORTAGE";function SO(){if(!(this instanceof SO))return new SO}function CO(){if(!(this instanceof CO))return new CO}SO.mixin=vze(u1t());SO.mixin(SO.prototype);CO.mixin=vze(l1t());CO.mixin(CO.prototype);function u1t(){return{bufferish:tN,write:r,fetch:f1t,flush:e,push:gze,pull:h1t,read:mze,reserve:t,offset:0};function r(n){var i=this.offset?tN.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=pze)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(pze);return this.offset=o,i}}function l1t(){return{bufferish:tN,write:d1t,fetch:r,flush:e,push:gze,pull:t,read:mze,reserve:n,send:i,maxBufferSize:c1t,minBufferSize:a1t,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return tN.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);tN.prototype.copy.call(o,this.buffer,a)}}}function d1t(){throw new Error("method not implemented: write()")}function f1t(){throw new Error("method not implemented: fetch()")}function mze(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function gze(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function h1t(){var r=this.buffers||(this.buffers=[]);return r.shift()}function vze(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var pV=E(yze=>{yze.EncodeBuffer=TO;var p1t=hV().preset,m1t=Vce().FlexEncoder;m1t.mixin(TO.prototype);function TO(r){if(!(this instanceof TO))return new TO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}TO.prototype.codec=p1t;TO.prototype.write=function(r){this.codec.encode(this,r)}});var zce=E(_ze=>{_ze.encode=v1t;var g1t=pV().EncodeBuffer;function v1t(r,e){var t=new g1t(e);return t.write(r),t.read()}});var Sze=E(wze=>{wze.setExtUnpackers=b1t;var bze=vg(),y1t=bze.global,Gce,_1t={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function b1t(r){r.addExtUnpacker(14,[Rv,k0(Error)]),r.addExtUnpacker(1,[Rv,k0(EvalError)]),r.addExtUnpacker(2,[Rv,k0(RangeError)]),r.addExtUnpacker(3,[Rv,k0(ReferenceError)]),r.addExtUnpacker(4,[Rv,k0(SyntaxError)]),r.addExtUnpacker(5,[Rv,k0(TypeError)]),r.addExtUnpacker(6,[Rv,k0(URIError)]),r.addExtUnpacker(10,[Rv,w1t]),r.addExtUnpacker(11,[Rv,sp(Boolean)]),r.addExtUnpacker(12,[Rv,sp(String)]),r.addExtUnpacker(13,[Rv,sp(Date)]),r.addExtUnpacker(15,[Rv,sp(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,sp(Int8Array)),r.addExtUnpacker(18,sp(Uint8Array)),r.addExtUnpacker(19,[vT,sp(Int16Array)]),r.addExtUnpacker(20,[vT,sp(Uint16Array)]),r.addExtUnpacker(21,[vT,sp(Int32Array)]),r.addExtUnpacker(22,[vT,sp(Uint32Array)]),r.addExtUnpacker(23,[vT,sp(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[vT,sp(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,sp(Uint8ClampedArray)),r.addExtUnpacker(26,vT),r.addExtUnpacker(29,[vT,sp(DataView)])),bze.hasBuffer&&r.addExtUnpacker(27,sp(y1t))}function Rv(r){return Gce||(Gce=Kce().decode),Gce(r)}function w1t(r){return RegExp.apply(null,r)}function k0(r){return function(e){var t=new r;for(var n in _1t)t[n]=e[n];return t}}function sp(r){return function(e){return new r(e)}}function vT(r){return new Uint8Array(r).buffer}});var Xce=E(Jce=>{var Cze=Hce(),Tze=dV(),Dze=Tze.Uint64BE,Eze=Tze.Int64BE;Jce.getReadFormat=T1t;Jce.readUint8=Pze;var Yce=vg(),gV=cV(),S1t=typeof Map<"u",C1t=!0;function T1t(r){var e=Yce.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=S1t&&r&&r.usemap,i={map:n?E1t:D1t,array:P1t,str:R1t,bin:e?O1t:x1t,ext:I1t,uint8:Pze,uint16:A1t,uint32:M1t,uint64:mV(8,t?j1t:F1t),int8:k1t,int16:L1t,int32:N1t,int64:mV(8,t?z1t:q1t),float32:mV(4,U1t),float64:mV(8,H1t)};return i}function D1t(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function E1t(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function P1t(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function R1t(r,e){var t=r.reserve(e),n=t+e;return gV.toString.call(r.buffer,"utf-8",t,n)}function x1t(r,e){var t=r.reserve(e),n=t+e,i=gV.slice.call(r.buffer,t,n);return Yce.from(i)}function O1t(r,e){var t=r.reserve(e),n=t+e,i=gV.slice.call(r.buffer,t,n);return Yce.Uint8Array.from(i).buffer}function I1t(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=gV.slice.call(r.buffer,t,i);return o(s)}function Pze(r){var e=r.reserve(1);return r.buffer[e]}function k1t(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function A1t(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function L1t(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function M1t(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function N1t(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function mV(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,C1t)}}function F1t(r){return new Dze(this,r).toNumber()}function q1t(r){return new Eze(this,r).toNumber()}function j1t(r){return new Dze(this,r)}function z1t(r){return new Eze(this,r)}function U1t(r){return Cze.read(this,r,!1,23,4)}function H1t(r){return Cze.read(this,r,!1,52,8)}});var Oze=E(xze=>{var B1t=Xce();xze.getReadToken=W1t;function W1t(r){var e=B1t.getReadFormat(r);return r&&r.useraw?$1t(e):Rze(e)}function Rze(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=rN(e);for(e=128;e<=143;e++)t[e]=yS(e-128,r.map);for(e=144;e<=159;e++)t[e]=yS(e-144,r.array);for(e=160;e<=191;e++)t[e]=yS(e-160,r.str);for(t[192]=rN(null),t[193]=null,t[194]=rN(!1),t[195]=rN(!0),t[196]=yg(r.uint8,r.bin),t[197]=yg(r.uint16,r.bin),t[198]=yg(r.uint32,r.bin),t[199]=yg(r.uint8,r.ext),t[200]=yg(r.uint16,r.ext),t[201]=yg(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=yS(1,r.ext),t[213]=yS(2,r.ext),t[214]=yS(4,r.ext),t[215]=yS(8,r.ext),t[216]=yS(16,r.ext),t[217]=yg(r.uint8,r.str),t[218]=yg(r.uint16,r.str),t[219]=yg(r.uint32,r.str),t[220]=yg(r.uint16,r.array),t[221]=yg(r.uint32,r.array),t[222]=yg(r.uint16,r.map),t[223]=yg(r.uint32,r.map),e=224;e<=255;e++)t[e]=rN(e-256);return t}function $1t(r){var e,t=Rze(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=yS(e-160,r.bin);return t}function rN(r){return function(){return r}}function yg(r,e){return function(t){var n=r(t);return e(t,n)}}function yS(r,e){return function(t){return e(t,r)}}});var vV=E(kze=>{var V1t=uV().ExtBuffer,G1t=Sze(),K1t=Xce().readUint8,Y1t=Oze(),Qce=eN();Qce.install({addExtUnpacker:X1t,getExtUnpacker:Q1t,init:Ize});kze.preset=Ize.call(Qce.preset);function J1t(r){var e=Y1t.getReadToken(r);return t;function t(n){var i=K1t(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function Ize(){var r=this.options;return this.decode=J1t(r),r&&r.preset&&G1t.setExtUnpackers(this),this}function X1t(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=Qce.filter(e)}function Q1t(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new V1t(n,r)}}});var yV=E(Aze=>{Aze.DecodeBuffer=DO;var Z1t=vV().preset,eAt=Vce().FlexDecoder;eAt.mixin(DO.prototype);function DO(r){if(!(this instanceof DO))return new DO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}DO.prototype.codec=Z1t;DO.prototype.fetch=function(){return this.codec.decode(this)}});var Kce=E(Lze=>{Lze.decode=rAt;var tAt=yV().DecodeBuffer;function rAt(r,e){var t=new tAt(e);return t.write(r),t.read()}});var tue=E(($ir,eue)=>{function Zce(){if(!(this instanceof Zce))return new Zce}(function(r){typeof eue<"u"&&(eue.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(m),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function m(_){return _!==l&&_.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var m=arguments.length;if(m===1)f.forEach(D);else if(m===2)f.forEach(O);else{var _=Array.prototype.slice.call(arguments,1);f.forEach(M)}return!!f.length;function D(A){A.call(d)}function O(A){A.call(d,l)}function M(A){A.apply(d,_)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(Zce)});var Fze=E(Nze=>{Nze.Encoder=A0;var nAt=tue(),Mze=pV().EncodeBuffer;function A0(r){if(!(this instanceof A0))return new A0(r);Mze.call(this,r)}A0.prototype=new Mze;nAt.mixin(A0.prototype);A0.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};A0.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var zze=E(jze=>{jze.Decoder=yT;var iAt=tue(),qze=yV().DecodeBuffer;function yT(r){if(!(this instanceof yT))return new yT(r);qze.call(this,r)}yT.prototype=new qze;iAt.mixin(yT.prototype);yT.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};yT.prototype.push=function(r){this.emit("data",r)};yT.prototype.end=function(r){this.decode(r),this.emit("end")}});var Bze=E(Hze=>{Hze.createEncodeStream=EO;var oAt=require("util"),Uze=require("stream").Transform,sAt=pV().EncodeBuffer;oAt.inherits(EO,Uze);var aAt={objectMode:!0};function EO(r){if(!(this instanceof EO))return new EO(r);r?r.objectMode=!0:r=aAt,Uze.call(this,r);var e=this,t=this.encoder=new sAt(r);t.push=function(n){e.push(n)}}EO.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};EO.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var Vze=E($ze=>{$ze.createDecodeStream=nN;var cAt=require("util"),Wze=require("stream").Transform,uAt=yV().DecodeBuffer;cAt.inherits(nN,Wze);var lAt={objectMode:!0};function nN(r){if(!(this instanceof nN))return new nN(r);r?r.objectMode=!0:r=lAt,Wze.call(this,r);var e=this,t=this.decoder=new uAt(r);t.push=function(n){e.push(n)}}nN.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var Kze=E(Gze=>{vV();hV();Gze.createCodec=eN().createCodec});var Jze=E(Yze=>{vV();hV();Yze.codec={preset:eN().preset}});var rue=E(_S=>{_S.encode=zce().encode;_S.decode=Kce().decode;_S.Encoder=Fze().Encoder;_S.Decoder=zze().Decoder;_S.createEncodeStream=Bze().createEncodeStream;_S.createDecodeStream=Vze().createDecodeStream;_S.createCodec=Kze().createCodec;_S.codec=Jze().codec});var nue=E(iN=>{"use strict";Object.defineProperty(iN,"__esModule",{value:!0});iN.ControlCode=void 0;var dAt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(dAt=iN.ControlCode||(iN.ControlCode={}))});var bV=E(_V=>{"use strict";Object.defineProperty(_V,"__esModule",{value:!0});_V.FrameHeader=void 0;var fAt=pO(),iue=class{constructor(e,t){this.code=e,t&&(0,fAt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};_V.FrameHeader=iue});var oN=E(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0});_T.QualifiedChannelId=_T.ChannelSource=void 0;var wV;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(wV=_T.ChannelSource||(_T.ChannelSource={}));var hAt;(function(r){function e(t){let n=t.source===wV.Local?"local":t.source===wV.Remote?"remote":t.source===wV.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(hAt=_T.QualifiedChannelId||(_T.QualifiedChannelId={}))});var Zze=E(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.MultiplexingStreamV3Formatter=wb.MultiplexingStreamV2Formatter=wb.MultiplexingStreamV1Formatter=wb.MultiplexingStreamFormatter=void 0;var oue=TV(),pAt=require("crypto"),bS=pO(),_g=rue(),Xze=KM(),sue=bV(),Qze=oN(),wS=class{static getIsOddRandomData(){return(0,pAt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new sue.FrameHeader(e);let i=t%2===1===this.isOdd?Qze.ChannelSource.Remote:Qze.ChannelSource.Local;return new sue.FrameHeader(e,{id:t,source:i})}};wb.MultiplexingStreamFormatter=wS;var SV=class r extends wS{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=wS.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,bS.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,bS.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:wS.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,bS.writeAsync)(this.stream,i),t&&t.length>0&&await(0,bS.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,bS.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,bS.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,oue.MultiplexingStream.ControlFrameEncoding);if(t.length>oue.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(oue.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};wb.MultiplexingStreamV1Formatter=SV;SV.protocolMagicNumber=Buffer.from([47,223,29,80]);var sN=class r extends wS{constructor(e){super(),this.reader=_g.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=wS.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,bS.writeAsync)(this.writer,_g.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:wS.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,bS.writeAsync)(this.writer,_g.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),_g.encode(t)}deserializeOfferParameters(e){let t=_g.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),_g.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:_g.decode(e)[0]}}serializeContentProcessed(e){return _g.encode([e])}deserializeContentProcessed(e){return _g.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return _g.encode(n)}deserializeException(e){if(e.length===0)return null;let t=_g.decode(e);if(!t||t.length===0)return null;let n=_g.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new Xze.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new Xze.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};wb.MultiplexingStreamV2Formatter=sN;sN.protocolVersion={major:2,minor:0};var CV=class r extends sN{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,bS.writeAsync)(this.writer,_g.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new sue.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};wb.MultiplexingStreamV3Formatter=CV;CV.protocolV3Version={major:2,minor:0}});var tUe=E(eUe=>{"use strict";Object.defineProperty(eUe,"__esModule",{value:!0})});var DV=E((ior,rUe)=>{"use strict";rUe.exports=(r=>e=>(e.catch(r),e))(()=>{})});var TV=E(OO=>{"use strict";Object.defineProperty(OO,"__esModule",{value:!0});OO.MultiplexingStreamClass=OO.MultiplexingStream=void 0;var mAt=Sce(),PO=pT(),gAt=require("events"),RV=aue(),xv=nue(),nUe=KM(),xO=bV(),EV=Zze();tUe();var SS=oN(),RO=pO(),PV=DV(),CS=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new nUe.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new gAt.EventEmitter,this.disposalTokenSource=PO.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:SS.ChannelSource.Seeded};this.setOpenChannel(new RV.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=PO.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new EV.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new EV.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new EV.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new aN(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new EV.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new aN(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new RV.ChannelClass(this,{id:this.getUnusedChannelId(),source:SS.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new xO.FrameHeader(xv.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,RO.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");PV(t.acceptance),PV(t.completion),t.dispose()}async offerChannelAsync(e,t,n=PO.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,RO.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new RV.ChannelClass(this,{id:this.getUnusedChannelId(),source:SS.ChannelSource.Local},o);this.setOpenChannel(a);let c=new xO.FrameHeader(xv.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return PV(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=PO.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,RO.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new nUe.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];PV(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==SS.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new xO.FrameHeader(xv.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,RO.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case SS.ChannelSource.Local:return this.locallyOfferedOpenChannels;case SS.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case SS.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new PO.default.CancellationError(n))&&(0,RO.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};OO.MultiplexingStream=CS;CS.framePayloadMaxLength=20*1024;CS.recommendedDefaultChannelReceivingWindowSize=5*CS.framePayloadMaxLength;CS.defaultChannelOptions={};CS.ControlFrameEncoding="utf-8";var aN=class extends CS{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new mAt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=PO.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,RO.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new xO.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(xv.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new xO.FrameHeader(xv.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new xO.FrameHeader(xv.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case xv.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case xv.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case xv.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case xv.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case xv.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case xv.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new RV.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==SS.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${SS.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};OO.MultiplexingStreamClass=aN});var aue=E(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0});IO.ChannelClass=IO.Channel=void 0;var iUe=pT(),vAt=require("stream"),yAt=nue(),xV=KM(),_At=bV(),bAt=TV(),cue=oN(),uue=DV(),OV=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};IO.Channel=OV;var lue=class extends OV{constructor(e,t,n){super(t),this._acceptance=new xV.Deferred,this._completion=new xV.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case cue.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case cue.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case cue.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new xV.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new vAt.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,bAt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new _At.FrameHeader(yAt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new iUe.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),uue(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new iUe.default.CancellationError("disposed"))&&uue(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),uue(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new xV.Deferred)}}};IO.ChannelClass=lue});var oUe=E(IV=>{"use strict";Object.defineProperty(IV,"__esModule",{value:!0});IV.FullDuplexStream=void 0;var due=require("stream"),fue=class r{static CreatePair(){let e=new due.PassThrough,t=new due.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new due.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};IV.FullDuplexStream=fue});var cN=E(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.ChannelSource=ch.QualifiedChannelId=ch.readSubstream=ch.writeSubstream=ch.MultiplexingStream=ch.FullDuplexStream=ch.Channel=void 0;var wAt=aue();Object.defineProperty(ch,"Channel",{enumerable:!0,get:function(){return wAt.Channel}});var SAt=oUe();Object.defineProperty(ch,"FullDuplexStream",{enumerable:!0,get:function(){return SAt.FullDuplexStream}});var CAt=TV();Object.defineProperty(ch,"MultiplexingStream",{enumerable:!0,get:function(){return CAt.MultiplexingStream}});var sUe=pO();Object.defineProperty(ch,"writeSubstream",{enumerable:!0,get:function(){return sUe.writeSubstream}});Object.defineProperty(ch,"readSubstream",{enumerable:!0,get:function(){return sUe.readSubstream}});var aUe=oN();Object.defineProperty(ch,"QualifiedChannelId",{enumerable:!0,get:function(){return aUe.QualifiedChannelId}});Object.defineProperty(ch,"ChannelSource",{enumerable:!0,get:function(){return aUe.ChannelSource}})});var cUe=E(kO=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0});kO.NodeStreamMessageWriter=kO.NodeStreamMessageReader=void 0;var TS=P0(),hue=class extends TS.ReadableStreamMessageReader{constructor(e,t){super(new mue(e),t)}};kO.NodeStreamMessageReader=hue;var pue=class extends TS.WriteableStreamMessageWriter{constructor(e,t){super(new gue(e),t)}};kO.NodeStreamMessageWriter=pue;var mue=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),TS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),TS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),TS.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),TS.Disposable.create(()=>this.stream.off("data",e))}},gue=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),TS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),TS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),TS.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var bue=E(Ov=>{"use strict";var TAt=Ov&&Ov.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DAt=Ov&&Ov.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),EAt=Ov&&Ov.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&TAt(e,r,t);return DAt(e,r),e};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.JsonRpcConnection=Ov.ServiceJsonRpcDescriptor=void 0;var vue=oje(),uN=dT(),PAt=$M(),yue=fce(),kV=_ce(),uUe=bje(),lUe=EAt(rue()),RAt=cN(),xAt=require("stream"),dUe=cUe(),fUe=vce(),_ue=class r extends yue.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case uN.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case uN.Formatters.MessagePack:o=a=>Promise.resolve(lUe.encode(a)),s=a=>lUe.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===uN.MessageDelimiters.HttpLikeHeaders){if(t!==uN.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,vue.createMessageConnection)(new dUe.NodeStreamMessageReader(a),new dUe.NodeStreamMessageWriter(a))}else if(n===uN.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,vue.createMessageConnection)(new uUe.BE32MessageReader(a,s),new uUe.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,kV.isChannel)(e)?e.stream:e,i=RAt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new lN((0,kV.constructMessageConnection)(o,this.connectionFactory))}return new lN((0,kV.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!PAt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,kV.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};Ov.ServiceJsonRpcDescriptor=_ue;var OAt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,fUe.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},lN=class extends yue.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,fUe.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),yue.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,vue.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new xAt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,OAt)}startListening(){this.messageConnection?.listen()}dispose(){}};Ov.JsonRpcConnection=lN});var MV=E(LV=>{"use strict";Object.defineProperty(LV,"__esModule",{value:!0});LV.FrameworkServices=void 0;var AV=dT(),hUe=bue(),pUe=$M(),wue=class{static remoteServiceBroker=Object.freeze(new hUe.ServiceJsonRpcDescriptor(pUe.ServiceMoniker.create("RemoteServiceBroker"),AV.Formatters.Utf8,AV.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new hUe.ServiceJsonRpcDescriptor(pUe.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),AV.Formatters.Utf8,AV.MessageDelimiters.HttpLikeHeaders))};LV.FrameworkServices=wue});var Cue=E(AO=>{"use strict";var vUe=AO&&AO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AO,"__esModule",{value:!0});AO.AuthorizationServiceClient=void 0;var mUe=vUe(require("assert")),gUe=vUe(pT()),Sue=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,mUe.default)(e),this.authService=e}async getCredentials(e=gUe.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=gUe.default.CONTINUE){if((0,mUe.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};AO.AuthorizationServiceClient=Sue});var yUe=E(dN=>{"use strict";Object.defineProperty(dN,"__esModule",{value:!0});dN.IDisposable=void 0;var IAt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(IAt=dN.IDisposable||(dN.IDisposable={}))});var Eue=E(NV=>{"use strict";Object.defineProperty(NV,"__esModule",{value:!0});NV.IpcRelayServiceBroker=void 0;var Tue=dT(),kAt=require("events"),_Ue=(Nx(),WS(v$)),AAt=require("net"),LAt=require("path"),Due=class r extends kAt{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!Tue.RemoteServiceConnections.contains(e.supportedConnections,Tue.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,_Ue.v4)(),s=LAt.join(Tue.PIPE_NAME_PREFIX,(0,_Ue.v4)()),a=(0,AAt.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};NV.IpcRelayServiceBroker=Due});var wUe=E(LO=>{"use strict";var MAt=LO&&LO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(LO,"__esModule",{value:!0});LO.MultiplexingRelayServiceBroker=void 0;var bUe=dT(),NAt=require("events"),FAt=cN(),qAt=MV(),jAt=MAt(DV()),zAt=(Nx(),WS(v$)),Pue=class r extends NAt{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await FAt.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return qAt.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!bUe.RemoteServiceConnections.contains(e.supportedConnections,bUe.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,zAt.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,jAt.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};LO.MultiplexingRelayServiceBroker=Pue});var CUe=E(L0=>{"use strict";var UAt=L0&&L0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L0,"__esModule",{value:!0});L0.ProtectedOperation=void 0;var SUe=UAt(require("assert")),HAt;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,SUe.default)(i),(0,SUe.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(HAt=L0.ProtectedOperation||(L0.ProtectedOperation={}))});var Rue=E(fN=>{"use strict";Object.defineProperty(fN,"__esModule",{value:!0});fN.RemoteServiceConnectionInfo=void 0;var BAt;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(BAt=fN.RemoteServiceConnectionInfo||(fN.RemoteServiceConnectionInfo={}))});var Oue=E(MO=>{"use strict";var PUe=MO&&MO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(MO,"__esModule",{value:!0});MO.RemoteServiceBroker=void 0;var Vy=PUe(require("assert")),M0=PUe(pT()),WAt=require("events"),$At=cN(),VAt=Cue(),bT=dT(),TUe=Rue(),DUe=_ce(),GAt=require("net"),EUe=MV(),xue=class r extends WAt.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=bT.RemoteServiceConnections.Multiplexing|bT.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=M0.default.CONTINUE){(0,Vy.default)(e);let n=EUe.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=M0.default.CONTINUE){return(0,Vy.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=M0.default.CONTINUE){(0,Vy.default)(e);let i=await $At.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=EUe.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=M0.default.CONTINUE){(0,Vy.default)(e),(0,Vy.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=M0.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~bT.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,Vy.default)(e),(0,Vy.default)(t),bT.RemoteServiceConnections.contains(t.supportedConnections,bT.RemoteServiceConnections.Multiplexing)&&(0,Vy.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,Vy.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new VAt.AuthorizationServiceClient(e)}async getProxy(e,t,n=M0.default.CONTINUE){(0,Vy.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||TUe.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(bT.PIPE_NAME_PREFIX)?bT.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,GAt.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,DUe.isReadWriteStream)(i)?i.end():(0,DUe.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=M0.default.CONTINUE){if((0,Vy.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||TUe.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(bT.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};MO.RemoteServiceBroker=xue});var RUe=E(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});FV.Observer=void 0;var Iue=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};FV.Observer=Iue});var OUe=E((qV,xUe)=>{(function(r,e){typeof qV=="object"&&typeof xUe<"u"?e(qV):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(qV,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(g){g&&(g.value=!0)}function c(){}function u(g){return g.size===void 0&&(g.size=g.__iterate(d)),g.size}function l(g,v){if(typeof v!="number"){var P=v>>>0;if(""+P!==v||P===4294967295)return NaN;v=P}return v<0?u(g)+v:v}function d(){return!0}function f(g,v,P){return(g===0&&!O(g)||P!==void 0&&g<=-P)&&(v===void 0||P!==void 0&&v>=P)}function m(g,v){return D(g,v,0)}function _(g,v){return D(g,v,v)}function D(g,v,P){return g===void 0?P:O(g)?v===1/0?v:Math.max(0,v+g)|0:v===void 0||v===g?g:Math.min(v,g)|0}function O(g){return g<0||g===0&&1/g===-1/0}var M="@@__IMMUTABLE_ITERABLE__@@";function A(g){return!!(g&&g[M])}var U="@@__IMMUTABLE_KEYED__@@";function ne(g){return!!(g&&g[U])}var de="@@__IMMUTABLE_INDEXED__@@";function ye(g){return!!(g&&g[de])}function V(g){return ne(g)||ye(g)}var $=function(v){return A(v)?v:Or(v)},ee=function(g){function v(P){return ne(P)?P:Hn(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}($),De=function(g){function v(P){return ye(P)?P:$r(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}($),ae=function(g){function v(P){return A(P)&&!V(P)?P:ln(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}($);$.Keyed=ee,$.Indexed=De,$.Set=ae;var ce="@@__IMMUTABLE_SEQ__@@";function qe(g){return!!(g&&g[ce])}var Ne="@@__IMMUTABLE_RECORD__@@";function ue(g){return!!(g&&g[Ne])}function Ce(g){return A(g)||ue(g)}var be="@@__IMMUTABLE_ORDERED__@@";function xe(g){return!!(g&&g[be])}var Me=0,$e=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,st="@@iterator",at=ze||st,tt=function(v){this.next=v};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Me,tt.VALUES=$e,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[at]=function(){return this};function fr(g,v,P,x){var F=g===0?v:g===1?P:[v,P];return x?x.value=F:x={value:F,done:!1},x}function Lr(){return{value:void 0,done:!0}}function zr(g){return Array.isArray(g)?!0:!!hr(g)}function cr(g){return g&&typeof g.next=="function"}function xt(g){var v=hr(g);return v&&v.call(g)}function hr(g){var v=g&&(ze&&g[ze]||g[st]);if(typeof v=="function")return v}function Mt(g){var v=hr(g);return v&&v===g.entries}function on(g){var v=hr(g);return v&&v===g.keys}var un=Object.prototype.hasOwnProperty;function On(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var Or=function(g){function v(P){return P==null?Gr():Ce(P)?P.toSeq():fn(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq {","}")},v.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},v.prototype.__iterate=function(x,F){var J=this._cache;if(J){for(var Z=J.length,pe=0;pe!==Z;){var ke=J[F?Z-++pe:pe++];if(x(ke[1],ke[0],this)===!1)break}return pe}return this.__iterateUncached(x,F)},v.prototype.__iterator=function(x,F){var J=this._cache;if(J){var Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=J[F?Z-++pe:pe++];return fr(x,ke[0],ke[1])})}return this.__iteratorUncached(x,F)},v}($),Hn=function(g){function v(P){return P==null?Gr().toKeyedSeq():A(P)?ne(P)?P.toSeq():P.fromEntrySeq():ue(P)?P.toSeq():Ji(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toKeyedSeq=function(){return this},v}(Or),$r=function(g){function v(P){return P==null?Gr():A(P)?ne(P)?P.entrySeq():P.toIndexedSeq():ue(P)?P.toSeq().entrySeq():oi(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toIndexedSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq [","]")},v}(Or),ln=function(g){function v(P){return(A(P)&&!V(P)?P:$r(P)).toSetSeq()}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toSetSeq=function(){return this},v}(Or);Or.isSeq=qe,Or.Keyed=Hn,Or.Set=ln,Or.Indexed=$r,Or.prototype[ce]=!0;var ii=function(g){function v(P){this._array=P,this.size=P.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(x,F){return this.has(x)?this._array[l(this,x)]:F},v.prototype.__iterate=function(x,F){for(var J=this._array,Z=J.length,pe=0;pe!==Z;){var ke=F?Z-++pe:pe++;if(x(J[ke],ke,this)===!1)break}return pe},v.prototype.__iterator=function(x,F){var J=this._array,Z=J.length,pe=0;return new tt(function(){if(pe===Z)return Lr();var ke=F?Z-++pe:pe++;return fr(x,ke,J[ke])})},v}($r),Vr=function(g){function v(P){var x=Object.keys(P).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(P):[]);this._object=P,this._keys=x,this.size=x.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(x,F){return F!==void 0&&!this.has(x)?F:this._object[x]},v.prototype.has=function(x){return un.call(this._object,x)},v.prototype.__iterate=function(x,F){for(var J=this._object,Z=this._keys,pe=Z.length,ke=0;ke!==pe;){var Qe=Z[F?pe-++ke:ke++];if(x(J[Qe],Qe,this)===!1)break}return ke},v.prototype.__iterator=function(x,F){var J=this._object,Z=this._keys,pe=Z.length,ke=0;return new tt(function(){if(ke===pe)return Lr();var Qe=Z[F?pe-++ke:ke++];return fr(x,Qe,J[Qe])})},v}(Hn);Vr.prototype[be]=!0;var An=function(g){function v(P){this._collection=P,this.size=P.length||P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.__iterateUncached=function(x,F){if(F)return this.cacheResult().__iterate(x,F);var J=this._collection,Z=xt(J),pe=0;if(cr(Z))for(var ke;!(ke=Z.next()).done&&x(ke.value,pe++,this)!==!1;);return pe},v.prototype.__iteratorUncached=function(x,F){if(F)return this.cacheResult().__iterator(x,F);var J=this._collection,Z=xt(J);if(!cr(Z))return new tt(Lr);var pe=0;return new tt(function(){var ke=Z.next();return ke.done?ke:fr(x,pe++,ke.value)})},v}($r),Ri;function Gr(){return Ri||(Ri=new ii([]))}function Ji(g){var v=Oe(g);if(v)return v.fromEntrySeq();if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function oi(g){var v=Oe(g);if(v)return v;throw new TypeError("Expected Array or collection object of values: "+g)}function fn(g){var v=Oe(g);if(v)return Mt(g)?v.fromEntrySeq():on(g)?v.toSetSeq():v;if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function Oe(g){return On(g)?new ii(g):zr(g)?new An(g):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(g){return!!(g&&g[oe])}function _e(g){return Q(g)&&xe(g)}function Je(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function ft(g,v){if(g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1;if(typeof g.valueOf=="function"&&typeof v.valueOf=="function"){if(g=g.valueOf(),v=v.valueOf(),g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1}return!!(Je(g)&&Je(v)&&g.equals(v))}var Yt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(v,P){v|=0,P|=0;var x=v&65535,F=P&65535;return x*F+((v>>>16)*F+x*(P>>>16)<<16>>>0)|0};function rr(g){return g>>>1&1073741824|g&3221225471}var Jt=Object.prototype.valueOf;function $t(g){if(g==null)return kt(g);if(typeof g.hashCode=="function")return rr(g.hashCode(g));var v=he(g);if(v==null)return kt(v);switch(typeof v){case"boolean":return v?1108378657:1108378656;case"number":return K(v);case"string":return v.length>qn?Fe(v):Ht(v);case"object":case"function":return He(v);case"symbol":return Dr(v);default:if(typeof v.toString=="function")return Ht(v.toString());throw new Error("Value type "+typeof v+" cannot be hashed.")}}function kt(g){return g===null?1108378658:1108378659}function K(g){if(g!==g||g===1/0)return 0;var v=g|0;for(v!==g&&(v^=g*4294967295);g>4294967295;)g/=4294967295,v^=g;return rr(v)}function Fe(g){var v=Sn[g];return v===void 0&&(v=Ht(g),ks===xi&&(ks=0,Sn={}),ks++,Sn[g]=v),v}function Ht(g){for(var v=0,P=0;P<g.length;P++)v=31*v+g.charCodeAt(P)|0;return rr(v)}function Dr(g){var v=Tr[g];return v!==void 0||(v=S(),Tr[g]=v),v}function He(g){var v;if(fe&&(v=Ye.get(g),v!==void 0)||(v=g[Xr],v!==void 0)||!Re&&(v=g.propertyIsEnumerable&&g.propertyIsEnumerable[Xr],v!==void 0||(v=je(g),v!==void 0)))return v;if(v=S(),fe)Ye.set(g,v);else{if(re!==void 0&&re(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Re)Object.defineProperty(g,Xr,{enumerable:!1,configurable:!1,writable:!1,value:v});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[Xr]=v;else if(g.nodeType!==void 0)g[Xr]=v;else throw new Error("Unable to set a non-enumerable property on object.")}return v}var re=Object.isExtensible,Re=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function he(g){return g.valueOf!==Jt&&typeof g.valueOf=="function"?g.valueOf(g):g}function S(){var g=++Wr;return Wr&1073741824&&(Wr=0),g}var fe=typeof WeakMap=="function",Ye;fe&&(Ye=new WeakMap);var Tr=Object.create(null),Wr=0,Xr="__immutablehash__";typeof Symbol=="function"&&(Xr=Symbol(Xr));var qn=16,xi=255,ks=0,Sn={},es=function(g){function v(P,x){this._iter=P,this._useKeys=x,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(x,F){return this._iter.get(x,F)},v.prototype.has=function(x){return this._iter.has(x)},v.prototype.valueSeq=function(){return this._iter.valueSeq()},v.prototype.reverse=function(){var x=this,F=Ue(this,!0);return this._useKeys||(F.valueSeq=function(){return x._iter.toSeq().reverse()}),F},v.prototype.map=function(x,F){var J=this,Z=H(this,x,F);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(x,F)}),Z},v.prototype.__iterate=function(x,F){var J=this;return this._iter.__iterate(function(Z,pe){return x(Z,pe,J)},F)},v.prototype.__iterator=function(x,F){return this._iter.__iterator(x,F)},v}(Hn);es.prototype[be]=!0;var Bs=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.includes=function(x){return this._iter.includes(x)},v.prototype.__iterate=function(x,F){var J=this,Z=0;return F&&u(this),this._iter.__iterate(function(pe){return x(pe,F?J.size-++Z:Z++,J)},F)},v.prototype.__iterator=function(x,F){var J=this,Z=this._iter.__iterator($e,F),pe=0;return F&&u(this),new tt(function(){var ke=Z.next();return ke.done?ke:fr(x,F?J.size-++pe:pe++,ke.value,ke)})},v}($r),ta=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.has=function(x){return this._iter.includes(x)},v.prototype.__iterate=function(x,F){var J=this;return this._iter.__iterate(function(Z){return x(Z,Z,J)},F)},v.prototype.__iterator=function(x,F){var J=this._iter.__iterator($e,F);return new tt(function(){var Z=J.next();return Z.done?Z:fr(x,Z.value,Z.value,Z)})},v}(ln),Fo=function(g){function v(P){this._iter=P,this.size=P.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.entrySeq=function(){return this._iter.toSeq()},v.prototype.__iterate=function(x,F){var J=this;return this._iter.__iterate(function(Z){if(Z){pu(Z);var pe=A(Z);return x(pe?Z.get(1):Z[1],pe?Z.get(0):Z[0],J)}},F)},v.prototype.__iterator=function(x,F){var J=this._iter.__iterator($e,F);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var pe=Z.value;if(pe){pu(pe);var ke=A(pe);return fr(x,ke?pe.get(0):pe[0],ke?pe.get(1):pe[1],Z)}}})},v}(Hn);Bs.prototype.cacheResult=es.prototype.cacheResult=ta.prototype.cacheResult=Fo.prototype.cacheResult=al;function Eo(g){var v=yo(g);return v._iter=g,v.size=g.size,v.flip=function(){return g},v.reverse=function(){var P=g.reverse.apply(this);return P.flip=function(){return g.reverse()},P},v.has=function(P){return g.includes(P)},v.includes=function(P){return g.has(P)},v.cacheResult=al,v.__iterateUncached=function(P,x){var F=this;return g.__iterate(function(J,Z){return P(Z,J,F)!==!1},x)},v.__iteratorUncached=function(P,x){if(P===Ct){var F=g.__iterator(P,x);return new tt(function(){var J=F.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return g.__iterator(P===$e?Me:$e,x)},v}function H(g,v,P){var x=yo(g);return x.size=g.size,x.has=function(F){return g.has(F)},x.get=function(F,J){var Z=g.get(F,o);return Z===o?J:v.call(P,Z,F,g)},x.__iterateUncached=function(F,J){var Z=this;return g.__iterate(function(pe,ke,Qe){return F(v.call(P,pe,ke,Qe),ke,Z)!==!1},J)},x.__iteratorUncached=function(F,J){var Z=g.__iterator(Ct,J);return new tt(function(){var pe=Z.next();if(pe.done)return pe;var ke=pe.value,Qe=ke[0];return fr(F,Qe,v.call(P,ke[1],Qe,g),pe)})},x}function Ue(g,v){var P=this,x=yo(g);return x._iter=g,x.size=g.size,x.reverse=function(){return g},g.flip&&(x.flip=function(){var F=Eo(g);return F.reverse=function(){return g.flip()},F}),x.get=function(F,J){return g.get(v?F:-1-F,J)},x.has=function(F){return g.has(v?F:-1-F)},x.includes=function(F){return g.includes(F)},x.cacheResult=al,x.__iterate=function(F,J){var Z=this,pe=0;return J&&u(g),g.__iterate(function(ke,Qe){return F(ke,v?Qe:J?Z.size-++pe:pe++,Z)},!J)},x.__iterator=function(F,J){var Z=0;J&&u(g);var pe=g.__iterator(Ct,!J);return new tt(function(){var ke=pe.next();if(ke.done)return ke;var Qe=ke.value;return fr(F,v?Qe[0]:J?P.size-++Z:Z++,Qe[1],ke)})},x}function vt(g,v,P,x){var F=yo(g);return x&&(F.has=function(J){var Z=g.get(J,o);return Z!==o&&!!v.call(P,Z,J,g)},F.get=function(J,Z){var pe=g.get(J,o);return pe!==o&&v.call(P,pe,J,g)?pe:Z}),F.__iterateUncached=function(J,Z){var pe=this,ke=0;return g.__iterate(function(Qe,ht,Ut){if(v.call(P,Qe,ht,Ut))return ke++,J(Qe,x?ht:ke-1,pe)},Z),ke},F.__iteratorUncached=function(J,Z){var pe=g.__iterator(Ct,Z),ke=0;return new tt(function(){for(;;){var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];if(v.call(P,Sr,Ut,g))return fr(J,x?Ut:ke++,Sr,Qe)}})},F}function Fr(g,v,P){var x=Tc().asMutable();return g.__iterate(function(F,J){x.update(v.call(P,F,J,g),0,function(Z){return Z+1})}),x.asImmutable()}function so(g,v,P){var x=ne(g),F=(xe(g)?Cs():Tc()).asMutable();g.__iterate(function(Z,pe){F.update(v.call(P,Z,pe,g),function(ke){return ke=ke||[],ke.push(x?[pe,Z]:Z),ke})});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))}).asImmutable()}function Bi(g,v,P){var x=ne(g),F=[[],[]];g.__iterate(function(Z,pe){F[v.call(P,Z,pe,g)?1:0].push(x?[pe,Z]:Z)});var J=ts(g);return F.map(function(Z){return Jn(g,J(Z))})}function N(g,v,P,x){var F=g.size;if(f(v,P,F))return g;var J=m(v,F),Z=_(P,F);if(J!==J||Z!==Z)return N(g.toSeq().cacheResult(),v,P,x);var pe=Z-J,ke;pe===pe&&(ke=pe<0?0:pe);var Qe=yo(g);return Qe.size=ke===0?ke:g.size&&ke||void 0,!x&&qe(g)&&ke>=0&&(Qe.get=function(ht,Ut){return ht=l(this,ht),ht>=0&&ht<ke?g.get(ht+J,Ut):Ut}),Qe.__iterateUncached=function(ht,Ut){var Sr=this;if(ke===0)return 0;if(Ut)return this.cacheResult().__iterate(ht,Ut);var sn=0,jr=!0,Wn=0;return g.__iterate(function(Js,nc){if(!(jr&&(jr=sn++<J)))return Wn++,ht(Js,x?nc:Wn-1,Sr)!==!1&&Wn!==ke}),Wn},Qe.__iteratorUncached=function(ht,Ut){if(ke!==0&&Ut)return this.cacheResult().__iterator(ht,Ut);if(ke===0)return new tt(Lr);var Sr=g.__iterator(ht,Ut),sn=0,jr=0;return new tt(function(){for(;sn++<J;)Sr.next();if(++jr>ke)return Lr();var Wn=Sr.next();return x||ht===$e||Wn.done?Wn:ht===Me?fr(ht,jr-1,void 0,Wn):fr(ht,jr-1,Wn.value[1],Wn)})},Qe}function Le(g,v,P){var x=yo(g);return x.__iterateUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterate(F,J);var pe=0;return g.__iterate(function(ke,Qe,ht){return v.call(P,ke,Qe,ht)&&++pe&&F(ke,Qe,Z)}),pe},x.__iteratorUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterator(F,J);var pe=g.__iterator(Ct,J),ke=!0;return new tt(function(){if(!ke)return Lr();var Qe=pe.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];return v.call(P,Sr,Ut,Z)?F===Ct?Qe:fr(F,Ut,Sr,Qe):(ke=!1,Lr())})},x}function rt(g,v,P,x){var F=yo(g);return F.__iterateUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterate(J,Z);var ke=!0,Qe=0;return g.__iterate(function(ht,Ut,Sr){if(!(ke&&(ke=v.call(P,ht,Ut,Sr))))return Qe++,J(ht,x?Ut:Qe-1,pe)}),Qe},F.__iteratorUncached=function(J,Z){var pe=this;if(Z)return this.cacheResult().__iterator(J,Z);var ke=g.__iterator(Ct,Z),Qe=!0,ht=0;return new tt(function(){var Ut,Sr,sn;do{if(Ut=ke.next(),Ut.done)return x||J===$e?Ut:J===Me?fr(J,ht++,void 0,Ut):fr(J,ht++,Ut.value[1],Ut);var jr=Ut.value;Sr=jr[0],sn=jr[1],Qe&&(Qe=v.call(P,sn,Sr,pe))}while(Qe);return J===Ct?Ut:fr(J,Sr,sn,Ut)})},F}function zt(g,v){var P=ne(g),x=[g].concat(v).map(function(Z){return A(Z)?P&&(Z=ee(Z)):Z=P?Ji(Z):oi(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(x.length===0)return g;if(x.length===1){var F=x[0];if(F===g||P&&ne(F)||ye(g)&&ye(F))return F}var J=new ii(x);return P?J=J.toKeyedSeq():ye(g)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=x.reduce(function(Z,pe){if(Z!==void 0){var ke=pe.size;if(ke!==void 0)return Z+ke}},0),J}function Ln(g,v,P){var x=yo(g);return x.__iterateUncached=function(F,J){if(J)return this.cacheResult().__iterate(F,J);var Z=0,pe=!1;function ke(Qe,ht){Qe.__iterate(function(Ut,Sr){return(!v||ht<v)&&A(Ut)?ke(Ut,ht+1):(Z++,F(Ut,P?Sr:Z-1,x)===!1&&(pe=!0)),!pe},J)}return ke(g,0),Z},x.__iteratorUncached=function(F,J){if(J)return this.cacheResult().__iterator(F,J);var Z=g.__iterator(F,J),pe=[],ke=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=pe.pop();continue}var ht=Qe.value;if(F===Ct&&(ht=ht[1]),(!v||pe.length<v)&&A(ht))pe.push(Z),Z=ht.__iterator(F,J);else return P?Qe:fr(F,ke++,ht,Qe)}return Lr()})},x}function Cn(g,v,P){var x=ts(g);return g.toSeq().map(function(F,J){return x(v.call(P,F,J,g))}).flatten(!0)}function Nn(g,v){var P=yo(g);return P.size=g.size&&g.size*2-1,P.__iterateUncached=function(x,F){var J=this,Z=0;return g.__iterate(function(pe){return(!Z||x(v,Z++,J)!==!1)&&x(pe,Z++,J)!==!1},F),Z},P.__iteratorUncached=function(x,F){var J=g.__iterator($e,F),Z=0,pe;return new tt(function(){return(!pe||Z%2)&&(pe=J.next(),pe.done)?pe:Z%2?fr(x,Z++,v):fr(x,Z++,pe.value,pe)})},P}function ao(g,v,P){v||(v=Mi);var x=ne(g),F=0,J=g.toSeq().map(function(Z,pe){return[pe,Z,F++,P?P(Z,pe,g):Z]}).valueSeq().toArray();return J.sort(function(Z,pe){return v(Z[3],pe[3])||Z[2]-pe[2]}).forEach(x?function(Z,pe){J[pe].length=2}:function(Z,pe){J[pe]=Z[1]}),x?Hn(J):ye(g)?$r(J):ln(J)}function ji(g,v,P){if(v||(v=Mi),P){var x=g.toSeq().map(function(F,J){return[F,P(F,J,g)]}).reduce(function(F,J){return Po(v,F[1],J[1])?J:F});return x&&x[0]}return g.reduce(function(F,J){return Po(v,F,J)?J:F})}function Po(g,v,P){var x=g(P,v);return x===0&&P!==v&&(P==null||P!==P)||x>0}function $i(g,v,P,x){var F=yo(g),J=new ii(P).map(function(Z){return Z.size});return F.size=x?J.max():J.min(),F.__iterate=function(Z,pe){for(var ke=this.__iterator($e,pe),Qe,ht=0;!(Qe=ke.next()).done&&Z(Qe.value,ht++,this)!==!1;);return ht},F.__iteratorUncached=function(Z,pe){var ke=P.map(function(Ut){return Ut=$(Ut),xt(pe?Ut.reverse():Ut)}),Qe=0,ht=!1;return new tt(function(){var Ut;return ht||(Ut=ke.map(function(Sr){return Sr.next()}),ht=x?Ut.every(function(Sr){return Sr.done}):Ut.some(function(Sr){return Sr.done})),ht?Lr():fr(Z,Qe++,v.apply(null,Ut.map(function(Sr){return Sr.value})))})},F}function Jn(g,v){return g===v?g:qe(g)?v:g.constructor(v)}function pu(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function ts(g){return ne(g)?ee:ye(g)?De:ae}function yo(g){return Object.create((ne(g)?Hn:ye(g)?$r:ln).prototype)}function al(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Or.prototype.cacheResult.call(this)}function Mi(g,v){return g===void 0&&v===void 0?0:g===void 0?1:v===void 0?-1:g>v?1:g<v?-1:0}function Ja(g,v){v=v||0;for(var P=Math.max(0,g.length-v),x=new Array(P),F=0;F<P;F++)x[F]=g[F+v];return x}function Xa(g,v){if(!g)throw new Error(v)}function ha(g){Xa(g!==1/0,"Cannot perform this action with an infinite size.")}function cl(g){if(On(g)&&typeof g!="string")return g;if(xe(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}var lh=Object.prototype.toString;function Cc(g){if(!g||typeof g!="object"||lh.call(g)!=="[object Object]")return!1;var v=Object.getPrototypeOf(g);if(v===null)return!0;for(var P=v,x=Object.getPrototypeOf(v);x!==null;)P=x,x=Object.getPrototypeOf(P);return P===v}function ra(g){return typeof g=="object"&&(Ce(g)||Array.isArray(g)||Cc(g))}function mu(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function dh(g,v){return Ce(g)?g.has(v):ra(g)&&un.call(g,v)}function Uo(g,v,P){return Ce(g)?g.get(v,P):dh(g,v)?typeof g.get=="function"?g.get(v):g[v]:P}function Ws(g){if(Array.isArray(g))return Ja(g);var v={};for(var P in g)un.call(g,P)&&(v[P]=g[P]);return v}function Dn(g,v){if(!ra(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(v)}if(!un.call(g,v))return g;var P=Ws(g);return Array.isArray(P)?P.splice(v,1):delete P[v],P}function $s(g,v,P){if(!ra(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(v,P)}if(un.call(g,v)&&P===g[v])return g;var x=Ws(g);return x[v]=P,x}function gu(g,v,P,x){x||(x=P,P=void 0);var F=si(Ce(g),g,cl(v),0,P,x);return F===o?P:F}function si(g,v,P,x,F,J){var Z=v===o;if(x===P.length){var pe=Z?F:v,ke=J(pe);return ke===pe?v:ke}if(!Z&&!ra(v))throw new TypeError("Cannot update within non-data-structure value in path ["+P.slice(0,x).map(mu)+"]: "+v);var Qe=P[x],ht=Z?o:Uo(v,Qe,o),Ut=si(ht===o?g:Ce(ht),ht,P,x+1,F,J);return Ut===ht?v:Ut===o?Dn(v,Qe):$s(Z?g?Ho():{}:v,Qe,Ut)}function Ta(g,v,P){return gu(g,v,o,function(){return P})}function Xc(g,v){return Ta(this,g,v)}function fh(g,v){return gu(g,v,function(){return o})}function af(g){return fh(this,g)}function ap(g,v,P,x){return gu(g,[v],P,x)}function cf(g,v,P){return arguments.length===1?g(this):ap(this,g,v,P)}function cp(g,v,P){return gu(this,g,v,P)}function uf(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Xn(this,g)}function Al(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return Xn(this,v,g)}function Xn(g,v,P){for(var x=[],F=0;F<v.length;F++){var J=ee(v[F]);J.size!==0&&x.push(J)}return x.length===0?g:g.toSeq().size===0&&!g.__ownerID&&x.length===1?g.constructor(x[0]):g.withMutations(function(Z){for(var pe=P?function(Qe,ht){ap(Z,ht,o,function(Ut){return Ut===o?Qe:P(Ut,Qe,ht)})}:function(Qe,ht){Z.set(ht,Qe)},ke=0;ke<x.length;ke++)x[ke].forEach(pe)})}function Vs(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return Gs(g,v)}function Ll(g,v){for(var P=[],x=arguments.length-2;x-- >0;)P[x]=arguments[x+2];return Gs(v,P,g)}function co(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return ph(g,v)}function hh(g,v){for(var P=[],x=arguments.length-2;x-- >0;)P[x]=arguments[x+2];return ph(v,P,g)}function ph(g,v,P){return Gs(g,v,vu(P))}function Gs(g,v,P){if(!ra(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(Ce(g))return typeof P=="function"&&g.mergeWith?g.mergeWith.apply(g,[P].concat(v)):g.merge?g.merge.apply(g,v):g.concat.apply(g,v);for(var x=Array.isArray(g),F=g,J=x?De:ee,Z=x?function(ke){F===g&&(F=Ws(F)),F.push(ke)}:function(ke,Qe){var ht=un.call(F,Qe),Ut=ht&&P?P(F[Qe],ke,Qe):ke;(!ht||Ut!==F[Qe])&&(F===g&&(F=Ws(F)),F[Qe]=Ut)},pe=0;pe<v.length;pe++)J(v[pe]).forEach(Z);return F}function vu(g){function v(P,x,F){return ra(P)&&ra(x)&&mh(P,x)?Gs(P,[x],v):g?g(P,x,F):x}return v}function mh(g,v){var P=Or(g),x=Or(v);return ye(P)===ye(x)&&ne(P)===ne(x)}function yd(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return ph(this,g)}function Ss(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return ph(this,v,g)}function Ml(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return gu(this,g,Ho(),function(x){return Gs(x,v)})}function Qc(g){for(var v=[],P=arguments.length-1;P-- >0;)v[P]=arguments[P+1];return gu(this,g,Ho(),function(x){return ph(x,v)})}function pm(g){var v=this.asMutable();return g(v),v.wasAltered()?v.__ensureOwner(this.__ownerID):this}function _d(){return this.__ownerID?this:this.__ensureOwner(new c)}function lf(){return this.__ensureOwner()}function df(){return this.__altered}var Tc=function(g){function v(P){return P==null?Ho():Q(P)&&!xe(P)?P:Ho().withMutations(function(x){var F=g(P);ha(F.size),F.forEach(function(J,Z){return x.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){for(var x=[],F=arguments.length;F--;)x[F]=arguments[F];return Ho().withMutations(function(J){for(var Z=0;Z<x.length;Z+=2){if(Z+1>=x.length)throw new Error("Missing value for key: "+x[Z]);J.set(x[Z],x[Z+1])}})},v.prototype.toString=function(){return this.__toString("Map {","}")},v.prototype.get=function(x,F){return this._root?this._root.get(0,void 0,x,F):F},v.prototype.set=function(x,F){return Nl(this,x,F)},v.prototype.remove=function(x){return Nl(this,x,o)},v.prototype.deleteAll=function(x){var F=$(x);return F.size===0?this:this.withMutations(function(J){F.forEach(function(Z){return J.remove(Z)})})},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ho()},v.prototype.sort=function(x){return Cs(ao(this,x))},v.prototype.sortBy=function(x,F){return Cs(ao(this,F,x))},v.prototype.map=function(x,F){var J=this;return this.withMutations(function(Z){Z.forEach(function(pe,ke){Z.set(ke,x.call(F,pe,ke,J))})})},v.prototype.__iterator=function(x,F){return new Av(this,x,F)},v.prototype.__iterate=function(x,F){var J=this,Z=0;return this._root&&this._root.iterate(function(pe){return Z++,x(pe[1],pe[0],J)},F),Z},v.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?Nu(this.size,this._root,x,this.__hash):this.size===0?Ho():(this.__ownerID=x,this.__altered=!1,this)},v}(ee);Tc.isMap=Q;var _o=Tc.prototype;_o[oe]=!0,_o[e]=_o.remove,_o.removeAll=_o.deleteAll,_o.setIn=Xc,_o.removeIn=_o.deleteIn=af,_o.update=cf,_o.updateIn=cp,_o.merge=_o.concat=uf,_o.mergeWith=Al,_o.mergeDeep=yd,_o.mergeDeepWith=Ss,_o.mergeIn=Ml,_o.mergeDeepIn=Qc,_o.withMutations=pm,_o.wasAltered=df,_o.asImmutable=lf,_o["@@transducer/init"]=_o.asMutable=_d,_o["@@transducer/step"]=function(g,v){return g.set(v[0],v[1])},_o["@@transducer/result"]=function(g){return g.asImmutable()};var up=function(v,P){this.ownerID=v,this.entries=P};up.prototype.get=function(v,P,x,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(x,J[Z][0]))return J[Z][1];return F},up.prototype.update=function(v,P,x,F,J,Z,pe){for(var ke=J===o,Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),!(ke&&Qe.length===1)){if(!Sr&&!ke&&Qe.length>=hf)return vh(v,Qe,F,J);var sn=v&&v===this.ownerID,jr=sn?Qe:Ja(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new up(v,jr)}};var ff=function(v,P,x){this.ownerID=v,this.bitmap=P,this.nodes=x};ff.prototype.get=function(v,P,x,F){P===void 0&&(P=$t(x));var J=1<<((v===0?P:P>>>v)&i),Z=this.bitmap;return(Z&J)===0?F:this.nodes[dp(Z&J-1)].get(v+t,P,x,F)},ff.prototype.update=function(v,P,x,F,J,Z,pe){x===void 0&&(x=$t(F));var ke=(P===0?x:x>>>P)&i,Qe=1<<ke,ht=this.bitmap,Ut=(ht&Qe)!==0;if(!Ut&&J===o)return this;var Sr=dp(ht&Qe-1),sn=this.nodes,jr=Ut?sn[Sr]:void 0,Wn=gh(jr,v,P+t,x,F,J,Z,pe);if(Wn===jr)return this;if(!Ut&&Wn&&sn.length>=Sd)return Fl(v,sn,ht,ke,Wn);if(Ut&&!Wn&&sn.length===2&&wg(sn[Sr^1]))return sn[Sr^1];if(Ut&&Wn&&sn.length===1&&wg(Wn))return Wn;var Js=v&&v===this.ownerID,nc=Ut?Wn?ht:ht^Qe:ht|Qe,Cu=Ut?Wn?Fu(sn,Sr,Wn,Js):_u(sn,Sr,Js):yh(sn,Sr,Wn,Js);return Js?(this.bitmap=nc,this.nodes=Cu,this):new ff(v,nc,Cu)};var na=function(v,P,x){this.ownerID=v,this.count=P,this.nodes=x};na.prototype.get=function(v,P,x,F){P===void 0&&(P=$t(x));var J=(v===0?P:P>>>v)&i,Z=this.nodes[J];return Z?Z.get(v+t,P,x,F):F},na.prototype.update=function(v,P,x,F,J,Z,pe){x===void 0&&(x=$t(F));var ke=(P===0?x:x>>>P)&i,Qe=J===o,ht=this.nodes,Ut=ht[ke];if(Qe&&!Ut)return this;var Sr=gh(Ut,v,P+t,x,F,J,Z,pe);if(Sr===Ut)return this;var sn=this.count;if(!Ut)sn++;else if(!Sr&&(sn--,sn<pf))return lp(v,ht,sn,ke);var jr=v&&v===this.ownerID,Wn=Fu(ht,ke,Sr,jr);return jr?(this.count=sn,this.nodes=Wn,this):new na(v,sn,Wn)};var ul=function(v,P,x){this.ownerID=v,this.keyHash=P,this.entries=x};ul.prototype.get=function(v,P,x,F){for(var J=this.entries,Z=0,pe=J.length;Z<pe;Z++)if(ft(x,J[Z][0]))return J[Z][1];return F},ul.prototype.update=function(v,P,x,F,J,Z,pe){x===void 0&&(x=$t(F));var ke=J===o;if(x!==this.keyHash)return ke?this:(a(pe),a(Z),wd(this,v,P,x,[F,J]));for(var Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(pe),(ke||!Sr)&&a(Z),ke&&Ut===2)return new yu(v,this.keyHash,Qe[ht^1]);var sn=v&&v===this.ownerID,jr=sn?Qe:Ja(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),sn?(this.entries=jr,this):new ul(v,this.keyHash,jr)};var yu=function(v,P,x){this.ownerID=v,this.keyHash=P,this.entry=x};yu.prototype.get=function(v,P,x,F){return ft(x,this.entry[0])?this.entry[1]:F},yu.prototype.update=function(v,P,x,F,J,Z,pe){var ke=J===o,Qe=ft(F,this.entry[0]);if(Qe?J===this.entry[1]:ke)return this;if(a(pe),ke){a(Z);return}return Qe?v&&v===this.ownerID?(this.entry[1]=J,this):new yu(v,this.keyHash,[F,J]):(a(Z),wd(this,v,P,$t(F),[F,J]))},up.prototype.iterate=ul.prototype.iterate=function(g,v){for(var P=this.entries,x=0,F=P.length-1;x<=F;x++)if(g(P[v?F-x:x])===!1)return!1},ff.prototype.iterate=na.prototype.iterate=function(g,v){for(var P=this.nodes,x=0,F=P.length-1;x<=F;x++){var J=P[v?F-x:x];if(J&&J.iterate(g,v)===!1)return!1}},yu.prototype.iterate=function(g,v){return g(this.entry)};var Av=function(g){function v(P,x,F){this._type=x,this._reverse=F,this._stack=P._root&&Jy(P._root)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.next=function(){for(var x=this._type,F=this._stack;F;){var J=F.node,Z=F.index++,pe=void 0;if(J.entry){if(Z===0)return ia(x,J.entry)}else if(J.entries){if(pe=J.entries.length-1,Z<=pe)return ia(x,J.entries[this._reverse?pe-Z:Z])}else if(pe=J.nodes.length-1,Z<=pe){var ke=J.nodes[this._reverse?pe-Z:Z];if(ke){if(ke.entry)return ia(x,ke.entry);F=this._stack=Jy(ke,F)}continue}F=this._stack=this._stack.__prev}return Lr()},v}(tt);function ia(g,v){return fr(g,v[0],v[1])}function Jy(g,v){return{node:g,index:0,__prev:v}}function Nu(g,v,P,x){var F=Object.create(_o);return F.size=g,F._root=v,F.__ownerID=P,F.__hash=x,F.__altered=!1,F}var bd;function Ho(){return bd||(bd=Nu(0))}function Nl(g,v,P){var x,F;if(g._root){var J=s(),Z=s();if(x=gh(g._root,g.__ownerID,0,void 0,v,P,J,Z),!Z.value)return g;F=g.size+(J.value?P===o?-1:1:0)}else{if(P===o)return g;F=1,x=new up(g.__ownerID,[[v,P]])}return g.__ownerID?(g.size=F,g._root=x,g.__hash=void 0,g.__altered=!0,g):x?Nu(F,x):Ho()}function gh(g,v,P,x,F,J,Z,pe){return g?g.update(v,P,x,F,J,Z,pe):J===o?g:(a(pe),a(Z),new yu(v,x,[F,J]))}function wg(g){return g.constructor===yu||g.constructor===ul}function wd(g,v,P,x,F){if(g.keyHash===x)return new ul(v,x,[g.entry,F]);var J=(P===0?g.keyHash:g.keyHash>>>P)&i,Z=(P===0?x:x>>>P)&i,pe,ke=J===Z?[wd(g,v,P+t,x,F)]:(pe=new yu(v,x,F),J<Z?[g,pe]:[pe,g]);return new ff(v,1<<J|1<<Z,ke)}function vh(g,v,P,x){g||(g=new c);for(var F=new yu(g,$t(P),[P,x]),J=0;J<v.length;J++){var Z=v[J];F=F.update(g,0,void 0,Z[0],Z[1])}return F}function lp(g,v,P,x){for(var F=0,J=0,Z=new Array(P),pe=0,ke=1,Qe=v.length;pe<Qe;pe++,ke<<=1){var ht=v[pe];ht!==void 0&&pe!==x&&(F|=ke,Z[J++]=ht)}return new ff(g,F,Z)}function Fl(g,v,P,x,F){for(var J=0,Z=new Array(n),pe=0;P!==0;pe++,P>>>=1)Z[pe]=P&1?v[J++]:void 0;return Z[x]=F,new na(g,J+1,Z)}function dp(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function Fu(g,v,P,x){var F=x?g:Ja(g);return F[v]=P,F}function yh(g,v,P,x){var F=g.length+1;if(x&&v+1===F)return g[v]=P,g;for(var J=new Array(F),Z=0,pe=0;pe<F;pe++)pe===v?(J[pe]=P,Z=-1):J[pe]=g[pe+Z];return J}function _u(g,v,P){var x=g.length-1;if(P&&v===x)return g.pop(),g;for(var F=new Array(x),J=0,Z=0;Z<x;Z++)Z===v&&(J=1),F[Z]=g[Z+J];return F}var hf=n/4,Sd=n/2,pf=n/4,Cd="@@__IMMUTABLE_LIST__@@";function Ks(g){return!!(g&&g[Cd])}var Da=function(g){function v(P){var x=ql();if(P==null)return x;if(Ks(P))return P;var F=g(P),J=F.size;return J===0?x:(ha(J),J>0&&J<n?qu(0,J,t,null,new Zc(F.toArray())):x.withMutations(function(Z){Z.setSize(J),F.forEach(function(pe,ke){return Z.set(ke,pe)})}))}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("List [","]")},v.prototype.get=function(x,F){if(x=l(this,x),x>=0&&x<this.size){x+=this._origin;var J=_h(this,x);return J&&J.array[x&i]}return F},v.prototype.set=function(x,F){return fp(this,x,F)},v.prototype.remove=function(x){return this.has(x)?x===0?this.shift():x===this.size-1?this.pop():this.splice(x,1):this},v.prototype.insert=function(x,F){return this.splice(x,0,F)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):ql()},v.prototype.push=function(){var x=arguments,F=this.size;return this.withMutations(function(J){Dc(J,0,F+x.length);for(var Z=0;Z<x.length;Z++)J.set(F+Z,x[Z])})},v.prototype.pop=function(){return Dc(this,0,-1)},v.prototype.unshift=function(){var x=arguments;return this.withMutations(function(F){Dc(F,-x.length);for(var J=0;J<x.length;J++)F.set(J,x[J])})},v.prototype.shift=function(){return Dc(this,1)},v.prototype.concat=function(){for(var x=arguments,F=[],J=0;J<arguments.length;J++){var Z=x[J],pe=g(typeof Z!="string"&&zr(Z)?Z:[Z]);pe.size!==0&&F.push(pe)}return F.length===0?this:this.size===0&&!this.__ownerID&&F.length===1?this.constructor(F[0]):this.withMutations(function(ke){F.forEach(function(Qe){return Qe.forEach(function(ht){return ke.push(ht)})})})},v.prototype.setSize=function(x){return Dc(this,0,x)},v.prototype.map=function(x,F){var J=this;return this.withMutations(function(Z){for(var pe=0;pe<J.size;pe++)Z.set(pe,x.call(F,Z.get(pe),pe,J))})},v.prototype.slice=function(x,F){var J=this.size;return f(x,F,J)?this:Dc(this,m(x,J),_(F,J))},v.prototype.__iterator=function(x,F){var J=F?this.size:0,Z=Sg(this,F);return new tt(function(){var pe=Z();return pe===Qa?Lr():fr(x,F?--J:J++,pe)})},v.prototype.__iterate=function(x,F){for(var J=F?this.size:0,Z=Sg(this,F),pe;(pe=Z())!==Qa&&x(pe,F?--J:J++,this)!==!1;);return J},v.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?qu(this._origin,this._capacity,this._level,this._root,this._tail,x,this.__hash):this.size===0?ql():(this.__ownerID=x,this.__altered=!1,this)},v}(De);Da.isList=Ks;var Ro=Da.prototype;Ro[Cd]=!0,Ro[e]=Ro.remove,Ro.merge=Ro.concat,Ro.setIn=Xc,Ro.deleteIn=Ro.removeIn=af,Ro.update=cf,Ro.updateIn=cp,Ro.mergeIn=Ml,Ro.mergeDeepIn=Qc,Ro.withMutations=pm,Ro.wasAltered=df,Ro.asImmutable=lf,Ro["@@transducer/init"]=Ro.asMutable=_d,Ro["@@transducer/step"]=function(g,v){return g.push(v)},Ro["@@transducer/result"]=function(g){return g.asImmutable()};var Zc=function(v,P){this.array=v,this.ownerID=P};Zc.prototype.removeBefore=function(v,P,x){if(x===P?1<<P:this.array.length===0)return this;var F=x>>>P&i;if(F>=this.array.length)return new Zc([],v);var J=F===0,Z;if(P>0){var pe=this.array[F];if(Z=pe&&pe.removeBefore(v,P-t,x),Z===pe&&J)return this}if(J&&!Z)return this;var ke=ll(this,v);if(!J)for(var Qe=0;Qe<F;Qe++)ke.array[Qe]=void 0;return Z&&(ke.array[F]=Z),ke},Zc.prototype.removeAfter=function(v,P,x){if(x===(P?1<<P:0)||this.array.length===0)return this;var F=x-1>>>P&i;if(F>=this.array.length)return this;var J;if(P>0){var Z=this.array[F];if(J=Z&&Z.removeAfter(v,P-t,x),J===Z&&F===this.array.length-1)return this}var pe=ll(this,v);return pe.array.splice(F+1),J&&(pe.array[F]=J),pe};var Qa={};function Sg(g,v){var P=g._origin,x=g._capacity,F=ju(x),J=g._tail;return Z(g._root,g._level,0);function Z(Qe,ht,Ut){return ht===0?pe(Qe,Ut):ke(Qe,ht,Ut)}function pe(Qe,ht){var Ut=ht===F?J&&J.array:Qe&&Qe.array,Sr=ht>P?0:P-ht,sn=x-ht;return sn>n&&(sn=n),function(){if(Sr===sn)return Qa;var jr=v?--sn:Sr++;return Ut&&Ut[jr]}}function ke(Qe,ht,Ut){var Sr,sn=Qe&&Qe.array,jr=Ut>P?0:P-Ut>>ht,Wn=(x-Ut>>ht)+1;return Wn>n&&(Wn=n),function(){for(;;){if(Sr){var Js=Sr();if(Js!==Qa)return Js;Sr=null}if(jr===Wn)return Qa;var nc=v?--Wn:jr++;Sr=Z(sn&&sn[nc],ht-t,Ut+(nc<<ht))}}}}function qu(g,v,P,x,F,J,Z){var pe=Object.create(Ro);return pe.size=v-g,pe._origin=g,pe._capacity=v,pe._level=P,pe._root=x,pe._tail=F,pe.__ownerID=J,pe.__hash=Z,pe.__altered=!1,pe}var Ys;function ql(){return Ys||(Ys=qu(0,0,t))}function fp(g,v,P){if(v=l(g,v),v!==v)return g;if(v>=g.size||v<0)return g.withMutations(function(Z){v<0?Dc(Z,v).set(0,P):Dc(Z,0,v+1).set(v,P)});v+=g._origin;var x=g._tail,F=g._root,J=s();return v>=ju(g._capacity)?x=bu(x,g.__ownerID,0,v,P,J):F=bu(F,g.__ownerID,g._level,v,P,J),J.value?g.__ownerID?(g._root=F,g._tail=x,g.__hash=void 0,g.__altered=!0,g):qu(g._origin,g._capacity,g._level,F,x):g}function bu(g,v,P,x,F,J){var Z=x>>>P&i,pe=g&&Z<g.array.length;if(!pe&&F===void 0)return g;var ke;if(P>0){var Qe=g&&g.array[Z],ht=bu(Qe,v,P-t,x,F,J);return ht===Qe?g:(ke=ll(g,v),ke.array[Z]=ht,ke)}return pe&&g.array[Z]===F?g:(J&&a(J),ke=ll(g,v),F===void 0&&Z===ke.array.length-1?ke.array.pop():ke.array[Z]=F,ke)}function ll(g,v){return v&&g&&v===g.ownerID?g:new Zc(g?g.array.slice():[],v)}function _h(g,v){if(v>=ju(g._capacity))return g._tail;if(v<1<<g._level+t){for(var P=g._root,x=g._level;P&&x>0;)P=P.array[v>>>x&i],x-=t;return P}}function Dc(g,v,P){v!==void 0&&(v|=0),P!==void 0&&(P|=0);var x=g.__ownerID||new c,F=g._origin,J=g._capacity,Z=F+v,pe=P===void 0?J:P<0?J+P:F+P;if(Z===F&&pe===J)return g;if(Z>=pe)return g.clear();for(var ke=g._level,Qe=g._root,ht=0;Z+ht<0;)Qe=new Zc(Qe&&Qe.array.length?[void 0,Qe]:[],x),ke+=t,ht+=1<<ke;ht&&(Z+=ht,F+=ht,pe+=ht,J+=ht);for(var Ut=ju(J),Sr=ju(pe);Sr>=1<<ke+t;)Qe=new Zc(Qe&&Qe.array.length?[Qe]:[],x),ke+=t;var sn=g._tail,jr=Sr<Ut?_h(g,pe-1):Sr>Ut?new Zc([],x):sn;if(sn&&Sr>Ut&&Z<J&&sn.array.length){Qe=ll(Qe,x);for(var Wn=Qe,Js=ke;Js>t;Js-=t){var nc=Ut>>>Js&i;Wn=Wn.array[nc]=ll(Wn.array[nc],x)}Wn.array[Ut>>>t&i]=sn}if(pe<J&&(jr=jr&&jr.removeAfter(x,0,pe)),Z>=Sr)Z-=Sr,pe-=Sr,ke=t,Qe=null,jr=jr&&jr.removeBefore(x,0,Z);else if(Z>F||Sr<Ut){for(ht=0;Qe;){var Cu=Z>>>ke&i;if(Cu!==Sr>>>ke&i)break;Cu&&(ht+=(1<<ke)*Cu),ke-=t,Qe=Qe.array[Cu]}Qe&&Z>F&&(Qe=Qe.removeBefore(x,ke,Z-ht)),Qe&&Sr<Ut&&(Qe=Qe.removeAfter(x,ke,Sr-ht)),ht&&(Z-=ht,pe-=ht)}return g.__ownerID?(g.size=pe-Z,g._origin=Z,g._capacity=pe,g._level=ke,g._root=Qe,g._tail=jr,g.__hash=void 0,g.__altered=!0,g):qu(Z,pe,ke,Qe,jr)}function ju(g){return g<n?0:g-1>>>t<<t}var Cs=function(g){function v(P){return P==null?Uu():_e(P)?P:Uu().withMutations(function(x){var F=ee(P);ha(F.size),F.forEach(function(J,Z){return x.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("OrderedMap {","}")},v.prototype.get=function(x,F){var J=this._map.get(x);return J!==void 0?this._list.get(J)[1]:F},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Uu()},v.prototype.set=function(x,F){return oa(this,x,F)},v.prototype.remove=function(x){return oa(this,x,o)},v.prototype.__iterate=function(x,F){var J=this;return this._list.__iterate(function(Z){return Z&&x(Z[1],Z[0],J)},F)},v.prototype.__iterator=function(x,F){return this._list.fromEntrySeq().__iterator(x,F)},v.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var F=this._map.__ensureOwner(x),J=this._list.__ensureOwner(x);return x?eu(F,J,x,this.__hash):this.size===0?Uu():(this.__ownerID=x,this.__altered=!1,this._map=F,this._list=J,this)},v}(Tc);Cs.isOrderedMap=_e,Cs.prototype[be]=!0,Cs.prototype[e]=Cs.prototype.remove;function eu(g,v,P,x){var F=Object.create(Cs.prototype);return F.size=g?g.size:0,F._map=g,F._list=v,F.__ownerID=P,F.__hash=x,F.__altered=!1,F}var zu;function Uu(){return zu||(zu=eu(Ho(),ql()))}function oa(g,v,P){var x=g._map,F=g._list,J=x.get(v),Z=J!==void 0,pe,ke;if(P===o){if(!Z)return g;F.size>=n&&F.size>=x.size*2?(ke=F.filter(function(Qe,ht){return Qe!==void 0&&J!==ht}),pe=ke.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),g.__ownerID&&(pe.__ownerID=ke.__ownerID=g.__ownerID)):(pe=x.remove(v),ke=J===F.size-1?F.pop():F.set(J,void 0))}else if(Z){if(P===F.get(J)[1])return g;pe=x,ke=F.set(J,[v,P])}else pe=x.set(v,F.size),ke=F.set(F.size,[v,P]);return g.__ownerID?(g.size=pe.size,g._map=pe,g._list=ke,g.__hash=void 0,g.__altered=!0,g):eu(pe,ke)}var Cg="@@__IMMUTABLE_STACK__@@";function Za(g){return!!(g&&g[Cg])}var dl=function(g){function v(P){return P==null?Hu():Za(P)?P:Hu().pushAll(P)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("Stack [","]")},v.prototype.get=function(x,F){var J=this._head;for(x=l(this,x);J&&x--;)J=J.next;return J?J.value:F},v.prototype.peek=function(){return this._head&&this._head.value},v.prototype.push=function(){var x=arguments;if(arguments.length===0)return this;for(var F=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:x[Z],next:J};return this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pushAll=function(x){if(x=g(x),x.size===0)return this;if(this.size===0&&Za(x))return x;ha(x.size);var F=this.size,J=this._head;return x.__iterate(function(Z){F++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Wo(F,J)},v.prototype.pop=function(){return this.slice(1)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Hu()},v.prototype.slice=function(x,F){if(f(x,F,this.size))return this;var J=m(x,this.size),Z=_(F,this.size);if(Z!==this.size)return g.prototype.slice.call(this,x,F);for(var pe=this.size-J,ke=this._head;J--;)ke=ke.next;return this.__ownerID?(this.size=pe,this._head=ke,this.__hash=void 0,this.__altered=!0,this):Wo(pe,ke)},v.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?Wo(this.size,this._head,x,this.__hash):this.size===0?Hu():(this.__ownerID=x,this.__altered=!1,this)},v.prototype.__iterate=function(x,F){var J=this;if(F)return new ii(this.toArray()).__iterate(function(ke,Qe){return x(ke,Qe,J)},F);for(var Z=0,pe=this._head;pe&&x(pe.value,Z++,this)!==!1;)pe=pe.next;return Z},v.prototype.__iterator=function(x,F){if(F)return new ii(this.toArray()).__iterator(x,F);var J=0,Z=this._head;return new tt(function(){if(Z){var pe=Z.value;return Z=Z.next,fr(x,J++,pe)}return Lr()})},v}(De);dl.isStack=Za;var Bo=dl.prototype;Bo[Cg]=!0,Bo.shift=Bo.pop,Bo.unshift=Bo.push,Bo.unshiftAll=Bo.pushAll,Bo.withMutations=pm,Bo.wasAltered=df,Bo.asImmutable=lf,Bo["@@transducer/init"]=Bo.asMutable=_d,Bo["@@transducer/step"]=function(g,v){return g.unshift(v)},Bo["@@transducer/result"]=function(g){return g.asImmutable()};function Wo(g,v,P,x){var F=Object.create(Bo);return F.size=g,F._head=v,F.__ownerID=P,F.__hash=x,F.__altered=!1,F}var mf;function Hu(){return mf||(mf=Wo(0))}var gf="@@__IMMUTABLE_SET__@@";function qo(g){return!!(g&&g[gf])}function jl(g){return qo(g)&&xe(g)}function vf(g,v){if(g===v)return!0;if(!A(v)||g.size!==void 0&&v.size!==void 0&&g.size!==v.size||g.__hash!==void 0&&v.__hash!==void 0&&g.__hash!==v.__hash||ne(g)!==ne(v)||ye(g)!==ye(v)||xe(g)!==xe(v))return!1;if(g.size===0&&v.size===0)return!0;var P=!V(g);if(xe(g)){var x=g.entries();return v.every(function(ke,Qe){var ht=x.next().value;return ht&&ft(ht[1],ke)&&(P||ft(ht[0],Qe))})&&x.next().done}var F=!1;if(g.size===void 0)if(v.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{F=!0;var J=g;g=v,v=J}var Z=!0,pe=v.__iterate(function(ke,Qe){if(P?!g.has(ke):F?!ft(ke,g.get(Qe,o)):!ft(g.get(Qe,o),ke))return Z=!1,!1});return Z&&g.size===pe}function pa(g,v){var P=function(x){g.prototype[x]=v[x]};return Object.keys(v).forEach(P),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(v).forEach(P),g}function wu(g){if(!g||typeof g!="object")return g;if(!A(g)){if(!ra(g))return g;g=Or(g)}if(ne(g)){var v={};return g.__iterate(function(x,F){v[F]=wu(x)}),v}var P=[];return g.__iterate(function(x){P.push(wu(x))}),P}var sa=function(g){function v(P){return P==null?tu():qo(P)&&!xe(P)?P:tu().withMutations(function(x){var F=g(P);ha(F.size),F.forEach(function(J){return x.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(x){return this(ee(x).keySeq())},v.intersect=function(x){return x=$(x).toArray(),x.length?As.intersect.apply(v(x.pop()),x):tu()},v.union=function(x){return x=$(x).toArray(),x.length?As.union.apply(v(x.pop()),x):tu()},v.prototype.toString=function(){return this.__toString("Set {","}")},v.prototype.has=function(x){return this._map.has(x)},v.prototype.add=function(x){return zl(this,this._map.set(x,x))},v.prototype.remove=function(x){return zl(this,this._map.remove(x))},v.prototype.clear=function(){return zl(this,this._map.clear())},v.prototype.map=function(x,F){var J=this,Z=!1,pe=zl(this,this._map.mapEntries(function(ke){var Qe=ke[1],ht=x.call(F,Qe,Qe,J);return ht!==Qe&&(Z=!0),[ht,ht]},F));return Z?pe:this},v.prototype.union=function(){for(var x=[],F=arguments.length;F--;)x[F]=arguments[F];return x=x.filter(function(J){return J.size!==0}),x.length===0?this:this.size===0&&!this.__ownerID&&x.length===1?this.constructor(x[0]):this.withMutations(function(J){for(var Z=0;Z<x.length;Z++)typeof x[Z]=="string"?J.add(x[Z]):g(x[Z]).forEach(function(pe){return J.add(pe)})})},v.prototype.intersect=function(){for(var x=[],F=arguments.length;F--;)x[F]=arguments[F];if(x.length===0)return this;x=x.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){x.every(function(pe){return pe.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.subtract=function(){for(var x=[],F=arguments.length;F--;)x[F]=arguments[F];if(x.length===0)return this;x=x.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){x.some(function(pe){return pe.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(pe){Z.remove(pe)})})},v.prototype.sort=function(x){return $o(ao(this,x))},v.prototype.sortBy=function(x,F){return $o(ao(this,F,x))},v.prototype.wasAltered=function(){return this._map.wasAltered()},v.prototype.__iterate=function(x,F){var J=this;return this._map.__iterate(function(Z){return x(Z,Z,J)},F)},v.prototype.__iterator=function(x,F){return this._map.__iterator(x,F)},v.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var F=this._map.__ensureOwner(x);return x?this.__make(F,x):this.size===0?this.__empty():(this.__ownerID=x,this._map=F,this)},v}(ae);sa.isSet=qo;var As=sa.prototype;As[gf]=!0,As[e]=As.remove,As.merge=As.concat=As.union,As.withMutations=pm,As.asImmutable=lf,As["@@transducer/init"]=As.asMutable=_d,As["@@transducer/step"]=function(g,v){return g.add(v)},As["@@transducer/result"]=function(g){return g.asImmutable()},As.__empty=tu,As.__make=Lv;function zl(g,v){return g.__ownerID?(g.size=v.size,g._map=v,g):v===g._map?g:v.size===0?g.__empty():g.__make(v)}function Lv(g,v){var P=Object.create(As);return P.size=g?g.size:0,P._map=g,P.__ownerID=v,P}var hs;function tu(){return hs||(hs=Lv(Ho()))}var fl=function(g){function v(P,x,F){if(!(this instanceof v))return new v(P,x,F);if(Xa(F!==0,"Cannot step a Range by 0"),P=P||0,x===void 0&&(x=1/0),F=F===void 0?1:Math.abs(F),x<P&&(F=-F),this._start=P,this._end=x,this._step=F,this.size=Math.max(0,Math.ceil((x-P)/F-1)+1),this.size===0){if(bh)return bh;bh=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},v.prototype.get=function(x,F){return this.has(x)?this._start+l(this,x)*this._step:F},v.prototype.includes=function(x){var F=(x-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},v.prototype.slice=function(x,F){return f(x,F,this.size)?this:(x=m(x,this.size),F=_(F,this.size),F<=x?new v(0,0):new v(this.get(x,this._end),this.get(F,this._end),this._step))},v.prototype.indexOf=function(x){var F=x-this._start;if(F%this._step===0){var J=F/this._step;if(J>=0&&J<this.size)return J}return-1},v.prototype.lastIndexOf=function(x){return this.indexOf(x)},v.prototype.__iterate=function(x,F){for(var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;ke!==J&&x(pe,F?J-++ke:ke++,this)!==!1;)pe+=F?-Z:Z;return ke},v.prototype.__iterator=function(x,F){var J=this.size,Z=this._step,pe=F?this._start+(J-1)*Z:this._start,ke=0;return new tt(function(){if(ke===J)return Lr();var Qe=pe;return pe+=F?-Z:Z,fr(x,F?J-++ke:ke++,Qe)})},v.prototype.equals=function(x){return x instanceof v?this._start===x._start&&this._end===x._end&&this._step===x._step:vf(this,x)},v}($r),bh;function Td(g,v,P){for(var x=cl(v),F=0;F!==x.length;)if(g=Uo(g,x[F++],o),g===o)return P;return g}function hp(g,v){return Td(this,g,v)}function ec(g,v){return Td(g,v,o)!==o}function mm(g){return ec(this,g)}function zi(){ha(this.size);var g={};return this.__iterate(function(v,P){g[P]=v}),g}$.isIterable=A,$.isKeyed=ne,$.isIndexed=ye,$.isAssociative=V,$.isOrdered=xe,$.Iterator=tt,pa($,{toArray:function(){ha(this.size);var v=new Array(this.size||0),P=ne(this),x=0;return this.__iterate(function(F,J){v[x++]=P?[J,F]:F}),v},toIndexedSeq:function(){return new Bs(this)},toJS:function(){return wu(this)},toKeyedSeq:function(){return new es(this,!0)},toMap:function(){return Tc(this.toKeyedSeq())},toObject:zi,toOrderedMap:function(){return Cs(this.toKeyedSeq())},toOrderedSet:function(){return $o(ne(this)?this.valueSeq():this)},toSet:function(){return sa(ne(this)?this.valueSeq():this)},toSetSeq:function(){return new ta(this)},toSeq:function(){return ye(this)?this.toIndexedSeq():ne(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return dl(ne(this)?this.valueSeq():this)},toList:function(){return Da(ne(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(v,P){return this.size===0?v+P:v+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+P},concat:function(){for(var v=[],P=arguments.length;P--;)v[P]=arguments[P];return Jn(this,zt(this,v))},includes:function(v){return this.some(function(P){return ft(P,v)})},entries:function(){return this.__iterator(Ct)},every:function(v,P){ha(this.size);var x=!0;return this.__iterate(function(F,J,Z){if(!v.call(P,F,J,Z))return x=!1,!1}),x},filter:function(v,P){return Jn(this,vt(this,v,P,!0))},partition:function(v,P){return Bi(this,v,P)},find:function(v,P,x){var F=this.findEntry(v,P);return F?F[1]:x},forEach:function(v,P){return ha(this.size),this.__iterate(P?v.bind(P):v)},join:function(v){ha(this.size),v=v!==void 0?""+v:",";var P="",x=!0;return this.__iterate(function(F){x?x=!1:P+=v,P+=F!=null?F.toString():""}),P},keys:function(){return this.__iterator(Me)},map:function(v,P){return Jn(this,H(this,v,P))},reduce:function(v,P,x){return aa(this,v,P,x,arguments.length<2,!1)},reduceRight:function(v,P,x){return aa(this,v,P,x,arguments.length<2,!0)},reverse:function(){return Jn(this,Ue(this,!0))},slice:function(v,P){return Jn(this,N(this,v,P,!0))},some:function(v,P){return!this.every(yf(v),P)},sort:function(v){return Jn(this,ao(this,v))},values:function(){return this.__iterator($e)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(v,P){return u(v?this.toSeq().filter(v,P):this)},countBy:function(v,P){return Fr(this,v,P)},equals:function(v){return vf(this,v)},entrySeq:function(){var v=this;if(v._cache)return new ii(v._cache);var P=v.toSeq().map(Vi).toIndexedSeq();return P.fromEntrySeq=function(){return v.toSeq()},P},filterNot:function(v,P){return this.filter(yf(v),P)},findEntry:function(v,P,x){var F=x;return this.__iterate(function(J,Z,pe){if(v.call(P,J,Z,pe))return F=[Z,J],!1}),F},findKey:function(v,P){var x=this.findEntry(v,P);return x&&x[0]},findLast:function(v,P,x){return this.toKeyedSeq().reverse().find(v,P,x)},findLastEntry:function(v,P,x){return this.toKeyedSeq().reverse().findEntry(v,P,x)},findLastKey:function(v,P){return this.toKeyedSeq().reverse().findKey(v,P)},first:function(v){return this.find(d,null,v)},flatMap:function(v,P){return Jn(this,Cn(this,v,P))},flatten:function(v){return Jn(this,Ln(this,v,!0))},fromEntrySeq:function(){return new Fo(this)},get:function(v,P){return this.find(function(x,F){return ft(F,v)},void 0,P)},getIn:hp,groupBy:function(v,P){return so(this,v,P)},has:function(v){return this.get(v,o)!==o},hasIn:mm,isSubset:function(v){return v=typeof v.includes=="function"?v:$(v),this.every(function(P){return v.includes(P)})},isSuperset:function(v){return v=typeof v.isSubset=="function"?v:$(v),v.isSubset(this)},keyOf:function(v){return this.findKey(function(P){return ft(P,v)})},keySeq:function(){return this.toSeq().map(hl).toIndexedSeq()},last:function(v){return this.toSeq().reverse().first(v)},lastKeyOf:function(v){return this.toKeyedSeq().reverse().keyOf(v)},max:function(v){return ji(this,v)},maxBy:function(v,P){return ji(this,P,v)},min:function(v){return ji(this,v?wi(v):Bn)},minBy:function(v,P){return ji(this,P?wi(P):Bn,v)},rest:function(){return this.slice(1)},skip:function(v){return v===0?this:this.slice(Math.max(0,v))},skipLast:function(v){return v===0?this:this.slice(0,-Math.max(0,v))},skipWhile:function(v,P){return Jn(this,rt(this,v,P,!0))},skipUntil:function(v,P){return this.skipWhile(yf(v),P)},sortBy:function(v,P){return Jn(this,ao(this,P,v))},take:function(v){return this.slice(0,Math.max(0,v))},takeLast:function(v){return this.slice(-Math.max(0,v))},takeWhile:function(v,P){return Jn(this,Le(this,v,P))},takeUntil:function(v,P){return this.takeWhile(yf(v),P)},update:function(v){return v(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Dd(this))}});var rs=$.prototype;rs[M]=!0,rs[at]=rs.values,rs.toJSON=rs.toArray,rs.__toStringMapper=mu,rs.inspect=rs.toSource=function(){return this.toString()},rs.chain=rs.flatMap,rs.contains=rs.includes,pa(ee,{flip:function(){return Jn(this,Eo(this))},mapEntries:function(v,P){var x=this,F=0;return Jn(this,this.toSeq().map(function(J,Z){return v.call(P,[Z,J],F++,x)}).fromEntrySeq())},mapKeys:function(v,P){var x=this;return Jn(this,this.toSeq().flip().map(function(F,J){return v.call(P,F,J,x)}).flip())}});var Bu=ee.prototype;Bu[U]=!0,Bu[at]=rs.entries,Bu.toJSON=zi,Bu.__toStringMapper=function(g,v){return mu(v)+": "+mu(g)},pa(De,{toKeyedSeq:function(){return new es(this,!1)},filter:function(v,P){return Jn(this,vt(this,v,P,!1))},findIndex:function(v,P){var x=this.findEntry(v,P);return x?x[0]:-1},indexOf:function(v){var P=this.keyOf(v);return P===void 0?-1:P},lastIndexOf:function(v){var P=this.lastKeyOf(v);return P===void 0?-1:P},reverse:function(){return Jn(this,Ue(this,!1))},slice:function(v,P){return Jn(this,N(this,v,P,!1))},splice:function(v,P){var x=arguments.length;if(P=Math.max(P||0,0),x===0||x===2&&!P)return this;v=m(v,v<0?this.count():this.size);var F=this.slice(0,v);return Jn(this,x===1?F:F.concat(Ja(arguments,2),this.slice(v+P)))},findLastIndex:function(v,P){var x=this.findLastEntry(v,P);return x?x[0]:-1},first:function(v){return this.get(0,v)},flatten:function(v){return Jn(this,Ln(this,v,!1))},get:function(v,P){return v=l(this,v),v<0||this.size===1/0||this.size!==void 0&&v>this.size?P:this.find(function(x,F){return F===v},void 0,P)},has:function(v){return v=l(this,v),v>=0&&(this.size!==void 0?this.size===1/0||v<this.size:this.indexOf(v)!==-1)},interpose:function(v){return Jn(this,Nn(this,v))},interleave:function(){var v=[this].concat(Ja(arguments)),P=$i(this.toSeq(),$r.of,v),x=P.flatten(!0);return P.size&&(x.size=P.size*v.length),Jn(this,x)},keySeq:function(){return fl(0,this.size)},last:function(v){return this.get(-1,v)},skipWhile:function(v,P){return Jn(this,rt(this,v,P,!1))},zip:function(){var v=[this].concat(Ja(arguments));return Jn(this,$i(this,Ea,v))},zipAll:function(){var v=[this].concat(Ja(arguments));return Jn(this,$i(this,Ea,v,!0))},zipWith:function(v){var P=Ja(arguments);return P[0]=this,Jn(this,$i(this,v,P))}});var Ec=De.prototype;Ec[de]=!0,Ec[be]=!0,pa(ae,{get:function(v,P){return this.has(v)?v:P},includes:function(v){return this.has(v)},keySeq:function(){return this.valueSeq()}});var Pc=ae.prototype;Pc.has=rs.includes,Pc.contains=Pc.includes,Pc.keys=Pc.values,pa(Hn,Bu),pa($r,Ec),pa(ln,Pc);function aa(g,v,P,x,F,J){return ha(g.size),g.__iterate(function(Z,pe,ke){F?(F=!1,P=Z):P=v.call(x,P,Z,pe,ke)},J),P}function hl(g,v){return v}function Vi(g,v){return[v,g]}function yf(g){return function(){return!g.apply(this,arguments)}}function wi(g){return function(){return-g.apply(this,arguments)}}function Ea(){return Ja(arguments)}function Bn(g,v){return g<v?1:g>v?-1:0}function Dd(g){if(g.size===1/0)return 0;var v=xe(g),P=ne(g),x=v?1:0,F=g.__iterate(P?v?function(J,Z){x=31*x+Rc($t(J),$t(Z))|0}:function(J,Z){x=x+Rc($t(J),$t(Z))|0}:v?function(J){x=31*x+$t(J)|0}:function(J){x=x+$t(J)|0});return Ul(F,x)}function Ul(g,v){return v=Yt(v,3432918353),v=Yt(v<<15|v>>>-15,461845907),v=Yt(v<<13|v>>>-13,5),v=(v+3864292196|0)^g,v=Yt(v^v>>>16,2246822507),v=Yt(v^v>>>13,3266489909),v=rr(v^v>>>16),v}function Rc(g,v){return g^v+2654435769+(g<<6)+(g>>2)|0}var $o=function(g){function v(P){return P==null?Su():jl(P)?P:Su().withMutations(function(x){var F=ae(P);ha(F.size),F.forEach(function(J){return x.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(x){return this(ee(x).keySeq())},v.prototype.toString=function(){return this.__toString("OrderedSet {","}")},v}(sa);$o.isOrderedSet=jl;var tc=$o.prototype;tc[be]=!0,tc.zip=Ec.zip,tc.zipWith=Ec.zipWith,tc.zipAll=Ec.zipAll,tc.__empty=Su,tc.__make=ca;function ca(g,v){var P=Object.create(tc);return P.size=g?g.size:0,P._map=g,P.__ownerID=v,P}var uo;function Su(){return uo||(uo=ca(Uu()))}var Fn={LeftThenRight:-1,RightThenLeft:1};function ru(g){if(ue(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ce(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var xo=function(v,P){var x;ru(v);var F=function(pe){var ke=this;if(pe instanceof F)return pe;if(!(this instanceof F))return new F(pe);if(!x){x=!0;var Qe=Object.keys(v),ht=J._indices={};J._name=P,J._keys=Qe,J._defaultValues=v;for(var Ut=0;Ut<Qe.length;Ut++){var Sr=Qe[Ut];ht[Sr]=Ut,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Pa(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):ua(J,Sr)}}return this.__ownerID=void 0,this._values=Da().withMutations(function(sn){sn.setSize(ke._keys.length),ee(pe).forEach(function(jr,Wn){sn.set(ke._indices[Wn],jr===ke._defaultValues[Wn]?void 0:jr)})}),this},J=F.prototype=Object.create(ai);return J.constructor=F,P&&(F.displayName=P),F};xo.prototype.toString=function(){for(var v=Pa(this)+" { ",P=this._keys,x,F=0,J=P.length;F!==J;F++)x=P[F],v+=(F?", ":"")+x+": "+mu(this.get(x));return v+" }"},xo.prototype.equals=function(v){return this===v||ue(v)&&ma(this).equals(ma(v))},xo.prototype.hashCode=function(){return ma(this).hashCode()},xo.prototype.has=function(v){return this._indices.hasOwnProperty(v)},xo.prototype.get=function(v,P){if(!this.has(v))return P;var x=this._indices[v],F=this._values.get(x);return F===void 0?this._defaultValues[v]:F},xo.prototype.set=function(v,P){if(this.has(v)){var x=this._values.set(this._indices[v],P===this._defaultValues[v]?void 0:P);if(x!==this._values&&!this.__ownerID)return Hl(this,x)}return this},xo.prototype.remove=function(v){return this.set(v)},xo.prototype.clear=function(){var v=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Hl(this,v)},xo.prototype.wasAltered=function(){return this._values.wasAltered()},xo.prototype.toSeq=function(){return ma(this)},xo.prototype.toJS=function(){return wu(this)},xo.prototype.entries=function(){return this.__iterator(Ct)},xo.prototype.__iterator=function(v,P){return ma(this).__iterator(v,P)},xo.prototype.__iterate=function(v,P){return ma(this).__iterate(v,P)},xo.prototype.__ensureOwner=function(v){if(v===this.__ownerID)return this;var P=this._values.__ensureOwner(v);return v?Hl(this,P,v):(this.__ownerID=v,this._values=P,this)},xo.isRecord=ue,xo.getDescriptiveName=Pa;var ai=xo.prototype;ai[Ne]=!0,ai[e]=ai.remove,ai.deleteIn=ai.removeIn=af,ai.getIn=hp,ai.hasIn=rs.hasIn,ai.merge=uf,ai.mergeWith=Al,ai.mergeIn=Ml,ai.mergeDeep=yd,ai.mergeDeepWith=Ss,ai.mergeDeepIn=Qc,ai.setIn=Xc,ai.update=cf,ai.updateIn=cp,ai.withMutations=pm,ai.asMutable=_d,ai.asImmutable=lf,ai[at]=ai.entries,ai.toJSON=ai.toObject=rs.toObject,ai.inspect=ai.toSource=function(){return this.toString()};function Hl(g,v,P){var x=Object.create(Object.getPrototypeOf(g));return x._values=v,x.__ownerID=P,x}function Pa(g){return g.constructor.displayName||g.constructor.name||"Record"}function ma(g){return Ji(g._keys.map(function(v){return[v,g.get(v)]}))}function ua(g,v){try{Object.defineProperty(g,v,{get:function(){return this.get(v)},set:function(P){Xa(this.__ownerID,"Cannot set on an immutable record."),this.set(v,P)}})}catch{}}var Bl=function(g){function v(P,x){if(!(this instanceof v))return new v(P,x);if(this._value=P,this.size=x===void 0?1/0:Math.max(0,x),this.size===0){if(rc)return rc;rc=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},v.prototype.get=function(x,F){return this.has(x)?this._value:F},v.prototype.includes=function(x){return ft(this._value,x)},v.prototype.slice=function(x,F){var J=this.size;return f(x,F,J)?this:new v(this._value,_(F,J)-m(x,J))},v.prototype.reverse=function(){return this},v.prototype.indexOf=function(x){return ft(this._value,x)?0:-1},v.prototype.lastIndexOf=function(x){return ft(this._value,x)?this.size:-1},v.prototype.__iterate=function(x,F){for(var J=this.size,Z=0;Z!==J&&x(this._value,F?J-++Z:Z++,this)!==!1;);return Z},v.prototype.__iterator=function(x,F){var J=this,Z=this.size,pe=0;return new tt(function(){return pe===Z?Lr():fr(x,F?Z-++pe:pe++,J._value)})},v.prototype.equals=function(x){return x instanceof v?ft(this._value,x._value):vf(x)},v}($r),rc;function Ed(g,v){return Ts([],v||nu,g,"",v&&v.length>2?[]:void 0,{"":g})}function Ts(g,v,P,x,F,J){if(typeof P!="string"&&!Ce(P)&&(On(P)||zr(P)||Cc(P))){if(~g.indexOf(P))throw new TypeError("Cannot convert circular structure to Immutable");g.push(P),F&&x!==""&&F.push(x);var Z=v.call(J,x,Or(P).map(function(pe,ke){return Ts(g,v,pe,ke,F,P)}),F&&F.slice());return g.pop(),F&&F.pop(),Z}return P}function nu(g,v){return ye(v)?v.toList():ne(v)?v.toMap():v.toSet()}var pl="4.3.0",Wl={version:pl,Collection:$,Iterable:$,Seq:Or,Map:Tc,OrderedMap:Cs,List:Da,Stack:dl,Set:sa,OrderedSet:$o,PairSorting:Fn,Record:xo,Range:fl,Repeat:Bl,is:ft,fromJS:Ed,hash:$t,isImmutable:Ce,isCollection:A,isKeyed:ne,isIndexed:ye,isAssociative:V,isOrdered:xe,isValueObject:Je,isPlainObject:Cc,isSeq:qe,isList:Ks,isMap:Q,isOrderedMap:_e,isStack:Za,isSet:qo,isOrderedSet:jl,isRecord:ue,get:Uo,getIn:Td,has:dh,hasIn:ec,merge:Vs,mergeDeep:co,mergeWith:Ll,mergeDeepWith:hh,remove:Dn,removeIn:fh,set:$s,setIn:Ta,update:ap,updateIn:gu},Pd=$;r.Collection=$,r.Iterable=Pd,r.List=Da,r.Map=Tc,r.OrderedMap=Cs,r.OrderedSet=$o,r.PairSorting=Fn,r.Range=fl,r.Record=xo,r.Repeat=Bl,r.Seq=Or,r.Set=sa,r.Stack=dl,r.default=Wl,r.fromJS=Ed,r.get=Uo,r.getIn=Td,r.has=dh,r.hasIn=ec,r.hash=$t,r.is=ft,r.isAssociative=V,r.isCollection=A,r.isImmutable=Ce,r.isIndexed=ye,r.isKeyed=ne,r.isList=Ks,r.isMap=Q,r.isOrdered=xe,r.isOrderedMap=_e,r.isOrderedSet=jl,r.isPlainObject=Cc,r.isRecord=ue,r.isSeq=qe,r.isSet=qo,r.isStack=Za,r.isValueObject=Je,r.merge=Vs,r.mergeDeep=co,r.mergeDeepWith=hh,r.mergeWith=Ll,r.remove=Dn,r.removeIn=fh,r.set=$s,r.setIn=Ta,r.update=ap,r.updateIn=gu,r.version=pl,Object.defineProperty(r,"__esModule",{value:!0})})});var jV=E(hN=>{"use strict";Object.defineProperty(hN,"__esModule",{value:!0});hN.ServiceSource=void 0;var KAt;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(KAt=hN.ServiceSource||(hN.ServiceSource={}))});var zV=E(pN=>{"use strict";Object.defineProperty(pN,"__esModule",{value:!0});pN.ClientCredentialsPolicy=void 0;var YAt;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})(YAt=pN.ClientCredentialsPolicy||(pN.ClientCredentialsPolicy={}))});var kUe=E(UV=>{"use strict";Object.defineProperty(UV,"__esModule",{value:!0});UV.View=void 0;var JAt=require("events"),IUe=dT(),XAt=zV(),kue=class extends JAt.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!IUe.RemoteServiceConnections.contains(e.supportedConnections,IUe.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===XAt.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};UV.View=kue});var Lue=E(HV=>{"use strict";Object.defineProperty(HV,"__esModule",{value:!0});HV.RemoteServiceBrokerWrapper=void 0;var QAt=Eue(),Aue=class extends QAt.IpcRelayServiceBroker{};HV.RemoteServiceBrokerWrapper=Aue});var LUe=E((Dor,AUe)=>{"use strict";function ZAt(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}AUe.exports=ZAt});var mN=E(NO=>{"use strict";var eLt=NO&&NO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(NO,"__esModule",{value:!0});NO.ServiceMonikerValue=void 0;var MUe=eLt(LUe()),Mue=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,MUe.default)(this.name)+(0,MUe.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};NO.ServiceMonikerValue=Mue});var qUe=E(FO=>{"use strict";var tLt=FO&&FO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(FO,"__esModule",{value:!0});FO.ProfferedServiceFactory=void 0;var NUe=tLt(pT()),rLt=require("events"),nLt=cN(),iLt=Lue(),FUe=mN(),oLt=jV(),Nue=class extends rLt.EventEmitter{container;descriptor;factory;source=oLt.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new FUe.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new iLt.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??NUe.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=nLt.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??NUe.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(FUe.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};FO.ProfferedServiceFactory=Nue});var BV=E(gN=>{"use strict";Object.defineProperty(gN,"__esModule",{value:!0});gN.ServiceAudience=void 0;var sLt;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(sLt=gN.ServiceAudience||(gN.ServiceAudience={}))});var jUe=E(vN=>{"use strict";Object.defineProperty(vN,"__esModule",{value:!0});vN.MissingBrokeredServiceErrorCode=void 0;var aLt;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(aLt=vN.MissingBrokeredServiceErrorCode||(vN.MissingBrokeredServiceErrorCode={}))});var UUe=E(WV=>{"use strict";Object.defineProperty(WV,"__esModule",{value:!0});WV.ProfferedRemoteServiceBroker=void 0;var cLt=require("events"),zUe=Oue(),uLt=mN(),Fue=class extends cLt.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(uLt.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await zUe.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await zUe.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};WV.ProfferedRemoteServiceBroker=Fue});var HUe=E($V=>{"use strict";Object.defineProperty($V,"__esModule",{value:!0});$V.ProfferedServiceBroker=void 0;var lLt=require("events"),dLt=Lue(),fLt=mN(),que=class extends lLt.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map(fLt.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new dLt.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};$V.ProfferedServiceBroker=que});var WUe=E(Sb=>{"use strict";var hLt=Sb&&Sb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pLt=Sb&&Sb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mLt=Sb&&Sb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hLt(e,r,t);return pLt(e,r),e};Object.defineProperty(Sb,"__esModule",{value:!0});Sb.GlobalBrokeredServiceContainer=void 0;var N0=mLt(OUe()),fm=jV(),jue=kUe(),gLt=qUe(),F0=BV(),VV=jUe(),BUe=zV(),vLt=UUe(),yLt=HUe(),GV=mN(),zue=$M(),Uue=class r{static preferredSourceOrderForRemoteServices=[fm.ServiceSource.trustedServer,fm.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[fm.ServiceSource.sameProcess,fm.ServiceSource.otherProcessOnSameMachine];remoteSources=N0.Map();profferedServiceIndex=N0.Map();registeredServices=N0.Map();localUserCredentials=N0.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:GV.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${zue.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new gLt.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new yLt.ProfferedServiceBroker(this,e,fm.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===fm.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new vLt.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(GV.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new jue.View(this,F0.ServiceAudience.process,this.localUserCredentials,BUe.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new jue.View(this,e,t,n)}static isLocalConsumer(e){return(e&~F0.ServiceAudience.local)===F0.ServiceAudience.none}getSecureServiceBroker(e){return new jue.View(this,F0.ServiceAudience.process,e?.clientCredentials?N0.Map(e.clientCredentials):N0.Map(),BUe.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new GV.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=GV.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:VV.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:VV.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:VV.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:VV.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case fm.ServiceSource.sameProcess:case fm.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case fm.ServiceSource.otherProcessOnSameMachine:return F0.ServiceAudience.local;case fm.ServiceSource.trustedServer:return F0.ServiceAudience.liveShareGuest;case fm.ServiceSource.untrustedServer:return F0.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>fm.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??N0.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${zue.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>zue.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};Sb.GlobalBrokeredServiceContainer=Uue});var $Ue=E(YV=>{"use strict";Object.defineProperty(YV,"__esModule",{value:!0});YV.ServiceRegistration=void 0;var KV=BV(),Hue=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&KV.ServiceAudience.local)!==KV.ServiceAudience.none}get isExposedRemotely(){return(this.audience&KV.ServiceAudience.liveShareGuest)!==KV.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};YV.ServiceRegistration=Hue});var VUe=E(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.ClientCredentialsPolicy=Iv.ServiceSource=Iv.ServiceRegistration=Iv.ServiceAudience=Iv.GlobalBrokeredServiceContainer=void 0;var _Lt=WUe();Object.defineProperty(Iv,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return _Lt.GlobalBrokeredServiceContainer}});var bLt=BV();Object.defineProperty(Iv,"ServiceAudience",{enumerable:!0,get:function(){return bLt.ServiceAudience}});var wLt=$Ue();Object.defineProperty(Iv,"ServiceRegistration",{enumerable:!0,get:function(){return wLt.ServiceRegistration}});var SLt=jV();Object.defineProperty(Iv,"ServiceSource",{enumerable:!0,get:function(){return SLt.ServiceSource}});var CLt=zV();Object.defineProperty(Iv,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return CLt.ClientCredentialsPolicy}})});var Wue=E(eo=>{"use strict";var TLt=eo&&eo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GUe=eo&&eo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&TLt(e,r,t)};Object.defineProperty(eo,"__esModule",{value:!0});eo.Observer=eo.ServiceRpcDescriptor=eo.ServiceMoniker=eo.JsonRpcConnection=eo.ServiceJsonRpcDescriptor=eo.RemoteServiceConnectionInfo=eo.RemoteServiceBroker=eo.ProtectedOperation=eo.MultiplexingRelayServiceBroker=eo.RpcMarshalable=eo.IpcRelayServiceBroker=eo.IDisposable=eo.AuthorizationServiceClient=eo.RemoteServiceConnections=eo.MessageDelimiters=eo.Formatters=void 0;var Bue=dT();Object.defineProperty(eo,"Formatters",{enumerable:!0,get:function(){return Bue.Formatters}});Object.defineProperty(eo,"MessageDelimiters",{enumerable:!0,get:function(){return Bue.MessageDelimiters}});Object.defineProperty(eo,"RemoteServiceConnections",{enumerable:!0,get:function(){return Bue.RemoteServiceConnections}});GUe(MV(),eo);var DLt=Cue();Object.defineProperty(eo,"AuthorizationServiceClient",{enumerable:!0,get:function(){return DLt.AuthorizationServiceClient}});var ELt=yUe();Object.defineProperty(eo,"IDisposable",{enumerable:!0,get:function(){return ELt.IDisposable}});var PLt=Eue();Object.defineProperty(eo,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return PLt.IpcRelayServiceBroker}});var RLt=tV();Object.defineProperty(eo,"RpcMarshalable",{enumerable:!0,get:function(){return RLt.RpcMarshalable}});var xLt=wUe();Object.defineProperty(eo,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return xLt.MultiplexingRelayServiceBroker}});var OLt=CUe();Object.defineProperty(eo,"ProtectedOperation",{enumerable:!0,get:function(){return OLt.ProtectedOperation}});var ILt=Oue();Object.defineProperty(eo,"RemoteServiceBroker",{enumerable:!0,get:function(){return ILt.RemoteServiceBroker}});var kLt=Rue();Object.defineProperty(eo,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return kLt.RemoteServiceConnectionInfo}});var KUe=bue();Object.defineProperty(eo,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return KUe.ServiceJsonRpcDescriptor}});Object.defineProperty(eo,"JsonRpcConnection",{enumerable:!0,get:function(){return KUe.JsonRpcConnection}});var ALt=$M();Object.defineProperty(eo,"ServiceMoniker",{enumerable:!0,get:function(){return ALt.ServiceMoniker}});var LLt=fce();Object.defineProperty(eo,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return LLt.ServiceRpcDescriptor}});var MLt=RUe();Object.defineProperty(eo,"Observer",{enumerable:!0,get:function(){return MLt.Observer}});GUe(VUe(),eo)});var oMt={};JO(oMt,{activate:()=>iMt});module.exports=WS(oMt);var tq=we(require("path")),Gi=we(require("vscode"));var T4=we(require("child_process")),tw=we(require("fs")),vle=we(require("os")),R_=we(require("path")),C4;function yle(r){C4=r}function WT(){if(!C4)throw new Error("Failed to set extension path");return C4}function _le(){let r=process.env.TMPDIR;return r||"/tmp/"}function XO(r,e){return r.reduce((t,n)=>t+e(n),0)}async function D4(r,e){return Promise.all(r.map(e))}async function ble(r,e){let t=await D4(r,e);return r.filter((n,i)=>t[i])}function E4(r){return r?r.length:0}async function $S(r,e,t){return new Promise((n,i)=>{T4.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function wle(r){return new Promise((e,t)=>{T4.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(vle.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function Y0(r){return new Promise(e=>{tw.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function Sle(r){return Y0(r).then(async e=>new Promise((t,n)=>{if(!e)return t();tw.unlink(r,i=>{if(i)return n(i);t()})}))}var QO=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))(QO||{});function ZO(r,e){let t="install."+QO[e];return R_.resolve(r.value,t)}async function AN(r,e){return Y0(ZO(r,e))}async function P4(r,e){return new Promise((t,n)=>{tw.writeFile(ZO(r,e),"",i=>{if(i){n(i);return}t()})})}async function Cle(r,e){return new Promise((t,n)=>{tw.unlink(ZO(r,e),i=>{if(i){n(i);return}t()})})}function rw(r){return r.split(R_.sep).join(R_.posix.sep)}function Tle(r,e){let t=r.split(R_.sep),n=e.split(R_.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function Dle(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,R_.join(o,t)],[]);for(let i of n)try{if(tw.statSync(i).isFile())return t}catch{}}}var sw=we(require("vscode")),J4=we(require("path")),tE=we(require("fs")),cI=we(KS()),Efe=we(require("os"));var Y4=we(KS()),Cfe=require("path");var Tfe=require("os");async function Wp(r){let e=_3e(r),t=await b3e(e);return await w3e(t,e)}function _3e(r){let e=`dotnet${Gd.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,Cfe.join)(n,e);if(Gd.existsSync(i)){t=i;break}}return t}async function b3e(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await $S(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function w3e(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await $S(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let m=f[1],_=f[2];m in c?c[m].push({Version:Y4.parse(_),Path:f[3]}):c[m]=[{Version:Y4.parse(_),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${Tfe.EOL}${r}`)}}var Dfe="1.0.0",S3e="22.0.0",Pfe="macOS 13 (Ventura)",Gd=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=J4.join(this._extensionDir,".debugger"),this._installCompleteFilePath=J4.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(sw.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(sw.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(sw.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{tE.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await Wp(e);if(cI.lt(t.Version,Dfe))throw new Error(sw.l10n.t("The .NET Core SDK located on the path is too old. .NET Core debugging will not be enabled. The minimum supported version is {0}.",Dfe))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(sw.l10n.t("The .NET Core SDK cannot be located: {0}. .NET Core debugging will not be enabled. Make sure the .NET Core SDK is installed and is on the path.",n))}}static isMacOSSupported(){return cI.gte(Efe.release(),S3e)}static existsSync(e){try{return tE.accessSync(e,tE.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}},C3e="6.0.0";function Rfe(r,e,t){if(!r.isMacOS()&&!r.isWindows())return"";if(e){if(e!=="x86_64"&&e!=="arm64")throw new Error(sw.l10n.t("The value '{0}' for 'targetArchitecture' in launch configuraiton is invalid. Expected 'x86_64' or 'arm64'.",e));return e}if(cI.lt(t.Version,C3e))return"x86_64";if(!t.RuntimeId)throw new Error(sw.l10n.t("Unable to determine RuntimeId. Please set 'targetArchitecture' in your launch.json configuration."));if(t.RuntimeId.includes("arm64"))return"arm64";if(t.RuntimeId.includes("x64"))return"x86_64";throw new Error(sw.l10n.t("Unexpected RuntimeId '{0}'.",t.RuntimeId))}var Kd=class{constructor(e){this.message=e}type=24},$N=class{type=54},KT=class extends Kd{type=41},uI=class extends Kd{type=67},YT=class{type=52},VN=class{type=6},YS=class{constructor(e){this.packageInfo=e}type=7},JS=class{constructor(e){this.info=e}type=8},GN=class{constructor(e){this.packageDescription=e}type=9},XS=class{type=50},JT=class{constructor(e,t){this.stage=e;this.error=t}type=10},KN=class{constructor(e){this.packageDescription=e}type=25},YN=class{constructor(e){this.fallbackUrl=e}type=26},lI=class extends Kd{type=65},rE=class extends Kd{type=64},JN=class{constructor(e){this.packageSize=e}type=27},XN=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},QN=class{type=43},ZN=class{constructor(e){this.message=e}type=28},eF=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},tF=class{type=38};var rF=we(require("path")),XT=class r{constructor(e){this.value=e;if(!rF.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(rF.resolve(...e))}};var nE=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,xfe(e,t),D3e(e,t),T3e(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function T3e(r,e){if(r.installTestPath!==void 0)return XT.getAbsolutePath(e,r.installTestPath)}function D3e(r,e){let t=xfe(r,e).value;return r.binaries?.map(n=>XT.getAbsolutePath(t,n))}function xfe(r,e){return r.installPath!==void 0?XT.getAbsolutePath(e,r.installPath):new XT(e)}async function Ofe(r,e){let t=X4(r,e);return E3e(t)}function X4(r,e){return r.filter(t=>t.architectures.includes(e.architecture)&&t.platforms.includes(e.platform))}async function E3e(r){return ble(r,async e=>{let t=ZO(e.installPath,1);return!await Y0(t)})}function Ife(r,e,t,n){let o=QT(e).map(a=>nE.getAbsolutePathPackage(a,n));return X4(o,t).find(a=>a.id===r)}function QT(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var C6=we(require("child_process")),v6=we(tD()),iC=we(require("os")),wF=we(require("path")),Bh=we(require("vscode"));var jpe=we(require("crypto")),zpe=we(require("fs")),bF=we(require("os"));var rD="unknown",g6=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(rD,rD)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===rD||e.indexOf(this.name)>=0)return this.toString();{let t=jpe.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{zpe.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=bF.EOL){let n=rD,i=rD,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==rD&&i!==rD)break}}return new r(n,i)}},lE=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=bF.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),g6.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await $S("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await $S("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var SF=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return Bh.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},nC=class r{static get commColumnTitle(){return Array(SI.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return lE.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=wF.join(n,"System32"),o=wF.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!v6.existsSync(e)&&v6.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(Bh.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=Bh.window.createOutputChannel(Bh.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(Bh.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(Bh.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,iC.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return Bh.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:Bh.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=wF.join(WT(),"scripts","remoteProcessPickerScript");return M4e(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(Bh.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(Bh.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(Bh.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return Upe(SI.parseProcessFromPsArray(u),c)}}})}},CF=class{static Get(){if(iC.platform()==="win32"){let e=Dle();return e?new _6(e):new w6}else return new y6}},wI=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>Upe(e,iC.platform()))}};function Upe(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var y6=class extends wI{async getInternalProcessEntries(){let e=iC.platform()==="darwin"?nC.osxPsCommand:nC.linuxPsCommand;return T6(e).then(t=>SI.parseProcessFromPs(t))}},SI=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(iC.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},_6=class extends wI{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await T6(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return b6.ParseProcessFromCim(i)}},b6=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},w6=class extends wI{async getInternalProcessEntries(){return T6("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>S6.parseProcessFromWmic(t))}},S6=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(iC.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function T6(r){return new Promise((e,t)=>{C6.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function L4e(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function M4e(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{L4e(n).then(s=>{C6.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(Bh.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(Bh.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var Age=we(lC());var kge=we(lC()),ad=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof kge.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var po=class extends ad{disposables=new Age.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var xs=we(require("vscode"));var Lge=we(require("vscode")),Mge=we(require("fs")),XF=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=Mge.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=Lge.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var dG=we(require("vscode")),fG=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=dG.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=dG.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},ik=new fG;var jge=we(require("child_process"));var uD=we(require("vscode")),QF=we(require("path")),hG=class{get waitForDebugger(){return Jr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Jr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Jr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return f7e()}get defaultSolution(){let e="",t=Jr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(uD.workspace.workspaceFolders!==void 0&&(uD.workspace.workspaceFolders.length>1&&QF.isAbsolute(t)&&(e=t),e==""))for(let n of uD.workspace.workspaceFolders){let i=uD.workspace.getConfiguration(void 0,n.uri),o=Nge(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=QF.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Jr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Jr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Jr("dotnet.formatting.organizeImportsOnFormat",!1)}},pG=class{get useModernNet(){return Jr("omnisharp.useModernNet",!0)}get monoPath(){return Jr("omnisharp.monoPath","")}get loggingLevel(){let e=Jr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Jr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Jr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Jr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Jr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Jr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Jr("omnisharp.enableRoslynAnalyzers",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Jr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Jr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Jr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Jr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Jr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",us.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Jr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Jr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Jr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Jr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Jr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Jr("omnisharp.sdkPath","")}get sdkVersion(){return Jr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Jr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Jr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Jr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Jr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Jr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Jr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Jr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Jr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Jr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Jr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Jr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Jr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Jr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Jr("omnisharp.dotnetPath","")}},mG=class{get documentSelector(){return Jr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Jr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Jr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Jr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Jr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Jr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Jr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Jr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Jr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Jr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Jr("dotnet.diagnostics.reportInformationAsHint",!0)}},gG=class{get razorDevMode(){return Jr("razor.devmode",!1)}get razorPluginPath(){return Jr("razor.plugin.path","")}get razorServerPath(){return Jr("razor.languageServer.directory","")}},us=new hG,qr=new pG,ps=new mG,hy=new gG;function f7e(){let r=uD.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function Nge(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Jr(r,e,...t){return Nge(uD.workspace.getConfiguration(),r,e,...t)}var ZF=["waitForDebugger","serverPath","useOmnisharpServer"],Fge=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],qge=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function zge(){return await Hge(`${Bge()} dev-certs https --check --trust`,process.cwd(),process.env)}async function Uge(){return await Hge(`${Bge()} dev-certs https --trust`,process.cwd(),process.env)}async function Hge(r,e=WT(),t={}){return new Promise(n=>{jge.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function Bge(){return us.useOmnisharpServer?qr.dotnetPath??"dotnet":"dotnet"}var Wge=we(require("vscode"));var lD="ms-dotnettools.csdevkit",eq="ms-dotnettools.vscodeintellicode-csharp";function Yu(){if(!ps.preferCSharpExtension)return Wge.extensions.getExtension(lD)}function Wi(r,e,...t){vG(r,e,void 0,...t)}function vG(r,e,t,...n){yG(r,r.window.showErrorMessage,e,t,...n)}function Vh(r,e,...t){yG(r,r.window.showWarningMessage,e,void 0,...t)}function ya(r,e,...t){yG(r,r.window.showInformationMessage,e,void 0,...t)}function yG(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var dD=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?Yu()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=ik.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await nC.ShowAttachEntries(t,this.platformInformation);else{let s=CF.Get();o=await new SF(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{vG(xs,xs.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!xs.env.remoteName&&xs.env.uiKind!=xs.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=XF.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(xs.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:xs.l10n.t("Open envFile"),action:async()=>{let i=await xs.workspace.openTextDocument(t);await xs.window.showTextDocument(i)}};Vh(xs,e,n)}loadSettingDebugOptions(e){let t=xs.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await zge()).error?.code;if(n===7||n===6){let i=xs.l10n.t("Yes"),o=xs.l10n.t("More Information"),s=await xs.window.showWarningMessage(xs.l10n.t("Security Warning"),{modal:!0,detail:xs.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await Uge();if(a.error===null){let c=n===7?"trusted":"created";ya(xs,xs.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(xs.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:xs.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};Vh(xs,xs.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await xs.env.openExternal(xs.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function $ge(r,e,t,n,i,o){let s=new po,a=new Gd(e.extensionPath);Gd.existsSync(a.debugAdapterDir())?Gd.existsSync(a.installCompleteFilePath())||await Gge(a,t,n):await Vge(t,n)&&(n.post(new KT(Gi.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),h7e(n)),s.add(Gi.commands.registerCommand("csharp.listProcess",()=>"")),s.add(Gi.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add(Gi.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await nC.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error(Gi.l10n.t("Could not find a process id to attach.")))})),s.add(Gi.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error(Gi.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await Gi.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new _G(a,t,n,r.packageJSON,r.extensionPath);e.subscriptions.push(Gi.debug.registerDebugConfigurationProvider("clr",new dD(t,i))),e.subscriptions.push(Gi.debug.registerDebugConfigurationProvider("monovsdbg",new dD(t,i))),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add(Gi.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function Vge(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new KT(Gi.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):Gd.isMacOSSupported()?!0:(e.post(new KT(Gi.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",Pfe))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new uI(Gi.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new KT(Gi.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function Gge(r,e,t){try{return await r.checkDotNetCli(qr.dotNetCliPaths),await Vge(e,t)?(await Gd.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new YT),Wi(Gi,Gi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return p7e(i.message),t.post(new uI(i.message)),!1}}function h7e(r){r.post(new YT),Wi(Gi,Gi.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function p7e(r){if(!Gi.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t={title:Gi.l10n.t("Get the SDK"),action:async()=>{await Gi.env.openExternal(Gi.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:Gi.l10n.t("Disable message in settings"),action:async()=>{await Gi.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:Gi.l10n.t("Help"),action:async()=>{await Gi.env.openExternal(Gi.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Wi(Gi,r,n,t,i)}}var _G=class{constructor(e,t,n,i,o){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o}async createDebugAdapterDescriptor(e,t){let n=new Gd(WT());if(!Gd.existsSync(n.debugAdapterDir())){let i=!1,o=Ife("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(o?.installPath&&(i=await AN(o.installPath,1)),i){if(!Gd.existsSync(n.installCompleteFilePath())&&!await Gge(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new YT),new Error(Gi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new YT),new Error(Gi.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}if(!t){let i=await Wp(qr.dotNetCliPaths),o=Rfe(this.platformInfo,e.configuration.targetArchitecture,i),s=tq.join(WT(),".debugger",o,"vsdbg-ui"+Gd.getPlatformExeExtension()),a=process.env.DOTNET_ROOT??(i.CliPath?tq.dirname(i.CliPath):""),c;a&&(c={env:{DOTNET_ROOT:a}}),t=new Gi.DebugAdapterExecutable(s,[],c)}return t}};var DN=we(require("vscode"));var x_=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var rq=class extends x_{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var Kge;var ok=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),Kge&&Kge(e)}};var zf=class{logger;constructor(e){e instanceof ok?this.logger=e:this.logger=new ok(t=>e.append(t))}};var Dl=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var dC=class extends Dl{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var nq=class extends zf{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof dC?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var Yge=we(lC()),iq=class{sink;constructor(){this.sink=new Yge.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var $He=we(fve());var fq=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function hve(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new fq(t,n)}}var A_e=we(lC()),L_e=we(s1());function j8(r){return A_e.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,L_e.publishBehavior)(()=>{})).refCount()}var abe=we(require("https"));var cbe=require("url");var ibe=we(X_e()),obe=we(nbe());function lot(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function sbe(r,e,t){let n=e.length>0?e:lot(r);if(n===void 0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new ibe.default.HttpProxyAgent(i,o):new obe.default.HttpsProxyAgent(i,o)}async function Rq(r,e,t,n,i,o){e.post(new KN(r));try{let s=await $8(r,n,e,t,o);return e.post(new lI(" Done!")),s}catch(s){if(i!==void 0){e.post(new YN(i));try{let a=await $8(r,i,e,t);return e.post(new lI(" Done!")),a}catch{throw s}}else throw s}}async function $8(r,e,t,n,i){let o=(0,cbe.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:sbe(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new Dl(`Cancelled downloading ${e}.`)));let m=abe.request(u,_=>{if(_.statusCode===301||_.statusCode===302)return _.headers.location===void 0?(t.post(new rE(`Failed to download from ${e}. Redirected without location header`)),f(new Dl("Missing location"))):d($8(r,_.headers.location,t,n,i));if(_.statusCode!==200)return t.post(new rE(`Failed to download from ${e}. Error code '${_.statusCode}')`)),f(new Dl(_.statusCode.toString()));if(_.headers["content-length"]===void 0)return t.post(new rE(`Failed to download from ${e}. No content-length header`)),f(new Dl("Missing content-length"));let D=parseInt(_.headers["content-length"],10),O=0,M=0;t.post(new JN(D)),_.on("data",A=>{O+=A.length,l.push(A);let U=Math.ceil(100*(O/D));U!==M&&(M=U,t.post(new XN(M,r)))}),_.on("end",()=>{d(Buffer.concat(l))}),_.on("error",A=>{f(new Dl(`Failed to download from ${e}. Error Message: ${A.message} || 'NONE'}`,A))})});m.on("error",_=>{f(new Dl(`Request error: ${_.message||"NONE"}`,_))}),m.end()})}var Rwe=we(require("fs")),OK=we(dwe()),Kq=we(require("path")),xwe=we(Pwe());async function Owe(r,e,t,n,i){return i.post(new GN(e)),new Promise((o,s)=>{xwe.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new ZN(u)),s(new Dl(u))}c.readEntry(),c.on("entry",async u=>{let l=Kq.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,OK.mkdirp)(l,509),c.readEntry()}catch(d){let f=d;return s(new Dl("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new Dl("Error reading zip stream",d));try{await(0,OK.mkdirp)(Kq.dirname(l),509);let _=n?.map(D=>D.value)?.includes(l)?493:436;f.pipe(Rwe.createWriteStream(l,{mode:_})),f.on("end",()=>c.readEntry())}catch(m){return s(new Dl("Error creating directory for zip file entry",m))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new Dl("Zip File Error:"+u.code||"",u))})})})}var Iwe=we(tD());async function zE(r,e,t,n,i){t.post(new VN);for(let o of r){let s="touchBeginFile";try{(0,Iwe.mkdirpSync)(o.installPath.value),await P4(o.installPath,0);let a=1,c=()=>a<=2;for(;c();){a=a+1,s="downloadPackage";let u=await Rq(o.description,t,e,o.url,o.fallbackUrl,i);if(n(u,o.integrity,t)){s="installPackage",await Owe(u,o.description,o.installPath,o.binaries,t),s="touchLockFile",await P4(o.installPath,1);break}else t.post(new eF(o.description,o.url,c()))}}catch(a){if(a instanceof Dl){let c=new dC(a.message,o,a.err);t.post(new JT(s,c))}else t.post(new JT(s,a));return!1}finally{try{await AN(o.installPath,0)&&await Cle(o.installPath,0)}catch{}}}return!0}async function UE(r,e,t){let n=r.map(i=>nE.getAbsolutePathPackage(i,t));return Ofe(n,e)}async function kwe(r,e,t,n,i,o,s){let a=QT(r),c=await UE(a,i,e),u=uat(c,o),l=lat(s,u);if(l.length>0)if(n.post(new YS("C# dependencies")),n.post(new JS(i)),await t(l))n.post(new XS);else return!1;return!0}function uat(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function lat(r,e){return e.filter(t=>r.includes(t.id))}var Awe=we(require("crypto"));function HE(r,e,t){return e!==void 0&&e.length>0?(t.post(new QN),dat(r)===e.toUpperCase()?(t.post(new tF),!0):!1):!0}function dat(r){let e=Awe.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var Lwe=we(require("fs")),Mwe=we(require("path")),Nwe=require("util");var gy="ms-dotnettools.csharp";var b1="dotnet.dotnetPath",Yq="dotnetAcquisitionExtension.existingDotnetPath",fat=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function Fwe(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of fat){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&pat(o,i.defaultValue)&&await qwe(t,n,e)}await hat(r)}async function hat(r){let e=r.workspace.getConfiguration();if(us.useOmnisharpServer)await qwe(b1,"omnisharp.dotnetPath",e);else{let t=e.inspect(b1);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(Yq);t.globalValue&&await IK(b1,t.globalValue,Yq,n?.globalValue,e,1),t.workspaceValue&&await IK(b1,t.workspaceValue,Yq,n?.workspaceValue,e,2),t.workspaceFolderValue&&await IK(b1,t.workspaceFolderValue,Yq,n?.workspaceFolderValue,e,3)}}async function IK(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=Mwe.join(e,`dotnet${s}`);if(!Lwe.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===gy).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:gy,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function pat(r,e){return r==e?!0:Nwe.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function qwe(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var vy=we(require("vscode")),jwe=we(KS()),BE="ms-dotnettools.vscode-dotnet-runtime",kK="2.2.3";async function zwe(r){let t=vy.extensions.getExtension(BE)?.packageJSON.version;if((0,jwe.lt)(t,kK)){let n=vy.l10n.t("Update and reload"),i=vy.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,kK,BE);if(await vy.window.showErrorMessage(i,n)===n)await vy.commands.executeCommand("workbench.extensions.installExtension",BE),await vy.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(vy.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",kK,BE,r.extension.packageJSON.displayName))}}var sv=we(require("vscode"));function Uwe(r,e){if(!mat(e)){if(r.extension.extensionKind===sv.ExtensionKind.Workspace){let t={title:sv.l10n.t("How to setup Remote Debugging"),action:async()=>{await sv.env.openExternal(sv.Uri.parse("https://github.com/dotnet/vscode-csharp/wiki/Remote-Debugging-On-Linux-Arm"))}},n=sv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Wi(sv,n,t)}else{let t=sv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Wi(sv,t)}return!1}return!0}function mat(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var iO=we(require("vscode"));var Wa=we(require("vscode"));var $E=we(require("path"));var w1=we(tD()),Jq=we(require("path"));function Hwe(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function WE(r){return gat(r)??vat(r)}function gat(r){return r.find(e=>e.startsWith("netcoreapp"))}function vat(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function Bwe(r){return r.find(e=>e.startsWith("netstandard"))}function Xq(r){return w1.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function Qq(r){let e=Jq.dirname(r),t=Jq.join(e,"Properties","launchSettings.json");try{if(!w1.pathExistsSync(t))return!1;let n=w1.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function Zq(r,e,t,n){return!(!t||!r||!e||n)}var ki;(Me=>(Me.AddToProject="/addtoproject",Me.CodeCheck="/codecheck",Me.CodeFormat="/codeformat",Me.ChangeBuffer="/changebuffer",Me.FilesChanged="/filesChanged",Me.FindSymbols="/findsymbols",Me.FindUsages="/findusages",Me.FormatAfterKeystroke="/formatAfterKeystroke",Me.FormatRange="/formatRange",Me.GetCodeActions="/getcodeactions",Me.GoToTypeDefinition="/gototypedefinition",Me.FindImplementations="/findimplementations",Me.Project="/project",Me.Projects="/projects",Me.RemoveFromProject="/removefromproject",Me.Rename="/rename",Me.RunCodeAction="/runcodeaction",Me.SignatureHelp="/signatureHelp",Me.TypeLookup="/typelookup",Me.UpdateBuffer="/updatebuffer",Me.Metadata="/metadata",Me.RunFixAll="/runfixall",Me.GetFixAll="/getfixall",Me.ReAnalyze="/reanalyze",Me.QuickInfo="/quickinfo",Me.Completion="/completion",Me.CompletionResolve="/completion/resolve",Me.CompletionAfterInsert="/completion/afterInsert",Me.SourceGeneratedFile="/sourcegeneratedfile",Me.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Me.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Me.InlayHint="/inlayHint",Me.InlayHintResolve="/inlayHint/resolve",Me.FileOpen="/open",Me.FileClose="/close"))(ki||={});var Is;(a=>{let r;($=>($.GetCodeActions="/v2/getcodeactions",$.RunCodeAction="/v2/runcodeaction",$.GetTestStartInfo="/v2/getteststartinfo",$.RunTest="/v2/runtest",$.RunAllTestsInClass="/v2/runtestsinclass",$.RunTestsInContext="/v2/runtestsincontext",$.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",$.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",$.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",$.DebugTestLaunch="/v2/debugtest/launch",$.DebugTestStop="/v2/debugtest/stop",$.DiscoverTests="/v2/discovertests",$.BlockStructure="/v2/blockstructure",$.CodeStructure="/v2/codestructure",$.Highlight="/v2/highlight",$.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(m=>(m.None="none",m.Passed="passed",m.Failed="failed",m.Skipped="skipped",m.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(ee=>(ee.Class="class",ee.Delegate="delegate",ee.Enum="enum",ee.Interface="interface",ee.Struct="struct",ee.Constant="constant",ee.Constructor="constructor",ee.Destructor="destructor",ee.EnumMember="enummember",ee.Event="event",ee.Field="field",ee.Indexer="indexer",ee.Method="method",ee.Operator="operator",ee.Property="property",ee.Namespace="namespace",ee.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(_=>(_.Internal="internal",_.Private="private",_.PrivateProtected="private protected",_.Protected="protected",_.ProtectedInternal="protected internal",_.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(m,_){for(let D of m)d(D,_),D.Children&&f(D.Children,D)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(Is||={});function yat(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return WE(e)!==void 0||Bwe(e)!==void 0||Hwe(e)!==void 0}function Wwe(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:$E.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)yat(t)&&e.push({Name:$E.basename(t.Path),Directory:$E.dirname(t.Path),FilePath:t.Path});return e}async function AK(r,e,t){return r.makeRequest(ki.CodeCheck,e,t)}async function $we(r,e,t){return r.makeRequest(Is.Requests.BlockStructure,e,t)}async function e2(r,e,t){return r.makeRequest(Is.Requests.CodeStructure,e,t)}async function Vwe(r,e){return r.makeRequest(Is.Requests.DiscoverTests,e)}async function VE(r,e){return r.makeRequest(ki.FilesChanged,e)}async function Gwe(r,e,t){return r.makeRequest(ki.FindImplementations,e,t)}async function Kwe(r,e,t){return r.makeRequest(ki.FindSymbols,e,t)}async function Ywe(r,e){return r.makeRequest(ki.RunFixAll,e)}async function Jwe(r,e){return r.makeRequest(ki.GetFixAll,e)}async function GE(r,e,t){return r.makeRequest(ki.FindUsages,e,t)}async function Xwe(r,e,t){return r.makeRequest(ki.FormatAfterKeystroke,e,t)}async function Qwe(r,e,t){return r.makeRequest(ki.FormatRange,e,t)}async function Zwe(r,e,t){return r.makeRequest(Is.Requests.GetCodeActions,e,t)}async function eSe(r,e,t){return r.makeRequest(Is.Requests.GoToDefinition,e,t)}async function tSe(r,e,t){return r.makeRequest(ki.GoToTypeDefinition,e,t)}async function rSe(r,e,t){return r.makeRequest(ki.SourceGeneratedFile,e,t)}async function nSe(r,e){return r.makeRequest(ki.UpdateSourceGeneratedFile,e)}async function iSe(r,e){return r.makeRequest(ki.SourceGeneratedFileClosed,e)}async function oSe(r,e,t){return r.makeRequest(ki.Rename,e,t)}async function S1(r,e){return r.makeRequest(ki.Project,e)}async function pw(r){let e=await r.makeRequest(ki.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=Xq(t.Path);let n=await Qq(t.Path),i=WE(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=Zq(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function sSe(r,e){return r.makeRequest(Is.Requests.RunCodeAction,e)}async function aSe(r,e,t){return r.makeRequest(ki.SignatureHelp,e,t)}async function KE(r,e){return r.makeRequest(ki.UpdateBuffer,e)}async function cSe(r,e){return r.makeRequest(ki.Metadata,e)}async function LK(r,e){return r.makeRequest(ki.ReAnalyze,e)}async function uSe(r,e){return r.makeRequest(Is.Requests.RunTest,e)}async function lSe(r,e){return r.makeRequest(Is.Requests.RunAllTestsInClass,e)}async function dSe(r,e){return r.makeRequest(Is.Requests.RunTestsInContext,e)}async function fSe(r,e){return r.makeRequest(Is.Requests.DebugTestGetStartInfo,e)}async function hSe(r,e){return r.makeRequest(Is.Requests.DebugTestsInClassGetStartInfo,e)}async function pSe(r,e){return r.makeRequest(Is.Requests.DebugTestsInContextGetStartInfo,e)}async function mSe(r,e){return r.makeRequest0(Is.Requests.DebugTestLaunch,e)}async function gSe(r,e){return r.makeRequest0(Is.Requests.DebugTestStop,e)}async function vSe(r,e){return r.makeRequest(Is.Requests.Highlight,e)}async function ySe(r,e,t){return r.makeRequest(ki.QuickInfo,e,t)}async function _Se(r,e,t){return r.makeRequest(ki.Completion,e,t)}async function bSe(r,e,t){return r.makeRequest(ki.CompletionResolve,e,t)}async function wSe(r,e){return r.makeRequest(ki.CompletionAfterInsert,e)}async function SSe(r,e){return r.makeRequest(ki.FileOpen,e)}async function CSe(r,e){return r.makeRequest(ki.FileClose,e)}function TSe(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function DSe(r,e,t){return r.makeRequest(ki.InlayHint,e,t)}async function ESe(r,e,t){return r.makeRequest(ki.InlayHintResolve,e,t)}var t2=class extends x_{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var r2=class extends zf{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var C1=class extends zf{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case Is.TestOutcomes.Failed:o+=1;break;case Is.TestOutcomes.Passed:i+=1;break;case Is.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${_at(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function _at(r){return r.charAt(0).toUpperCase()+r.slice(1)}var T1=class extends x_{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var n2=we(require("os"));var i2=class extends zf{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${n2.EOL}${t.message}`,i=n2.EOL+"        ";n=n.replace(n2.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var o2=class extends x_{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){qr.showOmnisharpLogOnError&&this.showChannel(!0)}};var PSe=we(s1()),RSe=we(lC());var MK=require("vscode");var s2=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new RSe.Subject,this.warningMessageDebouncer.pipe((0,PSe.debounceTime)(1500,n)).subscribe(i=>{let o=MK.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:MK.l10n.t("Show Output"),command:"o.showOutput"};Vh(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var NK=require("vscode");var a2=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!qr.suppressDotnetRestoreNotification){let e=NK.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:NK.l10n.t("Restore"),command:"dotnet.restore.all"};ya(this.vscode,e,t)}}};var c2=require("vscode");var u2=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Wi(this.vscode,c2.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Wi(this.vscode,e.message)}handleDotnetTestRunFailure(e){Wi(this.vscode,c2.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Wi(this.vscode,c2.l10n.t("Failed to start debugger: {0}",e.message))}};var YE=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var wC=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var l2=class extends wC{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var xSe=we(require("vscode")),OSe=require("path");var d2=class extends wC{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+xSe.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,OSe.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var f2=class extends wC{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var h2=we(require("os"));var p2=class extends zf{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${h2.EOL}${e.message}`,n=h2.EOL+"        ";t=t.replace(h2.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var m2=class extends zf{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var g2=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallRazorOmnisharp(e){let n=QT(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await UE(n,this.platformInfo,this.extensionPath);return i.length>0&&(this.eventStream.post(new YS(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new JS(this.platformInfo)),await zE(i,this.networkSettingsProvider,this.eventStream,HE))?(this.eventStream.post(new XS),!0):!1}};var ISe=we(KS()),v2=we(require("path"));var JE=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=qr.monoPath;t.length>0&&(e.PATH=v2.join(t,"bin")+v2.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(ISe.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var kSe=require("child_process"),ASe=we(require("path")),_2=we(KS()),LSe=require("util");var y2=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=qr.dotnetPath;n.length>0&&(t.PATH=n+ASe.delimiter+t.PATH);let i=await(0,LSe.promisify)(kSe.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=_2.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(_2.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var MSe=we(require("vscode")),b2=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=MSe.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var OZ=we(require("fs")),rR=we(require("path"));var w2=we(require("path")),NSe=we(require("vscode"));function S2(r){let e=w2.dirname(r.fsPath),t=NSe.workspace.asRelativePath(e);return{label:w2.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var C2=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var dOe=require("events");var SC=we(require("path")),qSe=we(KS());var FK="6.0";function FSe(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>wat(o,e,n,r,i))}function wat(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",Sat(r,e,t,n,i,o)}function Sat(r,e,t,n,i,o){let s=e?"":`-net${FK}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var T2=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(SC.isAbsolute(t)){if(!await Y0(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(qSe.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=SC.resolve(i,this.installPath,e+(n?"":`-net${FK}`));if(n){if(t.isWindows())return SC.join(o,"OmniSharp.exe")}else return SC.join(o,"OmniSharp.dll");return SC.join(o,"omnisharp","OmniSharp.exe")}};var D2=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},E2=class extends D2{type=3},P2=class extends D2{type=0},R2=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},XE=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},x2=class{constructor(e,t){this.message=e;this.error=t}type=12},O2=class{constructor(e,t){this.request=e;this.id=t}type=13},I2=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},k2=class{constructor(e){this.errorMessage=e}type=15},A2=class{constructor(e){this.message=e}type=80},L2=class{constructor(e){this.diagnostics=e}type=16},M2=class{constructor(e){this.unresolvedDependencies=e}type=17},N2=class{constructor(e,t){this.queueName=e;this.command=t}type=18},D1=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var F2=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},QE=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},DD=class{constructor(e){this.err=e}type=21},q2=class{constructor(e){this.targets=e}type=22},j2=class{constructor(e){this.projectConfiguration=e}type=74},z2=class{constructor(e){this.info=e}type=23},ZE=class{constructor(e){this.results=e}type=29},U2=class{constructor(e){this.testMethod=e}type=30},H2=class{constructor(e){this.testMethod=e}type=31},B2=class{constructor(e){this.targetProcessId=e}type=32},W2=class{constructor(e){this.className=e}type=33},$2=class{constructor(e){this.className=e}type=34},V2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},G2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},K2=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},Y2=class{constructor(e){this.path=e}type=39},J2=class{constructor(e){this.path=e}type=40},E1=class extends Kd{type=42},X2=class extends Kd{type=66},Q2=class extends Kd{type=68},Z2=class extends Kd{type=63},mw=class extends Kd{type=62},ej=class extends Kd{type=61},Yp=class extends Kd{type=60},gw=class extends Kd{type=59},P1=class extends Kd{type=58},R1=class extends Kd{type=57},tj=class{type=56},rj=class{type=55},nj=class{type=53},x1=class{type=51},ij=class{type=49},oj=class{type=48},sj=class{type=47},aj=class{type=73},cj=class{type=46},uj=class{type=71},lj=class{type=72},dj=class{type=45},fj=class{type=69},hj=class{type=44};var pj=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallOmnisharp(e,t,n,i){let o=QT(this.packageJSON),s=FSe(e,t,o,n,i),a=await UE(s,this.platformInfo,this.extensionPath);return a.length>0&&(this.eventStream.post(new YS(`OmniSharp Version = ${e}`)),this.eventStream.post(new JS(this.platformInfo)),await zE(a,this.networkSettingsProvider,this.eventStream,HE))?(this.eventStream.post(new XS),!0):!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new dj),(await Rq(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new JT("getLatestVersionInfoFile",o)),o}}};var fOe=we(lC()),hOe=we(s1());var Dj=we($Ce()),CC=we(require("path")),yw=we(require("vscode"));var Mct={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},Nct="vsls",Fct=new Set([Nct]);async function Ej(){if(!yw.workspace.workspaceFolders)return Promise.resolve([]);let r=await yw.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${qr.projectFilesExcludePattern}}`),e=await yw.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return qct(r.concat(e),yw.workspace.workspaceFolders,qr.maxProjectResults)}function qct(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!Fct.has(o.scheme));if(n.length===0)return[Mct];let i=new Map;for(let o of n){let s=yw.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return jct(r,e,i,t)}function jct(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,m=!1,_=!1,O=e[d].uri.fsPath;l.forEach(U=>{if(Uct(U))i.push(S2(U));else if(zct(U)){let ne=CC.dirname(U.fsPath);a.push({label:CC.basename(U.fsPath),description:yw.workspace.asRelativePath(ne),target:ne,directory:ne,workspaceKind:1})}else f||=Hct(U),m||=Bct(U),_||=Wct(U)});let M=a.length>0,A=i.length>0;M&&!A&&s.push({label:CC.basename(O),description:"All contained projects",target:O,directory:O,workspaceKind:3}),f&&c.push({label:"CSX",description:CC.basename(O),target:O,directory:O,workspaceKind:4}),m&&c.push({label:"Cake",description:CC.basename(O),target:O,directory:O,workspaceKind:5}),_&&!A&&!M&&c.push({label:CC.basename(O),description:"",target:O,directory:O,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function zct(r){return/\.csproj$/i.test(r.fsPath)}function Uct(r){return/\.slnf?$/i.test(r.fsPath)}function Hct(r){return/\.csx$/i.test(r.fsPath)}function Bct(r){return/\.cake$/i.test(r.fsPath)}function Wct(r){return/\.cs$/i.test(r.fsPath)}async function VCe(r,e,t,n,i,o){return new Promise((s,a)=>{$ct(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function p9(r,e,t,n,i,o){if(qr.useEditorFormattingSettings){let a=yw.workspace.getConfiguration("",null),c=yw.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!h9(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${h9(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${h9(a,c,"editor.tabSize",4)}`)}if(qr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),us.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function $ct(r,e,t,n,i,o){let s=await p9(r,e,t,n,i,o);return Vct(n,s)}function Vct(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,Dj.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return Gct(i,t,n);case"Mono .NET Framework":return{command:o,process:Kct(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function h9(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function Gct(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,Dj.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function Kct(r,e,t,n){return(0,Dj.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var nxe=require("timers");var BC=require("vscode");var ixe=we(dn()),yU=we(Xu()),oxe=we(jw()),sxe=we(zX()),axe=we(vX()),cxe=we(oQ()),uxe=we(NX()),lxe=we(xX()),dxe=we(eQ()),fxe=we(kz()),hxe=we(MJ()),pxe=we(QX()),mxe=we(WX()),vU=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await p9(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(m,_,D,O){let M=await O(m,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideTypeDefinition(m,_,D,O){let M=await O(m,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideReferences(m,_,D,O,M){let A=await M(m,_,D,O);return a.remap("remapLocations",A,O)},async provideImplementation(m,_,D,O){let M=await O(m,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideRenameEdits(m,_,D,O,M){let A=await M(m,_,D,O);return A&&a.remap("remapWorkspaceEdit",A,O)},async provideCodeLenses(m,_,D){let O=await D(m,_);if(!O)return O;let M=O.map(U=>new BC.Location(m.uri,U.range)),A=await a.remap("remapLocations",M,_);return O.filter((U,ne)=>A[ne].uri===m.uri)},async resolveCodeLens(m,_,D){let O=await D(m,_);return!O||O.command===void 0?O:new BC.CodeLens(O.range,ixe.Command.create(O.command.title,"editor.action.findReferences",BC.Uri.parse(m.data),O.range.start))},async provideFoldingRanges(m,_,D,O){return await O(m,_,D)},async provideHover(m,_,D,O){return await O(m,_,D)},async provideSignatureHelp(m,_,D,O,M){return await M(m,_,D,O)},async provideCompletionItem(m,_,D,O,M){return await M(m,_,D,O)},async provideWorkspaceSymbols(m,_,D){return await D(m,_)},async provideDocumentSymbols(m,_,D){return await D(m,_)},async provideCodeActions(m,_,D,O,M){return await M(m,_,D,O)},async provideDocumentFormattingEdits(m,_,D,O){return await O(m,_,D)},async provideDocumentRangeFormattingEdits(m,_,D,O,M){return await M(m,_,D,O)},async provideOnTypeFormattingEdits(m,_,D,O,M,A){return await A(m,_,D,O,M)},async provideDocumentSemanticTokens(m,_,D){return await D(m,_)},async provideDocumentRangeSemanticTokens(m,_,D,O){return await O(m,_,D)},async provideDocumentHighlights(m,_,D,O){return await O(m,_,D)},async provideInlayHints(m,_,D,O){return await O(m,_,D)}}},u=new oxe.LanguageClient("Omnisharp Server",s,c);await u.setTrace(yU.Trace.Verbose);let l=u._features;function d(m){let _=l.findIndex(D=>D instanceof m);_>-1&&l.splice(_,1)}d(mxe.CallHierarchyFeature),d(axe.ColorProviderFeature),d(uxe.DeclarationFeature),d(fxe.DiagnosticFeature),d(lxe.DocumentLinkFeature),d(dxe.InlineValueFeature),d(hxe.NotebookDocumentSyncFeature),d(sxe.SelectionRangeFeature),d(pxe.TypeHierarchyFeature),d(cxe.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new XE(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new po}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new yU.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,nxe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new BC.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new ad(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new QE(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Jo)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var $xe=require("child_process"),Vxe=require("readline");var gxe=[ki.ChangeBuffer,ki.FormatAfterKeystroke,ki.FormatRange,ki.UpdateBuffer],vxe=[ki.Completion,ki.CompletionResolve,ki.FilesChanged,ki.FindSymbols,ki.FindUsages,ki.GetCodeActions,Is.Requests.GoToDefinition,ki.RunCodeAction,ki.SignatureHelp,ki.TypeLookup,ki.GoToTypeDefinition],_vt=new Set(gxe),bvt=new Set(vxe);var yxe=new Set;for(let r of gxe)yxe.add(r);for(let r of vxe)yxe.add(r);function _xe(r){return _vt.has(r)}function bxe(r){return bvt.has(r)}var TA=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new N2(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new D1(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new D1(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new F2(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new ij)}},_U=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new TA("Priority",1,e,n),this._normalQueue=new TA("Normal",t,e,n),this._deferredQueue=new TA("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return _xe(e)?this._priorityQueue:bxe(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var bZ=require("timers");var Exe=we(Dxe());function oZ(r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);return r.charCodeAt(0)===65279?r.slice(1):r}function Pxe(r){return(0,Exe.default)(r)}function Rxe(r){return oZ(r.trim())}var DA=require("vscode"),EA=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=DA.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=DA.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return DA.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var zw=require("vscode");var PA=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=zw.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=zw.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new zw.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await iSe(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await nSe(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=zw.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await rSe(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return zw.Uri.parse(this.scheme+":///"+e)}};var Ha=we(require("vscode"));var VP=we(require("vscode"));var Yf=we(require("vscode"));function WP(r){let e=Yf.Uri.file(r.FileName);return sZ(e,r)}function sZ(r,e){let t=new Yf.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new Yf.Position(n,i);return new Yf.Location(r,new Yf.Range(t,o))}return new Yf.Location(r,t)}function Oxe(r){return new Yf.Location(Yf.Uri.file(r.FileName),WC(r.Range))}function $P(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return aZ(e,t,n,i)}function RA(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return aZ(e,t,n,i)}function WC(r){return aZ(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function aZ(r,e,t,n){return new Yf.Range(r,e,t,n)}function Ixe(r){return{Start:xxe(r.start),End:xxe(r.end)}}function xxe(r){return{Line:r.line,Column:r.character}}function kxe(r){return new Yf.Position(r.Line,r.Column)}function Axe(r){return new Yf.TextEdit(RA(r),r.NewText)}function Pl(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Ki=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new po}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var Cvt=Is.Structure,xA=Is.SymbolKinds,Lxe=Is.SymbolPropertyNames,cZ=Is.SymbolRangeNames,bU=class extends VP.CodeLens{constructor(t,n){super(new VP.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},wU=class extends bU{constructor(e,t){super(e,t)}},SU=class extends bU{constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},OA=class extends SU{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},IA=class extends SU{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},kA=class extends Ki{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!qr.showReferencesCodeLens&&!qr.showTestsCodeLens)return[];try{let n=await e2(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return Tvt(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof wU)return this.resolveReferencesCodeLens(e,t);if(e instanceof OA)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof IA)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await GE(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(WP),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[VP.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await S1(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function Tvt(r,e){let t=[];return Cvt.walkCodeElements(r,n=>{let i=Dvt(n,e);t.push(...i)}),t}function Dvt(r,e){let t=[];if(qr.showReferencesCodeLens&&Pvt(r)){let n=r.Ranges[cZ.Name];n&&t.push(new wU(n,e))}if(qr.showTestsCodeLens){if(r.Kind===xA.Method){let n=Mxe(r);if(n!==void 0){let i=r.Ranges[cZ.Name];i!==void 0&&(t.push(new OA(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new IA(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===xA.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===xA.Method).map(s=>Mxe(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[cZ.Name];t.push(new OA(a,e,r.DisplayName,!0,o,s)),t.push(new IA(a,e,r.DisplayName,!0,o,s))}}}return t}var Evt={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function Pvt(r){return!(r.Kind===xA.Namespace||r.Kind===xA.Method&&Evt[r.Name]||qr.filteredSymbolsCodeLens.includes(r.Name))}function Mxe(r){if(r.Properties===void 0)return;let e=r.Properties[Lxe.TestFramework],t=r.Properties[Lxe.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var CU=require("vscode"),AA=class r extends Ki{async provideDocumentHighlights(e,t,n){let i=Pl(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await GE(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new CU.DocumentHighlight($P(e),CU.DocumentHighlightKind.Read)}};var el=we(require("vscode"));var Xo=Is.SymbolKinds,Nxe=Is.SymbolRangeNames,LA=class extends Ki{async provideDocumentSymbols(e,t){try{let n=await e2(this._server,{FileName:e.fileName},t);return n&&n.Elements?Fxe(n.Elements):[]}catch{return[]}}};function Fxe(r,e){let t=[];return r.forEach(n=>{let i=xvt(n,e);n.Children&&(i.children=Fxe(n.Children,n)),t.push(i)}),t}function Rvt(r,e){switch(r.Kind){case Xo.Class:case Xo.Delegate:case Xo.Enum:case Xo.Interface:case Xo.Struct:return r.Name;case Xo.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case Xo.Constant:case Xo.Constructor:case Xo.Destructor:case Xo.EnumMember:case Xo.Event:case Xo.Field:case Xo.Indexer:case Xo.Method:case Xo.Operator:case Xo.Property:case Xo.Unknown:default:return r.DisplayName}}function xvt(r,e){let t=r.Ranges[Nxe.Full],n=r.Ranges[Nxe.Name],i=Rvt(r,e),o=i===r.DisplayName?"":r.DisplayName;return new el.DocumentSymbol(i,o,Ovt(r.Kind),WC(t),WC(n))}var Xd={};Xd[Xo.Class]=el.SymbolKind.Class;Xd[Xo.Delegate]=el.SymbolKind.Class;Xd[Xo.Enum]=el.SymbolKind.Enum;Xd[Xo.Interface]=el.SymbolKind.Interface;Xd[Xo.Struct]=el.SymbolKind.Struct;Xd[Xo.Constant]=el.SymbolKind.Constant;Xd[Xo.Destructor]=el.SymbolKind.Method;Xd[Xo.EnumMember]=el.SymbolKind.EnumMember;Xd[Xo.Event]=el.SymbolKind.Event;Xd[Xo.Field]=el.SymbolKind.Field;Xd[Xo.Indexer]=el.SymbolKind.Property;Xd[Xo.Method]=el.SymbolKind.Method;Xd[Xo.Operator]=el.SymbolKind.Operator;Xd[Xo.Property]=el.SymbolKind.Property;Xd[Xo.Namespace]=el.SymbolKind.Namespace;Xd[Xo.Unknown]=el.SymbolKind.Class;function Ovt(r){return r==="constructor"?el.SymbolKind.Constructor:Xd[r]}var TU=require("vscode"),MA=class extends Ki{async provideHover(e,t,n){let i=Pl(e,t);try{let o=await ySe(this._server,i,n);if(!o||!o.Markdown)return;let s=new TU.MarkdownString;return s.appendMarkdown(o.Markdown),new TU.Hover(s)}catch{return}}};var GP=require("vscode"),NA=class extends Ki{async provideRenameEdits(e,t,n,i){let o=Pl(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await oSe(this._server,o,i);if(!s)return;let a=new GP.WorkspaceEdit;return s.Changes.forEach(u=>{let l=GP.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new GP.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var DU=require("vscode"),KP=class r extends Ki{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await Qwe(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await Xwe(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new DU.TextEdit(new DU.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var Qd=require("vscode");var FA=class r extends Ki{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=qr.minFindSymbolsFilterLength,o=qr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Kwe(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=Qd.Uri.file(t.FileName);let i=new Qd.Location(n,$P(t));return new Qd.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return Qd.SymbolKind.Method;case"Field":return Qd.SymbolKind.Field;case"Property":return Qd.SymbolKind.Property;case"Interface":return Qd.SymbolKind.Interface;case"Enum":return Qd.SymbolKind.Enum;case"Struct":return Qd.SymbolKind.Struct;case"Event":return Qd.SymbolKind.Event;case"EnumMember":return Qd.SymbolKind.EnumMember;case"Class":return Qd.SymbolKind.Class;default:return Qd.SymbolKind.Class}}};var YP=require("vscode"),qxe=require("vscode"),qA=class extends Ki{async provideSignatureHelp(e,t,n){let i=Pl(e,t);try{let o=await aSe(this._server,i,n);if(!o)return;let s=new YP.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new YP.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new YP.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new qxe.MarkdownString(n)}return""}};var nm=we(require("vscode"));var ag=we(require("vscode"));async function EU(r,e,t){let n=new ag.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=ag.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=ag.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(ag.TextEdit.replace(RA(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(ag.Uri.file(a.FileName),ag.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=ag.workspace.applyEdit(n);return i!==void 0?o.then(s=>ag.commands.executeCommand("vscode.open",i)):o}var jxe=we(Xu());var jA=class r extends Ki{constructor(t,n){super(t,n);this.server=t;let i=new po;i.add(nm.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(nm.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(nm.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=nm.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=nm.window.activeTextEditor?.document.fileName;if(i===void 0){Vh(nm,nm.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await Jwe(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=nm.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await nm.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:nm.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await Ywe(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await EU(o.Changes,this._languageMiddlewareFeature,jxe.CancellationToken.None)}};var Wc=require("vscode");var Hxe=we(Xu()),Bxe=we(dn());var JP=require("vscode");async function Avt(r,e){for(let t=0;t<JP.workspace.textDocuments.length;t++){let n=JP.workspace.textDocuments[t];PU(n,r)||await zxe(n,r,e)}}function ib(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function Lvt(r,e){let t=JP.workspace.onDidOpenTextDocument(async o=>{PU(o,r)||await zxe(o,r,e)}),n=JP.workspace.onDidChangeTextDocument(async o=>{let s=o.document;PU(s,r)||await Uxe(s,r,e)}),i=JP.workspace.onDidCloseTextDocument(async o=>{PU(o,r)||await Mvt(o,r,e)});return new po(t,i,n)}function PU(r,e){return!ib(r)||!e.isRunning()}async function zxe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await VE(e,[i]),await Uxe(r,e,t)}catch(o){uZ(r.uri,o,e,t)}}async function Uxe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await KE(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){uZ(r.uri,i,e,t)}}async function Mvt(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await VE(e,[i])}catch(o){uZ(r.uri,o,e,t)}}function uZ(r,e,t,n){t.isRunning()&&n.post(new K2(r.path,e))}function lZ(r,e){return Avt(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),Lvt(r,e)}var dZ="csharp.completion.afterInsert",zA=class extends Ki{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=Pl(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await _Se(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));ib(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await bSe(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await wSe(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new Wc.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new Wc.Range(new Wc.Position(u.StartLine,u.StartColumn),new Wc.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,Hxe.CancellationToken.None),!await Wc.workspace.applyEdit(o))return;let a=Wc.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new Wc.Position(i.Line,i.Column);a.selections=[new Wc.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new Wc.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new Wc.Position(l.StartLine,l.StartColumn),f=new Wc.Position(l.EndLine,l.EndColumn);return new Wc.Range(d,f)},o=function(l){return new Wc.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===Bxe.InsertTextFormat.Snippet?new Wc.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:dZ,title:"",arguments:[e,t]}:void 0}}};var UA=class extends Ki{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=Pl(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await GE(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return sZ(n,t)}return WP(t)}};var HA=class extends Ki{async provideImplementation(e,t,n){let i=Pl(e,t);try{let s=(await Gwe(this._server,i,n))?.QuickFixes?.map(c=>WP(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var XP=we(require("vscode")),gc=we(dn());var BA=class extends Ki{constructor(e,t){super(e,t)}getLegend(){return new XP.SemanticTokensLegend(zn,$C)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!qr.useSemanticHighlighting)return null;let i=Pl(e,new XP.Position(0,0));i.Range=t;let o=e.version,s=await vSe(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new XP.SemanticTokensBuilder;for(let u of s.Spans){let l=an[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((m,_)=>m+Wxe[_],0);u.Type===26&&(d+=2**6);let f=RA(u);for(let m=f.start.line;m<=f.end.line;m++){let _=m===f.start.line?f.start.character:0,D=m===f.end.line?f.end.character:e.lineAt(m).text.length;c.push(m,_,D-_,l,d)}}return c.build()}},zn=[];zn[0]=gc.SemanticTokenTypes.comment;zn[1]=gc.SemanticTokenTypes.string;zn[2]=gc.SemanticTokenTypes.keyword;zn[3]=gc.SemanticTokenTypes.number;zn[4]=gc.SemanticTokenTypes.regexp;zn[5]=gc.SemanticTokenTypes.operator;zn[6]=gc.SemanticTokenTypes.namespace;zn[7]=gc.SemanticTokenTypes.type;zn[8]=gc.SemanticTokenTypes.struct;zn[9]=gc.SemanticTokenTypes.class;zn[10]=gc.SemanticTokenTypes.interface;zn[11]=gc.SemanticTokenTypes.enum;zn[12]=gc.SemanticTokenTypes.typeParameter;zn[13]=gc.SemanticTokenTypes.function;zn[14]=gc.SemanticTokenTypes.method;zn[15]=gc.SemanticTokenTypes.macro;zn[16]=gc.SemanticTokenTypes.variable;zn[17]=gc.SemanticTokenTypes.parameter;zn[18]=gc.SemanticTokenTypes.property;zn[19]=gc.SemanticTokenTypes.enumMember;zn[20]=gc.SemanticTokenTypes.event;zn[21]="label";zn[22]="controlKeyword";zn[23]="operatorOverloaded";zn[24]=gc.SemanticTokenTypes.macro;zn[25]="preprocessorText";zn[26]="excludedCode";zn[27]="punctuation";zn[28]="stringVerbatim";zn[29]="stringEscapeCharacter";zn[30]="delegate";zn[31]="module";zn[32]="extensionMethod";zn[33]="field";zn[34]=gc.SemanticTokenTypes.variable;zn[35]="xmlDocCommentAttributeName";zn[36]="xmlDocCommentAttributeQuotes";zn[37]="xmlDocCommentAttributeValue";zn[38]="xmlDocCommentCDataSection";zn[39]="xmlDocCommentComment";zn[40]="xmlDocCommentDelimiter";zn[41]="xmlDocCommentEntityReference";zn[42]="xmlDocCommentName";zn[43]="xmlDocCommentProcessingInstruction";zn[44]="xmlDocCommentText";zn[45]="regexComment";zn[46]="regexCharacterClass";zn[47]="regexAnchor";zn[48]="regexQuantifier";zn[49]="regexGrouping";zn[50]="regexAlternation";zn[51]="regexText";zn[52]="regexSelfEscapedCharacter";var $C=[];$C[0]="declaration";$C[1]="static";$C[2]="abstract";$C[3]="deprecated";$C[4]="modification";$C[5]="async";$C[6]="readonly";var an=[];an[0]=0;an[1]=26;an[2]=16;an[3]=2;an[4]=22;an[5]=3;an[6]=5;an[7]=23;an[8]=24;an[9]=1;an[10]=void 0;an[11]=void 0;an[12]=void 0;an[13]=25;an[14]=27;an[15]=28;an[16]=29;an[17]=9;an[18]=30;an[19]=11;an[20]=10;an[21]=31;an[22]=8;an[23]=12;an[24]=33;an[25]=19;an[26]=16;an[27]=34;an[28]=17;an[29]=14;an[30]=32;an[31]=18;an[32]=20;an[33]=6;an[34]=21;an[35]=35;an[36]=36;an[37]=37;an[38]=38;an[39]=39;an[40]=40;an[41]=41;an[42]=42;an[43]=43;an[44]=44;an[45]=void 0;an[46]=void 0;an[47]=void 0;an[48]=void 0;an[49]=void 0;an[50]=void 0;an[51]=void 0;an[52]=void 0;an[53]=void 0;an[54]=void 0;an[55]=void 0;an[56]=45;an[57]=46;an[58]=47;an[59]=48;an[60]=49;an[61]=50;an[62]=4;an[63]=51;an[64]=52;var Wxe=[];Wxe[0]=2**1;var QP=we(require("vscode"));var WA=class extends Ki{_onDidChangeInlayHints=new QP.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new po(this._onDidChangeInlayHints,QP.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(ib(e))return[];let i={Location:{FileName:e.fileName,Range:Ixe(t)}};try{return(await DSe(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await ESe(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:kxe(e.Position),tooltip:new QP.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(Axe)??void 0}}};var VC=we(require("vscode"));function pZ(r){return new hZ(r)}var hZ=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=VC.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of VC.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new po(this._diagnostics,VC.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),VC.workspace.onDidCloseTextDocument(this._onDocumentClose,this),VC.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){fZ(e)||await SSe(this._server,{FileName:e.fileName})}async _onDocumentClose(e){fZ(e)||await CSe(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||fZ(e.document)||await KE(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function fZ(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!ib(r)}var ob=we(require("vscode"));var $A=class extends Ki{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=ob.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new po(n))}async provideCodeActions(e,t,n,i){if(qr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof ob.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await Zwe(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return ob.CodeActionKind.QuickFix;case"Refactor":return ob.CodeActionKind.Refactor;case"RefactorExtract":return ob.CodeActionKind.RefactorExtract;case"RefactorInline":return ob.CodeActionKind.RefactorInline;default:return ob.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await sSe(this._server,e);if(n)return EU(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var RU=require("vscode");function Nvt(r){return RU.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&KE(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function Fvt(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};VE(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];VE(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=RU.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=RU.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new po(n,i,o,s,a,c)}function mZ(r){return new po(Nvt(r),Fvt(r))}var xU=require("vscode");var VA=class extends Ki{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=Pl(t,n);o.WantMetadata=!0;try{let s=await eSe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=Pl(t,n);o.WantMetadata=!0;try{let s=await tSe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=WC(o.Location.Range);i.push(new xU.Location(l,d));continue}let a=await cSe(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=WC(o.Location.Range);i.push(new xU.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new xU.Location(s,WC(o.Location.Range)))}else i.push(Oxe(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var ys=we(require("vscode"));var gZ=we(lC()),vZ=we(s1());var OU=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new po(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=qr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function _Z(r,e,t){return new yZ(r,e,t)}var yZ=class extends Ki{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new gZ.Subject;_validateAllPipe=new gZ.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=ys.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=ys.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=ys.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=ys.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=ys.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),qr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,vZ.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,vZ.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new po(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),ys.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),ys.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),ys.workspace.onDidCloseTextDocument(this._onDocumentClose,this),ys.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),ys.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!ib(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(ys.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||ib(e))return;let t=new ys.CancellationTokenSource;try{let i=(await AK(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&ys.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of ys.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await AK(this._server,{},new ys.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=ys.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new ys.Diagnostic($P(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[ys.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:ys.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return ys.DiagnosticSeverity.Error;case"warning":return ys.DiagnosticSeverity.Warning;case"info":return ys.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":ys.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var ZP=require("vscode");var IU=class extends Ki{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await $we(this._server,i,n),s=[];for(let a of o.Spans)s.push(new ZP.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return ZP.FoldingRangeKind.Comment;case"Imports":return ZP.FoldingRangeKind.Imports;case"Region":return ZP.FoldingRangeKind.Region;default:return}}};var kU=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new _U(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new po,c=new EA;c.register(),a.add(c);let u=new PA(e);u.register(),a.add(u),a.add(Ha.languages.registerCodeLensProvider(s,new kA(e,o,t))),a.add(Ha.languages.registerDocumentHighlightProvider(s,new AA(e,t))),a.add(Ha.languages.registerDocumentSymbolProvider(s,new LA(e,t))),a.add(Ha.languages.registerHoverProvider(s,new MA(e,t))),a.add(Ha.languages.registerRenameProvider(s,new NA(e,t))),qr.useFormatting&&(a.add(Ha.languages.registerDocumentRangeFormattingEditProvider(s,new KP(e,t))),a.add(Ha.languages.registerOnTypeFormattingEditProvider(s,new KP(e,t),"}","/",`
`,";")));let l=new zA(e,t);a.add(Ha.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Ha.commands.registerCommand(dZ,async(O,M)=>l.afterInsert(O,M))),a.add(Ha.languages.registerWorkspaceSymbolProvider(new FA(e,t,u))),a.add(Ha.languages.registerSignatureHelpProvider(s,new qA(e,t),"(",","));let d=new jA(e,t);a.add(d),a.add(Ha.languages.registerCodeActionsProvider(s,d,jA.metadata)),a.add(_Z(e,i,t));let f=new VA(e,c,u,t);a.add(Ha.languages.registerTypeDefinitionProvider(s,f)),a.add(Ha.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Ha.languages.registerDefinitionProvider(s,f)),a.add(Ha.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Ha.languages.registerReferenceProvider(s,new UA(e,t,u))),a.add(Ha.languages.registerImplementationProvider(s,new HA(e,t))),a.add(mZ(e));let m=new $A(e,t);a.add(m),a.add(Ha.languages.registerCodeActionsProvider(s,m)),a.add(lZ(e,n)),a.add(Ha.languages.registerFoldingRangeProvider(s,new IU(e,t))),a.add(pZ(e));let _=new BA(e,t);a.add(Ha.languages.registerDocumentSemanticTokensProvider(s,_,_.getLegend())),a.add(Ha.languages.registerDocumentRangeSemanticTokensProvider(s,_,_.getLegend()));let D=new WA(e,t);return a.add(Ha.languages.registerInlayHintsProvider(s,D)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,$xe.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=wle(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Jo.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,bZ.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new ad(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await VCe(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new XE(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=Pxe(c);u.length>0&&this._fireEvent(Jo.StdErr,u.toString())}),this._readLine=(0,Vxe.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=qr.projectLoadTimeout*1e3,f=(0,bZ.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Jo.Started,m=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new ad(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=Rxe(e),e[0]!=="{"){this.eventStream.post(new mw(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new mw(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new mw(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new ej(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new QE(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new O2(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var rOe=we(require("child_process")),nOe=we(require("fs")),UU=we(require("path"));var im=we(require("vscode"));var Au=we(tD());function KA(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(U,ne){for(var de=0,ye=0;de<U||!ne;){var V=r.charCodeAt(n);if(V>=48&&V<=57)ye=ye*16+V-48;else if(V>=65&&V<=70)ye=ye*16+V-65+10;else if(V>=97&&V<=102)ye=ye*16+V-97+10;else break;n++,de++}return de<U&&(ye=-1),ye}function m(U){n=U,i="",o=0,s=16,d=0}function _(){var U=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&eR(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&eR(r.charCodeAt(n)))for(n++;n<r.length&&eR(r.charCodeAt(n));)n++;else return d=3,r.substring(U,n);var ne=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&eR(r.charCodeAt(n))){for(n++;n<r.length&&eR(r.charCodeAt(n));)n++;ne=n}else d=3;return r.substring(U,ne)}function D(){for(var U="",ne=n;;){if(n>=t){U+=r.substring(ne,n),d=2;break}var de=r.charCodeAt(n);if(de===34){U+=r.substring(ne,n),n++;break}if(de===92){if(U+=r.substring(ne,n),n++,n>=t){d=2;break}var ye=r.charCodeAt(n++);switch(ye){case 34:U+='"';break;case 92:U+="\\";break;case 47:U+="/";break;case 98:U+="\b";break;case 102:U+="\f";break;case 110:U+=`
`;break;case 114:U+="\r";break;case 116:U+="	";break;case 117:var V=f(4,!0);V>=0?U+=String.fromCharCode(V):d=4;break;default:d=5}ne=n;continue}if(de>=0&&de<=31)if(GA(de)){U+=r.substring(ne,n),d=2;break}else d=6;n++}return U}function O(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var U=r.charCodeAt(n);if(wZ(U)){do n++,i+=String.fromCharCode(U),U=r.charCodeAt(n);while(wZ(U));return s=15}if(GA(U))return n++,i+=String.fromCharCode(U),U===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(U){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=D(),s=10;case 47:var ne=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!GA(r.charCodeAt(n));)n++;return i=r.substring(ne,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var de=t-1,ye=!1;n<de;){var V=r.charCodeAt(n);if(V===42&&r.charCodeAt(n+1)===47){n+=2,ye=!0;break}n++,GA(V)&&(V===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return ye||(n++,d=1),i=r.substring(ne,n),s=13}return i+=String.fromCharCode(U),n++,s=16;case 45:if(i+=String.fromCharCode(U),n++,n===t||!eR(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),s=11;default:for(;n<t&&M(U);)n++,U=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(U),n++,s=16}}function M(U){if(wZ(U)||GA(U))return!1;switch(U){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){var U;do U=O();while(U>=12&&U<=15);return U}return{setPosition:m,getPosition:function(){return n},scan:e?A:O,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function wZ(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function GA(r){return r===10||r===13||r===8232||r===8233}function eR(r){return r>=48&&r<=57}function AU(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!YA(r,o-1);)o--;for(var c=a;c<r.length&&!YA(r,c);)c++;i=r.substring(o,c),n=jvt(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=zvt(t,r),l=!1,d=0,f;t.insertSpaces?f=SZ(" ",t.tabSize||4):f="	";var m=KA(i,!1),_=!1;function D(){return u+SZ(f,n+d)}function O(){var ce=m.scan();for(l=!1;ce===15||ce===14;)l=l||ce===14,ce=m.scan();return _=ce===16||m.getTokenError()!==0,ce}var M=[];function A(ce,qe,Ne){!_&&(!e||qe<a&&Ne>s)&&r.substring(qe,Ne)!==ce&&M.push({offset:qe,length:Ne-qe,content:ce})}var U=O();if(U!==17){var ne=m.getTokenOffset()+o,de=SZ(f,n);A(de,o,ne)}for(;U!==17;){for(var ye=m.getTokenOffset()+m.getTokenLength()+o,V=O(),$="",ee=!1;!l&&(V===12||V===13);){var De=m.getTokenOffset()+o;A(" ",ye,De),ye=m.getTokenOffset()+m.getTokenLength()+o,ee=V===12,$=ee?D():"",V=O()}if(V===2)U!==1&&(d--,$=D());else if(V===4)U!==3&&(d--,$=D());else{switch(U){case 3:case 1:d++,$=D();break;case 5:case 12:$=D();break;case 13:l?$=D():ee||($=" ");break;case 6:ee||($=" ");break;case 10:if(V===6){ee||($="");break}case 7:case 8:case 9:case 11:case 2:case 4:V===12||V===13?ee||($=" "):V!==5&&V!==17&&(_=!0);break;case 16:_=!0;break}l&&(V===12||V===13)&&($=D())}V===17&&($=t.insertFinalNewline?u:"");var ae=m.getTokenOffset()+o;A($,ye,ae),U=V}return M}function SZ(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function jvt(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function zvt(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function YA(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var JA;(function(r){r.DEFAULT={allowTrailingComma:!1}})(JA||(JA={}));function Gxe(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=JA.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return TZ(r,a,t),i[0]}function CZ(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=JA.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:Hvt(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};TZ(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function LU(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function TZ(r,e,t){t===void 0&&(t=JA.DEFAULT);var n=KA(r,!1);function i(ee){return ee?function(){return ee(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(ee){return ee?function(De){return ee(De,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),m=i(e.onComment),_=o(e.onError),D=t&&t.disallowComments,O=t&&t.allowTrailingComma;function M(){for(;;){var ee=n.scan();switch(n.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:D||A(11);break;case 2:A(12);break;case 6:A(16);break}switch(ee){case 12:case 13:D?A(10):m();break;case 16:A(1);break;case 15:case 14:break;default:return ee}}}function A(ee,De,ae){if(De===void 0&&(De=[]),ae===void 0&&(ae=[]),_(ee),De.length+ae.length>0)for(var ce=n.getToken();ce!==17;){if(De.indexOf(ce)!==-1){M();break}else if(ae.indexOf(ce)!==-1)break;ce=M()}}function U(ee){var De=n.getTokenValue();return ee?d(De):a(De),M(),!0}function ne(){switch(n.getToken()){case 11:var ee=n.getTokenValue(),De=Number(ee);isNaN(De)&&(A(2),De=0),d(De);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return M(),!0}function de(){return n.getToken()!==10?(A(3,[],[2,5]),!1):(U(!1),n.getToken()===6?(f(":"),M(),$()||A(4,[],[2,5])):A(5,[],[2,5]),!0)}function ye(){s(),M();for(var ee=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===2&&O)break}else ee&&A(6,[],[]);de()||A(4,[],[2,5]),ee=!0}return c(),n.getToken()!==2?A(7,[2],[]):M(),!0}function V(){u(),M();for(var ee=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===4&&O)break}else ee&&A(6,[],[]);$()||A(4,[],[4,5]),ee=!0}return l(),n.getToken()!==4?A(8,[4],[]):M(),!0}function $(){switch(n.getToken()){case 3:return V();case 1:return ye();case 10:return U(!0);default:return ne()}}return M(),n.getToken()===17?t.allowEmptyContent?!0:(A(4,[],[]),!1):$()?(n.getToken()!==17&&A(9,[],[]),!0):(A(4,[],[]),!1)}function Hvt(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function Kxe(r,e,t,n){for(var i,o=e.slice(),s=[],a=CZ(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=LU(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=LU(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,m=l.parent.offset+l.parent.length;if(d>0){var _=c.children[d-1];f=_.offset+_.length}else if(f=c.offset+1,c.children.length>1){var D=c.children[1];m=D.offset}return WD(r,{offset:f,length:m-f,content:""},n)}else return WD(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var O=JSON.stringify(u)+": "+JSON.stringify(t),M=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(ee){return ee.children[0].value})):c.children.length,A=void 0;if(M>0){var _=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+O}}else c.children.length===0?A={offset:c.offset+1,length:0,content:O}:A={offset:c.offset+1,length:0,content:O+","};return WD(r,A,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var U=u;if(U===-1){var O=""+JSON.stringify(t),A=void 0;if(c.children.length===0)A={offset:c.offset+1,length:0,content:O};else{var _=c.children[c.children.length-1];A={offset:_.offset+_.length,length:0,content:","+O}}return WD(r,A,n)}else if(t===void 0&&c.children.length>=0){var ne=u,de=c.children[ne],A=void 0;if(c.children.length===1)A={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===ne){var _=c.children[ne-1],ye=_.offset+_.length,V=c.offset+c.length;A={offset:ye,length:V-2-ye,content:""}}else A={offset:de.offset,length:c.children[ne+1].offset-de.offset,content:""};return WD(r,A,n)}else if(t!==void 0){var A=void 0,O=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var $=c.children[u];A={offset:$.offset,length:$.length,content:O}}else if(c.children.length===0||u===0)A={offset:c.offset+1,length:0,content:c.children.length===0?O:O+","};else{var M=u>c.children.length?c.children.length:u,_=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+O}}return WD(r,A,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+U+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return WD(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function WD(r,e,t){if(!t.formattingOptions)return[e];var n=MU(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!YA(n,i-1);)i--;for(;o<n.length&&!YA(n,o);)o++}for(var s=AU(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=MU(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function MU(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var Uw=Gxe;function DZ(r,e,t){return AU(r,e,t)}function Yxe(r,e,t,n){return Kxe(r,e,t,n)}function NU(r,e){for(var t=e.length-1;t>=0;t--)r=MU(r,e[t]);return r}var Xxe=we(require("os")),Xh=we(require("path"));var di=we(require("vscode"));function Jxe(r){return Uw(r)}var GC=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=Xh.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=Xh.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=Xh.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(di.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await di.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:di.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(di.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=Xh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:Xh.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=Xh.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return Xh.join("${workspaceFolder}",Xh.dirname(e))}static getConsoleDebugOption(){let e=di.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=Yvt(this.computeProgramPath(),this.computeWorkingDirectory()),n=FU();return`
[
    ${t},
    ${n}
]`}case 1:{let t=Vvt(this.computeProgramPath(),this.computeWorkingDirectory()),n=FU();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${Gvt(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${Kvt(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=Xh.join("${workspaceFolder}",Xh.relative(this.workspaceFolder.uri.fsPath,e));return rw(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function Vvt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${rw(r)}`,args:Array(0),cwd:`${rw(e)}`,stopAtEntry:!1,"OS-COMMENT5":di.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function Gvt(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${rw(r)}`,cwd:`${rw(e)}`};return JSON.stringify(t)}function Kvt(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${rw(r)}`};return JSON.stringify(e)}function Yvt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${rw(r)}`,args:Array(0),cwd:`${rw(e)}`,"OS-COMMENT5":di.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function Jvt(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function EZ(r,e){return`${r}${e.toString().padStart(2,"0")}`}function Qxe(){let r=di.l10n.t("WARNING"),e=di.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=Jvt(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[EZ(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[EZ(r,i+2)]=t[i];return n[EZ(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function FU(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function Xvt(r){return r.addTasksJson||r.addLaunchJson}async function Qvt(r){return XA(r).then(async e=>eyt(r,e))}function Zvt(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function XA(r){return new Promise((e,t)=>{Au.exists(r.tasksJsonPath,n=>{n?Au.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=Jxe(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Wi(di,di.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=Zvt(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function eyt(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>Au.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function tyt(r){return new Promise((e,t)=>{let n={title:di.l10n.t("Yes"),result:0},i={title:di.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:di.l10n.t("Don't Ask Again"),result:2},s=Xh.basename(r.uri.fsPath);ryt()||di.window.showWarningMessage(di.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function ryt(){let r="suppressBuildAssetsNotification",e=di.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function Zxe(){let r=di.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=di.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?Xxe.EOL:`
`}}async function QA(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=Zxe(),o=r.createTasksConfiguration(),s;if(Au.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=Au.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=tOe(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=NU(c,DZ(c,void 0,i))}let a=PZ(s);Au.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function nyt(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=Zxe(),a;if(Au.pathExistsSync(r.launchJsonPath)){let u=Uw(o)??[],l=Au.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=tOe(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=NU(l,DZ(l,void 0,s))}let c=PZ(a);Au.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function eOe(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[QA(r,e),nyt(r,e)];return Promise.all(t)}async function qU(r,e){if(!di.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=di.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new GC(o,i);if(s.hasExecutableProjects()){let a=await Qvt(s);if(!Xvt(a))return 0;let c=await tyt(i);return c===2?2:c!==0?3:(await Au.ensureDir(s.vscodeFolder),await eOe(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function iyt(r){return new Promise((e,t)=>{let n=[];if(Au.pathExistsSync(r.tasksJsonPath)){let i=Au.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=Uw(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(Au.pathExistsSync(r.launchJsonPath)){let i=Au.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=Uw(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function oyt(r){return new Promise((e,t)=>{iyt(r).then(n=>{if(n.length>0){let i={title:di.l10n.t("Yes")},o={title:di.l10n.t("Cancel"),isCloseAffordance:!0};di.window.showWarningMessage(di.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function jU(r,e){try{if(!di.workspace.workspaceFolders)return;for(let t of di.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=di.workspace.getWorkspaceFolder(di.Uri.file(i));if(o===void 0)return;let s=new GC(n,o);if(!await oyt(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await Au.ensureDir(s.vscodeFolder),await eOe(s,c)}else Wi(di,di.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Wi(di,di.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function PZ(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function tOe(r,e,t,n,i){let o={formattingOptions:i},a=Uw(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),_=f>=0?f:a.length+l++,D=Yxe(u,[t,_],d,o);u=NU(u,D)}),PZ(u)}var tR=we(require("vscode")),zU=require("path");async function ZA(r,e,t,n,i){let o;try{let d=await n.getHostExecutableInfo();o=(await e([(0,zU.dirname)(d.path)])).FullInfo}catch(d){o=d instanceof Error?d.message:`${d}`}let s="";t&&i&&(s=await cyt(i));let a=lyt(),c=us.useOmnisharpServer,l=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

## Logs ##

${uyt(c)}

## Environment information ##

**VSCode version**: ${tR.version}
**C# Extension**: ${r}
**Using OmniSharp**: ${c}

${s}
<details><summary>Dotnet Information</summary>
${o}</details>
<details><summary>Visual Studio Code Extensions</summary>
${ayt(a)}
</details>
`;await tR.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:gy,issueBody:l})}function syt(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function ayt(r){if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,zU.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}async function cyt(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}function uyt(r){return r?`### OmniSharp log ###
<details>Post the output from Output-->OmniSharp log here</details>
        
### C# log ###
<details>Post the output from Output-->C# here</details>`:`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, set the \`C#\` output window log level to 'Trace' re-run the scenario to get more detailed logs.
-->
        
### C# log ###
<details>Post the output from Output-->C# here</details>

### C# LSP Trace Logs ###
<details>Post the output from Output-->C# LSP Trace Logs here.  Requires the \`C#\` output window log level to be set to \`Trace\`</details>`}function lyt(){return tR.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(syt)}function RZ(r,e,t,n,i,o,s){let a=new po;return a.add(im.commands.registerCommand("o.restart",async()=>dyt(r,e))),a.add(im.commands.registerCommand("o.pickProjectAndStart",async()=>fyt(e))),a.add(im.commands.registerCommand("o.showOutput",()=>n.post(new nj))),a.add(im.commands.registerCommand("dotnet.restore.project",async()=>pyt(e,n))),a.add(im.commands.registerCommand("dotnet.restore.all",async()=>vyt(e,n))),a.add(im.commands.registerCommand("o.reanalyze.allProjects",async()=>myt(e))),a.add(im.commands.registerCommand("o.reanalyze.currentProject",async()=>gyt(e))),a.add(im.commands.registerCommand("dotnet.generateAssets",async c=>jU(s,c))),a.add(im.commands.registerCommand("csharp.reportIssue",async()=>ZA(r.extension.packageJSON.version,Wp,t.isValidPlatformForMono(),o,i))),new po(a)}async function dyt(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function fyt(r){return Ej().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return xZ(r,e)})}async function xZ(r,e){let t=await im.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function hyt(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{nOe.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=UU.dirname(n)),i({label:`dotnet restore - (${t.Name||UU.basename(t.Directory)})`,description:n,async execute(){return oOe(n,e,t.Name)}})})})})}async function pyt(r,e){let t=await iOe(r);e.post(new x1);let n=await Promise.all(hyt(t,e)),i=await im.window.showQuickPick(n);if(i)return i.execute()}async function myt(r){await LK(r,{})}async function gyt(r){let e=im.window.activeTextEditor;e!==void 0&&await LK(r,{FileName:e.document.uri.fsPath})}async function vyt(r,e){let t=await iOe(r);e.post(new x1);for(let n of t)await oOe(n.Directory,e,n.Name)}async function iOe(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await pw(r),t=Wwe(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function oOe(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=rOe.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new E1(l.toString()))}),u.on("err",l=>{e.post(new E1(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new X2(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new Q2(`ERROR: ${u}`)),i(u)})})}var Jf=we(require("vscode")),uOe=we(KS());var sOe=require("child_process"),HU=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,sOe.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var aOe=require("path");var BU;async function cOe(){if(BU!==void 0)return BU;let r=(0,aOe.join)("msbuild",Gd.getPlatformExeExtension());try{let e=await $S(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&(BU=t[1])}catch{}return BU}async function lOe(){let r=await yyt();if(r.needsDotNetSdk){let e=await _yt();return e===1?await Jf.env.openExternal(Jf.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await Jf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await byt();return e===1?await Jf.env.openExternal(Jf.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await Jf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function yyt(){if(qr.useModernNet){let r=await Wp(qr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||uOe.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new JE(HU),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await cOe();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function _yt(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};Jf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function byt(){return new Promise((r,e)=>{let t=Jf.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:Jf.l10n.t("Download Mono"),result:1},o={title:Jf.l10n.t("Open settings"),result:2,isCloseAffordance:!0};Jf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Jo;(de=>(de.StateChanged="stateChanged",de.StdOut="stdout",de.StdErr="stderr",de.Error="Error",de.ServerError="ServerError",de.UnresolvedDependencies="UnresolvedDependencies",de.PackageRestoreStarted="PackageRestoreStarted",de.PackageRestoreFinished="PackageRestoreFinished",de.ProjectChanged="ProjectChanged",de.ProjectAdded="ProjectAdded",de.ProjectRemoved="ProjectRemoved",de.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",de.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",de.TestMessage="TestMessage",de.BeforeServerInstall="BeforeServerInstall",de.BeforeServerStart="BeforeServerStart",de.ServerStart="ServerStart",de.ServerStop="ServerStop",de.MultipleLaunchTargets="server:MultipleLaunchTargets",de.Started="started",de.ProjectConfiguration="ProjectConfiguration"))(Jo||={});var wyt=2*60*1e3,WU=class{constructor(e,t,n,i,o,s,a,c,u,l,d){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let f=new pj(t,this.eventStream,this.packageJSON,i,s);this._omnisharpManager=new T2(f,i),this.updateProjectDebouncer.pipe((0,hOe.debounceTime)(1500)).subscribe(async m=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new dOe.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new fOe.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Jo.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new C2(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new E2(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Jo.StdOut,e,t)}onStderr(e,t){return this._addListener(Jo.StdErr,e,t)}onError(e,t){return this._addListener(Jo.Error,e,t)}onServerError(e,t){return this._addListener(Jo.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Jo.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Jo.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Jo.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Jo.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Jo.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Jo.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Jo.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Jo.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Jo.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Jo.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Jo.BeforeServerStart,e)}onServerStart(e){return this._addListener(Jo.ServerStart,e)}onServerStop(e){return this._addListener(Jo.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Jo.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Jo.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new ad(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new DD("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new mw("During Live Share sessions language services are provided by the Live Share server."));return}if(!await lOe()){this.eventStream.post(new mw("OmniSharp failed to start because of missing requirements."));return}let t=new po,n;qr.enableLspDriver?n=new vU(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new kU(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(O=>this.eventStream.post(new DD(O)))),t.add(this.onError(O=>this.eventStream.post(new k2(O)))),t.add(this.onMsBuildProjectDiagnostics(O=>this.eventStream.post(new L2(O)))),t.add(this.onUnresolvedDependencies(O=>this.eventStream.post(new M2(O)))),t.add(this.onStderr(O=>this.eventStream.post(new Z2(O)))),t.add(this.onMultipleLaunchTargets(O=>this.eventStream.post(new q2(O)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new aj))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new sj)})),t.add(this.onServerStop(()=>this.eventStream.post(new uj))),t.add(this.onServerStart(()=>{this.eventStream.post(new lj)})),t.add(this.onBackgroundDiagnosticStatus(O=>this.eventStream.post(new A2(O)))),t.add(this.onProjectConfigurationReceived(O=>{this.eventStream.post(new j2(O))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=rR.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",qr.loggingLevel],a=hy.razorPluginPath,c=a.length>0?a:rR.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");OZ.existsSync(c)&&s.push("--plugin",c),us.waitForDebugger===!0&&s.push("--debug");let u=us.excludePaths;for(let O=0;O<u.length;O++)s.push(`FileOptions:SystemExcludeSearchPatterns:${O}=${u[O]}`);qr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),qr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),qr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),us.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),qr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),qr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),qr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=qr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=qr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),qr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=qr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${qr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${qr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${qr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${qr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${qr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${qr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${qr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let m=qr.inlayHintsEnableForTypes;m===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${m.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${qr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${qr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${qr.inlayHintsForImplicitObjectCreation.toString()}`)),qr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let _=qr.dotNetCliPaths;for(let O=0;O<_.length;O++)s.push(`DotNetCliOptions:LocationPaths:${O}=${_[O]}`);let D;try{D=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,us.serverPath,!qr.useModernNet,this.extensionPath)}catch(O){let M=O;this.eventStream.post(new x2(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${M.toString()}`,M));return}this.eventStream.post(new R2(_,new Date,i)),this._fireEvent(Jo.BeforeServerStart,i);try{await n.start(o,s,e,D),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),wyt)}),this._delayTrackers={},c!==void 0&&hy.razorPluginPath&&(OZ.existsSync(c)?this.eventStream.post(new Y2(c)):this.eventStream.post(new J2(c))),this._fireEvent(Jo.ServerStart,i)}catch(O){return this._fireEvent(Jo.ServerError,O),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new DD("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Jo.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new rj)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await pw(this);this.eventStream.post(new z2(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Jo.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new DD("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new fj),await this.start(e))}async autoStart(e){let t=await Ej();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=us.defaultSolution,i=t.find(s=>rR.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Jo.MultipleLaunchTargets,t),xZ(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var yOe=we(require("net")),IZ=we(require("os")),tL=we(require("path"));var Ba=we(require("vscode"));var pOe=we(require("vscode"));var mOe="processLaunched",gOe="debuggingStopped";function vOe(r){if(r[r.length-1]!=10)throw new Error(pOe.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var Cyt=2*60*1e3,eL=class extends Ki{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=Ba.commands.registerCommand("dotnet.test.run",async(d,f,m)=>this.runDotnetTest(d,f,m)),o=Ba.commands.registerCommand("dotnet.test.debug",async(d,f,m)=>this.debugDotnetTest(d,f,m)),s=Ba.commands.registerCommand("dotnet.classTests.run",async(d,f,m,_)=>this.runDotnetTestsInClass(d,f,m,_)),a=Ba.commands.registerCommand("dotnet.classTests.debug",async(d,f,m,_)=>this.debugDotnetTestsInClass(d,f,m,_)),c=Ba.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=Ba.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),Cyt);let l=new ad(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new po(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new I2(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(Ba.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await uSe(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await S1(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await Vwe(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=us.runSettingsPath;if(t.length===0)return;if(tL.isAbsolute(t))return t;let n=Ba.Uri.file(e),i=Ba.workspace.getWorkspaceFolder(n);if(i!==void 0)return tL.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new U2(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new Yp(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new ZE(c))}catch(c){let u=c.message;this._eventStream.post(new gw(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new W2(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new Yp(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new ZE(u))}catch(u){let l=u.message;this._eventStream.post(new gw(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await lSe(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new Yp(`${Ba.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new V2(Ba.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new Yp(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await dSe(this._server,a);c.ContextHadNoTests?this._eventStream.post(new Yp(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new gw(c.Failure)):this._eventStream.post(new ZE(c.Results))}catch(c){let u=c.message;this._eventStream.post(new gw(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=us.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Yp(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await fSe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await S1(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new kZ(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new H2(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=Ba.workspace.getWorkspaceFolder(Ba.Uri.file(t));return Ba.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new R1(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new $2(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=Ba.workspace.getWorkspaceFolder(Ba.Uri.file(n));return Ba.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new R1(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new Yp(`${Ba.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new G2(Ba.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=Ba.workspace.getWorkspaceFolder(t);return Ba.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new gw(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Yp(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await hSe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new Yp(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await pSe(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new Yp(u.FailureReason)):this._eventStream.post(new gw(u.FailureReason)),null)}finally{a.dispose()}}},kZ=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,IZ.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=_le();this._pipePath=tL.join(i,"ms-dotnettools.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=yOe.createServer(t=>{t.on("data",async n=>{let i;try{i=vOe(n)}catch{this._eventStream.post(new P1("Invalid event received from debugger"));return}switch(i.eventType){case mOe:{let o=i;this._eventStream.post(new B2(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case gOe:this._eventStream.post(new hj),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new P1(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new Yp(i.Message))});try{await mSe(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await gSe(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return IZ.platform()==="win32"?Promise.resolve():Sle(this._pipePath)}};var nR=we(require("path"));var $U=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await pw(this.server)).MsBuild?.Projects.map(o=>{let s=WE(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${nR.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=nR.resolve(e.fsPath),a=nR.dirname(o.projectPath);return Tle(a,s)}):void 0}};var _Oe=we(tD()),KC=we(require("vscode"));var iR=class extends dD{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Wi(KC,KC.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Wi(KC,KC.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Wi(KC,KC.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new GC(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await _Oe.ensureDir(o.vscodeFolder);let s=await XA(o);await QA(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(KC.l10n.t("Does not contain .NET Core projects."))}catch{return[Qxe(),Uw(FU())]}}};function VU(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var GU=we(require("crypto")),wOe=we(bOe());function KU(r,e,t,n,i,o){let s="";i&&(s=Tyt(i));let a=VU(t);a.SolutionId=s,a.ProjectId=e.ProjectId,a.SessionId=e.SessionId,a.OutputType=e.OutputKind?.toString()??"",a.ProjectCapabilities=e.ProjectCapabilities?.join(" ")??"",a.TargetFrameworks=e.TargetFrameworks.join("|"),a.References=e.References.join("|"),a.FileExtensions=e.FileExtensions.join("|"),a.FileCounts=e.FileCounts?.join("|")??"",a.NetSdkVersion=n?.Version??"",a.sdkStyleProject=e.SdkStyleProject.toString(),o&&(a.useModernNet=o.toString()),r.sendTelemetryEvent("ProjectConfiguration",a)}function Tyt(r){let e=GU.createHash("sha256").update(r).digest("hex"),t=(0,wOe.machineIdSync)(),n=GU.createHash("sha256").update(t).digest("hex");return GU.createHash("sha256").update(e+n).digest("hex")}var YU=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=VU(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await Wp(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof dC&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;KU(this.reporter,t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var $D=we(require("vscode"));var JU=require("util");function XU(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=Dyt(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,JU.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,JU.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,JU.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new ad(n)}function Dyt(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,us[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,qr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,ps[e]]))}}function SOe(r){return XU(r,{getRelevantOptions:()=>({changedCommonOptions:ZF,changedLanguageServerOptions:[],changedOmnisharpOptions:Fge}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:$D.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};ya($D,$D.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=$D.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:$D.l10n.t("Restart Language Server"),command:"o.restart"};ya($D,i,o)}})}var QU=class extends zf{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function COe(r,e,t,n,i,o,s,a,c){Wa.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=qr.useModernNet,l=new YU(e,()=>c,u);i.subscribe(l.post);let d=new QU(o);i.subscribe(d.post);let f=new t2(a),m=new r2(a);i.subscribe(f.post),i.subscribe(m.post);let _=new T1(s),D=new C1(s);i.subscribe(_.post),i.subscribe(D.post);let O=Wa.window.createOutputChannel(Wa.l10n.t("OmniSharp Log")),M=new i2(O,e),A=new o2(O);i.subscribe(M.post),i.subscribe(A.post);let U=new s2(Wa,()=>qr.disableMSBuildDiagnosticWarning||!1);i.subscribe(U.post);let ne=new a2(Wa);i.subscribe(ne.post);let de=new u2(Wa);i.subscribe(de.post);let ye=new YE(Wa.window.createStatusBarItem("C#-Language-Service-Status",Wa.StatusBarAlignment.Left,Number.MIN_VALUE+2));ye.name="C# Language Service Status";let V=new l2(ye);i.subscribe(V.post);let $=new YE(Wa.window.createStatusBarItem("C#-Project-Selector",Wa.StatusBarAlignment.Left,Number.MIN_VALUE+1));$.name="C# Project Selector";let ee=new d2($);i.subscribe(ee.post);let De=new YE(Wa.window.createStatusBarItem("C#-Code-Analysis",Wa.StatusBarAlignment.Left,Number.MIN_VALUE));De.name="C# Code Analysis";let ae=new f2(De);if(i.subscribe(ae.post),!1){let Ne=new p2(O);i.subscribe(Ne.post)}let qe=new m2(o);return i.subscribe(qe.post),hy.razorDevMode||await new g2(n,i,r.extension.packageJSON,e,r.extension.extensionPath).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),SOe(t),r.subscriptions.push(Wa.window.onDidChangeActiveTextEditor(()=>{i.post(new cj)})),Eyt(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,O)}async function Eyt(r,e,t,n,i,o,s){let a=new po,c=new JE(HU),u=new y2(t),l=new b2;l.register(),a.add(l);let d=new WU(Wa,n,e,t,i,o,c,u,r,s,l),f=new OU(d),m=new eL(d,i,l),_=new $U(d),D;return a.add(d.onServerStart(async()=>{D=await d.registerProviders(i,f,m)})),a.add(d.onServerStop(()=>{D?.dispose(),D=void 0})),a.add(RZ(r,d,t,i,c,u,_)),a.add(d.onServerStart(async()=>{await qU(r,_)})),Wa.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||a.add(d.onServerStart(async()=>{await pw(d).then(M=>{if(M.DotNet&&M.DotNet.Projects.length>0){let A=Wa.l10n.t("project.json is no longer a supported project format for .NET Core applications."),U=Wa.l10n.t("More Detail");i.post(new oj),Vh(Wa,A,U)}})})),a.add(d.onServerStart(async()=>{let M={};await pw(d).then(A=>{A.DotNet&&A.DotNet.Projects.length>0&&(M["projectjson.projectcount"]=A.DotNet.Projects.length,M["projectjson.filecount"]=XO(A.DotNet.Projects,U=>E4(U.SourceFiles))),A.MsBuild&&A.MsBuild.Projects.length>0&&(M["msbuild.projectcount"]=A.MsBuild.Projects.length,M["msbuild.filecount"]=XO(A.MsBuild.Projects,U=>E4(U.SourceFiles)),M["msbuild.unityprojectcount"]=XO(A.MsBuild.Projects,U=>U.IsUnityProject?1:0),M["msbuild.netcoreprojectcount"]=XO(A.MsBuild.Projects,U=>TSe(U)?1:0)),i.post(new P2("OmniSharp.Start",M))})})),a.add(d.onBeforeServerStart(async M=>{hy.razorDevMode&&i.post(new tj),await r.workspaceState.update("lastSolutionPathOrFolder",M)})),qr.autoStart&&d.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(M=>{throw M}),a.add(new ad(()=>{m.dispose(),f.dispose(),d.stop().catch(M=>console.error(M))})),a.add(Wa.debug.registerDebugConfigurationProvider("coreclr",new iR(_,t,s))),r.subscriptions.push(a),new Promise(M=>d.onServerStart(A=>M({server:d,advisor:f,testManager:m})))}var S2e=we(require("fs")),C2e=we(lNe()),Ise=we(require("path")),w0=we(require("vscode"));var M3=we(require("vscode"));var nS=we(require("vscode")),uM=we(dn());var dNe=we(require("vscode"));var zy=(s=>(s[s.added=0]="added",s[s.removed=1]="removed",s[s.opened=2]="opened",s[s.closed=3]="closed",s[s.csharpChanged=4]="csharpChanged",s[s.htmlChanged=5]="htmlChanged",s))(zy||{});function io(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var Uy=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="virtualCSharp-razor";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===4||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var Do=class{static serialize(e){if(e.scheme===Uy.scheme){let n=e.with({scheme:"file"}).toString(!0);return e.scheme+n.slice(4)}else return e.toString(!0)}static deserialize(e){return dNe.Uri.parse(e,!0)}};var hg=we(require("vscode")),ds=we(mU()),EPt="roslyn.changeRazorCSharp",PPt="roslyn.closeRazorCSharp",boe="roslyn.pullDiagnosticRazorCSharp",woe="roslyn.provideCodeActions",Soe="roslyn.resolveCodeAction",Coe="roslyn.provideCompletions",Toe="roslyn.resolveCompletion";var Doe="roslyn.simplifyMethod",Eoe="roslyn.formatNewFile",Poe="razor.initialize",Roe="roslyn.provideInlayHints",xoe="roslyn.resolveInlayHint";function fNe(r,e){r.subscriptions.push(hg.commands.registerCommand(EPt,async n=>{await e.sendNotification(ds.DidChangeTextDocumentNotification.method,n)})),r.subscriptions.push(hg.commands.registerCommand(PPt,async n=>{await e.sendNotification(ds.DidCloseTextDocumentNotification.method,n)})),r.subscriptions.push(hg.commands.registerCommand(boe,async n=>{let i=new ds.RequestType(ds.DocumentDiagnosticRequest.method);return await e.sendRequest(i,n,ds.CancellationToken.None)})),r.subscriptions.push(hg.commands.registerCommand(Doe,async n=>{let i=new ds.RequestType("roslyn/simplifyMethod");return await e.sendRequest(i,n,ds.CancellationToken.None)}));let t=new ds.RequestType("roslyn/formatNewFile");r.subscriptions.push(hg.commands.registerCommand(Eoe,async n=>await e.sendRequest(t,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(woe,async n=>await e.sendRequest(ds.CodeActionRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(Soe,async n=>await e.sendRequest(ds.CodeActionResolveRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(Roe,async n=>await e.sendRequest(ds.InlayHintRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(xoe,async n=>await e.sendRequest(ds.InlayHintResolveRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(Coe,async n=>await e.sendRequest(ds.CompletionRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(Toe,async n=>await e.sendRequest(ds.CompletionResolveRequest.type,n,ds.CancellationToken.None))),r.subscriptions.push(hg.commands.registerCommand(Poe,async n=>{await e.sendNotification("razor/initialize",{pipeName:n})}))}var GW=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideCodeActionsEndpoint="razor/provideCodeActions";static resolveCodeActionsEndpoint="razor/resolveCodeActions";codeActionRequestType=new uM.RequestType(r.provideCodeActionsEndpoint);codeActionResolveRequestType=new uM.RequestType(r.resolveCodeActionsEndpoint);emptyCodeActionResponse=[];emptyCodeAction={};async register(){await this.serverClient.onRequestWithParams(this.codeActionRequestType,async(e,t)=>this.provideCodeActions(e,t)),await this.serverClient.onRequestWithParams(this.codeActionResolveRequestType,async(e,t)=>this.resolveCodeAction(e,t))}async provideCodeActions(e,t){try{let n=e.codeActionParams,i=nS.Uri.parse(n.textDocument.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeActionResponse;if(e.languageKind!==1)return this.emptyCodeActionResponse;if(!this.documentManager.roslynActivated)return this.emptyCodeActionResponse;let s=await nS.workspace.openTextDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t))return this.emptyCodeActionResponse;let c=Do.serialize(o.csharpDocument.uri);return n.textDocument=uM.TextDocumentIdentifier.create(c),await nS.commands.executeCommand(woe,n)}catch(n){this.logger.logWarning(`${r.provideCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeActionResponse}async resolveCodeAction(e,t){try{let n=e.codeAction,i=nS.Uri.parse(e.identifier.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeAction;if(e.languageKind!==1)return this.emptyCodeAction;let s=await nS.workspace.openTextDocument(o.uri);return await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t)?await nS.commands.executeCommand(Soe,n):this.emptyCodeAction}catch(n){this.logger.logWarning(`${r.resolveCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeAction}};var Tv=we(require("vscode")),Hy=we(dn());var KW=class r{constructor(e,t,n,i,o){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.projectedCSharpProvider=i;this.logger=o}static completionEndpoint="razor/completion";static completionResolveEndpoint="razor/completionItem/resolve";completionRequestType=new Hy.RequestType(r.completionEndpoint);completionResolveRequestType=new Hy.RequestType(r.completionResolveEndpoint);static emptyCompletionList={items:new Array(0)};static emptyCompletionItem={};async register(){await this.serverClient.onRequestWithParams(this.completionRequestType,async(e,t)=>this.provideCompletions(e,t)),await this.serverClient.onRequestWithParams(this.completionResolveRequestType,async(e,t)=>this.provideResolvedCompletionItem(e,t))}async provideCompletions(e,t){try{let n=Tv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyCompletionList;let o=await Tv.workspace.openTextDocument(n),s;if(e.projectedKind===2)s=i.htmlDocument;else if(e.projectedKind===1)s=i.csharpDocument;else return this.logger.logWarning(`Unknown language kind value ${e.projectedKind}`),r.emptyCompletionList;if(!s)return this.logger.logWarning(`Null or undefined virtual document: ${s}`),r.emptyCompletionList;if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s,e.identifier.version,t))return r.emptyCompletionList;let c=e.context.triggerCharacter==="@"?void 0:e.context.triggerCharacter,u=e.context.triggerCharacter==="@"?Hy.CompletionTriggerKind.Invoked:e.context.triggerKind;return e.projectedKind===1?this.provideCSharpCompletions(u,c,s,e.projectedPosition,e.provisionalTextEdit):this.provideVscodeCompletions(s.uri,e.projectedPosition,c)}catch(n){this.logger.logWarning(`${r.completionEndpoint} failed with ${n}`)}return r.emptyCompletionList}async provideResolvedCompletionItem(e,t){let n=Tv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),o=(await this.documentManager.getDocument(n)).csharpDocument,s=o.getProvisionalDotPosition();try{if(e.originatingKind!=1||e.completionItem.data.TextDocument==null)return e.completionItem;{o.ensureResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s);let a=await Tv.commands.executeCommand(Toe,e.completionItem);return a||e.completionItem}}catch(a){this.logger.logWarning(`${r.completionResolveEndpoint} failed with ${a}`)}finally{o.removeResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s,!0)}return r.emptyCompletionItem}async provideCSharpCompletions(e,t,n,i,o){let s=r.getIndexOfPosition(n,i);try{if(n.clearResolveCompletionRequestVariables(),o){if(s===-1)return r.emptyCompletionList;n.addProvisionalDotAt(s),n.setProvisionalDotPosition(i),await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i)}let a=Do.serialize(n.uri),c={context:{triggerKind:e,triggerCharacter:t},textDocument:{uri:a},position:i},u=await Tv.commands.executeCommand(Coe,c);return u?(r.adjustCSharpCompletionList(u,t),u):r.emptyCompletionList}catch(a){this.logger.logWarning(`${r.completionEndpoint} failed with ${a}`)}finally{o&&n.removeProvisionalDot()&&await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i,!0)}return r.emptyCompletionList}async ensureProvisionalDotUpdatedInCSharpDocument(e,t,n=!1){this.projectedCSharpProvider.ensureDocumentContent(e),await this.waitForDocumentChange(e,t,n)}async waitForDocumentChange(e,t,n){return new Promise(i=>{let o=Tv.workspace.onDidChangeTextDocument(s=>{let a=n?"":".";s.document.uri.toString()===e.toString()&&s.contentChanges.some(u=>u.range.start.character<=t.character&&u.range.start.line===t.line&&u.range.end.character+1>=t.character&&u.range.end.line===t.line&&u.text===a)&&(i(),o.dispose())})})}static adjustCSharpCompletionList(e,t){let n=e.itemDefaults?.data;for(let i of e.items)i.textEdit=void 0,t==="@"&&i.commitCharacters&&(i.commitCharacters=i.commitCharacters.filter(o=>o!=="{"&&o!=="("&&o!=="*")),i.label.toString().includes("\u2605")&&i.textEditText&&(i.insertText=i.textEditText),i.data||(i.data=n)}static getIndexOfPosition(e,t){let n=e.getContent(),i=0,o=0;for(;i<t.line&&o<n.length;){let a=n[o];a==="\r"?(i++,o+1<n.length&&n[o+1]===`
`&&o++):a===`
`&&i++,o++}return i!==t.line?-1:o+t.character-1}async provideVscodeCompletions(e,t,n){let i=await Tv.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof Tv.SnippetString?Hy.InsertTextFormat.Snippet:Hy.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?Hy.InsertTextMode.asIs:Hy.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var dM=we(require("vscode"));var iS=we(require("vscode"));var mNe=we(require("vscode"));var pNe=we(require("vscode"));var hNe=we(require("vscode"));function Ooe(r){return{line:r.line,character:r.character}}function Ioe(r){return new hNe.Position(r.line,r.character)}function Ax(r){return{start:Ooe(r.start),end:Ooe(r.end)}}function YW(r){return new pNe.Range(Ioe(r.start),Ioe(r.end))}function lM(r){return{range:Ax(r.range),newText:r.newText}}function koe(r){return new mNe.TextEdit(YW(r.range),r.newText)}function Aoe(r){let e=new iS.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create"){let n=t;e.createFile(iS.Uri.parse(n.uri),n.options)}else if(t.kind==="rename"){let n=t;e.renameFile(iS.Uri.parse(n.oldUri),iS.Uri.parse(n.newUri),n.options)}else if(t.kind==="delete"){let n=t;e.deleteFile(iS.Uri.parse(n.uri),n.options)}else{let n=t,i=n.edits.map(koe);e.set(iS.Uri.parse(n.textDocument.uri),i)}if(r.changes!==void 0)for(let t in r.changes){if(!Object.prototype.hasOwnProperty.call(r.changes,t))continue;let n=r.changes[t].map(koe);e.set(iS.Uri.parse(t),n)}return e}var JW=class r{constructor(e,t){this.serverClient=e;this.logger=t}static codeActionResolveEndpoint="textDocument/codeActionResolve";static razorCodeActionRunnerCommand="razor/runCodeAction";register(){return dM.commands.registerCommand(r.razorCodeActionRunnerCommand,async e=>this.runCodeAction(e),this)}async runCodeAction(e){let t=await this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=Aoe({changes:t.edit.changes}),i=Aoe({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return dM.workspace.applyEdit(i).then(()=>dM.workspace.applyEdit(n))}};var _b=we(require("vscode"));var yc=class{constructor(e,t,n,i){this.documentSynchronizer=e;this.documentManager=t;this.serviceClient=n;this.logger=i}async getProjection(e,t,n){let i=await this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case 1:case 2:{let o=await this.documentManager.getDocument(e.uri),s=i.kind===1?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${io(e.uri)}'.`);else if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n))return null;return{uri:s.uri,position:i.position,languageKind:i.kind,hostDocumentVersion:s.hostDocumentSyncVersion}}default:return null}}};var gNe=we(require("vscode")),fM=class extends gNe.CodeLens{constructor(t,n,i,o){super(t,o);this.uri=n;this.document=i}};var Lx=we(require("vscode"));var vNe=we(require("vscode"));var XW="__virtual.html",hM="__virtual.cs",RPt=`__bg${hM}`;function oS(r){return io(r).endsWith(hM)}function QW(r){return io(r).endsWith(XW)}function v0(r){let t=io(r).replace(RPt,"");return t=t.replace(hM,""),t=t.replace(XW,""),vNe.Uri.file(t)}var Dv=class r{language="Razor";static async remapGeneratedFileWorkspaceEdit(e,t,n,i){let o=new Map;for(let a of e.entries()){let c=a[0],u=a[1];if(!oS(c)){o.set(c,u);continue}let l=v0(c);for(let d of u){let f=await r.remapGeneratedFileTextEdit(l,d,t,n,i);f&&this.addElementToDictionary(o,l,f)}}return this.mapToTextEdit(o)}static async remapGeneratedFileTextEdit(e,t,n,i,o){let s=await n.mapToDocumentRanges(1,[t.range],e);if(!s||!s.ranges||!s.ranges[0]){i.logWarning(`Unable to remap file ${e.path} at ${t.range}.`);return}else{let a=new Lx.TextEdit(s.ranges[0],t.newText);return i.logVerbose(`Re-mapping text ${t.newText} at ${t.range} in ${e.path} to ${s.ranges[0]} in ${e.path}`),a}}static async remapGeneratedFileLocation(e,t,n,i){if(!oS(e.uri))return e;let o=v0(e.uri),s=await t.mapToDocumentRanges(1,[e.range],o);if(!s||!s.ranges||!s.ranges[0]){n.logWarning(`Unable to remap file ${e.uri.path} at ${e.range}.`);return}return n.logVerbose(`Re-mapping location ${e.range} in ${e.uri.path} to ${s.ranges[0]} in ${o.path}`),new Lx.Location(o,s.ranges[0])}static async remapGeneratedFileLocations(e,t,n,i){let o=[];for(let s of e){let a=await this.remapGeneratedFileLocation(s,t,n,i);a!==void 0&&o.push(a)}return o}static mapToTextEdit(e){let t=new Lx.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}static addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};var ZW=class extends yc{onDidChangeCodeLenses;constructor(e,t,n,i){super(e,t,n,i);let o=new _b.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(async s=>{if(s.kind!==0)return;_b.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(await new Promise(c=>setTimeout(c,5e3)),o.fire())}),t.onRazorInitialized(()=>o.fire())}async provideCodeLenses(e,t){try{if(!this.documentManager.razorDocumentGenerationInitialized)return;let n=await this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=await _b.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(1,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new fM(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}}async resolveCodeLens(e,t){if(e instanceof fM)return this.resolveRazorCodeLens(e,t)}async resolveRazorCodeLens(e,t){e.command={title:"",command:"",arguments:[]};try{let n=await this.documentManager.getDocument(e.uri);if(!n)return e;let i=await this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==1)return e;let o=await _b.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=await Dv.remapGeneratedFileLocations(o,this.serviceClient,this.logger,t),a=s.length;return e.command={title:a===1?_b.l10n.t("1 reference"):_b.l10n.t("{0} references",a),command:"editor.action.showReferences",arguments:[n.uri,e.range.start,s]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}}};var Mx=we(require("vscode")),yNe=we(Xu());var e$=class{constructor(e,t){this.uri=e;this.range=t}};var t$=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var r$=class r{constructor(e,t,n){this.documentManager=e;this.serverClient=t;this.logger=n}static provideHtmlColorPresentation="razor/provideHtmlColorPresentation";colorPresentationRequestType=new yNe.RequestType(r.provideHtmlColorPresentation);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.colorPresentationRequestType,async(e,t)=>this.provideHtmlColorPresentation(e,t))}async provideHtmlColorPresentation(e,t){try{let n=Mx.Uri.parse(`${e.textDocument.uri}`,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new Mx.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=await Mx.commands.executeCommand("vscode.executeColorPresentationProvider",o,new e$(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=lM(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=lM(a);o.push(c)}let s=new t$(n.label,i,o);t.push(s)}return t}};var sS=we(require("vscode"));var tf=we(require("vscode"));var pM=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorCSharpPreview";panel;csharpContent;async show(){this.panel?this.panel.reveal(tf.ViewColumn.Two):(this.panel=tf.window.createWebviewPanel(r.viewType,tf.l10n.t("Razor C# Preview"),tf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===4||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(tf,tf.l10n.t("Unexpected error when attaching to C# preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.csharpContent)return;await tf.env.clipboard.writeText(this.csharpContent),ya(tf,tf.l10n.t("Razor C# copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=io(e.uri),n=io(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=tf.l10n.t("Report a Razor issue"),s=tf.l10n.t("Host document file path"),a=tf.l10n.t("Virtual document file path"),c=tf.l10n.t("Copy C#");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var n$=class{projectionProvider;csharpPreviewPanel;constructor(e,t,n){this.projectionProvider=new Uy(e,t,n),this.csharpPreviewPanel=new pM(e)}register(){let e=[sS.workspace.registerTextDocumentContentProvider(Uy.scheme,this.projectionProvider),sS.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.csharpPreviewPanel.show())];return sS.window.registerWebviewPanelSerializer&&e.push(sS.window.registerWebviewPanelSerializer(pM.viewType,{deserializeWebviewPanel:async t=>{await this.csharpPreviewPanel.revive(t)}})),sS.Disposable.from(...e)}};var o$=we(require("vscode"));var i$=class extends yc{async provideDefinition(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await o$.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===2&&QW(a.uri)){let c=v0(a.uri);s.push(new o$.Location(c,a.range))}else if(oS(a.uri)){let c=await Dv.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var bNe=we(require("child_process")),s$=we(require("os")),Zo=we(require("vscode"));var _Ne="ms-dotnettools.csharp";var a$=class{constructor(e,t){this.vscodeApi=e;this.documentManager=t}async create(e){let t,n,i;if(e.document){t=await this.getRazor(e.document);let be=await this.documentManager.getDocument(e.document.uri);n=await this.getProjectedCSharp(be),i=await this.getProjectedHtml(be)}else t=Zo.l10n.t("Non Razor file as active document"),n=Zo.l10n.t("Could not determine CSharp content"),i=Zo.l10n.t("Could not determine Html content");let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(be){s=Zo.l10n.t("A valid dotnet installation could not be found: {0}",be?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),m=Zo.l10n.t("Is this a Bug or Feature request?"),_=Zo.l10n.t("Bug"),D=Zo.l10n.t("Steps to reproduce"),O=Zo.l10n.t("Please fill in this section"),M=Zo.l10n.t("Description of the problem"),A=Zo.l10n.t("Expected behavior"),U=Zo.l10n.t("Actual behavior"),ne=Zo.l10n.t("Logs"),de=Zo.l10n.t("OmniSharp"),ye=Zo.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),V=Zo.l10n.t("Razor"),$=Zo.l10n.t("Expand"),ee=Zo.l10n.t("Workspace information"),De=Zo.l10n.t("Razor document"),ae=Zo.l10n.t("Projected CSharp document"),ce=Zo.l10n.t("Projected Html document"),qe=Zo.l10n.t("Machine information"),Ne=Zo.l10n.t("Razor.VSCode version"),ue=Zo.l10n.t("VSCode version"),Ce=Zo.l10n.t("Extensions");return`## ${m}:
${_}

## ${D}:
------------------- ${O} -------------------------

## ${M}:
------------------- ${O} -------------------------

${A}:

${U}:

## ${ne}

#### ${de}
------------------- ${O} -------------------------
${ye}

#### ${V}
<details><summary>${$}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${ee}

#### ${De}:
<details><summary>${$}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${ae}:
<details><summary>${$}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ce}:
<details><summary>${$}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${qe}


**${ue}**: ${this.vscodeApi.version}
**${Ne}**: ${o}
#### \`dotnet --info\`

<details><summary>${$}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${Ce}
<details><summary>${$}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}async getProjectedCSharp(e){let t=Zo.l10n.t("Projected CSharp as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of CSharp");try{let o=await this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}async getProjectedHtml(e){let t=Zo.l10n.t("Projected Html as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Zo.l10n.t("Unable to resolve VSCode's version of Html");try{let o=await this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(_Ne);return e?e.packageJSON.version:Zo.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=Zo.l10n.t("Extension"),n=Zo.l10n.t("Author"),i=Zo.l10n.t("Version"),o=`|${t}|${n}|${i}|${s$.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(s$.EOL);return`
${o}${s$.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{bNe.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var mM=we(require("vscode"));var fs=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var wNe=we(require("os")),c$=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(wNe.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var u$=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new mM.EventEmitter}onRazorDocumentFocusedEmitter=new mM.EventEmitter;register(){return mM.window.onDidChangeActiveTextEditor(e=>{e&&fs.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new c$(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var oo=we(require("vscode"));var gM=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(oo.ViewColumn.Two):(this.panel=oo.window.createWebviewPanel(r.viewType,oo.l10n.t("Report Razor Issue"),oo.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(oo,oo.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await oo.env.clipboard.writeText(this.issueContent),ya(oo,oo.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),ya(oo,oo.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Wi(oo,oo.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),ya(oo,oo.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=oo.LogLevel.Debug&&this.logger.logLevel!=oo.LogLevel.Off){let i=`<button onclick="startIssue()">${oo.l10n.t("Start")}</button>`,o=oo.l10n.t("Press {0}",i),s=oo.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${oo.l10n.t("Stop")}</button>`,u=oo.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${oo.l10n.t("Go to GitHub")}</a>`,f=oo.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),m=oo.env.language,_=`<a href="https://privacy.microsoft.com/${m}/privacystatement">https://privacy.microsoft.com/${m}/privacystatement</a>`,D=oo.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),O=oo.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${D}
${_}
</em></p>

<button onclick="copyIssue()">${O}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${oo.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${oo.LogLevel[oo.LogLevel.Debug]}</em></strong>`;e="<p>"+oo.l10n.t("Cannot start collecting Razor logs when {0} is set to {1}. Please set {0} to {2} and then reload your VSCode environment and re-run the report Razor issue command.",n,i,o)+"</p>"}let t=oo.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var l$=class{constructor(e,t,n){this.vscodeApi=e;this.dataCollectorFactory=new u$(n),this.issueCreator=new a$(this.vscodeApi,t),this.issuePanel=new gM(this.dataCollectorFactory,this.issueCreator,n)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(gM.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var hu=we(require("vscode"));var Moe=we(require("vscode"));var d$=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";preProvisionalContent;preResolveProvisionalContent;provisionalEditAt;resolveProvisionalEditAt;ProvisionalDotPosition;hostDocumentVersion=null;updates=null;_checksum="";_checksumAlgorithm=1;_encodingCodePage=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}get checksum(){return this._checksum}get checksumAlgorithm(){return this._checksumAlgorithm}get encodingCodePage(){return this._encodingCodePage}update(e,t,n,i,o,s){if(e){if(this.removeProvisionalDot(),this.updates){for(let a of this.updates)this.updateContent(a.changes);this.updates=null}this.updateContent(t),this._checksum=i,this._checksumAlgorithm=o,this._encodingCodePage=s}else{let a=new Loe(t,i,o,s);this.updates?this.updates=this.updates.concat(a):this.updates=[a]}this.hostDocumentVersion=n}applyEdits(){let e=this.updates;this.updates=null;let t=this._checksum,n=this._checksumAlgorithm,i=this._encodingCodePage;if(e)for(let o of e)this.updateContent(o.changes),this._checksum=o.checksum,this._checksumAlgorithm=o.checksumAlgorithm,this._encodingCodePage=o.encodingCodePage;return{edits:e,originalChecksum:t,originalChecksumAlgorithm:n,originalEncodingCodePage:i}}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot(),this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0;let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.resolveProvisionalEditAt=this.provisionalEditAt,this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}ensureResolveProvisionalDot(){if(this.removeResolveProvisionalDot(),this.resolveProvisionalEditAt){let e=this.getEditedContent(".",this.resolveProvisionalEditAt,this.resolveProvisionalEditAt,this.content);return this.preResolveProvisionalContent=this.content,this.setContent(e),!0}return!1}removeResolveProvisionalDot(){return this.resolveProvisionalEditAt&&this.preResolveProvisionalContent?(this.setContent(this.preResolveProvisionalContent),this.provisionalEditAt=void 0,this.preResolveProvisionalContent=void 0,!0):!1}setProvisionalDotPosition(e){this.ProvisionalDotPosition=e}getProvisionalDotPosition(){return this.ProvisionalDotPosition}clearResolveCompletionRequestVariables(){this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0}getEditedContent(e,t,n,i){let o=i.substring(0,t),s=i.substring(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}updateContent(e){if(e.length===0)return;let t=this.content;for(let n of e.reverse())t=this.getEditedContent(n.newText,n.span.start,n.span.start+n.span.length,t);this.setContent(t)}},Loe=class{constructor(e,t,n,i){this.changes=e;this.checksum=t;this.checksumAlgorithm=n;this.encodingCodePage=i}};var f$=class{constructor(e){this.uri=e;this.path=io(e)}path;content="";hostDocumentVersion=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}};var aS=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="razor-html";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.hostDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${io(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===5||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=io(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var SNe=we(require("vscode"));var h$=class{constructor(e,t,n){this.uri=e;this.csharpDocument=t;this.htmlDocument=n;this.path=io(e)}path;get isOpen(){for(let e of SNe.workspace.textDocuments)if(e.uri.fsPath==this.uri.fsPath)return!0;return!1}};function CNe(r){let e=OPt(r),t=xPt(r);return new h$(r,e,t)}function xPt(r){let t=`${io(r)}${XW}`,n=Moe.Uri.file(t);return n=n.with({scheme:aS.scheme}),new f$(n)}function OPt(r){let t=`${io(r)}${hM}`,n=Moe.Uri.file(t);return n=n.with({scheme:Uy.scheme}),new d$(n)}Nx();var y$=class{constructor(e,t,n,i){this.serverClient=e;this.logger=t;this.telemetryReporter=n;this.platformInfo=i}roslynActivated=!1;razorDocuments={};openRazorDocuments=new Set;onChangeEmitter=new hu.EventEmitter;onRazorInitializedEmitter=new hu.EventEmitter;razorDocumentGenerationInitialized=!1;get onChange(){return this.onChangeEmitter.event}get onRazorInitialized(){return this.onRazorInitializedEmitter.event}get documents(){return Object.values(this.razorDocuments)}async getDocument(e){return this._getDocument(e)}async getActiveDocument(){return!hu.window.activeTextEditor||hu.window.activeTextEditor.document.languageId!==fs.id?null:await this.getDocument(hu.window.activeTextEditor.document.uri)}isRazorDocumentOpenInCSharpWorkspace(e){let t=io(e);return this.openRazorDocuments.has(t)}didOpenRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.add(t)}didCloseRazorCSharpDocument(e){let t=io(e);this.openRazorDocuments.delete(t)}async initialize(){let e=await hu.workspace.findFiles(fs.globbingPattern);for(let t of e)this.addDocument(t);for(let t of hu.workspace.textDocuments)t.languageId===fs.id&&(t.isClosed||await this.openDocument(t.uri))}register(){let e=hu.workspace.createFileSystemWatcher(fs.globbingPattern),t=e.onDidCreate(async o=>this.addDocument(o)),n=hu.workspace.onDidOpenTextDocument(async o=>{o.languageId===fs.id&&await this.openDocument(o.uri)}),i=hu.workspace.onDidCloseTextDocument(o=>{o.languageId===fs.id&&this.closeDocument(o.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",async o=>this.updateCSharpBuffer(o)),this.serverClient.onNotification("razor/updateHtmlBuffer",async o=>this.updateHtmlBuffer(o)),hu.Disposable.from(e,t,n,i)}_getDocument(e){let t=io(e),n=this.findDocument(t);return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}async openDocument(e){await this.ensureRazorInitialized();let t=this._getDocument(e);this.notifyDocumentChange(t,2)}async ensureRazorInitialized(){if(this.roslynActivated&&!this.razorDocumentGenerationInitialized){this.razorDocumentGenerationInitialized=!0;let e=sT();await hu.commands.executeCommand(Poe,e),await this.serverClient.connectNamedPipe(e),this.onRazorInitializedEmitter.fire()}}closeDocument(e){let t=this._getDocument(e);e.scheme==="file"&&(hu.workspace.getWorkspaceFolder(e)||this.removeDocument(e)),this.notifyDocumentChange(t,3)}addDocument(e){let t=io(e),n=this.findDocument(t);return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=CNe(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,0),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,1)}findDocument(e){return this.platformInfo.isLinux()?this.razorDocuments[e]:Object.values(this.razorDocuments).find(t=>t.path.localeCompare(e,void 0,{sensitivity:"base"})===0)}async updateCSharpBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=hu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(n.isOpen,e.changes,e.hostDocumentVersion,e.checksum,e.checksumAlgorithm,e.encodingCodePage),this.notifyDocumentChange(n,4)}else this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")}async updateHtmlBuffer(e){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=hu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){await hu.workspace.openTextDocument(n.htmlDocument.uri);let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,5)}else this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${io(e.uri)}' changed '${zy[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}};var aT=we(require("vscode"));var _$=class{constructor(e,t){this.documentManager=e;this.logger=t}synchronizations={};synchronizationIdentifier=0;register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=aT.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return aT.Disposable.from(e,t)}async trySynchronizeProjectedDocument(e,t,n,i){let o=++this.synchronizationIdentifier,s=io(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.'`)}let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),await a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=await aT.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.hostDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),await a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0}removeSynchronization(e){e.dispose();let t=io(e.projectedDocument.uri),n=this.synchronizations[t];if(n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(aT.l10n.t("Token cancellation requested: {0}",_))});let d=setTimeout(()=>{f.cancel(aT.l10n.t("Synchronization timed out"))},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,cancel:_=>{for(let D of s)D(_)},dispose:()=>{s.length=0,clearTimeout(f.timeoutId)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},m=this.synchronizations[e];return m||(m=[],this.synchronizations[e]=m),m.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==Uy.scheme&&e.document.uri.scheme!==aS.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=io(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.hostDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===4)t=e.document.csharpDocument;else if(e.kind===5)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=io(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};var Fx=we(require("vscode")),KNe=we(Xu());var b$=class{constructor(e,t){this.range=e;this.color=t}};var w$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor";documentColorRequestType=new KNe.RequestType(r.provideHtmlDocumentColorEndpoint);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.documentColorRequestType,async(e,t)=>this.provideHtmlDocumentColors(e,t))}async provideHtmlDocumentColors(e,t){try{let n=Fx.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=await Fx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e._razor_hostDocumentVersion,t))return this.emptyColorInformationResponse;let a=i.htmlDocument.uri,c=await Fx.commands.executeCommand("vscode.executeDocumentColorProvider",a),u=new Array;for(let l of c){let d=Ax(l.range),f=new b$(d,l.color);u.push(f)}return u}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse}};var C$=we(require("vscode"));var S$=class extends yc{async provideDocumentHighlights(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await C$.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||i.hostDocumentVersion!==c.hostDocumentVersion)continue;let u=new C$.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s}};function YNe(r,e){r.onChange(t=>{switch(t.kind){case 0:e.reportWorkspaceContainsRazor();break}})}var jx=we(require("vscode"));var qx=class{constructor(e,t,n,i,o){this.csharpDocument=e;this.updates=t;this.checksum=n;this.checksumAlgorithm=i;this.encodingCodePage=o}},wM=class{constructor(e){this.edits=e}};var T$=class{constructor(e){this.razorDocument=e}};var JNe=we(dn()),cT=class r{constructor(e,t){this.documentManager=e;this.logger=t}static provideDynamicFileInfoCommand="razor.provideDynamicFileInfo";static removeDynamicFileInfoCommand="razor.removeDynamicFileInfo";static dynamicFileUpdatedCommand="razor.dynamicFileUpdated";register(){jx.commands.registerCommand(r.provideDynamicFileInfoCommand,async e=>this.provideDynamicFileInfo(e)),jx.commands.registerCommand(r.removeDynamicFileInfoCommand,async e=>{await this.removeDynamicFileInfo(e)}),this.documentManager.onChange(async e=>{if(e.kind==4&&!e.document.isOpen){let t=Do.serialize(e.document.uri),n=JNe.TextDocumentIdentifier.create(t);await jx.commands.executeCommand(r.dynamicFileUpdatedCommand,new T$(n))}})}async provideDynamicFileInfo(e){this.documentManager.roslynActivated=!0;let t=jx.Uri.parse(e.razorDocument.uri,!0);await this.documentManager.ensureRazorInitialized();let n=await this.documentManager.getDocument(t);try{if(n===void 0)return this.logger.logWarning(`Could not find Razor document ${t.fsPath}; adding null as a placeholder in URI array.`),null;let i=n.csharpDocument;if(e.fullText){let s={newText:n.csharpDocument.getContent(),span:{start:0,length:0}},a=new wM([s]);return new qx(e.razorDocument,[a],i.checksum,i.checksumAlgorithm,i.encodingCodePage)}let o=Do.serialize(n.csharpDocument.uri);if(this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t))return new qx({uri:o},null,i.checksum,i.checksumAlgorithm,i.encodingCodePage);{let s=i.applyEdits(),a=s.edits?.map(c=>new wM(c.changes))??null;return new qx({uri:o},a,s.originalChecksum,s.originalChecksumAlgorithm,s.originalEncodingCodePage)}}catch(i){this.logger.logWarning(`${r.provideDynamicFileInfoCommand} failed with ${i}`)}return null}async removeDynamicFileInfo(e){try{let t=Do.deserialize(e.csharpDocument.uri);this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t)&&this.documentManager.didCloseRazorCSharpDocument(t)}catch(t){this.logger.logWarning(`${r.removeDynamicFileInfoCommand} failed with ${t}`)}}};var cS=we(require("vscode")),zx=we(dn());var SM=class{constructor(e,t){this.htmlRanges=e;this.csharpRanges=t}};var D$=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static provideFoldingRange="razor/foldingRange";foldingRangeRequestType=new zx.RequestType(r.provideFoldingRange);emptyFoldingRangeReponse=new SM(new Array,new Array);async register(){await this.serverClient.onRequestWithParams(this.foldingRangeRequestType,async(e,t)=>this.provideFoldingRanges(e,t))}async provideFoldingRanges(e,t){try{let n=cS.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=await cS.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=await cS.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new SM(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===cS.FoldingRangeKind.Comment)return zx.FoldingRangeKind.Comment;if(e===cS.FoldingRangeKind.Imports)return zx.FoldingRangeKind.Imports;if(e===cS.FoldingRangeKind.Region)return zx.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var gd=we(require("vscode")),Boe=we(Xu());var Ux=class{constructor(e){this.edits=e}};var E$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideFormattingEndpoint="razor/htmlFormatting";static provideOnTypeFormattingEndpoint="razor/htmlOnTypeFormatting";formattingRequestType=new Boe.RequestType(r.provideFormattingEndpoint);onTypeFormattingRequestType=new Boe.RequestType(r.provideOnTypeFormattingEndpoint);emptyFormattingResponse=new Ux;async register(){await this.serverClient.onRequestWithParams(this.formattingRequestType,async(e,t)=>this.provideFormatting(e,t)),await this.serverClient.onRequestWithParams(this.onTypeFormattingRequestType,async(e,t)=>this.provideOnTypeFormatting(e,t))}async provideFormatting(e,t){try{let n=gd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await gd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent(),u=this.countLines(c),l=this.getLastLineLength(c),d=new gd.Range(new gd.Position(0,0),new gd.Position(u,l)),f=await gd.commands.executeCommand("vscode.executeFormatRangeProvider",a,d,e.options);if(f===void 0)return this.emptyFormattingResponse;let m=this.sanitizeTextEdits(i,f);return new Ux(m)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}async provideOnTypeFormatting(e,t){try{let n=gd.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=await gd.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.hostDocumentVersion,t))return this.emptyFormattingResponse;let a=i.htmlDocument.uri,c=await gd.commands.executeCommand("vscode.executeFormatOnTypeProvider",a,e.position,e.ch,e.options);if(c===void 0)return this.emptyFormattingResponse;let u=this.sanitizeTextEdits(i,c);return new Ux(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse}sanitizeTextEdits(e,t){let n=e.htmlDocument.getContent(),i=this.countLines(n),o=Array();for(let s of t){if(s.range.end.line>i||s.range.start.line>i){let c=this.getLastLineLength(n),u=new gd.Position(i,c),l=s.range.start,d=s.range.end;s.range.start.line>i&&(l=u),s.range.end.line>i&&(d=u);let f=new gd.Range(l,d);s=new gd.TextEdit(f,s.newText)}let a=lM(s);o.push(a)}return o}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var uT=we(require("vscode"));var P$=class extends yc{async provideHover(e,t,n){let i=await this.getProjection(e,t,n);if(!i)return;let o=await uT.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=await this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||i.hostDocumentVersion!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new uT.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new uT.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new uT.MarkdownString(d);c.push(f)}return new uT.Hover(c,a.ranges[0])}};var uS=we(require("vscode"));var nf=we(require("vscode"));var CM=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorHtmlPreview";panel;htmlContent;async show(){this.panel?this.panel.reveal(nf.ViewColumn.Two):(this.panel=nf.window.createWebviewPanel(r.viewType,nf.l10n.t("Razor HTML Preview"),nf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===5||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(nf,nf.l10n.t("Unexpected error when attaching to HTML preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.htmlContent)return;await nf.env.clipboard.writeText(this.htmlContent),ya(nf,nf.l10n.t("Razor HTML copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=io(e.uri),n=io(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=nf.l10n.t("Report a Razor issue"),s=nf.l10n.t("Host document file path"),a=nf.l10n.t("Virtual document file path"),c=nf.l10n.t("Copy Html");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p>
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var rh=we(require("vscode"));Yie();gW();var R$=class{constructor(e,t){this.documentManager=e;this.serviceClient=t}timeout=void 0;enabled=!1;htmlLanguageService;register(){this.htmlLanguageService=Kie();let e=rh.workspace.onDidChangeTextDocument(async n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=rh.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),rh.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=rh.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===fs.id&&rh.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}async onDidChangeTextDocument(e,t){if(!this.enabled||t.length===0||!rh.window.activeTextEditor||rh.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((await this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==2)return}let u=e.version;this.timeout=setTimeout(async()=>{if(!this.enabled)return;let l=rh.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new rh.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let m=await this.documentManager.getActiveDocument();m&&(a=m.htmlDocument.getContent());let _=p0.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),O=this.htmlLanguageService.doTagComplete(_,f,D);if(!O)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?await l.insertSnippet(new rh.SnippetString(O),M.map(A=>A.active)):await l.insertSnippet(new rh.SnippetString(O),f)},75)}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};var x$=class{projectionProvider;htmlTagCompletionProvider;htmlPreviewPanel;constructor(e,t,n,i){this.projectionProvider=new aS(e,n,i),this.htmlTagCompletionProvider=new R$(e,t),this.htmlPreviewPanel=new CM(e)}register(){let e=[uS.workspace.registerTextDocumentContentProvider(aS.scheme,this.projectionProvider),uS.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return uS.window.registerWebviewPanelSerializer&&e.push(uS.window.registerWebviewPanelSerializer(CM.viewType,{deserializeWebviewPanel:async t=>{await this.htmlPreviewPanel.revive(t)}})),uS.Disposable.from(...e)}};var XNe=we(require("vscode"));var O$=class extends yc{async provideImplementation(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===2||i.languageKind===3)return;let o=await XNe.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position),s=new Array;for(let a of o)if(oS(a.uri)){let c=await Dv.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var I$=class{async register(e){e.env.appName.endsWith("Insiders")}};var TM=we(require("vscode"));var QNe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],k$=class{register(){return TM.languages.setLanguageConfiguration(fs.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${QNe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:TM.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${QNe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:TM.IndentAction.Indent}}]})}};var Yoe=we(require("child_process")),nFe=require("events"),ip=we(require("vscode")),F$=we(mU());var Woe=we(require("fs")),Voe=we(require("os")),$oe=we(require("path")),ZNe=we(require("vscode"));function A$(r,e,t){let n=WPt(e),i=r.workspace.getConfiguration("razor.languageServer"),o=i.get("debug"),s=!Yu()&&r.workspace.getConfiguration().get("dotnet.server.useOmnisharp"),a=r.workspace.getConfiguration("csharp.experimental.debug").get("hotReload"),c=i.get("forceRuntimeCodeGeneration");c===null&&a&&(t.logMessage('Hot Reload is enabled so treating "razor.languageServer.forceRuntimeCodeGeneration" as true. To override this set "razor.languageServer.forceRuntimeCodeGeneration" to true or false.'),c=a);let u=i.get("suppressLspErrorToasts"),l=i.get("useNewFormattingEngine");return{serverPath:n,debug:o,outputChannel:t.outputChannel,usingOmniSharp:s,forceRuntimeCodeGeneration:c,suppressErrorToasts:u,useNewFormattingEngine:l}}function WPt(r){let e="rzls",t="";$Pt()&&(t=".exe"),VPt()&&(t=".dll");let n=`${e}${t}`,i=$oe.join(r,n);if(Woe.existsSync(i)||(n=`${e}.dll`,i=$oe.join(r,n)),!Woe.existsSync(i))throw new Error(ZNe.l10n.t("Could not find Razor Language Server executable '{0}' within directory",i));return i}function $Pt(){return!!Voe.platform().match(/^win/)}function VPt(){return Voe.platform()==="darwin"}var iFe=require("crypto");var eFe=we(jw()),L$=class extends eFe.LanguageClient{razorOptions;constructor(e,t,n,i,o,s){super(e,t,n,i,s),this.razorOptions=o}handleFailedRequest(e,t,n,i,o){return this.razorOptions.suppressErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}};var Goe=we(require("vscode")),tFe=we(jw());async function M$(r,e,t,n){let i=await n(r,e,t);return rFe(i),i}async function N$(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(rFe),t(o)})}function rFe(r){r?.kind===tFe.vsdiag.DocumentDiagnosticReportKind.full&&ps.reportInformationAsHint&&r.items.forEach(e=>{e.severity===Goe.DiagnosticSeverity.Information&&(e.severity=Goe.DiagnosticSeverity.Hint)})}var Koe={ServerStop:"ServerStop"},q$=class{constructor(e,t,n,i,o,s,a,c){this.vscodeType=e;this.languageServerDir=t;this.razorTelemetryReporter=n;this.vscodeTelemetryReporter=i;this.telemetryExtensionDllPath=o;this.env=s;this.dotnetExecutablePath=a;this.logger=c;this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new nFe.EventEmitter}clientOptions;serverOptions;client;onStartListeners=[];onStartedListeners=[];eventBus;isStarted;startHandle;stopHandle;get initializeResult(){return this.client.initializeResult}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Koe.ServerStop,e),new ip.Disposable(()=>this.eventBus.removeListener(Koe.ServerStop,e))}async start(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===F$.State.Starting&&o.newState===F$.State.Stopped?(n++,n===5&&t(ip.l10n.t("Server failed to start after retrying 5 times."))):o.newState===F$.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),await this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0,this.logger.languageServerClient=this;for(let o of this.onStartListeners)await o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)await o();i.dispose()}catch(o){Wi(ip,ip.l10n.t("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue.")),this.razorTelemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle}async sendRequest(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to send requests while server is not started."));return this.client.sendRequest(e,t)}async sendNotification(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to send requests while server is not started."));return this.client.sendNotification(e,t)}async onRequestWithParams(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to bind on request logic while server is not started."));this.client.onRequest(e,t)}onNotification(e,t){if(!this.isStarted)throw new Error(ip.l10n.t("Tried to bind on notification logic while server is not started."));this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Koe.ServerStop)}async stop(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error(ip.l10n.t("Cannot stop Razor Language Server as it is already stopped."))),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&await this.client.stop(),this.dispose(),e()}catch(n){Wi(ip,ip.l10n.t("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue.")),t(n)}return this.stopHandle}async connectNamedPipe(e){await this.start(),await this.sendNotification("razor/namedPipeConnect",{pipeName:e})}setupLanguageServer(){let e=A$(this.vscodeType,this.languageServerDir,this.logger);this.clientOptions={outputChannel:e.outputChannel,documentSelector:[{language:fs.id,pattern:fs.globbingPattern}],middleware:{provideDiagnostics:M$,provideWorkspaceDiagnostics:N$}};let t=[];this.logger.logMessage(`Razor language server path: ${e.serverPath}`),t.push("--logLevel"),t.push(this.logger.logLevelForRZLS.toString()),this.razorTelemetryReporter.reportTraceLevel(this.logger.logLevel),e.debug&&(this.razorTelemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),t.push("--debug")),e.usingOmniSharp||(t.push("--DelegateToCSharpOnDiagnosticPublish"),t.push("true"),t.push("--UpdateBuffersForClosedDocuments"),t.push("true"),t.push("--SingleServerCompletionSupport"),t.push("true"),t.push("--ForceRuntimeCodeGeneration"),t.push(e.forceRuntimeCodeGeneration?"true":"false"),e.useNewFormattingEngine&&(t.push("--UseNewFormattingEngine"),t.push("true")),this.telemetryExtensionDllPath.length>0&&(t.push("--telemetryLevel",this.vscodeTelemetryReporter.telemetryLevel),t.push("--sessionId",GPt()),t.push("--telemetryExtensionPath",this.telemetryExtensionDllPath)));let n,i={detached:!0,windowsHide:!0,env:this.env};if(e.serverPath.endsWith(".dll")){let o=[e.serverPath].concat(t);this.logger.logMessage(`Server arguments ${o.join(" ")}`),n=async()=>Yoe.spawn(this.dotnetExecutablePath,o,i)}else this.logger.logMessage(`Server arguments ${t.join(" ")}`),n=async()=>Yoe.spawn(e.serverPath,t,i);this.serverOptions=n,this.client=new L$("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions,e)}};function GPt(){let r=ip.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,iFe.randomUUID)():r}var oFe=we(require("vscode"));var j$=class{constructor(e,t){this.position=e;this.uri=t.toString()}uri};var z$=class{constructor(e,t,n){this.kind=e;this.projectedRanges=t;this.razorDocumentUri=n.toString()}razorDocumentUri};var U$=class{constructor(e){this.serverClient=e}async languageQuery(e,t){await this.ensureStarted();let n=new j$(e,t),i=await this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new oFe.Position(i.position.line,i.position.character),i}async mapToDocumentRanges(e,t,n){await this.ensureStarted();let i=[];for(let c of t){let u=Ax(c);i.push(u)}let o=new z$(e,i,n),s=await this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=YW(s.ranges[0]);a.push(u)}return s.ranges=a,s}async ensureStarted(){await this.serverClient.start()}};var B$=we(require("fs")),W$=we(require("path")),Ol=we(require("vscode")),H$=class{static logName="Razor Log";verboseEnabled;messageEnabled;outputChannel;languageServerClient;onLogEmitter;constructor(e){this.outputChannel=Ol.window.createOutputChannel(Ol.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=e.create(),this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case Ol.LogLevel.Off:return 0;case Ol.LogLevel.Trace:return 1;case Ol.LogLevel.Debug:return 2;case Ol.LogLevel.Info:return 3;case Ol.LogLevel.Warning:return 4;case Ol.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logVerbose(e){this.verboseEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel(),this.languageServerClient&&await this.languageServerClient.sendNotification("razor/updateLogLevel",{logLevel:this.logLevelForRZLS})}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=KPt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${Ol.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){Ol.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},Ol.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.verboseEnabled=this.outputChannel.logLevel>=Ol.LogLevel.Trace,this.messageEnabled=this.outputChannel.logLevel>=Ol.LogLevel.Info}};function KPt(){let r=YPt(__dirname,"package.json");return JSON.parse(B$.readFileSync(r).toString())}function YPt(r,e){let t=r;for(;t;){let n=W$.join(t,e);if(B$.existsSync(n))return n;let i=W$.dirname(t);t=i===r?void 0:i}throw new Error(Ol.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}var V$=we(require("vscode"));var $$=class extends yc{async provideReferences(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind===3)return;let s=await V$.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===2&&QW(c.uri)){let u=v0(c.uri);a.push(new V$.Location(u,c.range))}else if(oS(c.uri)){let u=await Dv.remapGeneratedFileLocation(c,this.serviceClient,this.logger,i);if(u===void 0)continue;a.push(u)}else a.push(c);return a}};var sFe=we(require("vscode"));var G$=class extends yc{constructor(e,t,n,i){super(e,t,n,i)}async prepareRename(e,t,n){let i=await this.getProjection(e,t,n);return!i||i.languageKind!==1?null:e.getWordRangeAtPosition(t)}async provideRenameEdits(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind!==1)return;let s=await sFe.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n);return await Dv.remapGeneratedFileWorkspaceEdit(s,this.serviceClient,this.logger,i)}};var Hx=we(require("vscode")),aFe=we(Xu());var lT=class{constructor(e,t){this.tokens=e;this.hostDocumentSyncVersion=t}};var K$=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange";semanticTokensRequestType=new aFe.RequestType(r.getSemanticTokensRangeEndpoint);emptyTokensResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.semanticTokensRequestType,async(e,t)=>this.getSemanticTokens(e,t))}async getSemanticTokens(e,t){try{let n=Hx.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning semantic tokens information.`),new lT(this.emptyTokensResponse,e.requiredHostDocumentVersion);let o=await Hx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.requiredHostDocumentVersion,t))return new lT(this.emptyTokensResponse,e.requiredHostDocumentVersion);if(e.requiredHostDocumentVersion==1){let c=e.ranges[0].end.line;if(this.countLines(i.csharpDocument.getContent())<c)return new lT(this.emptyTokensResponse,-1)}let a=await Hx.commands.executeCommand("vscode.provideDocumentRangeSemanticTokens",i.csharpDocument.uri,e.ranges[0]);return new lT(Array.from(a.data),e.requiredHostDocumentVersion)}catch(n){this.logger.logWarning(`${r.getSemanticTokensRangeEndpoint} failed with ${n}`)}return new lT(this.emptyTokensResponse,e.requiredHostDocumentVersion)}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}};var cFe=we(require("vscode"));var Y$=class extends yc{async provideSignatureHelp(e,t,n){let i=await this.getProjection(e,t,n);if(i)return await cFe.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)}};function Bx(r,e,t){return{type:1,eventName:r,properties:e,measures:t}}function uFe(r,e,t,n){return{type:78,eventName:r,properties:e,measures:t,errorProps:n}}var lFe=we(require("vscode")),J$=class{constructor(e){this.eventStream=e;this.eventStream.post(this.razorExtensionActivated)}razorExtensionActivated=Bx("VSCode.Razor.RazorExtensionActivated");debugLanguageServerEvent=Bx("VSCode.Razor.DebugLanguageServer");workspaceContainsRazorEvent=Bx("VSCode.Razor.WorkspaceContainsRazor");buffersOutOfSyncEvent=Bx("VSCode.Razor.BuffersOutOfSync");reportedWorkspaceContainsRazor=!1;reportTraceLevel(e){let t=Bx("VSCode.Razor.TraceLevel",{trace:lFe.LogLevel[e]});this.eventStream.post(t)}reportBuffersOutOfSync(){this.eventStream.post(this.buffersOutOfSyncEvent)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=uFe(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};var Q$=we(require("vscode")),dFe=we(dn());var X$=class r extends yc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorPullDiagnosticsCommand="razor/csharpPullDiagnostics";diagnosticRequestType=new dFe.RequestType(r.razorPullDiagnosticsCommand);async register(){await this.serverClient.onRequestWithParams(this.diagnosticRequestType,async(t,n)=>this.getDiagnostic(t,n))}async getDiagnostic(t,n){if(!this.documentManager.roslynActivated)return;let i=Q$.Uri.parse(t.textDocument.uri,!0),s=(await this.documentManager.getDocument(i)).csharpDocument.uri;return t.textDocument.uri=Do.serialize(s),await Q$.commands.executeCommand(boe,t)}};var e3=we(require("vscode")),t3=we(dn());var DM=class{constructor(e,t){this.textDocument=e;this.textEdit=t}};var Z$=class r extends yc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorSimplifyMethodCommand="razor/simplifyMethod";simplifyMethodRequestType=new t3.RequestType(r.razorSimplifyMethodCommand);async register(){await this.serverClient.onRequestWithParams(this.simplifyMethodRequestType,async(t,n)=>this.getSimplifiedMethod(t,n))}async getSimplifiedMethod(t,n){if(!this.documentManager.roslynActivated)return;let i=t.identifier.textDocumentIdentifier;if(t.requiresVirtualDocument){let a=e3.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),u=(await this.documentManager.getDocument(a)).csharpDocument.uri;i=t3.TextDocumentIdentifier.create(Do.serialize(u))}let o=new DM(i,t.textEdit);return await e3.commands.executeCommand(Doe,o)}};var EM=we(require("path")),Wx=we(require("vscode"));var fFe=require("fs");var hFe=require("fs/promises");var pFe="9",mFe="0",JPt="1",Joe=`${pFe}.${mFe}.${JPt}`,$x=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;this.channel.appendLine(`Locating .NET runtime version ${Joe}`);let e=await this.getArchitectureFromTargetPlatform()??process.arch,t={acquireContext:{version:Joe,requestingExtensionId:gy,architecture:e,mode:"runtime"},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},n=await Wx.commands.executeCommand("dotnet.findPath",t);n===void 0&&(this.channel.appendLine(`Did not find .NET ${Joe} on path, falling back to acquire runtime via ${BE}`),n=await this.acquireDotNetProcessDependencies());let i=n.dotnetPath,o={version:"",path:i,env:this.getEnvironmentVariables(i)};return this.hostInfo=o,o}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=EM.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",ps.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="2",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=EM.join(ps.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(){let e=`${pFe}.${mFe}`,t=await Wx.commands.executeCommand("dotnet.acquireStatus",{version:e,requestingExtensionId:gy});if(t===void 0&&(await Wx.commands.executeCommand("dotnet.showAcquisitionLog"),t=await Wx.commands.executeCommand("dotnet.acquire",{version:e,requestingExtensionId:gy}),!t))throw new Error("Could not resolve the dotnet path!");return t}async acquireDotNetProcessDependencies(){let e=await this.acquireRuntime(),t=[this.getServerPath(this.platformInfo)];return await Wx.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:e.dotnetPath,arguments:t}),e}async getArchitectureFromTargetPlatform(){let e=EM.join(this.extensionPath,".vsixmanifest");if(!(0,fFe.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,hFe.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)throw new Error(`Could not find extension target platform in ${e}`);let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var gFe=we(require("vscode")),vFe=we(Xu());var r3=class r extends yc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorFormatNewFileCommand="razor/formatNewFile";formatNewFileRequestType=new vFe.RequestType(r.razorFormatNewFileCommand);async register(){await this.serverClient.onRequestWithParams(this.formatNewFileRequestType,async(t,n)=>this.getFormatNewFile(t,n))}async getFormatNewFile(t,n){return this.documentManager.roslynActivated?await gFe.commands.executeCommand(Eoe,t):void 0}};var Vx=we(require("vscode")),i3=we(dn());var n3=class r{constructor(e,t,n,i){this.serverClient=e;this.documentManager=t;this.documentSynchronizer=n;this.logger=i}static provideInlayHint="razor/inlayHint";InlayHintRequestType=new i3.RequestType(r.provideInlayHint);emptyInlayHintResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.InlayHintRequestType,async(e,t)=>this.provideInlayHints(e,t))}async provideInlayHints(e,t){try{let n=Vx.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyInlayHintResponse;if(!this.documentManager.roslynActivated)return this.emptyInlayHintResponse;let o=await Vx.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.identifier.version,t))return this.emptyInlayHintResponse;let a=Do.serialize(i.csharpDocument.uri),c={textDocument:i3.TextDocumentIdentifier.create(a),range:e.projectedRange};return await Vx.commands.executeCommand(Roe,c)}catch(n){this.logger.logWarning(`${r.provideInlayHint} failed with ${n}`)}return this.emptyInlayHintResponse}};var s3=we(require("vscode")),yFe=we(dn());var o3=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static resolveInlayHint="razor/inlayHintResolve";InlayHintResolveRequestType=new yFe.RequestType(r.resolveInlayHint);async register(){await this.serverClient.onRequestWithParams(this.InlayHintResolveRequestType,async(e,t)=>this.resolveInlayHint(e,t))}async resolveInlayHint(e,t){try{let n=s3.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0);return await this.documentManager.getDocument(n)===void 0?null:await s3.commands.executeCommand(xoe,e.inlayHint)}catch(n){this.logger.logWarning(`${r.resolveInlayHint} failed with ${n}`)}return null}};var _Fe=we(require("fs")),Xoe=we(require("path")),bFe={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorDevKit:{defaultFolderName:".razorDevKit",optionName:"razorDevKit",componentDllPaths:["Microsoft.VisualStudio.DevKit.Razor.dll"]}};function PM(r,e){let t=bFe[r],n=SFe(t,e),i=t.componentDllPaths.map(o=>Xoe.join(n,o));for(let o of i)if(!_Fe.existsSync(o))throw new Error(`Component DLL not found: ${o}`);return i}function wFe(r,e){let t=bFe[r];return SFe(t,e)}function SFe(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return Xoe.join(__dirname,"..",r.defaultFolderName)}var xse=we(t2e()),MM=require("fs"),b2e=require("path"),Ose=require("url"),dS=we(require("vscode")),L3=we(m2e());var LM=".NET Application Server",A3="Debug Blazor Web Assembly in Browser";var g2e=we(NZ());var v2e=r=>r.startsWith(A3)||r===LM,y2e=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function _2e(r,e,t){t&&(typeof t=="number"?TOt(r,e,t):await DOt(r,e,t))}function TOt(r,e,t){v2e(r.name)&&y2e(t,e)}async function DOt(r,e,t){if(!v2e(r.name))return;let n=[];try{n=await(0,g2e.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&y2e(i.pid,e)}var nO=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=dS.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,Ose.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,Ose.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,MM.readFileSync)((0,b2e.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:LM,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await _2e(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:A3,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[LM]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=dS.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:dS.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=dS.l10n.t("Ignore");Wi(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new L3.EdgeBrowserFinder(process.env,MM.promises,xse.default).findAll()).length>0)return ya(dS,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new L3.ChromeBrowserFinder(process.env,MM.promises,xse.default).findAll()).length>0)return ya(dS,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Wi(dS,dS.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};async function w2e(r,e,t,n,i,o,s,a=!1){let c=new J$(n),u={create:()=>new M3.EventEmitter},l=new H$(u);try{let d=A$(r,t,l),m=await new $x(s,()=>d.serverPath,l.outputChannel,e.extensionPath).getHostExecutableInfo(),_="";if(o&&(await POt(m.env,o,l),M3.env.isTelemetryEnabled)){let Ne=PM("razorDevKit",void 0);Ne.length!==1?l.logError("Failed to find Razor DevKit telemetry extension path.",void 0):_=Ne[0]}let D=new q$(r,t,c,i,_,m.env,m.path,l),O=new U$(D),M=new y$(D,l,c,s),A=new _$(M,l);YNe(M,c);let U=new k$,ne=new n$(M,u,l),de=new x$(M,O,u,l),ye=[],V=new l$(r,M,l),$=new JW(D,l),ee=new GW(M,A,D,l),De=new KW(M,A,D,ne.projectionProvider,l);new cT(M,l).register(),D.onStart(async()=>{let Ne=new K$(M,A,D,l),ue=new r$(M,D,l),Ce=new w$(M,A,D,l),be=new D$(D,M,l),xe=new n3(D,M,A,l),Me=new o3(D,M,l),$e=new E$(M,A,D,l),Ct=new Y$(A,M,O,l),ze=new i$(A,M,O,l),st=new O$(A,M,O,l),at=new P$(A,M,O,l),tt=new ZW(A,M,O,l),fr=new G$(A,M,O,l),Lr=new $$(A,M,O,l),zr=new S$(A,M,O,l),cr=new X$(A,D,O,M,l),xt=new Z$(A,D,O,M,l),hr=new r3(A,D,O,M,l);ye.push(U.register(),r.languages.registerSignatureHelpProvider(fs.id,Ct,"(",","),r.languages.registerDefinitionProvider(fs.id,ze),r.languages.registerImplementationProvider(fs.id,st),r.languages.registerHoverProvider(fs.documentSelector,at),r.languages.registerReferenceProvider(fs.id,Lr),r.languages.registerCodeLensProvider(fs.id,tt),r.languages.registerRenameProvider(fs.id,fr),r.languages.registerDocumentHighlightProvider(fs.id,zr),M.register(),ne.register(),de.register(),A.register(),V.register(),$.register()),a&&await new I$().register(r),await Promise.all([ue.register(),Ce.register(),be.register(),xe.register(),Me.register(),$e.register(),Ne.register(),cr.register(),ee.register(),De.register(),xt.register(),hr.register()])});let ce=D.onStop(()=>{ye.forEach(Ne=>Ne.dispose()),ye.length=0}),qe=new nO(l,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",qe)),D.onStarted(async()=>{await M.initialize()}),await EOt(r,D,l,e),e.subscriptions.push(D,ce,l)}catch(d){l.logError("Failed when activating Razor VSCode.",d),c.reportErrorOnActivation(d)}}async function EOt(r,e,t,n){if((await r.workspace.findFiles(fs.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(fs.globbingPattern),s=async()=>{a.dispose(),c.dispose(),await e.start()},a=o.onDidCreate(async()=>s()),c=r.workspace.onDidOpenTextDocument(async u=>{u.languageId===fs.id&&await s()});n.subscriptions.push(a,c)}else await e.start()}async function POt(r,e,t){try{let n=await e.activate();if(!n.setupTelemetryEnvironmentAsync)return;await n.setupTelemetryEnvironmentAsync(r)}catch(n){t.logError("Failed to setup DevKit environment for telemetry.",n)}}async function N3(r,e,t,n,i,o,s){let c=w0.workspace.getConfiguration("razor").get("languageServer.directory",""),u=c.length>0?c:s?Ise.join(e,".razoromnisharp"):Ise.join(e,".razor");S2e.existsSync(u)?s?await C2e.activate(w0,r,u,t,!1):await w2e(w0,r,u,t,n,i,o,!1):Vh(w0,w0.l10n.t("Cannot load Razor language server because the directory was not found: '{0}'",u))}function T2e(r,e,t,n,i,o,s,a){let c=iO.window.createOutputChannel(iO.l10n.t(".NET Test Log")),u=iO.window.createOutputChannel(iO.l10n.t(".NET NuGet Restore")),l=COe(r,e,t,n,i,o,c,u,s),d;hy.razorDevMode||(d=N3(r,r.extension.extensionPath,i,s,void 0,e,!0));let f=a(l);return{initializationFinished:async()=>{await(await l).server.waitForInitialize(),await f,d&&await d},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var BHe=we(require("vscode"));var D2e=we(require("vscode"));var F3=class{onServerStateChangeEmitter=new D2e.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var BO=we(require("vscode")),rle=we(require("fs")),nle=we(require("path"));var Ase=we(require("vscode"));var fS=we(require("vscode"));function E2e(r,e){Yu()||r.subscriptions.push(fS.commands.registerCommand("dotnet.openSolution",async()=>xOt(e)))}async function xOt(r){if(!fS.workspace.workspaceFolders)return;let t=(await fS.workspace.findFiles("**/*.{sln,slnf}")).map(S2),n=await fS.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=fS.Uri.file(n.target);return await r.openSolution(i),i}}var bc=we(require("vscode"));function P2e(r,e,t){r.subscriptions.push(bc.commands.registerCommand("roslyn.client.peekReferences",OOt)),r.subscriptions.push(bc.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>IOt(n,i,o,s,t))),r.subscriptions.push(bc.commands.registerCommand("dotnet.restartServer",async()=>kOt(e)))}async function OOt(r,e){let t=Do.deserialize(r),n=new bc.Position(e.line,e.character),i=await bc.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await bc.commands.executeCommand("editor.action.showReferences",t,n,i)}async function IOt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=Do.deserialize(r.uri),a=await bc.workspace.openTextDocument(s);a===void 0&&kse(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await bc.window.showTextDocument(a),c===void 0&&kse(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new bc.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new bc.Selection(u.start,u.end),l=await c.insertSnippet(new bc.SnippetString(e.newText));else{let f=new bc.WorkspaceEdit,m=bc.TextEdit.replace(u,e.newText);if(f.set(a.uri,[m]),l=await bc.workspace.applyEdit(f),l&&n>=0){let _=a.positionAt(n);c.selections=[new bc.Selection(_,_)]}}if(l)return}l||kse(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function kse(r,e){throw r.show(),r.error(e),new Error(e)}async function kOt(r){await r.restart()}function R2e(r,e,t,n){AOt(r,e,t,n),E2e(r,e),P2e(r,e,n)}function AOt(r,e,t,n){r.subscriptions.push(Ase.commands.registerCommand("csharp.reportIssue",async()=>ZA(r.extension.packageJSON.version,Wp,!1,t))),r.subscriptions.push(Ase.commands.registerCommand("csharp.showOutputWindow",async()=>n.show()))}var _N=we(require("vscode"));var x2e=we(require("vscode"));var wc=we(dn()),Il=we(Xu()),Lse;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Lse||={});var NM;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(NM||={});var Mse;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(Mse||={});var Nse;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Nse||={});var Fse;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(Fse||={});var qse;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(qse||={});var jse;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(jse||={});var zse;(n=>(n.method="textDocument/runTests",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new wc.ProtocolRequestType(n.method)))(zse||={});var Use;(n=>(n.method="workspace/attachDebugger",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.RequestType(n.method)))(Use||={});var Hse;(n=>(n.method="solution/open",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.NotificationType(n.method)))(Hse||={});var Bse;(n=>(n.method="project/open",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.NotificationType(n.method)))(Bse||={});var Wse;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(Wse||={});var $se;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))($se||={});var Vse;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new wc.ProtocolRequestType(n.method)))(Vse||={});var Gse;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType0(n.method)))(Gse||={});var Kse;(n=>(n.method="workspace/_roslyn_projectNeedsRestore",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.RequestType(n.method)))(Kse||={});var Yse;(n=>(n.method="copilot/_related_documents",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new wc.ProtocolRequestType(n.method)))(Yse||={});var Jse;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=wc.MessageDirection.clientToServer,n.type=new Il.RequestType(n.method)))(Jse||={});var Xse;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=wc.MessageDirection.serverToClient,n.type=new Il.NotificationType(n.method)))(Xse||={});var q3=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:Do.serialize(e)},n;try{n=await this.server.sendRequest(Lse.type,t,new x2e.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await D4(n,async o=>{let s=Xq(o.projectPath),a=await Qq(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:Zq(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var XUe=we(tD()),hm=we(require("vscode"));var qO=we(Wue());var uh=we(Wue()),Gy=class{static solutionSnapshotProviderRegistration=Object.freeze(new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new uh.ServiceJsonRpcDescriptor(uh.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),uh.Formatters.MessagePack,uh.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var $ue=class extends qO.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new qO.ServiceRegistration(qO.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},JV;function Vue(){return JV||(JV=new $ue,JV.registerExternalServices(Gy.dotnetDebugConfigurationService.moniker)),JV}function YUe(){return Vue().getFullAccessServiceBroker()}var jO=class extends Error{},XV=class extends Error{constructor(){super()}},yN=class extends Error{},QV=class extends Error{},JUe="${workspaceFolder}";function NLt(r,e){if(r.startsWith(JUe)){let t=r.substring(JUe.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var ZV=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(hm.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(hm.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=NLt(i,e.uri.fsPath));let o=await YUe()?.getProxy(Gy.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new QV}catch(s){if(s instanceof QV){if(!i)throw new jO(hm.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof XV)return;throw s}}finally{o?.dispose()}}else throw new Error(hm.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new XV;case"internalError":case"userError":throw new jO(i.message);default:throw new yN(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new jO(hm.l10n.t("No launchable target found for '{0}'",e)):new jO(hm.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=hm.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await hm.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new yN("Multiple launch targets (>2) is not yet supported."):new yN("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(hm.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new GC(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await XUe.ensureDir(a.vscodeFolder);let c=await XA(a);await QA(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(hm.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(hm.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(hm.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function QUe(r,e,t,n,i){let o=new q3(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(Yu()||await qU(r,o))});r.subscriptions.push(s);let a=new iR(o,n,i);r.subscriptions.push(_N.debug.registerDebugConfigurationProvider("dotnet",new ZV(o,a))),r.subscriptions.push(_N.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push(_N.commands.registerCommand("dotnet.generateAssets",async c=>jU(o,c)))}var eHe=we(require("fs")),t4=we(require("path")),kl=we(require("vscode")),tHe=we(jw());function rHe(r,e){if(Yu())return;let t=kl.window.createOutputChannel(kl.l10n.t(".NET Test Log"));r.subscriptions.push(kl.commands.registerCommand("dotnet.test.run",async n=>nHe(n,e,t))),r.subscriptions.push(kl.commands.registerCommand("dotnet.test.runTestsInContext",async()=>ZUe(!1,e,t))),r.subscriptions.push(kl.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>ZUe(!0,e,t)))}async function ZUe(r,e,t){let n=kl.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:tHe.TextDocumentIdentifier.create(Do.serialize(n.document.uri)),range:i,attachDebugger:r};return nHe(s,e,t)}var e4=!1;async function nHe(r,e,t){if(e4){Wi(kl,kl.l10n.t("Test run already in progress"));return}r.runSettingsPath=FLt(r.textDocument.uri,t),e4=!0,t.show(!0);let n;return await kl.window.withProgress({location:kl.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await kl.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(zse.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{e4=!1},()=>{e4=!1}),n}function FLt(r,e){let t=us.runSettingsPath;if(t.length===0)return;let n=t;if(!t4.isAbsolute(t)){let i=kl.workspace.getWorkspaceFolder(kl.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=t4.join(i.uri.fsPath,t)}if(!eHe.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var UO=we(require("vscode"));function iHe(r){return XU(r,{getRelevantOptions:()=>({changedCommonOptions:ZF,changedLanguageServerOptions:qge,changedOmnisharpOptions:[]}),handleOptionChanges(n){qLt(n)}})}function qLt(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:UO.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){ya(UO,UO.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=UO.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");ya(UO,t,e)}var kv=we(require("vscode"));var oHe=we(wz());function sHe(r,e,t){r.subscriptions.push(kv.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>jLt(e,n,t)))}async function Gue(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await kv.window.showQuickPick(r.FixAllFlavors,{placeHolder:kv.l10n.t("Pick a fix all scope")});await kv.window.withProgress({location:kv.ProgressLocation.Notification,title:kv.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest($se.type,s,o);if(a.edit){let l=await(0,oHe.createConverter)(d=>Do.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await kv.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function jLt(r,e,t){e&&await Gue(e,r,t)}var bg=we(require("vscode")),aHe=we(dn()),cHe=we(wz());function uHe(r,e,t){r.subscriptions.push(bg.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>zLt(e,n,t)))}async function zLt(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=ULt(i),s=await bg.window.showQuickPick(o,{placeHolder:bg.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await Gue(a.data,r,t);return}await bg.window.withProgress({location:bg.ProgressLocation.Notification,title:bg.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(aHe.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let _=await(0,cHe.createConverter)(D=>Do.deserialize(D),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await bg.workspace.applyEdit(_)){let D="[roslyn.client.nestedCodeAction]",O="Failed to make am edit for completion.";throw t.show(),t.error(`${D} ${O}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function ULt(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=bg.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var sl=we(require("vscode"));var lHe=we(require("path"));var r4=!1;function dHe(r,e){if(Yu())return;let t=sl.window.createOutputChannel(sl.l10n.t(".NET NuGet Restore"));r.subscriptions.push(sl.commands.registerCommand("dotnet.restore.project",async n=>HLt(e,t))),r.subscriptions.push(sl.commands.registerCommand("dotnet.restore.all",async()=>Kue(e,t,[],!0))),e.registerOnRequest(Kse.type,async n=>{await Kue(e,t,n.projectFilePaths,!1)})}async function HLt(r,e){let t;try{t=await r.sendRequest0(Gse.type,new sl.CancellationTokenSource().token)}catch(o){if(o instanceof sl.CancellationError)return;throw o}let n=t.map(o=>{let s=lHe.default.basename(o);return{label:sl.l10n.t("Restore {0}",s),description:o}}),i=await sl.window.showQuickPick(n);i&&await Kue(r,e,[i.description],!0)}async function Kue(r,e,t,n){if(r4){Wi(sl,sl.l10n.t("Restore already in progress"));return}r4=!0,n&&e.show(!0);let i={projectFilePaths:t};await sl.window.withProgress({location:sl.ProgressLocation.Notification,title:sl.l10n.t("Restore"),cancellable:!0},async(o,s)=>{let a=u=>{u.message&&e.appendLine(u.message),o.report({message:u.stage})};o.report({message:sl.l10n.t("Sending request")}),await r.sendRequestWithProgress(Vse.type,i,async u=>a(u),s).then(u=>u.forEach(l=>a(l)),u=>e.appendLine(u))}).then(()=>{r4=!1},()=>{r4=!1})}var n4=we(require("vscode"));var fHe=we(dn());function hHe(r,e){let t=n4.extensions.getExtension("github.copilot");if(!t){e.debug("GitHub Copilot extension not installed. Skip registeration of C# related files provider.");return}t.activate().then(()=>{let n=t.exports;if(!n){e.debug("Incompatible GitHub Copilot extension installed. Skip registeration of C# related files provider.");return}e.debug("registration of C# related files provider for GitHub Copilot extension succeeded.");let i={extensionId:gy,languageId:"csharp"};n.registerRelatedFilesProvider(i,async(o,s,a)=>{let c=(f,m,_)=>{if(m){for(let D of m)if(D._vs_file_paths)for(let O of D._vs_file_paths){let M=n4.Uri.file(O);M.fsPath!==f.fsPath&&_.push(M)}}},u=[],l=Do.serialize(o),d=fHe.TextDocumentIdentifier.create(l);try{await r.sendRequestWithProgress(Yse.type,{_vs_textDocument:d,position:{line:0,character:0}},async f=>c(o,f,u),a)}catch(f){f instanceof Error&&e.appendLine(f.message)}return{entries:u}})})}var DS=we(require("vscode"));var pHe=we(dn());function mHe(r,e){r.subscriptions.push(DS.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new Yue(e)))}var Yue=class{constructor(e){this.languageServer=e;e.registerOnNotification(Xse.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),DS.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new DS.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new DS.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??DS.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(Jse.type,{textDocument:pHe.TextDocumentIdentifier.create(Do.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var bN=we(require("vscode")),yHe=we(require("crypto"));var gHe="dotnet.server.suppressMiscellaneousFilesToasts",vHe=new Set;function _He(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||ps.suppressMiscellaneousFilesToasts||r.workspaceState.get(gHe,!1))return;let n=BLt(t.uri.toString(!0));if(vHe.has(n))return;vHe.add(n);let i=bN.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=bN.l10n.t("Dismiss"),s={title:bN.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(gHe,!0)}};Vh(bN,i,o,s)})}function BLt(r){return yHe.createHash("sha256").update(r).digest("hex")}var Cb=we(require("vscode"));function i4(...r){return r.reduce((e,t)=>e.concat(t),[])}var o4=class{static createStatusItem(e,t){let n=i4(ps.documentSelector),i={command:"dotnet.openSolution",title:Cb.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:Cb.l10n.t("Restart server")},s=Cb.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=Cb.l10n.t("C# Workspace Status"),s.severity=Cb.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?Cb.LanguageStatusSeverity.Error:Cb.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var Ky=we(require("vscode"));var s4=class{static createStatusItem(e,t){let n=i4(ps.documentSelector,fs.documentSelector),i=t._projectContextService,o=Ky.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=Ky.l10n.t("C# Project Context Status"),o.detail=Ky.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?Ky.LanguageStatusSeverity.Warning:Ky.LanguageStatusSeverity.Information:o.severity=Ky.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?Ky.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):Ky.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var vn=we(require("vscode")),HO=we(require("path")),Zue=we(require("child_process"));Nx();var qHe=we(require("net")),Ya=we(jw());var EHe=we(require("vscode"));var bHe=we(require("node:assert"));function wHe(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,bHe.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=WLt(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=Jue(o,"_"),l=Jue(c,"_");return a==""?u.concat(".",l):Jue(a,"_").concat(".",u,".",l)}return null}function WLt(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function Jue(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map($Lt);return n.concat(...i)}function $Lt(r){return r.charAt(0).toUpperCase()+r.substring(1)}var CHe=require("vscode"),SHe=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",DHe],["codeStyle.formatting.indentationAndSpacing.indentSize",VLt],["codeStyle.formatting.indentationAndSpacing.indentStyle",GLt],["codeStyle.formatting.newLine.endOfLine",KLt],["codeStyle.formatting.newLine.insertFinalNewline",YLt]]);function THe(r){if(!SHe.has(r))return;let e=SHe.get(r),t=CHe.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function DHe(r){return wN(r,"editor.tabSize")}function VLt(r){let e=wN(r,"editor.indentSize");return e=="tabSize"?DHe(r):e}function GLt(r){return wN(r,"editor.insertSpaces")?"space":"tab"}function KLt(r){let e=wN(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function YLt(r){return wN(r,"files.insertFinalNewline")}function wN(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function PHe(r){let e=[],t=EHe.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}let o=wHe(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=THe(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var a4=class{constructor(e){this.Id=e}};var ele=require("crypto");var RHe=we(jw());var c4=class extends RHe.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new po}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return ps.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var Xue=we(require("vscode")),Que=we(dn());function xHe(r){r.onNotification(jse.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case Que.MessageType.Error:{Wi(Xue,e.message,...t);break}case Que.MessageType.Warning:{Vh(Xue,e.message,...t);break}default:{ya(Xue,e.message,...t);break}}})}var Mu=we(require("vscode")),OHe=we(jw());function IHe(r,e){let t=new Mu.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await Mu.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(!d.includes(f))return;let m=s.end.character-s.start.character,_=s.start.translate(0,o.text.length-m);t.cancel(),t=new Mu.CancellationTokenSource;try{await JLt(_,f,i.textDocument,a,r,t.token)}catch(D){if(D instanceof Mu.CancellationError)return;throw D}})}async function JLt(r,e,t,n,i,o){let s=XLt(),a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:s},c=await i.sendRequest(NM.type,a,o);if(c){let u=c._vs_textEdit,l=new Mu.Position(u.range.start.line,u.range.start.character),d=new Mu.Position(u.range.end.line,u.range.end.character),f=new Mu.SnippetString(u.newText),m=Mu,_=[new m.SnippetTextEdit(new Mu.Range(l,d),f)],D=new Mu.WorkspaceEdit;if(D.set(n,_),!Mu.workspace.applyEdit(D))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await Mu.commands.executeCommand(c.command.command,c.command.arguments)}}function XLt(){let r=Mu.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0;return OHe.FormattingOptions.create(e,t)}var l4=we(require("vscode"));var u4=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=l4.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=l4.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=ps.analyzerDiagnosticScope,o=ps.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var SN=require("vscode"),kHe=we(jw()),AHe=we(dn());Nx();var d4=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new AHe.ProtocolRequestType(NM.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of SN.workspace.textDocuments)if(SN.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,kHe.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:sT(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&SN.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var Tb=we(require("vscode"));var LHe=we(dn());var QLt=2*1e3,CN,f4,h4=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),Tb.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new Tb.EventEmitter;_source=new Tb.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=Tb.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp")return;this._source.cancel(),this._source=new Tb.CancellationTokenSource;let n=e.document.uri,i=!1;if(CN&&(clearTimeout(CN),CN=void 0),f4&&(n.toString()===f4.toString()&&(i=!0),f4=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){CN=setTimeout(()=>{CN=void 0,f4=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},QLt);return}}async getProjectContexts(e,t){let n=Do.serialize(e),i=LHe.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(Nse.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof Tb.CancellationError)return;throw o}}};var MHe=require("os");function NHe(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${MHe.EOL}${JSON.stringify(e)}`)),e}function p4(r){return typeof r=="string"||r instanceof String}var TN,m4=class r{constructor(e,t,n,i,o,s){this._languageClient=e;this._platformInfo=t;this._context=n;this._telemetryReporter=i;this._languageServerEvents=o;this._channel=s;this.registerSetTrace(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let a=vn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new u4(a),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new h4(this,this._languageServerEvents),this.registerDynamicFileInfo(),this.registerDebuggerAttach(),xHe(this._languageClient),IHe(this,this._languageClient),this._onAutoInsertFeature=new d4(this._languageClient)}static provideRazorDynamicFileInfoMethodName="razor/provideDynamicFileInfo";static removeRazorDynamicFileInfoMethodName="razor/removeDynamicFileInfo";static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}registerSetTrace(){this._languageClient.onDidChangeState(async e=>{e.newState===Ya.State.Running&&await this.updateLogLevel()}),this._channel.onDidChangeLogLevel(async()=>{await this.updateLogLevel()})}async updateLogLevel(){if(this._languageClient.state===Ya.State.Running){let e=r.GetTraceLevel(this._channel.logLevel);await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)}),await this._languageClient.setTrace(e)}}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===Ya.State.Running?(this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}),this._telemetryReporter.sendTelemetryEvent("roslyn/clientServerReady")):e.newState===Ya.State.Stopped&&this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:vn.l10n.t("Server stopped")})})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===Ya.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(Fse.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(qse.type,async t=>{e||(e=await Wp([])),KU(this._telemetryReporter,t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a,c){let u=async()=>await this.startServer(e,t,n,i,o,a),d={documentSelector:ps.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:c,outputChannel:a,uriConverters:{code2Protocol:Do.serialize,protocol2Code:Do.deserialize},middleware:{provideDiagnostics:M$,provideWorkspaceDiagnostics:N$,workspace:{configuration:_=>PHe(_)}}},f=new c4("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",u,d);f.registerProposedFeatures();let m=new r(f,e,n,i,s,a);return f.registerFeature(m._onAutoInsertFeature),await f.start(),m}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?HO.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?vn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=sT();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(Mse.type,e);if(t)return new a4(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification(Hse.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification(Bse.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof Ya.ResponseError&&t.code===-32800?n=new vn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof vn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=us.defaultSolution;if(!TN&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(vn.Uri.file(e));else{let t=await vn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await vn.window.showInformationMessage(vn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:vn.l10n.t("Choose"),action:"open"},{title:vn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:vn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await vn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await vn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=vn.workspace.asRelativePath(i);await vn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await vn.workspace.findFiles("**/*.csproj","**/node_modules/**",qr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=Yu();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o,s){i.sendTelemetryEvent("roslyn/clientServerInitialize");let a=tle(e),c=await t.getHostExecutableInfo(),u=c.path;s.info("Dotnet path: "+u),i.sendTelemetryEvent("roslyn/acquiredRuntime");let l=[];us.waitForDebugger&&l.push("--debug");let d=this.GetServerLogLevel(s.logLevel);d&&l.push("--logLevel",d);let f=hy.razorServerPath===""?HO.join(n.extension.extensionPath,".razor"):hy.razorServerPath;l.push("--razorSourceGenerator",HO.join(f,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),l.push("--razorDesignTimePath",HO.join(f,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets"));let m=Yu();if(m){TN=!0;let de=vn.extensions.getExtension(eq);if(de){s.info("Activating C# + C# Dev Kit + C# IntelliCode...");let V=await this.getCSharpDevkitIntelliCodeExportArgs(de,n,s);l=l.concat(V)}else s.info("Activating C# + C# Dev Kit...");await vn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let ye=this.getCSharpDevKitExportArgs(o);l=l.concat(ye),await this.setupDevKitEnvironment(c.env,m)}else s.info("Activating C# standalone..."),await vn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),TN=!1;for(let de of o)l.push("--extension",de);s.debug(`Starting server at ${a}`),l.push("--telemetryLevel",i.telemetryLevel),l.push("--extensionLogDirectory",n.logUri.fsPath);let _=c.env;ps.useServerGC||(_.DOTNET_gcServer="0",s.debug("ServerGC disabled"));let D=NHe(s);_={..._,...D},s.trace(`Profiling environment variables: ${JSON.stringify(D)}`);let O,M={detached:!0,windowsHide:!0,env:_};if(a.endsWith(".dll")){let de=[a].concat(l);s.debug(`Server arguments ${de.join(" ")}`),O=Zue.spawn(u,de,M)}else s.debug(`Server arguments ${l.join(" ")}`),O=Zue.spawn(a,l,M);i.sendTelemetryEvent("roslyn/launchedServer"),O.stdout.on("data",de=>{let ye=p4(de)?de:de.toString(r.encoding);s.info("[stdout] "+ye)}),O.stderr.on("data",de=>{let ye=p4(de)?de:de.toString(r.encoding);s.error("[stderr] "+ye)}),O.on("exit",de=>{s.info(`Language server process exited with ${de}`)});let A=new Promise(de=>{(0,Ya.RAL)().timer.setTimeout(de,ps.startTimeout)}),U=new Promise((de,ye)=>{O.on("exit",ee=>{ee&&ee!==0&&ye(new Error("Language server process exited unexpectedly"))}),new Promise(ee=>{s.debug("waiting for named pipe information from server..."),O.stdout.on("data",De=>{let ce=(p4(De)?De:De.toString(r.encoding)).match(r.namedPipeKeyRegex);if(ce){let qe=JSON.parse(ce[0]);s.info("received named pipe information from server"),ee(qe)}})}).then(async ee=>new Promise((De,ae)=>{s.debug("attempting to connect client to server...");let ce=qHe.createConnection(ee.pipeName,()=>{s.info("client has connected to server"),De(ce)});ce.on("error",qe=>ae(qe))})).then(de,ye)}),ne;if(us.waitForDebugger?ne=await U:ne=await Promise.race([U,A]),ne===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return i.sendTelemetryEvent("roslyn/clientConnected"),{reader:new Ya.SocketMessageReader(ne,r.encoding),writer:new Ya.SocketMessageWriter(ne,r.encoding)}}ProvideDyanmicFileInfoType=new Ya.RequestType(r.provideRazorDynamicFileInfoMethodName);registerDynamicFileInfo(){this._languageClient.onRequest(this.ProvideDyanmicFileInfoType,async e=>vn.commands.executeCommand(cT.provideDynamicFileInfoCommand,e)),this._languageClient.onNotification(r.removeRazorDynamicFileInfoMethodName,async e=>vn.commands.executeCommand(cT.removeDynamicFileInfoCommand,e)),vn.commands.registerCommand(cT.dynamicFileUpdatedCommand,async e=>{this.isRunning()?await this.sendNotification("razor/dynamicFileInfoChanged",e):this._channel.warn("Tried to send razor/dynamicFileInfoChanged while server is not running")})}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=vn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=vn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(Use.type,async e=>{let n={...us.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,ele.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await vn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(vn.workspace.onDidOpenTextDocument(async e=>{try{let t=await this.getBuildOnlyDiagnosticIds(Ya.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof vn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(vn.extensions.onDidChange(async()=>{let e=Yu();if(TN===void 0)return;let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"};if(e&&!TN){this._channel.info(`Detected new installation of ${lD}`);let n=`Detected installation of ${lD}. Would you like to relaunch the language server for added features?`;ya(vn,n,t)}}))}registerTelemetryChanged(){this._languageClient.addDisposable(vn.env.onDidChangeTelemetryEnabled(e=>{let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=vn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");ya(vn,n,t)}))}static getCSharpDevKitExportArgs(e){let t=[],n=PM("roslynDevKit",ps);if(n.length>1)throw new Error("Expected only one devkit deps path");return t.push("--devKitDependencyPath",n[0]),t.push("--sessionId",ZLt()),ps.enableXamlTools&&PM("xamlTools",ps).forEach(i=>e.push(i)),t}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${eq} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=vn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",eq),a={title:vn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:vn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Wi(vn,s,a,c),[]}}static async setupDevKitEnvironment(e,t){let n=await t.activate();n.setupTelemetryEnvironmentAsync&&await n.setupTelemetryEnvironmentAsync(e)}static GetServerLogLevel(e){switch(e){case vn.LogLevel.Trace:return"Trace";case vn.LogLevel.Debug:return"Debug";case vn.LogLevel.Info:return"Information";case vn.LogLevel.Warning:return"Warning";case vn.LogLevel.Error:return"Error";case vn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}static GetTraceLevel(e){switch(e){case vn.LogLevel.Trace:return Ya.Trace.Verbose;case vn.LogLevel.Debug:return Ya.Trace.Messages;case vn.LogLevel.Info:return Ya.Trace.Off;case vn.LogLevel.Warning:return Ya.Trace.Off;case vn.LogLevel.Error:return Ya.Trace.Off;case vn.LogLevel.Off:return Ya.Trace.Off;default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(Wse.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function ZLt(){let r=vn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,ele.randomUUID)():r}var Yy,jHe;async function zHe(r,e,t,n,i,o){Yy=n,jHe=BO.window.createOutputChannel(BO.l10n.t("C# LSP Trace Logs")),i.sendTelemetryEvent("roslyn/clientInitialize");let s=new $x(e,tle,n,r.extensionPath),a=u(),c=await m4.initializeAsync(e,s,r,i,a,o,Yy,jHe);return eMt(r,c,o),_He(r,c),hHe(c,Yy),R2e(r,c,s,Yy),uHe(r,c,Yy),sHe(r,c,Yy),fNe(r,c),rHe(r,c),QUe(r,c,o,e,Yy),dHe(r,c),mHe(r,c),r.subscriptions.push(iHe(t)),c;function u(){let l=BO.extensions.all.flatMap(f=>{let m=f.packageJSON.contributes?.csharpExtensionLoadPaths;return m==null?(Yy.debug(`Extension ${f.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(m)||m.some(_=>typeof _!="string")?(Yy.warn(`Extension ${f.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${m}`),[]):(m=m.map(_=>nle.join(f.extensionPath,_)),Yy.trace(`Extension ${f.id} contributes csharpExtensionLoadPaths: ${m}`),m)}),d=ps.extensionsPaths??[];return l.concat(d)}}function eMt(r,e,t){Yu()||o4.createStatusItem(r,t),s4.createStatusItem(r,e)}function tle(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?Yy.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=us.serverPath,e||(e=tMt(r))),!rle.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function tMt(r){let e=__dirname,t=nle.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return rle.existsSync(i)||(i=`${t}.dll`),i}var UHe=we(Xu()),g4=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new UHe.RequestType(e.method);return await i.sendRequest(o,t,n)}};var v4=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var HHe=we(Xu()),y4=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(HHe.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};function WHe(r,e,t,n,i,o,s,a){let c=new F3;r.subscriptions.push(c);let u=N3(r,r.extension.extensionPath,n,o,s,e,!1),l=new Promise((D,O)=>{c.onServerStateChange(async M=>{M.state===3&&D()})}),d=zHe(r,e,t,i,o,c);ik.initializeDebugSessionHandlers(r),rMt(s,i);let f=a(d),m=new g4(d);return{initializationFinished:async()=>{await f,await u,await d,await l},profferBrokeredServices:D=>nMt(r,D,d),logDirectory:r.logUri.fsPath,determineBrowserType:nO.determineBrowserType,experimental:{sendServerRequest:async(D,O,M)=>await m.sendRequest(D,O,M),languageServerEvents:c},getComponentFolder:D=>wFe(D,ps)}}function rMt(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(Vue().profferServiceBroker(t.serviceBroker,[Gy.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await ik.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await BHe.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${lD}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${lD}'`)})}function nMt(r,e,t){r.subscriptions.push(e.profferServiceFactory(Gy.solutionSnapshotProviderRegistration,(n,i,o)=>new v4(t)),e.profferServiceFactory(Gy.csharpExtensionBuildResultService,(n,i,o)=>new y4(t)))}async function iMt(r){let e=process.hrtime(),t=DN.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension"),yle(r.extension.extensionPath);let n=r.extension.packageJSON.contributes.debuggers[0].aiKey,i=new $He.default(n);r.subscriptions.push(i);let o=new iq,s=new rq(t),a=new nq(t);o.subscribe(s.post),o.subscribe(a.post);let c;try{c=await lE.GetCurrent()}catch(ye){throw o.post(new $N),ye}if(!Uwe(r,c))return null;await zwe(r),await Fwe(DN);let u=j8(DN),l=["Debugger","Razor"],d=Yu(),f=!d&&us.useOmnisharpServer;f&&l.push("OmniSharp");let m=hve(DN),_=f&&qr.useModernNet!==!0,D=async ye=>zE(ye,m,o,HE),O=await kwe(r.extension.packageJSON,r.extension.extensionPath,D,o,c,_,l),M=async ye=>{let V=Promise.resolve();return O&&(V=$ge(r.extension,r,c,o,t,ye)),V},A;f?A=T2e(r,c,u,m,o,t,i,M):A=WHe(r,c,u,o,t,i,d,M);let U=process.hrtime(e),ne=(U[0]*1e3+U[1]/1e6).toFixed(3);t.trace("C# Extension activated in "+ne+"ms.");let de={serverKind:f?"OmniSharp":"Roslyn",timeTaken:ne};return i.sendTelemetryEvent("CSharpActivated",de),A}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/

// SIG // Begin signature block
// SIG // MIImRAYJKoZIhvcNAQcCoIImNTCCJjECAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // jKaZ+pPHtJEIqgtzHoGnxTXumZvGoGQopFnRBUoJDleg
// SIG // ggt2MIIE/jCCA+agAwIBAgITMwAABaZYEGdLPWx89gAA
// SIG // AAAFpjANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDEwMB4XDTI0MDgyMjE5MjU1N1oX
// SIG // DTI1MDcwNTE5MjU1N1owdDELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEeMBwGA1UEAxMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
// SIG // umNGOR6LgZFk1THk2vW3NrXGKPwTj9NWpe4hKbCXtraY
// SIG // afofK2h67UZgcaUTBp5DnWodrzw5nhwZPG9glhUmMj/e
// SIG // sHENG8/ya59HX9Nv6jQY2MLVPB+Mr/DwlcBtSyXzUbeV
// SIG // nmdmIPF+pxkGFEQLl8KY0bnMmJT5S+s6uuJ12SiACfdu
// SIG // OwvE0JOP44cvTsNjy8PCHNnWo3ejNQVmGUz5Nzn31Li3
// SIG // W8OWY5J7BKMU2c/lf34/VMjJdrPq7qYeDo2IJsYMkSPN
// SIG // ysvnyvokbaWA4oy8ANC7j4m+Ou1WL9JlpDFWr5gN7jfF
// SIG // pbUyqsrSK9rfiwNsdmEAA8yXpII+qEzHEwIDAQABo4IB
// SIG // fTCCAXkwHwYDVR0lBBgwFgYKKwYBBAGCNz0GAQYIKwYB
// SIG // BQUHAwMwHQYDVR0OBBYEFE6cI++DFsHzFTkxX8wNFC39
// SIG // UpYtMFQGA1UdEQRNMEukSTBHMS0wKwYDVQQLEyRNaWNy
// SIG // b3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExpbWl0ZWQx
// SIG // FjAUBgNVBAUTDTIzMDg2NSs1MDI3MTIwHwYDVR0jBBgw
// SIG // FoAU5vxfe7siAFjkck619CF0IzLm76wwVgYDVR0fBE8w
// SIG // TTBLoEmgR4ZFaHR0cDovL2NybC5taWNyb3NvZnQuY29t
// SIG // L3BraS9jcmwvcHJvZHVjdHMvTWljQ29kU2lnUENBXzIw
// SIG // MTAtMDctMDYuY3JsMFoGCCsGAQUFBwEBBE4wTDBKBggr
// SIG // BgEFBQcwAoY+aHR0cDovL3d3dy5taWNyb3NvZnQuY29t
// SIG // L3BraS9jZXJ0cy9NaWNDb2RTaWdQQ0FfMjAxMC0wNy0w
// SIG // Ni5jcnQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0BAQsF
// SIG // AAOCAQEAtf5mqFjLeh0YfVmslPmBu6sVN3x8lLTdH2eY
// SIG // 1PWbITjY6IEh5YtAf6y2pmPjRij7ebZeJB1lLjdzDh7/
// SIG // 0Y/XG9vQUNyuczRPjMwAk1FNW+w1n8NG2XHMLy+YDqlF
// SIG // UjcuvxVSQXDqLO374g51sl75wnuPb+uoQyMC6s7BdfNm
// SIG // 376xWV+7cVq0PfJltFIciJPp8bxp6zjZ6od39acS/QWe
// SIG // 8710FpYi9ENiV845KUKBFTq4MX6f84Rtz8CDCa5/Yonk
// SIG // NVUerDLKo1b0s6m8b8zMaiu/2s3tj97VP5SvAGz6uhwF
// SIG // nnLZXUJR47uy7tNI6dzWNz9XBgm0DSVjkf1nvdX0QDCC
// SIG // BnAwggRYoAMCAQICCmEMUkwAAAAAAAMwDQYJKoZIhvcN
// SIG // AQELBQAwgYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpX
// SIG // YXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYD
// SIG // VQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xMjAwBgNV
// SIG // BAMTKU1pY3Jvc29mdCBSb290IENlcnRpZmljYXRlIEF1
// SIG // dGhvcml0eSAyMDEwMB4XDTEwMDcwNjIwNDAxN1oXDTI1
// SIG // MDcwNjIwNTAxN1owfjELMAkGA1UEBhMCVVMxEzARBgNV
// SIG // BAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQx
// SIG // HjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEo
// SIG // MCYGA1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmluZyBQ
// SIG // Q0EgMjAxMDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
// SIG // AQoCggEBAOkOZFB5Z7XE4/0JAEyelKz3VmjqRNjPxVhP
// SIG // qaV2fG1FutM5krSkHvn5ZYLkF9KP/UScCOhlk84sVYS/
// SIG // fQjjLiuoQSsYt6JLbklMaxUH3tHSwokecZTNtX9LtK8I
// SIG // 2MyI1msXlDqTziY/7Ob+NJhX1R1dSfayKi7VhbtZP/iQ
// SIG // tCuDdMorsztG4/BGScEXZlTJHL0dxFViV3L4Z7klIDTe
// SIG // XaallV6rKIDN1bKe5QO1Y9OyFMjByIomCll/B+z/Du2A
// SIG // EjVMEqa+Ulv1ptrgiwtId9aFR9UQucboqu6Lai0FXGDG
// SIG // tCpbnCMcX0XjGhQebzfLGTOAaolNo2pmY3iT1TDPlR8C
// SIG // AwEAAaOCAeMwggHfMBAGCSsGAQQBgjcVAQQDAgEAMB0G
// SIG // A1UdDgQWBBTm/F97uyIAWORyTrX0IXQjMubvrDAZBgkr
// SIG // BgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNVHQ8EBAMC
// SIG // AYYwDwYDVR0TAQH/BAUwAwEB/zAfBgNVHSMEGDAWgBTV
// SIG // 9lbLj+iiXGJo0T2UkFvXzpoYxDBWBgNVHR8ETzBNMEug
// SIG // SaBHhkVodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtp
// SIG // L2NybC9wcm9kdWN0cy9NaWNSb29DZXJBdXRfMjAxMC0w
// SIG // Ni0yMy5jcmwwWgYIKwYBBQUHAQEETjBMMEoGCCsGAQUF
// SIG // BzAChj5odHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtp
// SIG // L2NlcnRzL01pY1Jvb0NlckF1dF8yMDEwLTA2LTIzLmNy
// SIG // dDCBnQYDVR0gBIGVMIGSMIGPBgkrBgEEAYI3LgMwgYEw
// SIG // PQYIKwYBBQUHAgEWMWh0dHA6Ly93d3cubWljcm9zb2Z0
// SIG // LmNvbS9QS0kvZG9jcy9DUFMvZGVmYXVsdC5odG0wQAYI
// SIG // KwYBBQUHAgIwNB4yIB0ATABlAGcAYQBsAF8AUABvAGwA
// SIG // aQBjAHkAXwBTAHQAYQB0AGUAbQBlAG4AdAAuIB0wDQYJ
// SIG // KoZIhvcNAQELBQADggIBABp071dPKXvEFoV4uFDTIvwJ
// SIG // nayCl/g0/yosl5US5eS/z7+TyOM0qduBuNweAL7SNW+v
// SIG // 5X95lXflAtTx69jNTh4bYaLCWiMa8IyoYlFFZwjjPzwe
// SIG // k/gwhRfIOUCm1w6zISnlpaFpjCKTzHSY56FHQ/JTrMAP
// SIG // MGl//tIlIG1vYdPfB9XZcgAsaYZ2PVHbpjlIyTdhbQfd
// SIG // UxnLp9Zhwr/ig6sP4GubldZ9KFGwiUpRpJpsyLcfShoO
// SIG // aanX3MF+0Ulwqratu3JHYxf6ptaipobsqBBEm2O2smmJ
// SIG // BsdGhnoYP+jFHSHVe/kCIy3FQcu/HUzIFu+xnH/8IktJ
// SIG // im4V46Z/dlvRU3mRhZ3V0ts9czXzPK5UslJHasCqE5XS
// SIG // jhHamWdeMoz7N4XR3HWFnIfGWleFwr/dDY+Mmy3rtO7P
// SIG // J9O1Xmn6pBYEAackZ3PPTU+23gVWl3r36VJN9HcFT4XG
// SIG // 2Avxju1CCdENduMjVngiJja+yrGMbqod5IXaRzNij6TJ
// SIG // kTNfcR5Ar5hlySLoQiElihwtYNk3iUGJKhYP12E8lGhg
// SIG // Uu/WR5mggEDuFYF3PpzgUxgaUB04lZseZjMTJzkXeIc2
// SIG // zk7DX7L1PUdTtuDl2wthPSrXkizON1o+QEIxpB8QCMJW
// SIG // nL8kXVECnWp50hfT2sGUjgd7JXFEqwZq5tTG3yOalnXF
// SIG // MYIaJjCCGiICAQEwgZUwfjELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEoMCYGA1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmlu
// SIG // ZyBQQ0EgMjAxMAITMwAABaZYEGdLPWx89gAAAAAFpjAN
// SIG // BglghkgBZQMEAgEFAKCBrjAZBgkqhkiG9w0BCQMxDAYK
// SIG // KwYBBAGCNwIBBDAcBgorBgEEAYI3AgELMQ4wDAYKKwYB
// SIG // BAGCNwIBFTAvBgkqhkiG9w0BCQQxIgQgpRdjJ1DZbPu4
// SIG // KA2whJj/7CwAyxuX9zGWVmD8+OKhZ4wwQgYKKwYBBAGC
// SIG // NwIBDDE0MDKgFIASAE0AaQBjAHIAbwBzAG8AZgB0oRqA
// SIG // GGh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbTANBgkqhkiG
// SIG // 9w0BAQEFAASCAQBBU/4VRhuV37tpW3eV4gFDsqeXy6fG
// SIG // 4X5Win/XpNbgWS8n0WwYsIXJ+oxhrLmiMvtpuDf1g425
// SIG // g3wFAAUxNwQDk03mgncmNqz8CPD0IrNCECVdiujh6Gz4
// SIG // zyu5jfDItrKQ85BRFtehE/dLkAhERzvtqpFggM2C5yIK
// SIG // cor9WL7l+e9h20Y7HWm81ri2YYl7n/sYbd/hYsUM04Dn
// SIG // T2B6j3aG4WMJUPDiFuBNfAa26KZfc52bgDth6/fLaCEl
// SIG // WmU1pWInILK9vxU7Dx9FTI9Ce9ZhahR2+CHmJXg0/SW2
// SIG // Kbt8DXjgv7W1iQ24U/Z6WmfzgtuZqPfWjWRl3eP7z4et
// SIG // zqCToYIXsDCCF6wGCisGAQQBgjcDAwExghecMIIXmAYJ
// SIG // KoZIhvcNAQcCoIIXiTCCF4UCAQMxDzANBglghkgBZQME
// SIG // AgEFADCCAVoGCyqGSIb3DQEJEAEEoIIBSQSCAUUwggFB
// SIG // AgEBBgorBgEEAYRZCgMBMDEwDQYJYIZIAWUDBAIBBQAE
// SIG // INyM87HK8/0qRcEvHeC0IzmtJ+TpeEgRt/2AnFVf8Ro3
// SIG // AgZntiyt8cIYEzIwMjUwMzE1MDAyMjM5Ljg5M1owBIAC
// SIG // AfSggdmkgdYwgdMxCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xLTAr
// SIG // BgNVBAsTJE1pY3Jvc29mdCBJcmVsYW5kIE9wZXJhdGlv
// SIG // bnMgTGltaXRlZDEnMCUGA1UECxMeblNoaWVsZCBUU1Mg
// SIG // RVNOOjU3MUEtMDVFMC1EOTQ3MSUwIwYDVQQDExxNaWNy
// SIG // b3NvZnQgVGltZS1TdGFtcCBTZXJ2aWNloIIR/jCCBygw
// SIG // ggUQoAMCAQICEzMAAAH7y8tsN2flMJUAAQAAAfswDQYJ
// SIG // KoZIhvcNAQELBQAwfDELMAkGA1UEBhMCVVMxEzARBgNV
// SIG // BAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQx
// SIG // HjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEm
// SIG // MCQGA1UEAxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENB
// SIG // IDIwMTAwHhcNMjQwNzI1MTgzMTEzWhcNMjUxMDIyMTgz
// SIG // MTEzWjCB0zELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh
// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV
// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEtMCsGA1UE
// SIG // CxMkTWljcm9zb2Z0IElyZWxhbmQgT3BlcmF0aW9ucyBM
// SIG // aW1pdGVkMScwJQYDVQQLEx5uU2hpZWxkIFRTUyBFU046
// SIG // NTcxQS0wNUUwLUQ5NDcxJTAjBgNVBAMTHE1pY3Jvc29m
// SIG // dCBUaW1lLVN0YW1wIFNlcnZpY2UwggIiMA0GCSqGSIb3
// SIG // DQEBAQUAA4ICDwAwggIKAoICAQCowlZB5YCrgvC9KNiy
// SIG // M/RS+G+bSPRoA4mIwuDSwt/EqhNcB0oPqgy6rmsXmgSI
// SIG // 7FX72jHQf3lDx+GhmrfH2XGC5nJM4riXbG1yC0kK2NdG
// SIG // WUzZtOmM6DflFSsHLRwCWgFT0YkGzssE2txsfqsGI6+o
// SIG // NA2Jw9FnCrXrHKMyJ1TUnUAm5q33Iufu1qJ+gPnxuVgR
// SIG // wG+SPl0fWVr3NTzjpAN46hE7o1yocuwPHz/NUpnE/fSZ
// SIG // bpjtEyyq0HxwYKAbBVW6s6do0tezfWpNFPJUdfymk52h
// SIG // KKEJd6p5uAkJHMbzMb97+TShoGMUUaX7y4UQvALKHjAr
// SIG // 1nn5rNPN9rYYPinqKG2yRezeWdbTlQp8MmEAAO3q+I5z
// SIG // RGT9zzM6KrOHSUql/95ZRjaj+G9wM9k2Atoe/J8OpvwB
// SIG // Zoq87fqJFlJeqFLDxLEmjRMKmxsKOa3HQukeeptvVQXt
// SIG // yrT2QJx9ZMM9w3XaltgupyTRsgh88ptzseeuQ1CSz+ZJ
// SIG // tVlOcPJPc7zMX2rgMJ9Z6xKvVqTJwN24bEJ0oG+C0mHV
// SIG // jEOrWyRPB5jHmIBZecHsozKWzdZBltO5tMIsu3xefy36
// SIG // yVwqbkOS+hu5uYdKuK5MDfBPIjLgXFqZMqbRUO72ZZ2z
// SIG // wy2NRIlXA1VWUFdpDdkxxWOKPJWhQ1W4Fj0xzBhwhArr
// SIG // bBDbQQIDAQABo4IBSTCCAUUwHQYDVR0OBBYEFEdVIZhQ
// SIG // 1DdHA6XvXMgC5SMgqDUqMB8GA1UdIwQYMBaAFJ+nFV0A
// SIG // XmJdg/Tl0mWnG1M1GelyMF8GA1UdHwRYMFYwVKBSoFCG
// SIG // Tmh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMv
// SIG // Y3JsL01pY3Jvc29mdCUyMFRpbWUtU3RhbXAlMjBQQ0El
// SIG // MjAyMDEwKDEpLmNybDBsBggrBgEFBQcBAQRgMF4wXAYI
// SIG // KwYBBQUHMAKGUGh0dHA6Ly93d3cubWljcm9zb2Z0LmNv
// SIG // bS9wa2lvcHMvY2VydHMvTWljcm9zb2Z0JTIwVGltZS1T
// SIG // dGFtcCUyMFBDQSUyMDIwMTAoMSkuY3J0MAwGA1UdEwEB
// SIG // /wQCMAAwFgYDVR0lAQH/BAwwCgYIKwYBBQUHAwgwDgYD
// SIG // VR0PAQH/BAQDAgeAMA0GCSqGSIb3DQEBCwUAA4ICAQDD
// SIG // Oggo5jZ2dSN9a4yIajP+i+hzV7zpXBZpk0V2BGY6hC5F
// SIG // 7ict21k421Mc2TdKPeeTIGzPPFJtkRDQN27Ioccjk/xX
// SIG // zuMW20aeVHTA8/bYUB5tu8Bu62QwxVAwXOFUFaJYPRUC
// SIG // e73HR+OJ8soMBVcvCi6fmsIWrBtqxcVzsf/QM+IL4MGf
// SIG // e1TF5+9zFQLKzj4MLezwJintZZelnxZv+90GEOWIeYHu
// SIG // lZyawHze5zj8/YaYAjccyQ4S7t8JpJihCGi5Y6vTuX8o
// SIG // zhOd3KUiKubx/ZbBdBwUTOZS8hIzqW51TAaVU19NMlSr
// SIG // ZtMMR3e2UMq1X0BRjeuucXAdPAmvIu1PggWG+AF80PeY
// SIG // vV55JqQp/vFMgjgnK3XlJeEd3mgj9caNKDKSAmtYDnus
// SIG // acALuu7f9lsU0Iwr8mPpfxfgvqYE5hrY0YrAfgDftgYO
// SIG // t5wn+pddZRi98tiocZ/xOFiXXZiDWvBIqlYuiUD8HV6o
// SIG // HDhNFy9VjQi802Lmyb7/8cn0DDo0m5H+4NHtfu8NeJyl
// SIG // cyVE2AUzIANvwAUi9A90epxGlGitj5hQaW/N4nH/aA1j
// SIG // J7MCiRusWEAKwnYF/J4vIISjoC7AQefnXU8oTx0rgm+W
// SIG // YtKgePtUVHc0cOTfNGTHQTGSYXxo52m+gqG7AELGhn8m
// SIG // FvNLOu9nvgZWMoojK3kUDTCCB3EwggVZoAMCAQICEzMA
// SIG // AAAVxedrngKbSZkAAAAAABUwDQYJKoZIhvcNAQELBQAw
// SIG // gYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xMjAwBgNVBAMTKU1p
// SIG // Y3Jvc29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0
// SIG // eSAyMDEwMB4XDTIxMDkzMDE4MjIyNVoXDTMwMDkzMDE4
// SIG // MzIyNVowfDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh
// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV
// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UE
// SIG // AxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAw
// SIG // ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDk
// SIG // 4aZM57RyIQt5osvXJHm9DtWC0/3unAcH0qlsTnXIyjVX
// SIG // 9gF/bErg4r25PhdgM/9cT8dm95VTcVrifkpa/rg2Z4VG
// SIG // Iwy1jRPPdzLAEBjoYH1qUoNEt6aORmsHFPPFdvWGUNzB
// SIG // RMhxXFExN6AKOG6N7dcP2CZTfDlhAnrEqv1yaa8dq6z2
// SIG // Nr41JmTamDu6GnszrYBbfowQHJ1S/rboYiXcag/PXfT+
// SIG // jlPP1uyFVk3v3byNpOORj7I5LFGc6XBpDco2LXCOMcg1
// SIG // KL3jtIckw+DJj361VI/c+gVVmG1oO5pGve2krnopN6zL
// SIG // 64NF50ZuyjLVwIYwXE8s4mKyzbnijYjklqwBSru+cakX
// SIG // W2dg3viSkR4dPf0gz3N9QZpGdc3EXzTdEonW/aUgfX78
// SIG // 2Z5F37ZyL9t9X4C626p+Nuw2TPYrbqgSUei/BQOj0XOm
// SIG // TTd0lBw0gg/wEPK3Rxjtp+iZfD9M269ewvPV2HM9Q07B
// SIG // MzlMjgK8QmguEOqEUUbi0b1qGFphAXPKZ6Je1yh2AuIz
// SIG // GHLXpyDwwvoSCtdjbwzJNmSLW6CmgyFdXzB0kZSU2LlQ
// SIG // +QuJYfM2BjUYhEfb3BvR/bLUHMVr9lxSUV0S2yW6r1AF
// SIG // emzFER1y7435UsSFF5PAPBXbGjfHCBUYP3irRbb1Hode
// SIG // 2o+eFnJpxq57t7c+auIurQIDAQABo4IB3TCCAdkwEgYJ
// SIG // KwYBBAGCNxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU
// SIG // KqdS/mTEmr6CkTxGNSnPEP8vBO4wHQYDVR0OBBYEFJ+n
// SIG // FV0AXmJdg/Tl0mWnG1M1GelyMFwGA1UdIARVMFMwUQYM
// SIG // KwYBBAGCN0yDfQEBMEEwPwYIKwYBBQUHAgEWM2h0dHA6
// SIG // Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvRG9jcy9S
// SIG // ZXBvc2l0b3J5Lmh0bTATBgNVHSUEDDAKBggrBgEFBQcD
// SIG // CDAZBgkrBgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNV
// SIG // HQ8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAfBgNVHSME
// SIG // GDAWgBTV9lbLj+iiXGJo0T2UkFvXzpoYxDBWBgNVHR8E
// SIG // TzBNMEugSaBHhkVodHRwOi8vY3JsLm1pY3Jvc29mdC5j
// SIG // b20vcGtpL2NybC9wcm9kdWN0cy9NaWNSb29DZXJBdXRf
// SIG // MjAxMC0wNi0yMy5jcmwwWgYIKwYBBQUHAQEETjBMMEoG
// SIG // CCsGAQUFBzAChj5odHRwOi8vd3d3Lm1pY3Jvc29mdC5j
// SIG // b20vcGtpL2NlcnRzL01pY1Jvb0NlckF1dF8yMDEwLTA2
// SIG // LTIzLmNydDANBgkqhkiG9w0BAQsFAAOCAgEAnVV9/Cqt
// SIG // 4SwfZwExJFvhnnJL/Klv6lwUtj5OR2R4sQaTlz0xM7U5
// SIG // 18JxNj/aZGx80HU5bbsPMeTCj/ts0aGUGCLu6WZnOlNN
// SIG // 3Zi6th542DYunKmCVgADsAW+iehp4LoJ7nvfam++Kctu
// SIG // 2D9IdQHZGN5tggz1bSNU5HhTdSRXud2f8449xvNo32X2
// SIG // pFaq95W2KFUn0CS9QKC/GbYSEhFdPSfgQJY4rPf5KYnD
// SIG // vBewVIVCs/wMnosZiefwC2qBwoEZQhlSdYo2wh3DYXMu
// SIG // LGt7bj8sCXgU6ZGyqVvfSaN0DLzskYDSPeZKPmY7T7uG
// SIG // +jIa2Zb0j/aRAfbOxnT99kxybxCrdTDFNLB62FD+Cljd
// SIG // QDzHVG2dY3RILLFORy3BFARxv2T5JL5zbcqOCb2zAVdJ
// SIG // VGTZc9d/HltEAY5aGZFrDZ+kKNxnGSgkujhLmm77IVRr
// SIG // akURR6nxt67I6IleT53S0Ex2tVdUCbFpAUR+fKFhbHP+
// SIG // CrvsQWY9af3LwUFJfn6Tvsv4O+S3Fb+0zj6lMVGEvL8C
// SIG // wYKiexcdFYmNcP7ntdAoGokLjzbaukz5m/8K6TT4JDVn
// SIG // K+ANuOaMmdbhIurwJ0I9JZTmdHRbatGePu1+oDEzfbzL
// SIG // 6Xu/OHBE0ZDxyKs6ijoIYn/ZcGNTTY3ugm2lBRDBcQZq
// SIG // ELQdVTNYs6FwZvKhggNZMIICQQIBATCCAQGhgdmkgdYw
// SIG // gdMxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xLTArBgNVBAsTJE1p
// SIG // Y3Jvc29mdCBJcmVsYW5kIE9wZXJhdGlvbnMgTGltaXRl
// SIG // ZDEnMCUGA1UECxMeblNoaWVsZCBUU1MgRVNOOjU3MUEt
// SIG // MDVFMC1EOTQ3MSUwIwYDVQQDExxNaWNyb3NvZnQgVGlt
// SIG // ZS1TdGFtcCBTZXJ2aWNloiMKAQEwBwYFKw4DAhoDFQAE
// SIG // cefs0Ia6xnPZF9VvK7BjA/KQFaCBgzCBgKR+MHwxCzAJ
// SIG // BgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAw
// SIG // DgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv
// SIG // ZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jvc29m
// SIG // dCBUaW1lLVN0YW1wIFBDQSAyMDEwMA0GCSqGSIb3DQEB
// SIG // CwUAAgUA6377tjAiGA8yMDI1MDMxNDE5MDIxNFoYDzIw
// SIG // MjUwMzE1MTkwMjE0WjB3MD0GCisGAQQBhFkKBAExLzAt
// SIG // MAoCBQDrfvu2AgEAMAoCAQACAgGSAgH/MAcCAQACAhIX
// SIG // MAoCBQDrgE02AgEAMDYGCisGAQQBhFkKBAIxKDAmMAwG
// SIG // CisGAQQBhFkKAwKgCjAIAgEAAgMHoSChCjAIAgEAAgMB
// SIG // hqAwDQYJKoZIhvcNAQELBQADggEBABfIimOgfFYQG+2d
// SIG // 81ePwd5srwXIW3zacqQR9+osBGUauEDIxk/pa85Q1KBr
// SIG // 5WFHz0actsulOx9tifkufiIbOIc0LTsybglB8KdA1E0j
// SIG // 0Tf69WDhNbW1ltqx4ZLUfjr3hJvTaTnMJdILXn8X9n75
// SIG // HfgB1oFs64oUaMRegaBpQIg8FbAJeXrNB2cSD6OBqTii
// SIG // WbfFeckx3tvQrrvykvOj1wQ0f6IsEI55wEx+asw1nfwK
// SIG // nmEgia6XSgb3meEOsxaipK3HUftI+ChY1XkLRiT/PgV+
// SIG // XFacpyy/7h30ICz3ESVvgiGClXFykmUqXzGfVu2VvKUo
// SIG // RZlc2Yovs8lc/VmxLsoxggQNMIIECQIBATCBkzB8MQsw
// SIG // CQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQ
// SIG // MA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9z
// SIG // b2Z0IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1NaWNyb3Nv
// SIG // ZnQgVGltZS1TdGFtcCBQQ0EgMjAxMAITMwAAAfvLy2w3
// SIG // Z+UwlQABAAAB+zANBglghkgBZQMEAgEFAKCCAUowGgYJ
// SIG // KoZIhvcNAQkDMQ0GCyqGSIb3DQEJEAEEMC8GCSqGSIb3
// SIG // DQEJBDEiBCBxBOJagG8bitszY2cZLAEzUMWvzcpmlzaj
// SIG // jNz0unOBRTCB+gYLKoZIhvcNAQkQAi8xgeowgecwgeQw
// SIG // gb0EIDnbAqv8oIWVU1iJawIuwHiqGMRgQ/fEepioO7VJ
// SIG // JOUYMIGYMIGApH4wfDELMAkGA1UEBhMCVVMxEzARBgNV
// SIG // BAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQx
// SIG // HjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEm
// SIG // MCQGA1UEAxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENB
// SIG // IDIwMTACEzMAAAH7y8tsN2flMJUAAQAAAfswIgQgFPTc
// SIG // 5Rjm44fveX6DeUclpLmz2E2B4U3Nl3XfOjPgRPwwDQYJ
// SIG // KoZIhvcNAQELBQAEggIAYih0LTfv4iBzKOHs1z0kBEz4
// SIG // 6j1FrZiBI+wC12LKIAILKjuB6mPQMw7wkoZvsFaJHyM/
// SIG // pffJ4Wg3HTO8MEPGubPO//cHwP71FPmUKl3ryF0fMuws
// SIG // 8IZTsSFZf3t/DLACN3luHgA2yMI4UdM2QDW48JOZoQMt
// SIG // 1bUXjtNcCiPaKCnUlmcjvb96zpPqzPegqmGDfgkmHQNB
// SIG // 0MEVypW/KUQyGK3CgmOajB5Na3qXfhYL+HcI2fJC3cuF
// SIG // 8smhVSXeA3bhwUvBYAbIl4tUX03J8gOUQMBMh0N3wGaN
// SIG // C2EsDHZuDADL2AHUCOl/fyZAkefg9c8tNI7sJSJrc2fi
// SIG // XYUxNRFzqzWHIhYPfDMVq/GYzezA/6QYOfpwGfxqbthV
// SIG // O47a9pc6nXVGPjAtRTd97Ug4ByuD+mQrZpMxurN6TXFl
// SIG // mD1AoIj0Te34hZATyk6eMh8UdIL5+k4hBYkFreqOWfrD
// SIG // v1JTjq6Xvx5WIq30+ARIVWI4f8qAFgDlNEFERtXQ9ZxX
// SIG // FjoA5G2H5gmlBk7hG2CjUnp+7cm/2vgj+iNcLwfAvhlN
// SIG // 0me7CpsfxgoiCXzm6BgTHPr+pdNqbV6gqcbPAPdF51jy
// SIG // kfxDxndAZzAqu4rNTtEzJ0Jp8AElsdIsByo4/w/Ytpt+
// SIG // LMlmq9BE42jLBbmPpKNyAOnGXBYGk2fBA3SIINJJ7IQ=
// SIG // End signature block
